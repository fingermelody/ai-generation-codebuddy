var sle=Object.defineProperty;var lle=(t,e,n)=>e in t?sle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ni=(t,e,n)=>lle(t,typeof e!="symbol"?e+"":e,n);function ule(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cle(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yq={exports:{}},qC={},_q={exports:{}},$n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=Symbol.for("react.element"),fle=Symbol.for("react.portal"),dle=Symbol.for("react.fragment"),hle=Symbol.for("react.strict_mode"),ple=Symbol.for("react.profiler"),mle=Symbol.for("react.provider"),vle=Symbol.for("react.context"),gle=Symbol.for("react.forward_ref"),yle=Symbol.for("react.suspense"),_le=Symbol.for("react.memo"),ble=Symbol.for("react.lazy"),_j=Symbol.iterator;function wle(t){return t===null||typeof t!="object"?null:(t=_j&&t[_j]||t["@@iterator"],typeof t=="function"?t:null)}var bq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wq=Object.assign,Sq={};function h0(t,e,n){this.props=t,this.context=e,this.refs=Sq,this.updater=n||bq}h0.prototype.isReactComponent={};h0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};h0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Eq(){}Eq.prototype=h0.prototype;function lB(t,e,n){this.props=t,this.context=e,this.refs=Sq,this.updater=n||bq}var uB=lB.prototype=new Eq;uB.constructor=lB;wq(uB,h0.prototype);uB.isPureReactComponent=!0;var bj=Array.isArray,xq=Object.prototype.hasOwnProperty,cB={current:null},Aq={key:!0,ref:!0,__self:!0,__source:!0};function Cq(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)xq.call(e,r)&&!Aq.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ow,type:t,key:o,ref:a,props:i,_owner:cB.current}}function Sle(t,e){return{$$typeof:ow,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fB(t){return typeof t=="object"&&t!==null&&t.$$typeof===ow}function Ele(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wj=/\/+/g;function dI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ele(""+t.key):e.toString(36)}function lx(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ow:case fle:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+dI(a,0):r,bj(i)?(n="",t!=null&&(n=t.replace(wj,"$&/")+"/"),lx(i,e,n,"",function(l){return l})):i!=null&&(fB(i)&&(i=Sle(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(wj,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",bj(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+dI(o,s);a+=lx(o,e,n,u,i)}else if(u=wle(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+dI(o,s++),a+=lx(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function z1(t,e,n){if(t==null)return t;var r=[],i=0;return lx(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xle(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fa={current:null},ux={transition:null},Ale={ReactCurrentDispatcher:fa,ReactCurrentBatchConfig:ux,ReactCurrentOwner:cB};function Tq(){throw Error("act(...) is not supported in production builds of React.")}$n.Children={map:z1,forEach:function(t,e,n){z1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return z1(t,function(){e++}),e},toArray:function(t){return z1(t,function(e){return e})||[]},only:function(t){if(!fB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$n.Component=h0;$n.Fragment=dle;$n.Profiler=ple;$n.PureComponent=lB;$n.StrictMode=hle;$n.Suspense=yle;$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ale;$n.act=Tq;$n.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wq({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=cB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)xq.call(e,u)&&!Aq.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:ow,type:t.type,key:i,ref:o,props:r,_owner:a}};$n.createContext=function(t){return t={$$typeof:vle,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mle,_context:t},t.Consumer=t};$n.createElement=Cq;$n.createFactory=function(t){var e=Cq.bind(null,t);return e.type=t,e};$n.createRef=function(){return{current:null}};$n.forwardRef=function(t){return{$$typeof:gle,render:t}};$n.isValidElement=fB;$n.lazy=function(t){return{$$typeof:ble,_payload:{_status:-1,_result:t},_init:xle}};$n.memo=function(t,e){return{$$typeof:_le,type:t,compare:e===void 0?null:e}};$n.startTransition=function(t){var e=ux.transition;ux.transition={};try{t()}finally{ux.transition=e}};$n.unstable_act=Tq;$n.useCallback=function(t,e){return fa.current.useCallback(t,e)};$n.useContext=function(t){return fa.current.useContext(t)};$n.useDebugValue=function(){};$n.useDeferredValue=function(t){return fa.current.useDeferredValue(t)};$n.useEffect=function(t,e){return fa.current.useEffect(t,e)};$n.useId=function(){return fa.current.useId()};$n.useImperativeHandle=function(t,e,n){return fa.current.useImperativeHandle(t,e,n)};$n.useInsertionEffect=function(t,e){return fa.current.useInsertionEffect(t,e)};$n.useLayoutEffect=function(t,e){return fa.current.useLayoutEffect(t,e)};$n.useMemo=function(t,e){return fa.current.useMemo(t,e)};$n.useReducer=function(t,e,n){return fa.current.useReducer(t,e,n)};$n.useRef=function(t){return fa.current.useRef(t)};$n.useState=function(t){return fa.current.useState(t)};$n.useSyncExternalStore=function(t,e,n){return fa.current.useSyncExternalStore(t,e,n)};$n.useTransition=function(){return fa.current.useTransition()};$n.version="18.3.1";_q.exports=$n;var D=_q.exports;const Q=au(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cle=D,Tle=Symbol.for("react.element"),Mle=Symbol.for("react.fragment"),Ole=Object.prototype.hasOwnProperty,Ile=Cle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rle={key:!0,ref:!0,__self:!0,__source:!0};function Mq(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ole.call(e,r)&&!Rle.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tle,type:t,key:o,ref:a,props:i,_owner:Ile.current}}qC.Fragment=Mle;qC.jsx=Mq;qC.jsxs=Mq;yq.exports=qC;var ye=yq.exports,z2={},Oq={exports:{}},vs={},Iq={exports:{}},Rq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,R){var L=F.length;F.push(R);e:for(;0<L;){var W=L-1>>>1,Z=F[W];if(0<i(Z,R))F[W]=R,F[L]=Z,L=W;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var R=F[0],L=F.pop();if(L!==R){F[0]=L;e:for(var W=0,Z=F.length,ee=Z>>>1;W<ee;){var oe=2*(W+1)-1,pe=F[oe],ie=oe+1,ce=F[ie];if(0>i(pe,L))ie<Z&&0>i(ce,pe)?(F[W]=ce,F[ie]=L,W=ie):(F[W]=pe,F[oe]=L,W=oe);else if(ie<Z&&0>i(ce,L))F[W]=ce,F[ie]=L,W=ie;else break e}}return R}function i(F,R){var L=F.sortIndex-R.sortIndex;return L!==0?L:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var R=n(l);R!==null;){if(R.callback===null)r(l);else if(R.startTime<=F)r(l),R.sortIndex=R.expirationTime,e(u,R);else break;R=n(l)}}function S(F){if(_=!1,w(F),!p)if(n(u)!==null)p=!0,j(x);else{var R=n(l);R!==null&&$(S,R.startTime-F)}}function x(F,R){p=!1,_&&(_=!1,m(O),O=-1),h=!0;var L=d;try{for(w(R),f=n(u);f!==null&&(!(f.expirationTime>R)||F&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var Z=W(f.expirationTime<=R);R=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(u)&&r(u),w(R)}else r(u);f=n(u)}if(f!==null)var ee=!0;else{var oe=n(l);oe!==null&&$(S,oe.startTime-R),ee=!1}return ee}finally{f=null,d=L,h=!1}}var E=!1,M=null,O=-1,C=5,T=-1;function P(){return!(t.unstable_now()-T<C)}function N(){if(M!==null){var F=t.unstable_now();T=F;var R=!0;try{R=M(!0,F)}finally{R?H():(E=!1,M=null)}}else E=!1}var H;if(typeof b=="function")H=function(){b(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=N,H=function(){k.postMessage(null)}}else H=function(){y(N,0)};function j(F){M=F,E||(E=!0,H())}function $(F,R){O=y(function(){F(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,j(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var L=d;d=R;try{return F()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var L=d;d=F;try{return R()}finally{d=L}},t.unstable_scheduleCallback=function(F,R,L){var W=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,F={id:c++,callback:R,priorityLevel:F,startTime:L,expirationTime:Z,sortIndex:-1},L>W?(F.sortIndex=L,e(l,F),n(u)===null&&F===n(l)&&(_?(m(O),O=-1):_=!0,$(S,L-W))):(F.sortIndex=Z,e(u,F),p||h||(p=!0,j(x))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var R=d;return function(){var L=d;d=R;try{return F.apply(this,arguments)}finally{d=L}}}})(Rq);Iq.exports=Rq;var Ple=Iq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dle=D,ds=Ple;function ht(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pq=new Set,Q_={};function Kp(t,e){Tg(t,e),Tg(t+"Capture",e)}function Tg(t,e){for(Q_[t]=e,t=0;t<e.length;t++)Pq.add(e[t])}var Zc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G2=Object.prototype.hasOwnProperty,Lle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sj={},Ej={};function Nle(t){return G2.call(Ej,t)?!0:G2.call(Sj,t)?!1:Lle.test(t)?Ej[t]=!0:(Sj[t]=!0,!1)}function Ble(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fle(t,e,n,r){if(e===null||typeof e>"u"||Ble(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function da(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var vo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vo[t]=new da(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vo[e]=new da(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vo[t]=new da(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vo[t]=new da(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vo[t]=new da(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vo[t]=new da(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vo[t]=new da(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vo[t]=new da(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vo[t]=new da(t,5,!1,t.toLowerCase(),null,!1,!1)});var dB=/[\-:]([a-z])/g;function hB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dB,hB);vo[e]=new da(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dB,hB);vo[e]=new da(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dB,hB);vo[e]=new da(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vo[t]=new da(t,1,!1,t.toLowerCase(),null,!1,!1)});vo.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vo[t]=new da(t,1,!1,t.toLowerCase(),null,!0,!0)});function pB(t,e,n,r){var i=vo.hasOwnProperty(e)?vo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fle(e,n,i,r)&&(n=null),r||i===null?Nle(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lf=Dle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G1=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Ov=Symbol.for("react.fragment"),mB=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),Dq=Symbol.for("react.provider"),Lq=Symbol.for("react.context"),vB=Symbol.for("react.forward_ref"),V2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),gB=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),Nq=Symbol.for("react.offscreen"),xj=Symbol.iterator;function ty(t){return t===null||typeof t!="object"?null:(t=xj&&t[xj]||t["@@iterator"],typeof t=="function"?t:null)}var ei=Object.assign,hI;function Ky(t){if(hI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hI=e&&e[1]||""}return`
`+hI+t}var pI=!1;function mI(t,e){if(!t||pI)return"";pI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{pI=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ky(t):""}function kle(t){switch(t.tag){case 5:return Ky(t.type);case 16:return Ky("Lazy");case 13:return Ky("Suspense");case 19:return Ky("SuspenseList");case 0:case 2:case 15:return t=mI(t.type,!1),t;case 11:return t=mI(t.type.render,!1),t;case 1:return t=mI(t.type,!0),t;default:return""}}function K2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ov:return"Fragment";case Mv:return"Portal";case W2:return"Profiler";case mB:return"StrictMode";case V2:return"Suspense";case q2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lq:return(t.displayName||"Context")+".Consumer";case Dq:return(t._context.displayName||"Context")+".Provider";case vB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gB:return e=t.displayName||null,e!==null?e:K2(t.type)||"Memo";case $f:e=t._payload,t=t._init;try{return K2(t(e))}catch{}}return null}function Ule(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K2(e);case 8:return e===mB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jle(t){var e=Bq(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function W1(t){t._valueTracker||(t._valueTracker=jle(t))}function Fq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bq(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X2(t,e){var n=e.checked;return ei({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aj(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kq(t,e){e=e.checked,e!=null&&pB(t,"checked",e,!1)}function J2(t,e){kq(t,e);var n=Rd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y2(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y2(t,e.type,Rd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cj(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y2(t,e,n){(e!=="number"||nA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xy=Array.isArray;function ng(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Z2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ht(91));return ei({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ht(92));if(Xy(n)){if(1<n.length)throw Error(ht(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rd(n)}}function Uq(t,e){var n=Rd(e.value),r=Rd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jq(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jq(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var V1,Hq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(V1=V1||document.createElement("div"),V1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=V1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var h_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hle=["Webkit","ms","Moz","O"];Object.keys(h_).forEach(function(t){Hle.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),h_[e]=h_[t]})});function $q(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||h_.hasOwnProperty(t)&&h_[t]?(""+e).trim():e+"px"}function zq(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$q(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $le=ei({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eD(t,e){if(e){if($le[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ht(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ht(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ht(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ht(62))}}function tD(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nD=null;function yB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rD=null,rg=null,ig=null;function Oj(t){if(t=lw(t)){if(typeof rD!="function")throw Error(ht(280));var e=t.stateNode;e&&(e=ZC(e),rD(t.stateNode,t.type,e))}}function Gq(t){rg?ig?ig.push(t):ig=[t]:rg=t}function Wq(){if(rg){var t=rg,e=ig;if(ig=rg=null,Oj(t),e)for(t=0;t<e.length;t++)Oj(e[t])}}function Vq(t,e){return t(e)}function qq(){}var vI=!1;function Kq(t,e,n){if(vI)return t(e,n);vI=!0;try{return Vq(t,e,n)}finally{vI=!1,(rg!==null||ig!==null)&&(qq(),Wq())}}function tb(t,e){var n=t.stateNode;if(n===null)return null;var r=ZC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ht(231,e,typeof n));return n}var iD=!1;if(Zc)try{var ny={};Object.defineProperty(ny,"passive",{get:function(){iD=!0}}),window.addEventListener("test",ny,ny),window.removeEventListener("test",ny,ny)}catch{iD=!1}function zle(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var p_=!1,rA=null,iA=!1,oD=null,Gle={onError:function(t){p_=!0,rA=t}};function Wle(t,e,n,r,i,o,a,s,u){p_=!1,rA=null,zle.apply(Gle,arguments)}function Vle(t,e,n,r,i,o,a,s,u){if(Wle.apply(this,arguments),p_){if(p_){var l=rA;p_=!1,rA=null}else throw Error(ht(198));iA||(iA=!0,oD=l)}}function Xp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xq(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ij(t){if(Xp(t)!==t)throw Error(ht(188))}function qle(t){var e=t.alternate;if(!e){if(e=Xp(t),e===null)throw Error(ht(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ij(i),t;if(o===r)return Ij(i),e;o=o.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?t:e}function Jq(t){return t=qle(t),t!==null?Yq(t):null}function Yq(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yq(t);if(e!==null)return e;t=t.sibling}return null}var Zq=ds.unstable_scheduleCallback,Rj=ds.unstable_cancelCallback,Kle=ds.unstable_shouldYield,Xle=ds.unstable_requestPaint,vi=ds.unstable_now,Jle=ds.unstable_getCurrentPriorityLevel,_B=ds.unstable_ImmediatePriority,Qq=ds.unstable_UserBlockingPriority,oA=ds.unstable_NormalPriority,Yle=ds.unstable_LowPriority,eK=ds.unstable_IdlePriority,KC=null,Uu=null;function Zle(t){if(Uu&&typeof Uu.onCommitFiberRoot=="function")try{Uu.onCommitFiberRoot(KC,t,void 0,(t.current.flags&128)===128)}catch{}}var tu=Math.clz32?Math.clz32:tue,Qle=Math.log,eue=Math.LN2;function tue(t){return t>>>=0,t===0?32:31-(Qle(t)/eue|0)|0}var q1=64,K1=4194304;function Jy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Jy(s):(o&=a,o!==0&&(r=Jy(o)))}else a=n&~i,a!==0?r=Jy(a):o!==0&&(r=Jy(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tu(e),i=1<<n,r|=t[n],e&=~i;return r}function nue(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rue(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-tu(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=nue(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function aD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tK(){var t=q1;return q1<<=1,!(q1&4194240)&&(q1=64),t}function gI(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function aw(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tu(e),t[e]=n}function iue(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tu(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function bB(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pr=0;function nK(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rK,wB,iK,oK,aK,sD=!1,X1=[],vd=null,gd=null,yd=null,nb=new Map,rb=new Map,Jf=[],oue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pj(t,e){switch(t){case"focusin":case"focusout":vd=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":nb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rb.delete(e.pointerId)}}function ry(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lw(e),e!==null&&wB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aue(t,e,n,r,i){switch(e){case"focusin":return vd=ry(vd,t,e,n,r,i),!0;case"dragenter":return gd=ry(gd,t,e,n,r,i),!0;case"mouseover":return yd=ry(yd,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return nb.set(o,ry(nb.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rb.set(o,ry(rb.get(o)||null,t,e,n,r,i)),!0}return!1}function sK(t){var e=Zh(t.target);if(e!==null){var n=Xp(e);if(n!==null){if(e=n.tag,e===13){if(e=Xq(n),e!==null){t.blockedOn=e,aK(t.priority,function(){iK(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nD=r,n.target.dispatchEvent(r),nD=null}else return e=lw(n),e!==null&&wB(e),t.blockedOn=n,!1;e.shift()}return!0}function Dj(t,e,n){cx(t)&&n.delete(e)}function sue(){sD=!1,vd!==null&&cx(vd)&&(vd=null),gd!==null&&cx(gd)&&(gd=null),yd!==null&&cx(yd)&&(yd=null),nb.forEach(Dj),rb.forEach(Dj)}function iy(t,e){t.blockedOn===e&&(t.blockedOn=null,sD||(sD=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,sue)))}function ib(t){function e(i){return iy(i,t)}if(0<X1.length){iy(X1[0],t);for(var n=1;n<X1.length;n++){var r=X1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vd!==null&&iy(vd,t),gd!==null&&iy(gd,t),yd!==null&&iy(yd,t),nb.forEach(e),rb.forEach(e),n=0;n<Jf.length;n++)r=Jf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jf.length&&(n=Jf[0],n.blockedOn===null);)sK(n),n.blockedOn===null&&Jf.shift()}var og=lf.ReactCurrentBatchConfig,sA=!0;function lue(t,e,n,r){var i=pr,o=og.transition;og.transition=null;try{pr=1,SB(t,e,n,r)}finally{pr=i,og.transition=o}}function uue(t,e,n,r){var i=pr,o=og.transition;og.transition=null;try{pr=4,SB(t,e,n,r)}finally{pr=i,og.transition=o}}function SB(t,e,n,r){if(sA){var i=lD(t,e,n,r);if(i===null)TI(t,e,r,lA,n),Pj(t,r);else if(aue(i,t,e,n,r))r.stopPropagation();else if(Pj(t,r),e&4&&-1<oue.indexOf(t)){for(;i!==null;){var o=lw(i);if(o!==null&&rK(o),o=lD(t,e,n,r),o===null&&TI(t,e,r,lA,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else TI(t,e,r,null,n)}}var lA=null;function lD(t,e,n,r){if(lA=null,t=yB(r),t=Zh(t),t!==null)if(e=Xp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xq(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lA=t,null}function lK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jle()){case _B:return 1;case Qq:return 4;case oA:case Yle:return 16;case eK:return 536870912;default:return 16}default:return 16}}var id=null,EB=null,fx=null;function uK(){if(fx)return fx;var t,e=EB,n=e.length,r,i="value"in id?id.value:id.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return fx=i.slice(t,1<r?1-r:void 0)}function dx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function J1(){return!0}function Lj(){return!1}function gs(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?J1:Lj,this.isPropagationStopped=Lj,this}return ei(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=J1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=J1)},persist:function(){},isPersistent:J1}),e}var p0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xB=gs(p0),sw=ei({},p0,{view:0,detail:0}),cue=gs(sw),yI,_I,oy,XC=ei({},sw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oy&&(oy&&t.type==="mousemove"?(yI=t.screenX-oy.screenX,_I=t.screenY-oy.screenY):_I=yI=0,oy=t),yI)},movementY:function(t){return"movementY"in t?t.movementY:_I}}),Nj=gs(XC),fue=ei({},XC,{dataTransfer:0}),due=gs(fue),hue=ei({},sw,{relatedTarget:0}),bI=gs(hue),pue=ei({},p0,{animationName:0,elapsedTime:0,pseudoElement:0}),mue=gs(pue),vue=ei({},p0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gue=gs(vue),yue=ei({},p0,{data:0}),Bj=gs(yue),_ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sue(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wue[t])?!!e[t]:!1}function AB(){return Sue}var Eue=ei({},sw,{key:function(t){if(t.key){var e=_ue[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bue[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AB,charCode:function(t){return t.type==="keypress"?dx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xue=gs(Eue),Aue=ei({},XC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fj=gs(Aue),Cue=ei({},sw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AB}),Tue=gs(Cue),Mue=ei({},p0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oue=gs(Mue),Iue=ei({},XC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rue=gs(Iue),Pue=[9,13,27,32],CB=Zc&&"CompositionEvent"in window,m_=null;Zc&&"documentMode"in document&&(m_=document.documentMode);var Due=Zc&&"TextEvent"in window&&!m_,cK=Zc&&(!CB||m_&&8<m_&&11>=m_),kj=" ",Uj=!1;function fK(t,e){switch(t){case"keyup":return Pue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Iv=!1;function Lue(t,e){switch(t){case"compositionend":return dK(e);case"keypress":return e.which!==32?null:(Uj=!0,kj);case"textInput":return t=e.data,t===kj&&Uj?null:t;default:return null}}function Nue(t,e){if(Iv)return t==="compositionend"||!CB&&fK(t,e)?(t=uK(),fx=EB=id=null,Iv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cK&&e.locale!=="ko"?null:e.data;default:return null}}var Bue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bue[t.type]:e==="textarea"}function hK(t,e,n,r){Gq(r),e=uA(e,"onChange"),0<e.length&&(n=new xB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var v_=null,ob=null;function Fue(t){xK(t,0)}function JC(t){var e=Dv(t);if(Fq(e))return t}function kue(t,e){if(t==="change")return e}var pK=!1;if(Zc){var wI;if(Zc){var SI="oninput"in document;if(!SI){var Hj=document.createElement("div");Hj.setAttribute("oninput","return;"),SI=typeof Hj.oninput=="function"}wI=SI}else wI=!1;pK=wI&&(!document.documentMode||9<document.documentMode)}function $j(){v_&&(v_.detachEvent("onpropertychange",mK),ob=v_=null)}function mK(t){if(t.propertyName==="value"&&JC(ob)){var e=[];hK(e,ob,t,yB(t)),Kq(Fue,e)}}function Uue(t,e,n){t==="focusin"?($j(),v_=e,ob=n,v_.attachEvent("onpropertychange",mK)):t==="focusout"&&$j()}function jue(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return JC(ob)}function Hue(t,e){if(t==="click")return JC(e)}function $ue(t,e){if(t==="input"||t==="change")return JC(e)}function zue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iu=typeof Object.is=="function"?Object.is:zue;function ab(t,e){if(iu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!G2.call(e,i)||!iu(t[i],e[i]))return!1}return!0}function zj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gj(t,e){var n=zj(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zj(n)}}function vK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gK(){for(var t=window,e=nA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nA(t.document)}return e}function TB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gue(t){var e=gK(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vK(n.ownerDocument.documentElement,n)){if(r!==null&&TB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Gj(n,o);var a=Gj(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wue=Zc&&"documentMode"in document&&11>=document.documentMode,Rv=null,uD=null,g_=null,cD=!1;function Wj(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cD||Rv==null||Rv!==nA(r)||(r=Rv,"selectionStart"in r&&TB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),g_&&ab(g_,r)||(g_=r,r=uA(uD,"onSelect"),0<r.length&&(e=new xB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rv)))}function Y1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pv={animationend:Y1("Animation","AnimationEnd"),animationiteration:Y1("Animation","AnimationIteration"),animationstart:Y1("Animation","AnimationStart"),transitionend:Y1("Transition","TransitionEnd")},EI={},yK={};Zc&&(yK=document.createElement("div").style,"AnimationEvent"in window||(delete Pv.animationend.animation,delete Pv.animationiteration.animation,delete Pv.animationstart.animation),"TransitionEvent"in window||delete Pv.transitionend.transition);function YC(t){if(EI[t])return EI[t];if(!Pv[t])return t;var e=Pv[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yK)return EI[t]=e[n];return t}var _K=YC("animationend"),bK=YC("animationiteration"),wK=YC("animationstart"),SK=YC("transitionend"),EK=new Map,Vj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hd(t,e){EK.set(t,e),Kp(e,[t])}for(var xI=0;xI<Vj.length;xI++){var AI=Vj[xI],Vue=AI.toLowerCase(),que=AI[0].toUpperCase()+AI.slice(1);Hd(Vue,"on"+que)}Hd(_K,"onAnimationEnd");Hd(bK,"onAnimationIteration");Hd(wK,"onAnimationStart");Hd("dblclick","onDoubleClick");Hd("focusin","onFocus");Hd("focusout","onBlur");Hd(SK,"onTransitionEnd");Tg("onMouseEnter",["mouseout","mouseover"]);Tg("onMouseLeave",["mouseout","mouseover"]);Tg("onPointerEnter",["pointerout","pointerover"]);Tg("onPointerLeave",["pointerout","pointerover"]);Kp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kue=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yy));function qj(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Vle(r,e,void 0,t),t.currentTarget=null}function xK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;qj(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;qj(i,s,l),o=u}}}if(iA)throw t=oD,iA=!1,oD=null,t}function Rr(t,e){var n=e[mD];n===void 0&&(n=e[mD]=new Set);var r=t+"__bubble";n.has(r)||(AK(e,t,2,!1),n.add(r))}function CI(t,e,n){var r=0;e&&(r|=4),AK(n,t,r,e)}var Z1="_reactListening"+Math.random().toString(36).slice(2);function sb(t){if(!t[Z1]){t[Z1]=!0,Pq.forEach(function(n){n!=="selectionchange"&&(Kue.has(n)||CI(n,!1,t),CI(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Z1]||(e[Z1]=!0,CI("selectionchange",!1,e))}}function AK(t,e,n,r){switch(lK(e)){case 1:var i=lue;break;case 4:i=uue;break;default:i=SB}n=i.bind(null,e,n,t),i=void 0,!iD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function TI(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Zh(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Kq(function(){var l=o,c=yB(n),f=[];e:{var d=EK.get(t);if(d!==void 0){var h=xB,p=t;switch(t){case"keypress":if(dx(n)===0)break e;case"keydown":case"keyup":h=xue;break;case"focusin":p="focus",h=bI;break;case"focusout":p="blur",h=bI;break;case"beforeblur":case"afterblur":h=bI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Nj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=due;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Tue;break;case _K:case bK:case wK:h=mue;break;case SK:h=Oue;break;case"scroll":h=cue;break;case"wheel":h=Rue;break;case"copy":case"cut":case"paste":h=gue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fj}var _=(e&4)!==0,y=!_&&t==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var b=l,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=tb(b,m),S!=null&&_.push(lb(b,S,w)))),y)break;b=b.return}0<_.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==nD&&(p=n.relatedTarget||n.fromElement)&&(Zh(p)||p[Qc]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Zh(p):null,p!==null&&(y=Xp(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(_=Nj,S="onMouseLeave",m="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=Fj,S="onPointerLeave",m="onPointerEnter",b="pointer"),y=h==null?d:Dv(h),w=p==null?d:Dv(p),d=new _(S,b+"leave",h,n,c),d.target=y,d.relatedTarget=w,S=null,Zh(c)===l&&(_=new _(m,b+"enter",p,n,c),_.target=w,_.relatedTarget=y,S=_),y=S,h&&p)t:{for(_=h,m=p,b=0,w=_;w;w=Am(w))b++;for(w=0,S=m;S;S=Am(S))w++;for(;0<b-w;)_=Am(_),b--;for(;0<w-b;)m=Am(m),w--;for(;b--;){if(_===m||m!==null&&_===m.alternate)break t;_=Am(_),m=Am(m)}_=null}else _=null;h!==null&&Kj(f,d,h,_,!1),p!==null&&y!==null&&Kj(f,y,p,_,!0)}}e:{if(d=l?Dv(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=kue;else if(jj(d))if(pK)x=$ue;else{x=jue;var E=Uue}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Hue);if(x&&(x=x(t,l))){hK(f,x,n,c);break e}E&&E(t,d,l),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Y2(d,"number",d.value)}switch(E=l?Dv(l):window,t){case"focusin":(jj(E)||E.contentEditable==="true")&&(Rv=E,uD=l,g_=null);break;case"focusout":g_=uD=Rv=null;break;case"mousedown":cD=!0;break;case"contextmenu":case"mouseup":case"dragend":cD=!1,Wj(f,n,c);break;case"selectionchange":if(Wue)break;case"keydown":case"keyup":Wj(f,n,c)}var M;if(CB)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Iv?fK(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(cK&&n.locale!=="ko"&&(Iv||O!=="onCompositionStart"?O==="onCompositionEnd"&&Iv&&(M=uK()):(id=c,EB="value"in id?id.value:id.textContent,Iv=!0)),E=uA(l,O),0<E.length&&(O=new Bj(O,t,null,n,c),f.push({event:O,listeners:E}),M?O.data=M:(M=dK(n),M!==null&&(O.data=M)))),(M=Due?Lue(t,n):Nue(t,n))&&(l=uA(l,"onBeforeInput"),0<l.length&&(c=new Bj("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=M))}xK(f,e)})}function lb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tb(t,n),o!=null&&r.unshift(lb(t,o,i)),o=tb(t,e),o!=null&&r.push(lb(t,o,i))),t=t.return}return r}function Am(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kj(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=tb(n,o),u!=null&&a.unshift(lb(n,u,s))):i||(u=tb(n,o),u!=null&&a.push(lb(n,u,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Xue=/\r\n?/g,Jue=/\u0000|\uFFFD/g;function Xj(t){return(typeof t=="string"?t:""+t).replace(Xue,`
`).replace(Jue,"")}function Q1(t,e,n){if(e=Xj(e),Xj(t)!==e&&n)throw Error(ht(425))}function cA(){}var fD=null,dD=null;function hD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pD=typeof setTimeout=="function"?setTimeout:void 0,Yue=typeof clearTimeout=="function"?clearTimeout:void 0,Jj=typeof Promise=="function"?Promise:void 0,Zue=typeof queueMicrotask=="function"?queueMicrotask:typeof Jj<"u"?function(t){return Jj.resolve(null).then(t).catch(Que)}:pD;function Que(t){setTimeout(function(){throw t})}function MI(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ib(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ib(e)}function _d(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var m0=Math.random().toString(36).slice(2),Ru="__reactFiber$"+m0,ub="__reactProps$"+m0,Qc="__reactContainer$"+m0,mD="__reactEvents$"+m0,ece="__reactListeners$"+m0,tce="__reactHandles$"+m0;function Zh(t){var e=t[Ru];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qc]||n[Ru]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yj(t);t!==null;){if(n=t[Ru])return n;t=Yj(t)}return e}t=n,n=t.parentNode}return null}function lw(t){return t=t[Ru]||t[Qc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ht(33))}function ZC(t){return t[ub]||null}var vD=[],Lv=-1;function $d(t){return{current:t}}function kr(t){0>Lv||(t.current=vD[Lv],vD[Lv]=null,Lv--)}function Tr(t,e){Lv++,vD[Lv]=t.current,t.current=e}var Pd={},jo=$d(Pd),Fa=$d(!1),Ap=Pd;function Mg(t,e){var n=t.type.contextTypes;if(!n)return Pd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ka(t){return t=t.childContextTypes,t!=null}function fA(){kr(Fa),kr(jo)}function Zj(t,e,n){if(jo.current!==Pd)throw Error(ht(168));Tr(jo,e),Tr(Fa,n)}function CK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ht(108,Ule(t)||"Unknown",i));return ei({},n,r)}function dA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pd,Ap=jo.current,Tr(jo,t),Tr(Fa,Fa.current),!0}function Qj(t,e,n){var r=t.stateNode;if(!r)throw Error(ht(169));n?(t=CK(t,e,Ap),r.__reactInternalMemoizedMergedChildContext=t,kr(Fa),kr(jo),Tr(jo,t)):kr(Fa),Tr(Fa,n)}var Rc=null,QC=!1,OI=!1;function TK(t){Rc===null?Rc=[t]:Rc.push(t)}function nce(t){QC=!0,TK(t)}function zd(){if(!OI&&Rc!==null){OI=!0;var t=0,e=pr;try{var n=Rc;for(pr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rc=null,QC=!1}catch(i){throw Rc!==null&&(Rc=Rc.slice(t+1)),Zq(_B,zd),i}finally{pr=e,OI=!1}}return null}var Nv=[],Bv=0,hA=null,pA=0,Xs=[],Js=0,Cp=null,Bc=1,Fc="";function Ph(t,e){Nv[Bv++]=pA,Nv[Bv++]=hA,hA=t,pA=e}function MK(t,e,n){Xs[Js++]=Bc,Xs[Js++]=Fc,Xs[Js++]=Cp,Cp=t;var r=Bc;t=Fc;var i=32-tu(r)-1;r&=~(1<<i),n+=1;var o=32-tu(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bc=1<<32-tu(e)+i|n<<i|r,Fc=o+t}else Bc=1<<o|n<<i|r,Fc=t}function MB(t){t.return!==null&&(Ph(t,1),MK(t,1,0))}function OB(t){for(;t===hA;)hA=Nv[--Bv],Nv[Bv]=null,pA=Nv[--Bv],Nv[Bv]=null;for(;t===Cp;)Cp=Xs[--Js],Xs[Js]=null,Fc=Xs[--Js],Xs[Js]=null,Bc=Xs[--Js],Xs[Js]=null}var us=null,ss=null,Wr=!1,Vl=null;function OK(t,e){var n=nl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,us=t,ss=_d(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,us=t,ss=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cp!==null?{id:Bc,overflow:Fc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nl(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,us=t,ss=null,!0):!1;default:return!1}}function gD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yD(t){if(Wr){var e=ss;if(e){var n=e;if(!e5(t,e)){if(gD(t))throw Error(ht(418));e=_d(n.nextSibling);var r=us;e&&e5(t,e)?OK(r,n):(t.flags=t.flags&-4097|2,Wr=!1,us=t)}}else{if(gD(t))throw Error(ht(418));t.flags=t.flags&-4097|2,Wr=!1,us=t}}}function t5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;us=t}function eS(t){if(t!==us)return!1;if(!Wr)return t5(t),Wr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hD(t.type,t.memoizedProps)),e&&(e=ss)){if(gD(t))throw IK(),Error(ht(418));for(;e;)OK(t,e),e=_d(e.nextSibling)}if(t5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ht(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ss=_d(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ss=null}}else ss=us?_d(t.stateNode.nextSibling):null;return!0}function IK(){for(var t=ss;t;)t=_d(t.nextSibling)}function Og(){ss=us=null,Wr=!1}function IB(t){Vl===null?Vl=[t]:Vl.push(t)}var rce=lf.ReactCurrentBatchConfig;function ay(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,t))}return t}function tS(t,e){throw t=Object.prototype.toString.call(e),Error(ht(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n5(t){var e=t._init;return e(t._payload)}function RK(t){function e(m,b){if(t){var w=m.deletions;w===null?(m.deletions=[b],m.flags|=16):w.push(b)}}function n(m,b){if(!t)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function r(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function i(m,b){return m=Ed(m,b),m.index=0,m.sibling=null,m}function o(m,b,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<b?(m.flags|=2,b):w):(m.flags|=2,b)):(m.flags|=1048576,b)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,b,w,S){return b===null||b.tag!==6?(b=BI(w,m.mode,S),b.return=m,b):(b=i(b,w),b.return=m,b)}function u(m,b,w,S){var x=w.type;return x===Ov?c(m,b,w.props.children,S,w.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$f&&n5(x)===b.type)?(S=i(b,w.props),S.ref=ay(m,b,w),S.return=m,S):(S=_x(w.type,w.key,w.props,null,m.mode,S),S.ref=ay(m,b,w),S.return=m,S)}function l(m,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=FI(w,m.mode,S),b.return=m,b):(b=i(b,w.children||[]),b.return=m,b)}function c(m,b,w,S,x){return b===null||b.tag!==7?(b=dp(w,m.mode,S,x),b.return=m,b):(b=i(b,w),b.return=m,b)}function f(m,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=BI(""+b,m.mode,w),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case G1:return w=_x(b.type,b.key,b.props,null,m.mode,w),w.ref=ay(m,null,b),w.return=m,w;case Mv:return b=FI(b,m.mode,w),b.return=m,b;case $f:var S=b._init;return f(m,S(b._payload),w)}if(Xy(b)||ty(b))return b=dp(b,m.mode,w,null),b.return=m,b;tS(m,b)}return null}function d(m,b,w,S){var x=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:s(m,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case G1:return w.key===x?u(m,b,w,S):null;case Mv:return w.key===x?l(m,b,w,S):null;case $f:return x=w._init,d(m,b,x(w._payload),S)}if(Xy(w)||ty(w))return x!==null?null:c(m,b,w,S,null);tS(m,w)}return null}function h(m,b,w,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,s(b,m,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case G1:return m=m.get(S.key===null?w:S.key)||null,u(b,m,S,x);case Mv:return m=m.get(S.key===null?w:S.key)||null,l(b,m,S,x);case $f:var E=S._init;return h(m,b,w,E(S._payload),x)}if(Xy(S)||ty(S))return m=m.get(w)||null,c(b,m,S,x,null);tS(b,S)}return null}function p(m,b,w,S){for(var x=null,E=null,M=b,O=b=0,C=null;M!==null&&O<w.length;O++){M.index>O?(C=M,M=null):C=M.sibling;var T=d(m,M,w[O],S);if(T===null){M===null&&(M=C);break}t&&M&&T.alternate===null&&e(m,M),b=o(T,b,O),E===null?x=T:E.sibling=T,E=T,M=C}if(O===w.length)return n(m,M),Wr&&Ph(m,O),x;if(M===null){for(;O<w.length;O++)M=f(m,w[O],S),M!==null&&(b=o(M,b,O),E===null?x=M:E.sibling=M,E=M);return Wr&&Ph(m,O),x}for(M=r(m,M);O<w.length;O++)C=h(M,m,O,w[O],S),C!==null&&(t&&C.alternate!==null&&M.delete(C.key===null?O:C.key),b=o(C,b,O),E===null?x=C:E.sibling=C,E=C);return t&&M.forEach(function(P){return e(m,P)}),Wr&&Ph(m,O),x}function _(m,b,w,S){var x=ty(w);if(typeof x!="function")throw Error(ht(150));if(w=x.call(w),w==null)throw Error(ht(151));for(var E=x=null,M=b,O=b=0,C=null,T=w.next();M!==null&&!T.done;O++,T=w.next()){M.index>O?(C=M,M=null):C=M.sibling;var P=d(m,M,T.value,S);if(P===null){M===null&&(M=C);break}t&&M&&P.alternate===null&&e(m,M),b=o(P,b,O),E===null?x=P:E.sibling=P,E=P,M=C}if(T.done)return n(m,M),Wr&&Ph(m,O),x;if(M===null){for(;!T.done;O++,T=w.next())T=f(m,T.value,S),T!==null&&(b=o(T,b,O),E===null?x=T:E.sibling=T,E=T);return Wr&&Ph(m,O),x}for(M=r(m,M);!T.done;O++,T=w.next())T=h(M,m,O,T.value,S),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?O:T.key),b=o(T,b,O),E===null?x=T:E.sibling=T,E=T);return t&&M.forEach(function(N){return e(m,N)}),Wr&&Ph(m,O),x}function y(m,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Ov&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case G1:e:{for(var x=w.key,E=b;E!==null;){if(E.key===x){if(x=w.type,x===Ov){if(E.tag===7){n(m,E.sibling),b=i(E,w.props.children),b.return=m,m=b;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$f&&n5(x)===E.type){n(m,E.sibling),b=i(E,w.props),b.ref=ay(m,E,w),b.return=m,m=b;break e}n(m,E);break}else e(m,E);E=E.sibling}w.type===Ov?(b=dp(w.props.children,m.mode,S,w.key),b.return=m,m=b):(S=_x(w.type,w.key,w.props,null,m.mode,S),S.ref=ay(m,b,w),S.return=m,m=S)}return a(m);case Mv:e:{for(E=w.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(m,b.sibling),b=i(b,w.children||[]),b.return=m,m=b;break e}else{n(m,b);break}else e(m,b);b=b.sibling}b=FI(w,m.mode,S),b.return=m,m=b}return a(m);case $f:return E=w._init,y(m,b,E(w._payload),S)}if(Xy(w))return p(m,b,w,S);if(ty(w))return _(m,b,w,S);tS(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(m,b.sibling),b=i(b,w),b.return=m,m=b):(n(m,b),b=BI(w,m.mode,S),b.return=m,m=b),a(m)):n(m,b)}return y}var Ig=RK(!0),PK=RK(!1),mA=$d(null),vA=null,Fv=null,RB=null;function PB(){RB=Fv=vA=null}function DB(t){var e=mA.current;kr(mA),t._currentValue=e}function _D(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ag(t,e){vA=t,RB=Fv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Na=!0),t.firstContext=null)}function sl(t){var e=t._currentValue;if(RB!==t)if(t={context:t,memoizedValue:e,next:null},Fv===null){if(vA===null)throw Error(ht(308));Fv=t,vA.dependencies={lanes:0,firstContext:t}}else Fv=Fv.next=t;return e}var Qh=null;function LB(t){Qh===null?Qh=[t]:Qh.push(t)}function DK(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,LB(e)):(n.next=i.next,i.next=n),e.interleaved=n,ef(t,r)}function ef(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zf=!1;function NB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ef(t,n)}return i=r.interleaved,i===null?(e.next=e,LB(r)):(e.next=i.next,i.next=e),r.interleaved=e,ef(t,n)}function hx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bB(t,n)}}function r5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gA(t,e,n,r){var i=t.updateQueue;zf=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,_=s;switch(d=e,h=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ei({},f,d);break e;case 2:zf=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Mp|=a,t.lanes=a,t.memoizedState=f}}function i5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ht(191,i));i.call(r)}}}var uw={},ju=$d(uw),cb=$d(uw),fb=$d(uw);function ep(t){if(t===uw)throw Error(ht(174));return t}function BB(t,e){switch(Tr(fb,e),Tr(cb,t),Tr(ju,uw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q2(e,t)}kr(ju),Tr(ju,e)}function Rg(){kr(ju),kr(cb),kr(fb)}function NK(t){ep(fb.current);var e=ep(ju.current),n=Q2(e,t.type);e!==n&&(Tr(cb,t),Tr(ju,n))}function FB(t){cb.current===t&&(kr(ju),kr(cb))}var Yr=$d(0);function yA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var II=[];function kB(){for(var t=0;t<II.length;t++)II[t]._workInProgressVersionPrimary=null;II.length=0}var px=lf.ReactCurrentDispatcher,RI=lf.ReactCurrentBatchConfig,Tp=0,Qr=null,Bi=null,no=null,_A=!1,y_=!1,db=0,ice=0;function Ao(){throw Error(ht(321))}function UB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!iu(t[n],e[n]))return!1;return!0}function jB(t,e,n,r,i,o){if(Tp=o,Qr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,px.current=t===null||t.memoizedState===null?lce:uce,t=n(r,i),y_){o=0;do{if(y_=!1,db=0,25<=o)throw Error(ht(301));o+=1,no=Bi=null,e.updateQueue=null,px.current=cce,t=n(r,i)}while(y_)}if(px.current=bA,e=Bi!==null&&Bi.next!==null,Tp=0,no=Bi=Qr=null,_A=!1,e)throw Error(ht(300));return t}function HB(){var t=db!==0;return db=0,t}function Mu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return no===null?Qr.memoizedState=no=t:no=no.next=t,no}function ll(){if(Bi===null){var t=Qr.alternate;t=t!==null?t.memoizedState:null}else t=Bi.next;var e=no===null?Qr.memoizedState:no.next;if(e!==null)no=e,Bi=t;else{if(t===null)throw Error(ht(310));Bi=t,t={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},no===null?Qr.memoizedState=no=t:no=no.next=t}return no}function hb(t,e){return typeof e=="function"?e(t):e}function PI(t){var e=ll(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=Bi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((Tp&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,Qr.lanes|=c,Mp|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,iu(r,e.memoizedState)||(Na=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qr.lanes|=o,Mp|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function DI(t){var e=ll(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);iu(o,e.memoizedState)||(Na=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function BK(){}function FK(t,e){var n=Qr,r=ll(),i=e(),o=!iu(r.memoizedState,i);if(o&&(r.memoizedState=i,Na=!0),r=r.queue,$B(jK.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||no!==null&&no.memoizedState.tag&1){if(n.flags|=2048,pb(9,UK.bind(null,n,r,i,e),void 0,null),ro===null)throw Error(ht(349));Tp&30||kK(n,e,i)}return i}function kK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UK(t,e,n,r){e.value=n,e.getSnapshot=r,HK(e)&&$K(t)}function jK(t,e,n){return n(function(){HK(e)&&$K(t)})}function HK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iu(t,n)}catch{return!0}}function $K(t){var e=ef(t,1);e!==null&&nu(e,t,1,-1)}function o5(t){var e=Mu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hb,lastRenderedState:t},e.queue=t,t=t.dispatch=sce.bind(null,Qr,t),[e.memoizedState,t]}function pb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zK(){return ll().memoizedState}function mx(t,e,n,r){var i=Mu();Qr.flags|=t,i.memoizedState=pb(1|e,n,void 0,r===void 0?null:r)}function eT(t,e,n,r){var i=ll();r=r===void 0?null:r;var o=void 0;if(Bi!==null){var a=Bi.memoizedState;if(o=a.destroy,r!==null&&UB(r,a.deps)){i.memoizedState=pb(e,n,o,r);return}}Qr.flags|=t,i.memoizedState=pb(1|e,n,o,r)}function a5(t,e){return mx(8390656,8,t,e)}function $B(t,e){return eT(2048,8,t,e)}function GK(t,e){return eT(4,2,t,e)}function WK(t,e){return eT(4,4,t,e)}function VK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qK(t,e,n){return n=n!=null?n.concat([t]):null,eT(4,4,VK.bind(null,e,t),n)}function zB(){}function KK(t,e){var n=ll();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XK(t,e){var n=ll();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JK(t,e,n){return Tp&21?(iu(n,e)||(n=tK(),Qr.lanes|=n,Mp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Na=!0),t.memoizedState=n)}function oce(t,e){var n=pr;pr=n!==0&&4>n?n:4,t(!0);var r=RI.transition;RI.transition={};try{t(!1),e()}finally{pr=n,RI.transition=r}}function YK(){return ll().memoizedState}function ace(t,e,n){var r=Sd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZK(t))QK(e,n);else if(n=DK(t,e,n,r),n!==null){var i=la();nu(n,t,r,i),eX(n,e,r)}}function sce(t,e,n){var r=Sd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZK(t))QK(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,iu(s,a)){var u=e.interleaved;u===null?(i.next=i,LB(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=DK(t,e,i,r),n!==null&&(i=la(),nu(n,t,r,i),eX(n,e,r))}}function ZK(t){var e=t.alternate;return t===Qr||e!==null&&e===Qr}function QK(t,e){y_=_A=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eX(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bB(t,n)}}var bA={readContext:sl,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},lce={readContext:sl,useCallback:function(t,e){return Mu().memoizedState=[t,e===void 0?null:e],t},useContext:sl,useEffect:a5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mx(4194308,4,VK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mx(4194308,4,t,e)},useInsertionEffect:function(t,e){return mx(4,2,t,e)},useMemo:function(t,e){var n=Mu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ace.bind(null,Qr,t),[r.memoizedState,t]},useRef:function(t){var e=Mu();return t={current:t},e.memoizedState=t},useState:o5,useDebugValue:zB,useDeferredValue:function(t){return Mu().memoizedState=t},useTransition:function(){var t=o5(!1),e=t[0];return t=oce.bind(null,t[1]),Mu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qr,i=Mu();if(Wr){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=e(),ro===null)throw Error(ht(349));Tp&30||kK(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,a5(jK.bind(null,r,o,t),[t]),r.flags|=2048,pb(9,UK.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mu(),e=ro.identifierPrefix;if(Wr){var n=Fc,r=Bc;n=(r&~(1<<32-tu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=db++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ice++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uce={readContext:sl,useCallback:KK,useContext:sl,useEffect:$B,useImperativeHandle:qK,useInsertionEffect:GK,useLayoutEffect:WK,useMemo:XK,useReducer:PI,useRef:zK,useState:function(){return PI(hb)},useDebugValue:zB,useDeferredValue:function(t){var e=ll();return JK(e,Bi.memoizedState,t)},useTransition:function(){var t=PI(hb)[0],e=ll().memoizedState;return[t,e]},useMutableSource:BK,useSyncExternalStore:FK,useId:YK,unstable_isNewReconciler:!1},cce={readContext:sl,useCallback:KK,useContext:sl,useEffect:$B,useImperativeHandle:qK,useInsertionEffect:GK,useLayoutEffect:WK,useMemo:XK,useReducer:DI,useRef:zK,useState:function(){return DI(hb)},useDebugValue:zB,useDeferredValue:function(t){var e=ll();return Bi===null?e.memoizedState=t:JK(e,Bi.memoizedState,t)},useTransition:function(){var t=DI(hb)[0],e=ll().memoizedState;return[t,e]},useMutableSource:BK,useSyncExternalStore:FK,useId:YK,unstable_isNewReconciler:!1};function Hl(t,e){if(t&&t.defaultProps){e=ei({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ei({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tT={isMounted:function(t){return(t=t._reactInternals)?Xp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=la(),i=Sd(t),o=Wc(r,i);o.payload=e,n!=null&&(o.callback=n),e=bd(t,o,i),e!==null&&(nu(e,t,i,r),hx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=la(),i=Sd(t),o=Wc(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bd(t,o,i),e!==null&&(nu(e,t,i,r),hx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=la(),r=Sd(t),i=Wc(n,r);i.tag=2,e!=null&&(i.callback=e),e=bd(t,i,r),e!==null&&(nu(e,t,r,n),hx(e,t,r))}};function s5(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ab(n,r)||!ab(i,o):!0}function tX(t,e,n){var r=!1,i=Pd,o=e.contextType;return typeof o=="object"&&o!==null?o=sl(o):(i=ka(e)?Ap:jo.current,r=e.contextTypes,o=(r=r!=null)?Mg(t,i):Pd),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tT,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function l5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tT.enqueueReplaceState(e,e.state,null)}function wD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},NB(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=sl(o):(o=ka(e)?Ap:jo.current,i.context=Mg(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bD(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tT.enqueueReplaceState(i,i.state,null),gA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pg(t,e){try{var n="",r=e;do n+=kle(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function LI(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function SD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fce=typeof WeakMap=="function"?WeakMap:Map;function nX(t,e,n){n=Wc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){SA||(SA=!0,PD=r),SD(t,e)},n}function rX(t,e,n){n=Wc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){SD(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){SD(t,e),typeof r!="function"&&(wd===null?wd=new Set([this]):wd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function u5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fce;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ace.bind(null,t,e,n),e.then(t,t))}function c5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wc(-1,1),e.tag=2,bd(n,e,1))),n.lanes|=1),t)}var dce=lf.ReactCurrentOwner,Na=!1;function ra(t,e,n,r){e.child=t===null?PK(e,null,n,r):Ig(e,t.child,n,r)}function d5(t,e,n,r,i){n=n.render;var o=e.ref;return ag(e,i),r=jB(t,e,n,r,o,i),n=HB(),t!==null&&!Na?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tf(t,e,i)):(Wr&&n&&MB(e),e.flags|=1,ra(t,e,r,i),e.child)}function h5(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!YB(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iX(t,e,o,r,i)):(t=_x(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ab,n(a,r)&&t.ref===e.ref)return tf(t,e,i)}return e.flags|=1,t=Ed(o,r),t.ref=e.ref,t.return=e,e.child=t}function iX(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ab(o,r)&&t.ref===e.ref)if(Na=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Na=!0);else return e.lanes=t.lanes,tf(t,e,i)}return ED(t,e,n,r,i)}function oX(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Uv,ns),ns|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tr(Uv,ns),ns|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Tr(Uv,ns),ns|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Tr(Uv,ns),ns|=r;return ra(t,e,i,n),e.child}function aX(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ED(t,e,n,r,i){var o=ka(n)?Ap:jo.current;return o=Mg(e,o),ag(e,i),n=jB(t,e,n,r,o,i),r=HB(),t!==null&&!Na?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tf(t,e,i)):(Wr&&r&&MB(e),e.flags|=1,ra(t,e,n,i),e.child)}function p5(t,e,n,r,i){if(ka(n)){var o=!0;dA(e)}else o=!1;if(ag(e,i),e.stateNode===null)vx(t,e),tX(e,n,r),wD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=sl(l):(l=ka(n)?Ap:jo.current,l=Mg(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&l5(e,a,r,l),zf=!1;var d=e.memoizedState;a.state=d,gA(e,r,a,i),u=e.memoizedState,s!==r||d!==u||Fa.current||zf?(typeof c=="function"&&(bD(e,n,c,r),u=e.memoizedState),(s=zf||s5(e,n,s,r,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,LK(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Hl(e.type,s),a.props=l,f=e.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=sl(u):(u=ka(n)?Ap:jo.current,u=Mg(e,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&l5(e,a,r,u),zf=!1,d=e.memoizedState,a.state=d,gA(e,r,a,i);var p=e.memoizedState;s!==f||d!==p||Fa.current||zf?(typeof h=="function"&&(bD(e,n,h,r),p=e.memoizedState),(l=zf||s5(e,n,l,r,d,p,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xD(t,e,n,r,o,i)}function xD(t,e,n,r,i,o){aX(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Qj(e,n,!1),tf(t,e,o);r=e.stateNode,dce.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ig(e,t.child,null,o),e.child=Ig(e,null,s,o)):ra(t,e,s,o),e.memoizedState=r.state,i&&Qj(e,n,!0),e.child}function sX(t){var e=t.stateNode;e.pendingContext?Zj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zj(t,e.context,!1),BB(t,e.containerInfo)}function m5(t,e,n,r,i){return Og(),IB(i),e.flags|=256,ra(t,e,n,r),e.child}var AD={dehydrated:null,treeContext:null,retryLane:0};function CD(t){return{baseLanes:t,cachePool:null,transitions:null}}function lX(t,e,n){var r=e.pendingProps,i=Yr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tr(Yr,i&1),t===null)return yD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=iT(a,r,0,null),t=dp(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=CD(n),e.memoizedState=AD,t):GB(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return hce(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ed(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ed(s,o):(o=dp(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?CD(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=AD,r}return o=t.child,t=o.sibling,r=Ed(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function GB(t,e){return e=iT({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nS(t,e,n,r){return r!==null&&IB(r),Ig(e,t.child,null,n),t=GB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hce(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=LI(Error(ht(422))),nS(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=iT({mode:"visible",children:r.children},i,0,null),o=dp(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ig(e,t.child,null,a),e.child.memoizedState=CD(a),e.memoizedState=AD,o);if(!(e.mode&1))return nS(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ht(419)),r=LI(o,r,void 0),nS(t,e,a,r)}if(s=(a&t.childLanes)!==0,Na||s){if(r=ro,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ef(t,i),nu(r,t,i,-1))}return JB(),r=LI(Error(ht(421))),nS(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cce.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ss=_d(i.nextSibling),us=e,Wr=!0,Vl=null,t!==null&&(Xs[Js++]=Bc,Xs[Js++]=Fc,Xs[Js++]=Cp,Bc=t.id,Fc=t.overflow,Cp=e),e=GB(e,r.children),e.flags|=4096,e)}function v5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_D(t.return,e,n)}function NI(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uX(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ra(t,e,r.children,n),r=Yr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v5(t,n,e);else if(t.tag===19)v5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tr(Yr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),NI(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}NI(e,!0,n,null,o);break;case"together":NI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tf(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ht(153));if(e.child!==null){for(t=e.child,n=Ed(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ed(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pce(t,e,n){switch(e.tag){case 3:sX(e),Og();break;case 5:NK(e);break;case 1:ka(e.type)&&dA(e);break;case 4:BB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tr(mA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tr(Yr,Yr.current&1),e.flags|=128,null):n&e.child.childLanes?lX(t,e,n):(Tr(Yr,Yr.current&1),t=tf(t,e,n),t!==null?t.sibling:null);Tr(Yr,Yr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uX(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tr(Yr,Yr.current),r)break;return null;case 22:case 23:return e.lanes=0,oX(t,e,n)}return tf(t,e,n)}var cX,TD,fX,dX;cX=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};TD=function(){};fX=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ep(ju.current);var o=null;switch(n){case"input":i=X2(t,i),r=X2(t,r),o=[];break;case"select":i=ei({},i,{value:void 0}),r=ei({},r,{value:void 0}),o=[];break;case"textarea":i=Z2(t,i),r=Z2(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cA)}eD(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Q_.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Q_.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Rr("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};dX=function(t,e,n,r){n!==r&&(e.flags|=4)};function sy(t,e){if(!Wr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Co(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mce(t,e,n){var r=e.pendingProps;switch(OB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(e),null;case 1:return ka(e.type)&&fA(),Co(e),null;case 3:return r=e.stateNode,Rg(),kr(Fa),kr(jo),kB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vl!==null&&(ND(Vl),Vl=null))),TD(t,e),Co(e),null;case 5:FB(e);var i=ep(fb.current);if(n=e.type,t!==null&&e.stateNode!=null)fX(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ht(166));return Co(e),null}if(t=ep(ju.current),eS(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ru]=e,r[ub]=o,t=(e.mode&1)!==0,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<Yy.length;i++)Rr(Yy[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":Aj(r,o),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rr("invalid",r);break;case"textarea":Tj(r,o),Rr("invalid",r)}eD(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Q1(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Q1(r.textContent,s,t),i=["children",""+s]):Q_.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Rr("scroll",r)}switch(n){case"input":W1(r),Cj(r,o,!0);break;case"textarea":W1(r),Mj(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jq(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ru]=e,t[ub]=r,cX(t,e,!1,!1),e.stateNode=t;e:{switch(a=tD(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),i=r;break;case"iframe":case"object":case"embed":Rr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yy.length;i++)Rr(Yy[i],t);i=r;break;case"source":Rr("error",t),i=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),i=r;break;case"details":Rr("toggle",t),i=r;break;case"input":Aj(t,r),i=X2(t,r),Rr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ei({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":Tj(t,r),i=Z2(t,r),Rr("invalid",t);break;default:i=r}eD(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?zq(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hq(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&eb(t,u):typeof u=="number"&&eb(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Q_.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Rr("scroll",t):u!=null&&pB(t,o,u,a))}switch(n){case"input":W1(t),Cj(t,r,!1);break;case"textarea":W1(t),Mj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rd(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ng(t,!!r.multiple,o,!1):r.defaultValue!=null&&ng(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Co(e),null;case 6:if(t&&e.stateNode!=null)dX(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ht(166));if(n=ep(fb.current),ep(ju.current),eS(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ru]=e,(o=r.nodeValue!==n)&&(t=us,t!==null))switch(t.tag){case 3:Q1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Q1(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ru]=e,e.stateNode=r}return Co(e),null;case 13:if(kr(Yr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wr&&ss!==null&&e.mode&1&&!(e.flags&128))IK(),Og(),e.flags|=98560,o=!1;else if(o=eS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ht(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ht(317));o[Ru]=e}else Og(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Co(e),o=!1}else Vl!==null&&(ND(Vl),Vl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yr.current&1?ki===0&&(ki=3):JB())),e.updateQueue!==null&&(e.flags|=4),Co(e),null);case 4:return Rg(),TD(t,e),t===null&&sb(e.stateNode.containerInfo),Co(e),null;case 10:return DB(e.type._context),Co(e),null;case 17:return ka(e.type)&&fA(),Co(e),null;case 19:if(kr(Yr),o=e.memoizedState,o===null)return Co(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)sy(o,!1);else{if(ki!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yA(t),a!==null){for(e.flags|=128,sy(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tr(Yr,Yr.current&1|2),e.child}t=t.sibling}o.tail!==null&&vi()>Dg&&(e.flags|=128,r=!0,sy(o,!1),e.lanes=4194304)}else{if(!r)if(t=yA(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Wr)return Co(e),null}else 2*vi()-o.renderingStartTime>Dg&&n!==1073741824&&(e.flags|=128,r=!0,sy(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vi(),e.sibling=null,n=Yr.current,Tr(Yr,r?n&1|2:n&1),e):(Co(e),null);case 22:case 23:return XB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ns&1073741824&&(Co(e),e.subtreeFlags&6&&(e.flags|=8192)):Co(e),null;case 24:return null;case 25:return null}throw Error(ht(156,e.tag))}function vce(t,e){switch(OB(e),e.tag){case 1:return ka(e.type)&&fA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rg(),kr(Fa),kr(jo),kB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return FB(e),null;case 13:if(kr(Yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ht(340));Og()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kr(Yr),null;case 4:return Rg(),null;case 10:return DB(e.type._context),null;case 22:case 23:return XB(),null;case 24:return null;default:return null}}var rS=!1,ko=!1,gce=typeof WeakSet=="function"?WeakSet:Set,zt=null;function kv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ai(t,e,r)}else n.current=null}function MD(t,e,n){try{n()}catch(r){ai(t,e,r)}}var g5=!1;function yce(t,e){if(fD=sA,t=gK(),TB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++l===i&&(s=a),d===o&&++c===r&&(u=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(dD={focusedElem:t,selectionRange:n},sA=!1,zt=e;zt!==null;)if(e=zt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,zt=t;else for(;zt!==null;){e=zt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,y=p.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:Hl(e.type,_),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(S){ai(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}return p=g5,g5=!1,p}function __(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&MD(e,n,o)}i=i.next}while(i!==r)}}function nT(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function OD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hX(t){var e=t.alternate;e!==null&&(t.alternate=null,hX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ru],delete e[ub],delete e[mD],delete e[ece],delete e[tce])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pX(t){return t.tag===5||t.tag===3||t.tag===4}function y5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ID(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cA));else if(r!==4&&(t=t.child,t!==null))for(ID(t,e,n),t=t.sibling;t!==null;)ID(t,e,n),t=t.sibling}function RD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(RD(t,e,n),t=t.sibling;t!==null;)RD(t,e,n),t=t.sibling}var fo=null,zl=!1;function xf(t,e,n){for(n=n.child;n!==null;)mX(t,e,n),n=n.sibling}function mX(t,e,n){if(Uu&&typeof Uu.onCommitFiberUnmount=="function")try{Uu.onCommitFiberUnmount(KC,n)}catch{}switch(n.tag){case 5:ko||kv(n,e);case 6:var r=fo,i=zl;fo=null,xf(t,e,n),fo=r,zl=i,fo!==null&&(zl?(t=fo,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fo.removeChild(n.stateNode));break;case 18:fo!==null&&(zl?(t=fo,n=n.stateNode,t.nodeType===8?MI(t.parentNode,n):t.nodeType===1&&MI(t,n),ib(t)):MI(fo,n.stateNode));break;case 4:r=fo,i=zl,fo=n.stateNode.containerInfo,zl=!0,xf(t,e,n),fo=r,zl=i;break;case 0:case 11:case 14:case 15:if(!ko&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&MD(n,e,a),i=i.next}while(i!==r)}xf(t,e,n);break;case 1:if(!ko&&(kv(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ai(n,e,s)}xf(t,e,n);break;case 21:xf(t,e,n);break;case 22:n.mode&1?(ko=(r=ko)||n.memoizedState!==null,xf(t,e,n),ko=r):xf(t,e,n);break;default:xf(t,e,n)}}function _5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gce),e.forEach(function(r){var i=Tce.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:fo=s.stateNode,zl=!1;break e;case 3:fo=s.stateNode.containerInfo,zl=!0;break e;case 4:fo=s.stateNode.containerInfo,zl=!0;break e}s=s.return}if(fo===null)throw Error(ht(160));mX(o,a,i),fo=null,zl=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ai(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vX(e,t),e=e.sibling}function vX(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xl(e,t),_u(t),r&4){try{__(3,t,t.return),nT(3,t)}catch(_){ai(t,t.return,_)}try{__(5,t,t.return)}catch(_){ai(t,t.return,_)}}break;case 1:xl(e,t),_u(t),r&512&&n!==null&&kv(n,n.return);break;case 5:if(xl(e,t),_u(t),r&512&&n!==null&&kv(n,n.return),t.flags&32){var i=t.stateNode;try{eb(i,"")}catch(_){ai(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&kq(i,o),tD(s,a);var l=tD(s,o);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?zq(i,f):c==="dangerouslySetInnerHTML"?Hq(i,f):c==="children"?eb(i,f):pB(i,c,f,l)}switch(s){case"input":J2(i,o);break;case"textarea":Uq(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ng(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ng(i,!!o.multiple,o.defaultValue,!0):ng(i,!!o.multiple,o.multiple?[]:"",!1))}i[ub]=o}catch(_){ai(t,t.return,_)}}break;case 6:if(xl(e,t),_u(t),r&4){if(t.stateNode===null)throw Error(ht(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){ai(t,t.return,_)}}break;case 3:if(xl(e,t),_u(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ib(e.containerInfo)}catch(_){ai(t,t.return,_)}break;case 4:xl(e,t),_u(t);break;case 13:xl(e,t),_u(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qB=vi())),r&4&&_5(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ko=(l=ko)||c,xl(e,t),ko=l):xl(e,t),_u(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(zt=t,c=t.child;c!==null;){for(f=zt=c;zt!==null;){switch(d=zt,h=d.child,d.tag){case 0:case 11:case 14:case 15:__(4,d,d.return);break;case 1:kv(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){ai(r,n,_)}}break;case 5:kv(d,d.return);break;case 22:if(d.memoizedState!==null){w5(f);continue}}h!==null?(h.return=d,zt=h):w5(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=$q("display",a))}catch(_){ai(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(_){ai(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xl(e,t),_u(t),r&4&&_5(t);break;case 21:break;default:xl(e,t),_u(t)}}function _u(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pX(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eb(i,""),r.flags&=-33);var o=y5(t);RD(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=y5(t);ID(t,s,a);break;default:throw Error(ht(161))}}catch(u){ai(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _ce(t,e,n){zt=t,gX(t)}function gX(t,e,n){for(var r=(t.mode&1)!==0;zt!==null;){var i=zt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||rS;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||ko;s=rS;var l=ko;if(rS=a,(ko=u)&&!l)for(zt=i;zt!==null;)a=zt,u=a.child,a.tag===22&&a.memoizedState!==null?S5(i):u!==null?(u.return=a,zt=u):S5(i);for(;o!==null;)zt=o,gX(o),o=o.sibling;zt=i,rS=s,ko=l}b5(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,zt=o):b5(t)}}function b5(t){for(;zt!==null;){var e=zt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ko||nT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ko)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&i5(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i5(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ib(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}ko||e.flags&512&&OD(e)}catch(d){ai(e,e.return,d)}}if(e===t){zt=null;break}if(n=e.sibling,n!==null){n.return=e.return,zt=n;break}zt=e.return}}function w5(t){for(;zt!==null;){var e=zt;if(e===t){zt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,zt=n;break}zt=e.return}}function S5(t){for(;zt!==null;){var e=zt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nT(4,e)}catch(u){ai(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ai(e,i,u)}}var o=e.return;try{OD(e)}catch(u){ai(e,o,u)}break;case 5:var a=e.return;try{OD(e)}catch(u){ai(e,a,u)}}}catch(u){ai(e,e.return,u)}if(e===t){zt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,zt=s;break}zt=e.return}}var bce=Math.ceil,wA=lf.ReactCurrentDispatcher,WB=lf.ReactCurrentOwner,il=lf.ReactCurrentBatchConfig,nr=0,ro=null,Oi=null,po=0,ns=0,Uv=$d(0),ki=0,mb=null,Mp=0,rT=0,VB=0,b_=null,Ia=null,qB=0,Dg=1/0,Oc=null,SA=!1,PD=null,wd=null,iS=!1,od=null,EA=0,w_=0,DD=null,gx=-1,yx=0;function la(){return nr&6?vi():gx!==-1?gx:gx=vi()}function Sd(t){return t.mode&1?nr&2&&po!==0?po&-po:rce.transition!==null?(yx===0&&(yx=tK()),yx):(t=pr,t!==0||(t=window.event,t=t===void 0?16:lK(t.type)),t):1}function nu(t,e,n,r){if(50<w_)throw w_=0,DD=null,Error(ht(185));aw(t,n,r),(!(nr&2)||t!==ro)&&(t===ro&&(!(nr&2)&&(rT|=n),ki===4&&Yf(t,po)),Ua(t,r),n===1&&nr===0&&!(e.mode&1)&&(Dg=vi()+500,QC&&zd()))}function Ua(t,e){var n=t.callbackNode;rue(t,e);var r=aA(t,t===ro?po:0);if(r===0)n!==null&&Rj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rj(n),e===1)t.tag===0?nce(E5.bind(null,t)):TK(E5.bind(null,t)),Zue(function(){!(nr&6)&&zd()}),n=null;else{switch(nK(r)){case 1:n=_B;break;case 4:n=Qq;break;case 16:n=oA;break;case 536870912:n=eK;break;default:n=oA}n=AX(n,yX.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yX(t,e){if(gx=-1,yx=0,nr&6)throw Error(ht(327));var n=t.callbackNode;if(sg()&&t.callbackNode!==n)return null;var r=aA(t,t===ro?po:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xA(t,r);else{e=r;var i=nr;nr|=2;var o=bX();(ro!==t||po!==e)&&(Oc=null,Dg=vi()+500,fp(t,e));do try{Ece();break}catch(s){_X(t,s)}while(!0);PB(),wA.current=o,nr=i,Oi!==null?e=0:(ro=null,po=0,e=ki)}if(e!==0){if(e===2&&(i=aD(t),i!==0&&(r=i,e=LD(t,i))),e===1)throw n=mb,fp(t,0),Yf(t,r),Ua(t,vi()),n;if(e===6)Yf(t,r);else{if(i=t.current.alternate,!(r&30)&&!wce(i)&&(e=xA(t,r),e===2&&(o=aD(t),o!==0&&(r=o,e=LD(t,o))),e===1))throw n=mb,fp(t,0),Yf(t,r),Ua(t,vi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ht(345));case 2:Dh(t,Ia,Oc);break;case 3:if(Yf(t,r),(r&130023424)===r&&(e=qB+500-vi(),10<e)){if(aA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){la(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pD(Dh.bind(null,t,Ia,Oc),e);break}Dh(t,Ia,Oc);break;case 4:if(Yf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-tu(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=vi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bce(r/1960))-r,10<r){t.timeoutHandle=pD(Dh.bind(null,t,Ia,Oc),r);break}Dh(t,Ia,Oc);break;case 5:Dh(t,Ia,Oc);break;default:throw Error(ht(329))}}}return Ua(t,vi()),t.callbackNode===n?yX.bind(null,t):null}function LD(t,e){var n=b_;return t.current.memoizedState.isDehydrated&&(fp(t,e).flags|=256),t=xA(t,e),t!==2&&(e=Ia,Ia=n,e!==null&&ND(e)),t}function ND(t){Ia===null?Ia=t:Ia.push.apply(Ia,t)}function wce(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!iu(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yf(t,e){for(e&=~VB,e&=~rT,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tu(e),r=1<<n;t[n]=-1,e&=~r}}function E5(t){if(nr&6)throw Error(ht(327));sg();var e=aA(t,0);if(!(e&1))return Ua(t,vi()),null;var n=xA(t,e);if(t.tag!==0&&n===2){var r=aD(t);r!==0&&(e=r,n=LD(t,r))}if(n===1)throw n=mb,fp(t,0),Yf(t,e),Ua(t,vi()),n;if(n===6)throw Error(ht(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dh(t,Ia,Oc),Ua(t,vi()),null}function KB(t,e){var n=nr;nr|=1;try{return t(e)}finally{nr=n,nr===0&&(Dg=vi()+500,QC&&zd())}}function Op(t){od!==null&&od.tag===0&&!(nr&6)&&sg();var e=nr;nr|=1;var n=il.transition,r=pr;try{if(il.transition=null,pr=1,t)return t()}finally{pr=r,il.transition=n,nr=e,!(nr&6)&&zd()}}function XB(){ns=Uv.current,kr(Uv)}function fp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yue(n)),Oi!==null)for(n=Oi.return;n!==null;){var r=n;switch(OB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fA();break;case 3:Rg(),kr(Fa),kr(jo),kB();break;case 5:FB(r);break;case 4:Rg();break;case 13:kr(Yr);break;case 19:kr(Yr);break;case 10:DB(r.type._context);break;case 22:case 23:XB()}n=n.return}if(ro=t,Oi=t=Ed(t.current,null),po=ns=e,ki=0,mb=null,VB=rT=Mp=0,Ia=b_=null,Qh!==null){for(e=0;e<Qh.length;e++)if(n=Qh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Qh=null}return t}function _X(t,e){do{var n=Oi;try{if(PB(),px.current=bA,_A){for(var r=Qr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_A=!1}if(Tp=0,no=Bi=Qr=null,y_=!1,db=0,WB.current=null,n===null||n.return===null){ki=1,mb=e,Oi=null;break}e:{var o=t,a=n.return,s=n,u=e;if(e=po,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=c5(a);if(h!==null){h.flags&=-257,f5(h,a,s,o,e),h.mode&1&&u5(o,l,e),e=h,u=l;var p=e.updateQueue;if(p===null){var _=new Set;_.add(u),e.updateQueue=_}else p.add(u);break e}else{if(!(e&1)){u5(o,l,e),JB();break e}u=Error(ht(426))}}else if(Wr&&s.mode&1){var y=c5(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),f5(y,a,s,o,e),IB(Pg(u,s));break e}}o=u=Pg(u,s),ki!==4&&(ki=2),b_===null?b_=[o]:b_.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=nX(o,u,e);r5(o,m);break e;case 1:s=u;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wd===null||!wd.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=rX(o,s,e);r5(o,S);break e}}o=o.return}while(o!==null)}SX(n)}catch(x){e=x,Oi===n&&n!==null&&(Oi=n=n.return);continue}break}while(!0)}function bX(){var t=wA.current;return wA.current=bA,t===null?bA:t}function JB(){(ki===0||ki===3||ki===2)&&(ki=4),ro===null||!(Mp&268435455)&&!(rT&268435455)||Yf(ro,po)}function xA(t,e){var n=nr;nr|=2;var r=bX();(ro!==t||po!==e)&&(Oc=null,fp(t,e));do try{Sce();break}catch(i){_X(t,i)}while(!0);if(PB(),nr=n,wA.current=r,Oi!==null)throw Error(ht(261));return ro=null,po=0,ki}function Sce(){for(;Oi!==null;)wX(Oi)}function Ece(){for(;Oi!==null&&!Kle();)wX(Oi)}function wX(t){var e=xX(t.alternate,t,ns);t.memoizedProps=t.pendingProps,e===null?SX(t):Oi=e,WB.current=null}function SX(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vce(n,e),n!==null){n.flags&=32767,Oi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ki=6,Oi=null;return}}else if(n=mce(n,e,ns),n!==null){Oi=n;return}if(e=e.sibling,e!==null){Oi=e;return}Oi=e=t}while(e!==null);ki===0&&(ki=5)}function Dh(t,e,n){var r=pr,i=il.transition;try{il.transition=null,pr=1,xce(t,e,n,r)}finally{il.transition=i,pr=r}return null}function xce(t,e,n,r){do sg();while(od!==null);if(nr&6)throw Error(ht(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ht(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iue(t,o),t===ro&&(Oi=ro=null,po=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iS||(iS=!0,AX(oA,function(){return sg(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=il.transition,il.transition=null;var a=pr;pr=1;var s=nr;nr|=4,WB.current=null,yce(t,n),vX(n,t),Gue(dD),sA=!!fD,dD=fD=null,t.current=n,_ce(n),Xle(),nr=s,pr=a,il.transition=o}else t.current=n;if(iS&&(iS=!1,od=t,EA=i),o=t.pendingLanes,o===0&&(wd=null),Zle(n.stateNode),Ua(t,vi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(SA)throw SA=!1,t=PD,PD=null,t;return EA&1&&t.tag!==0&&sg(),o=t.pendingLanes,o&1?t===DD?w_++:(w_=0,DD=t):w_=0,zd(),null}function sg(){if(od!==null){var t=nK(EA),e=il.transition,n=pr;try{if(il.transition=null,pr=16>t?16:t,od===null)var r=!1;else{if(t=od,od=null,EA=0,nr&6)throw Error(ht(331));var i=nr;for(nr|=4,zt=t.current;zt!==null;){var o=zt,a=o.child;if(zt.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(zt=l;zt!==null;){var c=zt;switch(c.tag){case 0:case 11:case 15:__(8,c,o)}var f=c.child;if(f!==null)f.return=c,zt=f;else for(;zt!==null;){c=zt;var d=c.sibling,h=c.return;if(hX(c),c===l){zt=null;break}if(d!==null){d.return=h,zt=d;break}zt=h}}}var p=o.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}zt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,zt=a;else e:for(;zt!==null;){if(o=zt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:__(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,zt=m;break e}zt=o.return}}var b=t.current;for(zt=b;zt!==null;){a=zt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,zt=w;else e:for(a=b;zt!==null;){if(s=zt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:nT(9,s)}}catch(x){ai(s,s.return,x)}if(s===a){zt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,zt=S;break e}zt=s.return}}if(nr=i,zd(),Uu&&typeof Uu.onPostCommitFiberRoot=="function")try{Uu.onPostCommitFiberRoot(KC,t)}catch{}r=!0}return r}finally{pr=n,il.transition=e}}return!1}function x5(t,e,n){e=Pg(n,e),e=nX(t,e,1),t=bd(t,e,1),e=la(),t!==null&&(aw(t,1,e),Ua(t,e))}function ai(t,e,n){if(t.tag===3)x5(t,t,n);else for(;e!==null;){if(e.tag===3){x5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wd===null||!wd.has(r))){t=Pg(n,t),t=rX(e,t,1),e=bd(e,t,1),t=la(),e!==null&&(aw(e,1,t),Ua(e,t));break}}e=e.return}}function Ace(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=la(),t.pingedLanes|=t.suspendedLanes&n,ro===t&&(po&n)===n&&(ki===4||ki===3&&(po&130023424)===po&&500>vi()-qB?fp(t,0):VB|=n),Ua(t,e)}function EX(t,e){e===0&&(t.mode&1?(e=K1,K1<<=1,!(K1&130023424)&&(K1=4194304)):e=1);var n=la();t=ef(t,e),t!==null&&(aw(t,e,n),Ua(t,n))}function Cce(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EX(t,n)}function Tce(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(e),EX(t,n)}var xX;xX=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fa.current)Na=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Na=!1,pce(t,e,n);Na=!!(t.flags&131072)}else Na=!1,Wr&&e.flags&1048576&&MK(e,pA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vx(t,e),t=e.pendingProps;var i=Mg(e,jo.current);ag(e,n),i=jB(null,e,r,t,i,n);var o=HB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ka(r)?(o=!0,dA(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NB(e),i.updater=tT,e.stateNode=i,i._reactInternals=e,wD(e,r,t,n),e=xD(null,e,r,!0,o,n)):(e.tag=0,Wr&&o&&MB(e),ra(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Oce(r),t=Hl(r,t),i){case 0:e=ED(null,e,r,t,n);break e;case 1:e=p5(null,e,r,t,n);break e;case 11:e=d5(null,e,r,t,n);break e;case 14:e=h5(null,e,r,Hl(r.type,t),n);break e}throw Error(ht(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hl(r,i),ED(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hl(r,i),p5(t,e,r,i,n);case 3:e:{if(sX(e),t===null)throw Error(ht(387));r=e.pendingProps,o=e.memoizedState,i=o.element,LK(t,e),gA(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pg(Error(ht(423)),e),e=m5(t,e,r,n,i);break e}else if(r!==i){i=Pg(Error(ht(424)),e),e=m5(t,e,r,n,i);break e}else for(ss=_d(e.stateNode.containerInfo.firstChild),us=e,Wr=!0,Vl=null,n=PK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Og(),r===i){e=tf(t,e,n);break e}ra(t,e,r,n)}e=e.child}return e;case 5:return NK(e),t===null&&yD(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,hD(r,i)?a=null:o!==null&&hD(r,o)&&(e.flags|=32),aX(t,e),ra(t,e,a,n),e.child;case 6:return t===null&&yD(e),null;case 13:return lX(t,e,n);case 4:return BB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ig(e,null,r,n):ra(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hl(r,i),d5(t,e,r,i,n);case 7:return ra(t,e,e.pendingProps,n),e.child;case 8:return ra(t,e,e.pendingProps.children,n),e.child;case 12:return ra(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Tr(mA,r._currentValue),r._currentValue=a,o!==null)if(iu(o.value,a)){if(o.children===i.children&&!Fa.current){e=tf(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Wc(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_D(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ht(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),_D(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ra(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ag(e,n),i=sl(i),r=r(i),e.flags|=1,ra(t,e,r,n),e.child;case 14:return r=e.type,i=Hl(r,e.pendingProps),i=Hl(r.type,i),h5(t,e,r,i,n);case 15:return iX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hl(r,i),vx(t,e),e.tag=1,ka(r)?(t=!0,dA(e)):t=!1,ag(e,n),tX(e,r,i),wD(e,r,i,n),xD(null,e,r,!0,t,n);case 19:return uX(t,e,n);case 22:return oX(t,e,n)}throw Error(ht(156,e.tag))};function AX(t,e){return Zq(t,e)}function Mce(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nl(t,e,n,r){return new Mce(t,e,n,r)}function YB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oce(t){if(typeof t=="function")return YB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vB)return 11;if(t===gB)return 14}return 2}function Ed(t,e){var n=t.alternate;return n===null?(n=nl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _x(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")YB(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ov:return dp(n.children,i,o,e);case mB:a=8,i|=8;break;case W2:return t=nl(12,n,e,i|2),t.elementType=W2,t.lanes=o,t;case V2:return t=nl(13,n,e,i),t.elementType=V2,t.lanes=o,t;case q2:return t=nl(19,n,e,i),t.elementType=q2,t.lanes=o,t;case Nq:return iT(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dq:a=10;break e;case Lq:a=9;break e;case vB:a=11;break e;case gB:a=14;break e;case $f:a=16,r=null;break e}throw Error(ht(130,t==null?t:typeof t,""))}return e=nl(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dp(t,e,n,r){return t=nl(7,t,r,e),t.lanes=n,t}function iT(t,e,n,r){return t=nl(22,t,r,e),t.elementType=Nq,t.lanes=n,t.stateNode={isHidden:!1},t}function BI(t,e,n){return t=nl(6,t,null,e),t.lanes=n,t}function FI(t,e,n){return e=nl(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ice(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gI(0),this.expirationTimes=gI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gI(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZB(t,e,n,r,i,o,a,s,u){return t=new Ice(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nl(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},NB(o),t}function Rce(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mv,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CX(t){if(!t)return Pd;t=t._reactInternals;e:{if(Xp(t)!==t||t.tag!==1)throw Error(ht(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ka(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ht(171))}if(t.tag===1){var n=t.type;if(ka(n))return CK(t,n,e)}return e}function TX(t,e,n,r,i,o,a,s,u){return t=ZB(n,r,!0,t,i,o,a,s,u),t.context=CX(null),n=t.current,r=la(),i=Sd(n),o=Wc(r,i),o.callback=e??null,bd(n,o,i),t.current.lanes=i,aw(t,i,r),Ua(t,r),t}function oT(t,e,n,r){var i=e.current,o=la(),a=Sd(i);return n=CX(n),e.context===null?e.context=n:e.pendingContext=n,e=Wc(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bd(i,e,a),t!==null&&(nu(t,i,a,o),hx(t,i,a)),a}function AA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function QB(t,e){A5(t,e),(t=t.alternate)&&A5(t,e)}function Pce(){return null}var MX=typeof reportError=="function"?reportError:function(t){console.error(t)};function eF(t){this._internalRoot=t}aT.prototype.render=eF.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ht(409));oT(t,e,null,null)};aT.prototype.unmount=eF.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Op(function(){oT(null,t,null,null)}),e[Qc]=null}};function aT(t){this._internalRoot=t}aT.prototype.unstable_scheduleHydration=function(t){if(t){var e=oK();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jf.length&&e!==0&&e<Jf[n].priority;n++);Jf.splice(n,0,t),n===0&&sK(t)}};function tF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C5(){}function Dce(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=AA(a);o.call(l)}}var a=TX(e,r,t,0,null,!1,!1,"",C5);return t._reactRootContainer=a,t[Qc]=a.current,sb(t.nodeType===8?t.parentNode:t),Op(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=AA(u);s.call(l)}}var u=ZB(t,0,!1,null,null,!1,!1,"",C5);return t._reactRootContainer=u,t[Qc]=u.current,sb(t.nodeType===8?t.parentNode:t),Op(function(){oT(e,u,n,r)}),u}function lT(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=AA(a);s.call(u)}}oT(e,a,t,i)}else a=Dce(n,e,t,i,r);return AA(a)}rK=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jy(e.pendingLanes);n!==0&&(bB(e,n|1),Ua(e,vi()),!(nr&6)&&(Dg=vi()+500,zd()))}break;case 13:Op(function(){var r=ef(t,1);if(r!==null){var i=la();nu(r,t,1,i)}}),QB(t,1)}};wB=function(t){if(t.tag===13){var e=ef(t,134217728);if(e!==null){var n=la();nu(e,t,134217728,n)}QB(t,134217728)}};iK=function(t){if(t.tag===13){var e=Sd(t),n=ef(t,e);if(n!==null){var r=la();nu(n,t,e,r)}QB(t,e)}};oK=function(){return pr};aK=function(t,e){var n=pr;try{return pr=t,e()}finally{pr=n}};rD=function(t,e,n){switch(e){case"input":if(J2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ZC(r);if(!i)throw Error(ht(90));Fq(r),J2(r,i)}}}break;case"textarea":Uq(t,n);break;case"select":e=n.value,e!=null&&ng(t,!!n.multiple,e,!1)}};Vq=KB;qq=Op;var Lce={usingClientEntryPoint:!1,Events:[lw,Dv,ZC,Gq,Wq,KB]},ly={findFiberByHostInstance:Zh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nce={bundleType:ly.bundleType,version:ly.version,rendererPackageName:ly.rendererPackageName,rendererConfig:ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jq(t),t===null?null:t.stateNode},findFiberByHostInstance:ly.findFiberByHostInstance||Pce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oS.isDisabled&&oS.supportsFiber)try{KC=oS.inject(Nce),Uu=oS}catch{}}vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lce;vs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tF(e))throw Error(ht(200));return Rce(t,e,null,n)};vs.createRoot=function(t,e){if(!tF(t))throw Error(ht(299));var n=!1,r="",i=MX;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZB(t,1,!1,null,null,n,!1,r,i),t[Qc]=e.current,sb(t.nodeType===8?t.parentNode:t),new eF(e)};vs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ht(188)):(t=Object.keys(t).join(","),Error(ht(268,t)));return t=Jq(e),t=t===null?null:t.stateNode,t};vs.flushSync=function(t){return Op(t)};vs.hydrate=function(t,e,n){if(!sT(e))throw Error(ht(200));return lT(null,t,e,!0,n)};vs.hydrateRoot=function(t,e,n){if(!tF(t))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=MX;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=TX(e,null,t,1,n??null,i,!1,o,a),t[Qc]=e.current,sb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new aT(e)};vs.render=function(t,e,n){if(!sT(e))throw Error(ht(200));return lT(null,t,e,!1,n)};vs.unmountComponentAtNode=function(t){if(!sT(t))throw Error(ht(40));return t._reactRootContainer?(Op(function(){lT(null,null,t,!1,function(){t._reactRootContainer=null,t[Qc]=null})}),!0):!1};vs.unstable_batchedUpdates=KB;vs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sT(n))throw Error(ht(200));if(t==null||t._reactInternals===void 0)throw Error(ht(38));return lT(t,e,n,!1,r)};vs.version="18.3.1-next-f1338f8080-20240426";function OX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OX)}catch(t){console.error(t)}}OX(),Oq.exports=vs;var cw=Oq.exports;const Zy=au(cw),Bce=ule({__proto__:null,default:Zy},[cw]);var T5=cw;z2.createRoot=T5.createRoot,z2.hydrateRoot=T5.hydrateRoot;let Fce={data:""},kce=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Fce},Uce=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jce=/\/\*[^]*?\*\/|  +/g,M5=/\n+/g,Zf=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Zf(a,o):o+"{"+Zf(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=Zf(a,e?e.replace(/([^,])+/g,s=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,s):s?s+" "+u:u)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Zf.p?Zf.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},hc={},IX=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+IX(t[n]);return e}return t},Hce=(t,e,n,r,i)=>{let o=IX(t),a=hc[o]||(hc[o]=(u=>{let l=0,c=11;for(;l<u.length;)c=101*c+u.charCodeAt(l++)>>>0;return"go"+c})(o));if(!hc[a]){let u=o!==t?t:(l=>{let c,f,d=[{}];for(;c=Uce.exec(l.replace(jce,""));)c[4]?d.shift():c[3]?(f=c[3].replace(M5," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][c[1]]=c[2].replace(M5," ").trim();return d[0]})(t);hc[a]=Zf(i?{["@keyframes "+a]:u}:u,n?"":"."+a)}let s=n&&hc.g?hc.g:null;return n&&(hc.g=hc[a]),((u,l,c,f)=>{f?l.data=l.data.replace(f,u):l.data.indexOf(u)===-1&&(l.data=c?u+l.data:l.data+u)})(hc[a],e,r,s),a},$ce=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let s=a(n),u=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=u?"."+u:s&&typeof s=="object"?s.props?"":Zf(s,""):s===!1?"":s}return r+i+(a??"")},"");function uT(t){let e=this||{},n=t.call?t(e.p):t;return Hce(n.unshift?n.raw?$ce(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,kce(e.target),e.g,e.o,e.k)}let RX,BD,FD;uT.bind({g:1});let nf=uT.bind({k:1});function zce(t,e,n,r){Zf.p=e,RX=t,BD=n,FD=r}function Gd(t,e){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),u=s.className||i.className;n.p=Object.assign({theme:BD&&BD()},s),n.o=/ *go\d+/.test(u),s.className=uT.apply(n,r)+(u?" "+u:"");let l=t;return t[0]&&(l=s.as||t,delete s.as),FD&&l[0]&&FD(s),RX(l,s)}return i}}var Gce=t=>typeof t=="function",CA=(t,e)=>Gce(t)?t(e):t,Wce=(()=>{let t=0;return()=>(++t).toString()})(),PX=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Vce=20,nF="default",DX=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return DX(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},bx=[],LX={toasts:[],pausedAt:void 0,settings:{toastLimit:Vce}},Lu={},NX=(t,e=nF)=>{Lu[e]=DX(Lu[e]||LX,t),bx.forEach(([n,r])=>{n===e&&r(Lu[e])})},BX=t=>Object.keys(Lu).forEach(e=>NX(t,e)),qce=t=>Object.keys(Lu).find(e=>Lu[e].toasts.some(n=>n.id===t)),cT=(t=nF)=>e=>{NX(e,t)},Kce={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xce=(t={},e=nF)=>{let[n,r]=D.useState(Lu[e]||LX),i=D.useRef(Lu[e]);D.useEffect(()=>(i.current!==Lu[e]&&r(Lu[e]),bx.push([e,r]),()=>{let a=bx.findIndex(([s])=>s===e);a>-1&&bx.splice(a,1)}),[e]);let o=n.toasts.map(a=>{var s,u,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((u=t[a.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||Kce[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...n,toasts:o}},Jce=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Wce()}),fw=t=>(e,n)=>{let r=Jce(e,t,n);return cT(r.toasterId||qce(r.id))({type:2,toast:r}),r.id},Fi=(t,e)=>fw("blank")(t,e);Fi.error=fw("error");Fi.success=fw("success");Fi.loading=fw("loading");Fi.custom=fw("custom");Fi.dismiss=(t,e)=>{let n={type:3,toastId:t};e?cT(e)(n):BX(n)};Fi.dismissAll=t=>Fi.dismiss(void 0,t);Fi.remove=(t,e)=>{let n={type:4,toastId:t};e?cT(e)(n):BX(n)};Fi.removeAll=t=>Fi.remove(void 0,t);Fi.promise=(t,e,n)=>{let r=Fi.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?CA(e.success,i):void 0;return o?Fi.success(o,{id:r,...n,...n==null?void 0:n.success}):Fi.dismiss(r),i}).catch(i=>{let o=e.error?CA(e.error,i):void 0;o?Fi.error(o,{id:r,...n,...n==null?void 0:n.error}):Fi.dismiss(r)}),t};var Yce=1e3,Zce=(t,e="default")=>{let{toasts:n,pausedAt:r}=Xce(t,e),i=D.useRef(new Map).current,o=D.useCallback((f,d=Yce)=>{if(i.has(f))return;let h=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},d);i.set(f,h)},[]);D.useEffect(()=>{if(r)return;let f=Date.now(),d=n.map(h=>{if(h.duration===1/0)return;let p=(h.duration||0)+h.pauseDuration-(f-h.createdAt);if(p<0){h.visible&&Fi.dismiss(h.id);return}return setTimeout(()=>Fi.dismiss(h.id,e),p)});return()=>{d.forEach(h=>h&&clearTimeout(h))}},[n,r,e]);let a=D.useCallback(cT(e),[e]),s=D.useCallback(()=>{a({type:5,time:Date.now()})},[a]),u=D.useCallback((f,d)=>{a({type:1,toast:{id:f,height:d}})},[a]),l=D.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),c=D.useCallback((f,d)=>{let{reverseOrder:h=!1,gutter:p=8,defaultPosition:_}=d||{},y=n.filter(w=>(w.position||_)===(f.position||_)&&w.height),m=y.findIndex(w=>w.id===f.id),b=y.filter((w,S)=>S<m&&w.visible).length;return y.filter(w=>w.visible).slice(...h?[b+1]:[0,b]).reduce((w,S)=>w+(S.height||0)+p,0)},[n]);return D.useEffect(()=>{n.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let d=i.get(f.id);d&&(clearTimeout(d),i.delete(f.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:u,startPause:s,endPause:l,calculateOffset:c}}},Qce=nf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,efe=nf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tfe=nf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nfe=Gd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${efe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tfe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rfe=nf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ife=Gd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rfe} 1s linear infinite;
`,ofe=nf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,afe=nf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sfe=Gd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ofe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${afe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,lfe=Gd("div")`
  position: absolute;
`,ufe=Gd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cfe=nf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ffe=Gd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cfe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dfe=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?D.createElement(ffe,null,e):e:n==="blank"?null:D.createElement(ufe,null,D.createElement(ife,{...r}),n!=="loading"&&D.createElement(lfe,null,n==="error"?D.createElement(nfe,{...r}):D.createElement(sfe,{...r})))},hfe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pfe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mfe="0%{opacity:0;} 100%{opacity:1;}",vfe="0%{opacity:1;} 100%{opacity:0;}",gfe=Gd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yfe=Gd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_fe=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=PX()?[mfe,vfe]:[hfe(n),pfe(n)];return{animation:e?`${nf(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nf(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bfe=D.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?_fe(t.position||e||"top-center",t.visible):{opacity:0},o=D.createElement(dfe,{toast:t}),a=D.createElement(yfe,{...t.ariaProps},CA(t.message,t));return D.createElement(gfe,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:a}):D.createElement(D.Fragment,null,o,a))});zce(D.createElement);var wfe=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=D.useCallback(a=>{if(a){let s=()=>{let u=a.getBoundingClientRect().height;r(t,u)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return D.createElement("div",{ref:o,className:e,style:n},i)},Sfe=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PX()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Efe=uT`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,aS=16,xfe=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:a,containerClassName:s})=>{let{toasts:u,handlers:l}=Zce(n,o);return D.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:aS,left:aS,right:aS,bottom:aS,pointerEvents:"none",...a},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map(c=>{let f=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=Sfe(f,d);return D.createElement(wfe,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Efe:"",style:h},c.type==="custom"?CA(c.message,c):i?i(c):D.createElement(bfe,{toast:c,position:f}))}))},cr=Fi;const Afe={},O5=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,h))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Afe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=e=t(r,i,u);return u},Cfe=t=>t?O5(t):O5;var FX={exports:{}},kX={},UX={exports:{}},jX={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=D;function Tfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mfe=typeof Object.is=="function"?Object.is:Tfe,Ofe=Lg.useState,Ife=Lg.useEffect,Rfe=Lg.useLayoutEffect,Pfe=Lg.useDebugValue;function Dfe(t,e){var n=e(),r=Ofe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Rfe(function(){i.value=n,i.getSnapshot=e,kI(i)&&o({inst:i})},[t,n,e]),Ife(function(){return kI(i)&&o({inst:i}),t(function(){kI(i)&&o({inst:i})})},[t]),Pfe(n),n}function kI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mfe(t,n)}catch{return!0}}function Lfe(t,e){return e()}var Nfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lfe:Dfe;jX.useSyncExternalStore=Lg.useSyncExternalStore!==void 0?Lg.useSyncExternalStore:Nfe;UX.exports=jX;var Bfe=UX.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT=D,Ffe=Bfe;function kfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ufe=typeof Object.is=="function"?Object.is:kfe,jfe=Ffe.useSyncExternalStore,Hfe=fT.useRef,$fe=fT.useEffect,zfe=fT.useMemo,Gfe=fT.useDebugValue;kX.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Hfe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=zfe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,Ufe(c,h))return p;var _=r(h);return i!==void 0&&i(p,_)?(c=h,p):(c=h,f=_)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,i]);var s=jfe(t,o[0],o[1]);return $fe(function(){a.hasValue=!0,a.value=s},[s]),Gfe(s),s};FX.exports=kX;var Wfe=FX.exports;const Vfe=au(Wfe),HX={},{useDebugValue:qfe}=Q,{useSyncExternalStoreWithSelector:Kfe}=Vfe;let I5=!1;const Xfe=t=>t;function Jfe(t,e=Xfe,n){(HX?"production":void 0)!=="production"&&n&&!I5&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),I5=!0);const r=Kfe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return qfe(r),r}const R5=t=>{(HX?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Cfe(t):t,n=(r,i)=>Jfe(e,r,i);return Object.assign(n,e),n},$X=t=>t?R5(t):R5,P5={models:[],selectedImageModel:null,selected3DModel:null,isLoadingModels:!1,prompt:"",negativePrompt:"",resolution:"1024x1024",imageCount:4,outputFormat:"GLB",modelQuality:"high",generatedImages:[],selectedImageId:null,current3DModel:null,imageProgress:null,model3DProgress:null,history:[],isGeneratingImage:!1,isGenerating3D:!1,isPaymentModalOpen:!1,selectedPayMethod:"wechat"},Jp=$X(t=>({...P5,setModels:e=>t({models:e}),setSelectedImageModel:e=>t({selectedImageModel:e}),setSelected3DModel:e=>t({selected3DModel:e}),setIsLoadingModels:e=>t({isLoadingModels:e}),setPrompt:e=>t({prompt:e}),setNegativePrompt:e=>t({negativePrompt:e}),setResolution:e=>t({resolution:e}),setImageCount:e=>t({imageCount:e}),setOutputFormat:e=>t({outputFormat:e}),setModelQuality:e=>t({modelQuality:e}),setGeneratedImages:e=>t({generatedImages:e}),addGeneratedImage:e=>t(n=>({generatedImages:[...n.generatedImages,e]})),setSelectedImageId:e=>t({selectedImageId:e}),setCurrent3DModel:e=>t({current3DModel:e}),setImageProgress:e=>t({imageProgress:e}),setModel3DProgress:e=>t({model3DProgress:e}),setHistory:e=>t({history:e}),addHistoryItem:e=>t(n=>({history:[e,...n.history]})),setIsGeneratingImage:e=>t({isGeneratingImage:e}),setIsGenerating3D:e=>t({isGenerating3D:e}),setIsPaymentModalOpen:e=>t({isPaymentModalOpen:e}),setSelectedPayMethod:e=>t({selectedPayMethod:e}),reset:()=>t(P5)}));var zX="@cloudbase/js-sdk";function Yfe(t){zX=t}function dT(){return zX}var GX="https:";function Zfe(t){GX=t}function Qfe(){return GX}var hT="https://support.qq.com/products/148793",sa={INVALID_PARAMS:"INVALID_PARAMS",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL"},vb;(function(t){t.local="local",t.none="none",t.session="session"})(vb||(vb={}));var rF=function(){function t(){}return t}(),WX=function(){function t(){}return t}();function Qy(t,e,n){n===void 0&&(n={});var r=/\?/.test(e),i="";for(var o in n)i===""?!r&&(e+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return e+=i,/^http(s)?\:\/\//.test(e)?e:""+t+e}const ede=Object.freeze(Object.defineProperty({__proto__:null,AbstractSDKRequest:rF,AbstractStorage:WX,get StorageType(){return vb},formatUrl:Qy},Symbol.toStringTag,{value:"Module"}));var tde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function VX(t){return Object.prototype.toString.call(t)==="[object Array]"}function qX(t){return typeof t=="string"}function nde(t){return Object.prototype.toString.call(t)==="[object Object]"}function rde(t,e){return t instanceof e}function KX(t){return Object.prototype.toString.call(t)==="[object FormData]"}function ide(){return Math.random().toString(16).slice(2)}function XX(){var t=new Date().getTime(),e=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=Math.random()*16;return t>0?(r=(t+r)%16|0,t=Math.floor(t/16)):(r=(e+r)%16|0,e=Math.floor(e/16)),(n==="x"?r:r&7|8).toString(16)})}function JX(t,e,n){n===void 0&&(n={});var r=/\?/.test(e),i="";return Object.keys(n).forEach(function(o){i===""?!r&&(e+="?"):i+="&",i+="".concat(o,"=").concat(encodeURIComponent(n[o]))}),e+=i,/^http(s)?:\/\//.test(e)?e:"".concat(t).concat(e)}function ode(t){t===void 0&&(t={});var e=[];return Object.keys(t).forEach(function(n){e.push("".concat(n,"=").concat(encodeURIComponent(t[n])))}),e.join("&")}function UI(t,e){if(typeof window>"u")return!1;var n=decodeURIComponent(window.location.search),r=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)")),i=n.substr(n.indexOf("?")+1).match(r);return i!=null?i[2]:""}function YX(t,e,n){if(n===void 0&&(n=null),t&&typeof t=="function")return t(e,n);if(e)throw e;return n}function lg(t,e){console.warn("[".concat(dT(),"][").concat(t,"]:").concat(e))}var ade=function(t){t=t.replace(/^\?/,"");var e={},n=t.split("&");return n.forEach(function(r){var i=r.split("="),o=i[0],a=i[1];o=decodeURIComponent(o),a=decodeURIComponent(a),o&&(e[o]?Array.isArray(e[o])?e[o].push(a):e[o]=[e[o],a]:e[o]=a)}),e};function sde(t){var e={},n=t.match(/^(data:.*?)(\?[^#\s]*)?$/);if(n){t=n[1];var r=n[2];r&&(e=ade(r))}var i=e.token,o=tde(e,["token"]);return/^data:/.test(t)&&!i?{error:"invalid_argument",error_description:"invalid captcha data: ".concat(t)}:i?{state:o.state,token:i,captchaData:t}:{error:"unimplemented",error_description:"need to impl captcha data"}}var lde=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Po=function(){return Po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Po.apply(this,arguments)},jI=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},HI=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ude=function(t){lde(e,t);function e(n){var r=t.call(this)||this,i=n.timeout,o=n.timeoutMsg,a=n.restrictedMethods;return r.timeout=i||0,r.timeoutMsg=o||"",r.restrictedMethods=a||["get","post","upload","download"],r}return e.prototype.get=function(n){return this.request(Po(Po({},n),{method:"get"}),this.restrictedMethods.includes("get"))},e.prototype.post=function(n){return this.request(Po(Po({},n),{method:"post"}),this.restrictedMethods.includes("post"))},e.prototype.put=function(n){return this.request(Po(Po({},n),{method:"put"}))},e.prototype.upload=function(n){var r=n.data,i=n.file,o=n.name,a=n.method,s=n.headers,u=s===void 0?{}:s,l={post:"post",put:"put"}[a==null?void 0:a.toLowerCase()]||"put",c=new FormData;return l==="post"?(Object.keys(r).forEach(function(f){c.append(f,r[f])}),c.append("key",o),c.append("file",i),this.request(Po(Po({},n),{data:c,method:l}),this.restrictedMethods.includes("upload"))):this.request(Po(Po({},n),{method:"put",headers:u,body:i}),this.restrictedMethods.includes("upload"))},e.prototype.download=function(n){return jI(this,void 0,void 0,function(){var r,i,o,a;return HI(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(Po(Po({},n),{headers:{},responseType:"blob"}))];case 1:return r=s.sent().data,i=window.URL.createObjectURL(new Blob([r])),o=decodeURIComponent(new URL(n.url).pathname.split("/").pop()||""),a=document.createElement("a"),a.href=i,a.setAttribute("download",o),a.style.display="none",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(i),document.body.removeChild(a),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise(function(u){u({statusCode:200,tempFilePath:n.url})})]}})})},e.prototype.fetch=function(n){var r;return jI(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,d,h,p,_,y,m=this;return HI(this,function(b){switch(b.label){case 0:return i=new AbortController,o=n.url,a=n.enableAbort,s=a===void 0?!1:a,u=n.stream,l=u===void 0?!1:u,c=n.signal,f=n.timeout,d=n.shouldThrowOnError,h=d===void 0?!0:d,p=f??this.timeout,c&&(c.aborted&&i.abort(),c.addEventListener("abort",function(){return i.abort()})),_=null,s&&p&&(_=setTimeout(function(){console.warn(m.timeoutMsg),i.abort(new Error(m.timeoutMsg))},p)),[4,fetch(o,Po(Po({},n),{signal:i.signal})).then(function(w){return jI(m,void 0,void 0,function(){var S,x,E;return HI(this,function(M){switch(M.label){case 0:return clearTimeout(_),h?w.ok?(S=w,[3,3]):[3,1]:[3,4];case 1:return E=(x=Promise).reject,[4,w.json()];case 2:S=E.apply(x,[M.sent()]),M.label=3;case 3:return[2,S];case 4:return[2,w]}})})}).catch(function(w){if(clearTimeout(_),h)return Promise.reject(w)})];case 1:return y=b.sent(),[2,{data:l?y.body:!((r=y.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?y.json():y.text(),statusCode:y.status,header:y.headers}]}})})},e.prototype.request=function(n,r){var i=this;r===void 0&&(r=!1);var o=String(n.method).toLowerCase()||"get";return new Promise(function(a){var s=n.url,u=n.headers,l=u===void 0?{}:u,c=n.data,f=n.responseType,d=n.withCredentials,h=n.body,p=n.onUploadProgress,_=JX(Qfe(),s,o==="get"?c:{}),y=new XMLHttpRequest;y.open(o,_),f&&(y.responseType=f),Object.keys(l).forEach(function(w){y.setRequestHeader(w,l[w])});var m;p&&y.upload.addEventListener("progress",p),y.onreadystatechange=function(){var w={};if(y.readyState===4){var S=y.getAllResponseHeaders(),x=S.trim().split(/[\r\n]+/),E={};x.forEach(function(M){var O=M.split(": "),C=O.shift().toLowerCase(),T=O.join(": ");E[C]=T}),w.header=E,w.statusCode=y.status;try{w.data=f==="blob"?y.response:JSON.parse(y.responseText)}catch{w.data=f==="blob"?y.response:y.responseText}clearTimeout(m),a(w)}},r&&i.timeout&&(m=setTimeout(function(){console.warn(i.timeoutMsg),y.abort()},i.timeout));var b;KX(c)?b=c:l["content-type"]==="application/x-www-form-urlencoded"?b=ode(c):h?b=h:b=c?JSON.stringify(c):void 0,d&&(y.withCredentials=!0),y.send(b)})},e}(rF);function cde(){var t={type:"default",root:window,reqClass:ude,wsClass:WebSocket,localStorage};return t}var TA=function(){return TA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TA.apply(this,arguments)},kD;(function(t){t.WEB="web",t.WX_MP="wx_mp"})(kD||(kD={}));function fde(t,e){for(var n=VX(t)?t:[t],r=0,i=n;r<i.length;r++){var o=i[r],a=o.isMatch,s=o.genAdapter,u=o.runtime;if(a())return{adapter:TA({isMatch:a},s(e)),runtime:u}}}function dde(){return{adapter:TA({},cde()),runtime:kD.WEB}}var sS={},hde=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$I=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,[])).next())})},zI=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},GI=function(t){hde(e,t);function e(n){var r=t.call(this)||this;return r.root=n,n.tcbCacheObject||(n.tcbCacheObject={}),r}return e.prototype.setItem=function(n,r){this.root.tcbCacheObject[n]=r},e.prototype.getItem=function(n){return this.root.tcbCacheObject[n]},e.prototype.removeItem=function(n){delete this.root.tcbCacheObject[n]},e.prototype.clear=function(){delete this.root.tcbCacheObject},e}(WX);function pde(t,e){switch(t){case"local":return e.localStorage?e.localStorage:(lg(sa.INVALID_PARAMS,"localStorage is not supported on current platform"),new GI(e.root));case"none":return new GI(e.root);default:return e.localStorage?e.localStorage:(lg(sa.INVALID_PARAMS,"localStorage is not supported on current platform"),new GI(e.root))}}var mde=function(){function t(e){this.keys={};var n=e.persistence,r=e.platformInfo,i=r===void 0?{}:r,o=e.keys,a=o===void 0?{}:o;this.platformInfo=i,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||n,this.storage=pde(this.persistenceTag,this.platformInfo.adapter),this.keys=a)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),t.prototype.setStore=function(e,n,r){if(this.mode==="async"){lg(sa.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var i={version:r||"localCachev1",content:n};this.storage.setItem(e,JSON.stringify(i))}catch(o){throw new Error(JSON.stringify({code:sa.OPERATION_FAIL,msg:"[".concat(dT(),"][").concat(sa.OPERATION_FAIL,"]setStore failed"),info:o}))}},t.prototype.setStoreAsync=function(e,n,r){return $I(this,void 0,void 0,function(){var i;return zI(this,function(o){switch(o.label){case 0:if(!this.storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),i={version:r||"localCachev1",content:n},[4,this.storage.setItem(e,JSON.stringify(i))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}})})},t.prototype.getStore=function(e,n){var r;if(this.mode==="async"){lg(sa.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((r=sS)===null||r===void 0)&&r.tcb_token))return sS.tcb_token;if(!this.storage)return""}catch{return""}n=n||"localCachev1";var i=this.storage.getItem(e);if(!i)return"";if(i.indexOf(n)>=0){var o=JSON.parse(i);return o.content}return""},t.prototype.getStoreAsync=function(e,n){var r;return $I(this,void 0,void 0,function(){var i,o;return zI(this,function(a){switch(a.label){case 0:try{if(typeof process<"u"&&(!((r=sS)===null||r===void 0)&&r.tcb_token))return[2,sS.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return n=n||"localCachev1",[4,this.storage.getItem(e)];case 1:return i=a.sent(),i?i.indexOf(n)>=0?(o=JSON.parse(i),[2,o.content]):[2,""]:[2,""]}})})},t.prototype.removeStore=function(e){if(this.mode==="async"){lg(sa.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(e)},t.prototype.removeStoreAsync=function(e){return $I(this,void 0,void 0,function(){return zI(this,function(n){switch(n.label){case 0:return[4,this.storage.removeItem(e)];case 1:return n.sent(),[2]}})})},t}(),vde=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gde=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function yde(t,e,n){n[t]=n[t]||[],n[t].push(e)}function _de(t,e,n){if(n!=null&&n[t]){var r=n[t].indexOf(e);r!==-1&&n[t].splice(r,1)}}var ZX=function(){function t(e,n){this.data=n||null,this.name=e}return t}(),bde=function(t){vde(e,t);function e(n,r){var i=t.call(this,"error",{error:n,data:r})||this;return i.error=n,i}return e}(ZX),QX=function(){function t(){this.listeners={}}return t.prototype.on=function(e,n){return yde(e,n,this.listeners),this},t.prototype.off=function(e,n){return _de(e,n,this.listeners),this},t.prototype.fire=function(e,n){if(rde(e,bde))return console.error(e.error),this;var r=qX(e)?new ZX(e,n||{}):e,i=r.name;if(this.listens(i)){r.target=this;for(var o=this.listeners[i]?gde([],this.listeners[i],!0):[],a=0,s=o;a<s.length;a++){var u=s[a];u.call(this,r)}}return this},t.prototype.listens=function(e){return this.listeners[e]&&this.listeners[e].length>0},t}(),pT=new QX,mT="lang_change";typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox");function vT(t){return t.mode,t.customInfo,t.title,t.messages,function(e,n,r){}}function UD(t){this.message=t}UD.prototype=new Error,UD.prototype.name="InvalidCharacterError";typeof window<"u"&&window.atob&&window.atob.bind(window);function D5(t){this.message=t}D5.prototype=new Error,D5.prototype.name="InvalidTokenError";var MA=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},OA=sa,L5={};function wde(t,e){var n=e.name,r=e.namespace,i=e.entity,o=e.injectEvents,a=e.IIFE,s=a===void 0?!1:a;if(L5[n]||r&&t[r])throw new Error(JSON.stringify({code:OA.INVALID_OPERATION,msg:"Duplicate component ".concat(n)}));if(s){if(!i||typeof i!="function")throw new Error(JSON.stringify({code:OA.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));i.call(t)}if(L5[n]=e,r?t.prototype[r]=i:eJ(t.prototype,i),o){var u=o.bus,l=o.events;if(!u||!l||l.length===0)return;var c=t.prototype.fire||function(){};t.prototype.events||(t.prototype.events={});var f=t.prototype.events||{};f[n]?t.prototype.events[n].events=MA(MA([],t.prototype.events[n].events,!0),l,!0):t.prototype.events[n]={bus:u,events:l},t.prototype.fire=function(d,h){c(d,h);for(var p=Object.keys(this.events),_=0,y=p;_<y.length;_++){var m=y[_],b=this.events[m],w=b.bus,S=b.events;if(S.includes(d)){w.fire(d,h);break}}}}}function eJ(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:{var n=e;return new Date(n.getTime())}case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r=Object.keys(e),i=0,o=r;i<o.length;i++){var a=o[i];Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=eJ(t[a],e[a]))}return t}function Sde(t,e){var n=e.entity,r=e.target;if(Object.prototype.hasOwnProperty.call(t,r))throw new Error(JSON.stringify({code:OA.INVALID_OPERATION,msg:"target:".concat(r," is not exist")}));var i=t.prototype[r];if(typeof i!="function")throw new Error(JSON.stringify({code:OA.INVALID_OPERATION,msg:"target:".concat(r," is not a function which is the only type supports hook")}));t.prototype[r]=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.call.apply(n,MA([this],o,!1)),i.call.apply(i,MA([this],o,!1))}}/**
 * @license
 * web-streams-polyfill v4.2.0
 * Copyright 2025 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function gb(){}function Ui(t){return typeof t=="object"&&t!==null||typeof t=="function"}const tJ=gb;function Yn(t,e){try{Object.defineProperty(t,"name",{value:e,configurable:!0})}catch{}}const iF=Promise,Ede=Promise.resolve.bind(iF),xde=Promise.prototype.then,Ade=Promise.reject.bind(iF),Cde=Ede;function Ri(t){return new iF(t)}function Zn(t){return Ri(e=>e(t))}function en(t){return Ade(t)}function Nu(t,e,n){return xde.call(t,e,n)}function ja(t,e,n){Nu(Nu(t,e,n),void 0,tJ)}function WI(t,e){ja(t,e)}function jD(t,e){ja(t,void 0,e)}function Vc(t,e,n){return Nu(t,e,n)}function v0(t){Nu(t,void 0,tJ)}let hp=t=>{if(typeof queueMicrotask=="function")hp=queueMicrotask;else{const e=Zn(void 0);hp=n=>Nu(e,n)}return hp(t)};function Ip(t,e,n){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,n)}function uf(t,e,n){try{return Zn(Ip(t,e,n))}catch(r){return en(r)}}let ml=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const n=this._back;let r=n;n._elements.length===16383&&(r={_elements:[],_next:void 0}),n._elements.push(e),r!==n&&(this._back=r,n._next=r),++this._size}shift(){const e=this._front;let n=e;const r=this._cursor;let i=r+1;const o=e._elements,a=o[r];return i===16384&&(n=e._next,i=0),--this._size,this._cursor=i,e!==n&&(this._front=n),o[r]=void 0,a}forEach(e){let n=this._cursor,r=this._front,i=r._elements;for(;!(n===i.length&&r._next===void 0||n===i.length&&(r=r._next,i=r._elements,n=0,i.length===0));)e(i[n]),++n}peek(){const e=this._front,n=this._cursor;return e._elements[n]}};const nJ=Symbol("[[AbortSteps]]"),rJ=Symbol("[[ErrorSteps]]"),oF=Symbol("[[CancelSteps]]"),aF=Symbol("[[PullSteps]]"),sF=Symbol("[[ReleaseSteps]]");function iJ(t,e){t._ownerReadableStream=e,e._reader=t,e._state==="readable"?HD(t):e._state==="closed"?function(n){HD(n),aJ(n)}(t):oJ(t,e._storedError)}function lF(t,e){return ql(t._ownerReadableStream,e)}function kc(t){const e=t._ownerReadableStream;e._state==="readable"?uF(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(n,r){oJ(n,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._readableStreamController[sF](),e._reader=void 0,t._ownerReadableStream=void 0}function IA(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function HD(t){t._closedPromise=Ri((e,n)=>{t._closedPromise_resolve=e,t._closedPromise_reject=n})}function oJ(t,e){HD(t),uF(t,e)}function uF(t,e){t._closedPromise_reject!==void 0&&(v0(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function aJ(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const N5=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Tde=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function Uc(t,e){if(t!==void 0&&typeof(n=t)!="object"&&typeof n!="function")throw new TypeError(`${e} is not an object.`);var n}function vl(t,e){if(typeof t!="function")throw new TypeError(`${e} is not a function.`)}function sJ(t,e){if(!function(n){return typeof n=="object"&&n!==null||typeof n=="function"}(t))throw new TypeError(`${e} is not an object.`)}function Rp(t,e,n){if(t===void 0)throw new TypeError(`Parameter ${e} is required in '${n}'.`)}function B5(t,e,n){if(t===void 0)throw new TypeError(`${e} is required in '${n}'.`)}function lJ(t){return Number(t)}function F5(t){return t===0?0:t}function cF(t,e){const n=Number.MAX_SAFE_INTEGER;let r=Number(t);if(r=F5(r),!N5(r))throw new TypeError(`${e} is not a finite number`);if(r=function(i){return F5(Tde(i))}(r),r<0||r>n)throw new TypeError(`${e} is outside the accepted range of 0 to ${n}, inclusive`);return N5(r)&&r!==0?r:0}function fF(t,e){if(!Hf(t))throw new TypeError(`${e} is not a ReadableStream.`)}function ug(t){return new $h(t)}function uJ(t,e){t._reader._readRequests.push(e)}function dF(t,e,n){const r=t._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(e)}function gT(t){return t._reader._readRequests.length}function cJ(t){const e=t._reader;return e!==void 0&&!!ad(e)}class $h{constructor(e){if(Rp(e,1,"ReadableStreamDefaultReader"),fF(e,"First parameter"),sd(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");iJ(this,e),this._readRequests=new ml}get closed(){return ad(this)?this._closedPromise:en(lS("closed"))}cancel(e=void 0){return ad(this)?this._ownerReadableStream===void 0?en(IA("cancel")):lF(this,e):en(lS("cancel"))}read(){if(!ad(this))return en(lS("read"));if(this._ownerReadableStream===void 0)return en(IA("read from"));let e,n;const r=Ri((i,o)=>{e=i,n=o});return yb(this,{_chunkSteps:i=>e({value:i,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:i=>n(i)}),r}releaseLock(){if(!ad(this))throw lS("releaseLock");this._ownerReadableStream!==void 0&&function(e){kc(e);const n=new TypeError("Reader was released");fJ(e,n)}(this)}}function ad(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof $h}function yb(t,e){const n=t._ownerReadableStream;n._disturbed=!0,n._state==="closed"?e._closeSteps():n._state==="errored"?e._errorSteps(n._storedError):n._readableStreamController[aF](e)}function fJ(t,e){const n=t._readRequests;t._readRequests=new ml,n.forEach(r=>{r._errorSteps(e)})}function lS(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}var VI,qI,KI;function e_(t){return t.slice()}function dJ(t,e,n,r,i){new Uint8Array(t).set(new Uint8Array(n,r,i),e)}Object.defineProperties($h.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Yn($h.prototype.cancel,"cancel"),Yn($h.prototype.read,"read"),Yn($h.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty($h.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let Pp=t=>(Pp=typeof t.transfer=="function"?e=>e.transfer():typeof structuredClone=="function"?e=>structuredClone(e,{transfer:[e]}):e=>e,Pp(t)),Dp=t=>(Dp=typeof t.detached=="boolean"?e=>e.detached:e=>e.byteLength===0,Dp(t));function hJ(t,e,n){if(t.slice)return t.slice(e,n);const r=n-e,i=new ArrayBuffer(r);return dJ(i,0,t,e,r),i}function t_(t,e){const n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(`${String(e)} is not a function`);return n}}function k5(t){try{const e=t.done,n=t.value;return Nu(Cde(n),r=>({done:e,value:r}))}catch(e){return en(e)}}const dw=(KI=(VI=Symbol.asyncIterator)!==null&&VI!==void 0?VI:(qI=Symbol.for)===null||qI===void 0?void 0:qI.call(Symbol,"Symbol.asyncIterator"))!==null&&KI!==void 0?KI:"@@asyncIterator";function pJ(t,e="sync",n){if(n===void 0)if(e==="async"){if((n=t_(t,dw))===void 0)return function(i){const o={next(){let a;try{a=mJ(i)}catch(s){return en(s)}return k5(a)},return(a){let s;try{const u=t_(i.iterator,"return");if(u===void 0)return Zn({done:!0,value:a});s=Ip(u,i.iterator,[a])}catch(u){return en(u)}return Ui(s)?k5(s):en(new TypeError("The iterator.return() method must return an object"))}};return{iterator:o,nextMethod:o.next,done:!1}}(pJ(t,"sync",t_(t,Symbol.iterator)))}else n=t_(t,Symbol.iterator);if(n===void 0)throw new TypeError("The object is not iterable");const r=Ip(n,t,[]);if(!Ui(r))throw new TypeError("The iterator method must return an object");return{iterator:r,nextMethod:r.next,done:!1}}function mJ(t){const e=Ip(t.nextMethod,t.iterator,[]);if(!Ui(e))throw new TypeError("The iterator.next() method must return an object");return e}class vJ{constructor(e,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=n}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Vc(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const n=()=>this._returnSteps(e);return this._ongoingPromise=this._ongoingPromise?Vc(this._ongoingPromise,n,n):n(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let n,r;const i=Ri((o,a)=>{n=o,r=a});return yb(e,{_chunkSteps:o=>{this._ongoingPromise=void 0,hp(()=>n({value:o,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,kc(e),n({value:void 0,done:!0})},_errorSteps:o=>{this._ongoingPromise=void 0,this._isFinished=!0,kc(e),r(o)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const n=this._reader;if(!this._preventCancel){const r=lF(n,e);return kc(n),Vc(r,()=>({value:e,done:!0}))}return kc(n),Zn({value:e,done:!0})}}const gJ={next(){return U5(this)?this._asyncIteratorImpl.next():en(j5("next"))},return(t){return U5(this)?this._asyncIteratorImpl.return(t):en(j5("return"))},[dw](){return this}};function U5(t){if(!Ui(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof vJ}catch{return!1}}function j5(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(gJ,dw,{enumerable:!1});const yJ=Number.isNaN||function(t){return t!=t};function H5(t){const e=hJ(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function $D(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function hF(t,e,n){if(typeof(r=n)!="number"||yJ(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;t._queue.push({value:e,size:n}),t._queueTotalSize+=n}function Wd(t){t._queue=new ml,t._queueTotalSize=0}function _J(t){return t===DataView}class jv{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!XI(this))throw JI("view");return this._view}respond(e){if(!XI(this))throw JI("respond");if(Rp(e,1,"respond"),e=cF(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Dp(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ax(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!XI(this))throw JI("respondWithNewView");if(Rp(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Dp(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Cx(this._associatedReadableByteStreamController,e)}}Object.defineProperties(jv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),Yn(jv.prototype.respond,"respond"),Yn(jv.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jv.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Qf{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!zh(this))throw uy("byobRequest");return GD(this)}get desiredSize(){if(!zh(this))throw uy("desiredSize");return IJ(this)}close(){if(!zh(this))throw uy("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);n_(this)}enqueue(e){if(!zh(this))throw uy("enqueue");if(Rp(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);xx(this,e)}error(e=void 0){if(!zh(this))throw uy("error");Ys(this,e)}[oF](e){bJ(this),Wd(this);const n=this._cancelAlgorithm(e);return yT(this),n}[aF](e){const n=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void OJ(this,e);const r=this._autoAllocateChunkSize;if(r!==void 0){let i;try{i=new ArrayBuffer(r)}catch(a){return void e._errorSteps(a)}const o={buffer:i,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}uJ(n,e),Yp(this)}[sF](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new ml,this._pendingPullIntos.push(e)}}}function zh(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof Qf}function XI(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof jv}function Yp(t){if(function(n){const r=n._controlledReadableByteStream;return r._state!=="readable"||n._closeRequested||!n._started?!1:!!(cJ(r)&&gT(r)>0||mF(r)&&DJ(r)>0||IJ(n)>0)}(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,ja(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Yp(t)),null),n=>(Ys(t,n),null))}}function bJ(t){pF(t),t._pendingPullIntos=new ml}function wJ(t,e){let n=!1;t._state==="closed"&&(n=!0);const r=SJ(e);e.readerType==="default"?dF(t,r,n):function(i,o,a){const s=i._reader,u=s._readIntoRequests.shift();a?u._closeSteps(o):u._chunkSteps(o)}(t,r,n)}function Sx(t,e){for(let n=0;n<e.length;++n)wJ(t,e[n])}function SJ(t){const e=t.bytesFilled,n=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/n)}function Ex(t,e,n,r){t._queue.push({buffer:e,byteOffset:n,byteLength:r}),t._queueTotalSize+=r}function EJ(t,e,n,r){let i;try{i=hJ(e,n,n+r)}catch(o){throw Ys(t,o),o}Ex(t,i,0,r)}function xJ(t,e){e.bytesFilled>0&&EJ(t,e.buffer,e.byteOffset,e.bytesFilled),cg(t)}function AJ(t,e){const n=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),r=e.bytesFilled+n;let i=n,o=!1;const a=r-r%e.elementSize;a>=e.minimumFill&&(i=a-e.bytesFilled,o=!0);const s=t._queue;for(;i>0;){const u=s.peek(),l=Math.min(i,u.byteLength),c=e.byteOffset+e.bytesFilled;dJ(e.buffer,c,u.buffer,u.byteOffset,l),u.byteLength===l?s.shift():(u.byteOffset+=l,u.byteLength-=l),t._queueTotalSize-=l,CJ(t,l,e),i-=l}return o}function CJ(t,e,n){n.bytesFilled+=e}function TJ(t){t._queueTotalSize===0&&t._closeRequested?(yT(t),hw(t._controlledReadableByteStream)):Yp(t)}function pF(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function zD(t){const e=[];for(;t._pendingPullIntos.length>0&&t._queueTotalSize!==0;){const n=t._pendingPullIntos.peek();AJ(t,n)&&(cg(t),e.push(n))}return e}function Mde(t,e,n,r){const i=t._controlledReadableByteStream,o=e.constructor,a=function(d){return _J(d)?1:d.BYTES_PER_ELEMENT}(o),{byteOffset:s,byteLength:u}=e,l=n*a;let c;try{c=Pp(e.buffer)}catch(d){return void r._errorSteps(d)}const f={buffer:c,bufferByteLength:c.byteLength,byteOffset:s,byteLength:u,bytesFilled:0,minimumFill:l,elementSize:a,viewConstructor:o,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(f),void $5(i,r);if(i._state==="closed"){const d=new o(f.buffer,f.byteOffset,0);return void r._closeSteps(d)}if(t._queueTotalSize>0){if(AJ(t,f)){const d=SJ(f);return TJ(t),void r._chunkSteps(d)}if(t._closeRequested){const d=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ys(t,d),void r._errorSteps(d)}}t._pendingPullIntos.push(f),$5(i,r),Yp(t)}function MJ(t,e){const n=t._pendingPullIntos.peek();pF(t),t._controlledReadableByteStream._state==="closed"?function(r,i){i.readerType==="none"&&cg(r);const o=r._controlledReadableByteStream;if(mF(o)){const a=[];for(;a.length<DJ(o);)a.push(cg(r));Sx(o,a)}}(t,n):function(r,i,o){if(CJ(0,i,o),o.readerType==="none"){xJ(r,o);const u=zD(r);return void Sx(r._controlledReadableByteStream,u)}if(o.bytesFilled<o.minimumFill)return;cg(r);const a=o.bytesFilled%o.elementSize;if(a>0){const u=o.byteOffset+o.bytesFilled;EJ(r,o.buffer,u-a,a)}o.bytesFilled-=a;const s=zD(r);wJ(r._controlledReadableByteStream,o),Sx(r._controlledReadableByteStream,s)}(t,e,n),Yp(t)}function cg(t){return t._pendingPullIntos.shift()}function yT(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function n_(t){const e=t._controlledReadableByteStream;if(!t._closeRequested&&e._state==="readable")if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){const n=t._pendingPullIntos.peek();if(n.bytesFilled%n.elementSize!==0){const r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ys(t,r),r}}yT(t),hw(e)}}function xx(t,e){const n=t._controlledReadableByteStream;if(t._closeRequested||n._state!=="readable")return;const{buffer:r,byteOffset:i,byteLength:o}=e;if(Dp(r))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const a=Pp(r);if(t._pendingPullIntos.length>0){const s=t._pendingPullIntos.peek();if(Dp(s.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");pF(t),s.buffer=Pp(s.buffer),s.readerType==="none"&&xJ(t,s)}cJ(n)?(function(s){const u=s._controlledReadableByteStream._reader;for(;u._readRequests.length>0;){if(s._queueTotalSize===0)return;OJ(s,u._readRequests.shift())}}(t),gT(n)===0?Ex(t,a,i,o):(t._pendingPullIntos.length>0&&cg(t),dF(n,new Uint8Array(a,i,o),!1))):mF(n)?(Ex(t,a,i,o),Sx(n,zD(t))):Ex(t,a,i,o),Yp(t)}function Ys(t,e){const n=t._controlledReadableByteStream;n._state==="readable"&&(bJ(t),Wd(t),yT(t),QJ(n,e))}function OJ(t,e){const n=t._queue.shift();t._queueTotalSize-=n.byteLength,TJ(t);const r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);e._chunkSteps(r)}function GD(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek(),n=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(jv.prototype);(function(i,o,a){i._associatedReadableByteStreamController=o,i._view=a})(r,t,n),t._byobRequest=r}return t._byobRequest}function IJ(t){const e=t._controlledReadableByteStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function Ax(t,e){const n=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(e===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+e>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=Pp(n.buffer),MJ(t,e)}function Cx(t,e){const n=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(e.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+e.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=e.byteLength;n.buffer=Pp(e.buffer),MJ(t,r)}function RJ(t,e,n,r,i,o,a){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,Wd(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,e._autoAllocateChunkSize=a,e._pendingPullIntos=new ml,t._readableStreamController=e,ja(Zn(n()),()=>(e._started=!0,Yp(e),null),s=>(Ys(e,s),null))}function JI(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function uy(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Ode(t,e){if((t=`${t}`)!="byob")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function PJ(t){return new Gh(t)}function $5(t,e){t._reader._readIntoRequests.push(e)}function DJ(t){return t._reader._readIntoRequests.length}function mF(t){const e=t._reader;return e!==void 0&&!!tp(e)}Object.defineProperties(Qf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),Yn(Qf.prototype.close,"close"),Yn(Qf.prototype.enqueue,"enqueue"),Yn(Qf.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Qf.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Gh{constructor(e){if(Rp(e,1,"ReadableStreamBYOBReader"),fF(e,"First parameter"),sd(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!zh(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");iJ(this,e),this._readIntoRequests=new ml}get closed(){return tp(this)?this._closedPromise:en(uS("closed"))}cancel(e=void 0){return tp(this)?this._ownerReadableStream===void 0?en(IA("cancel")):lF(this,e):en(uS("cancel"))}read(e,n={}){if(!tp(this))return en(uS("read"));if(!ArrayBuffer.isView(e))return en(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return en(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return en(new TypeError("view's buffer must have non-zero byteLength"));if(Dp(e.buffer))return en(new TypeError("view's buffer has been detached"));let r;try{r=function(u,l){var c;return Uc(u,l),{min:cF((c=u==null?void 0:u.min)!==null&&c!==void 0?c:1,`${l} has member 'min' that`)}}(n,"options")}catch(u){return en(u)}const i=r.min;if(i===0)return en(new TypeError("options.min must be greater than 0"));if(function(u){return _J(u.constructor)}(e)){if(i>e.byteLength)return en(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(i>e.length)return en(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return en(IA("read from"));let o,a;const s=Ri((u,l)=>{o=u,a=l});return LJ(this,e,i,{_chunkSteps:u=>o({value:u,done:!1}),_closeSteps:u=>o({value:u,done:!0}),_errorSteps:u=>a(u)}),s}releaseLock(){if(!tp(this))throw uS("releaseLock");this._ownerReadableStream!==void 0&&function(e){kc(e);const n=new TypeError("Reader was released");NJ(e,n)}(this)}}function tp(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Gh}function LJ(t,e,n,r){const i=t._ownerReadableStream;i._disturbed=!0,i._state==="errored"?r._errorSteps(i._storedError):Mde(i._readableStreamController,e,n,r)}function NJ(t,e){const n=t._readIntoRequests;t._readIntoRequests=new ml,n.forEach(r=>{r._errorSteps(e)})}function uS(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function _b(t,e){const{highWaterMark:n}=t;if(n===void 0)return e;if(yJ(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function RA(t){const{size:e}=t;return e||(()=>1)}function PA(t,e){Uc(t,e);const n=t==null?void 0:t.highWaterMark,r=t==null?void 0:t.size;return{highWaterMark:n===void 0?void 0:lJ(n),size:r===void 0?void 0:Ide(r,`${e} has member 'size' that`)}}function Ide(t,e){return vl(t,e),n=>lJ(t(n))}function Rde(t,e,n){return vl(t,n),r=>uf(t,e,[r])}function Pde(t,e,n){return vl(t,n),()=>uf(t,e,[])}function Dde(t,e,n){return vl(t,n),r=>Ip(t,e,[r])}function Lde(t,e,n){return vl(t,n),(r,i)=>uf(t,e,[r,i])}function BJ(t,e){if(!Hv(t))throw new TypeError(`${e} is not a WritableStream.`)}Object.defineProperties(Gh.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Yn(Gh.prototype.cancel,"cancel"),Yn(Gh.prototype.read,"read"),Yn(Gh.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Gh.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Wh{constructor(e={},n={}){e===void 0?e=null:sJ(e,"First parameter");const r=PA(n,"Second parameter"),i=function(a,s){Uc(a,s);const u=a==null?void 0:a.abort,l=a==null?void 0:a.close,c=a==null?void 0:a.start,f=a==null?void 0:a.type,d=a==null?void 0:a.write;return{abort:u===void 0?void 0:Rde(u,a,`${s} has member 'abort' that`),close:l===void 0?void 0:Pde(l,a,`${s} has member 'close' that`),start:c===void 0?void 0:Dde(c,a,`${s} has member 'start' that`),write:d===void 0?void 0:Lde(d,a,`${s} has member 'write' that`),type:f}}(e,"First parameter");if(kJ(this),i.type!==void 0)throw new RangeError("Invalid type is specified");const o=RA(r);(function(a,s,u,l){const c=Object.create(bb.prototype);let f,d,h,p;f=s.start!==void 0?()=>s.start(c):()=>{},d=s.write!==void 0?_=>s.write(_,c):()=>Zn(void 0),h=s.close!==void 0?()=>s.close():()=>Zn(void 0),p=s.abort!==void 0?_=>s.abort(_):()=>Zn(void 0),WJ(a,c,f,d,h,p,u,l)})(this,i,_b(r,1),o)}get locked(){if(!Hv(this))throw fS("locked");return fg(this)}abort(e=void 0){return Hv(this)?fg(this)?en(new TypeError("Cannot abort a stream that already has a writer")):DA(this,e):en(fS("abort"))}close(){return Hv(this)?fg(this)?en(new TypeError("Cannot close a stream that already has a writer")):Bu(this)?en(new TypeError("Cannot close an already-closing stream")):UJ(this):en(fS("close"))}getWriter(){if(!Hv(this))throw fS("getWriter");return FJ(this)}}function FJ(t){return new Gf(t)}function kJ(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new ml,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Hv(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof Wh}function fg(t){return t._writer!==void 0}function DA(t,e){var n;if(t._state==="closed"||t._state==="errored")return Zn(void 0);t._writableStreamController._abortReason=e,(n=t._writableStreamController._abortController)===null||n===void 0||n.abort(e);const r=t._state;if(r==="closed"||r==="errored")return Zn(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let i=!1;r==="erroring"&&(i=!0,e=void 0);const o=Ri((a,s)=>{t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:e,_wasAlreadyErroring:i}});return t._pendingAbortRequest._promise=o,i||vF(t,e),o}function UJ(t){const e=t._state;if(e==="closed"||e==="errored")return en(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const n=Ri((o,a)=>{const s={_resolve:o,_reject:a};t._closeRequest=s}),r=t._writer;var i;return r!==void 0&&t._backpressure&&e==="writable"&&wF(r),hF(i=t._writableStreamController,GJ,0),_T(i),n}function WD(t,e){t._state!=="writable"?gF(t):vF(t,e)}function vF(t,e){const n=t._writableStreamController;t._state="erroring",t._storedError=e;const r=t._writer;r!==void 0&&HJ(r,e),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(t)&&n._started&&gF(t)}function gF(t){t._state="errored",t._writableStreamController[rJ]();const e=t._storedError;if(t._writeRequests.forEach(r=>{r._reject(e)}),t._writeRequests=new ml,t._pendingAbortRequest===void 0)return void cS(t);const n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(e),void cS(t);ja(t._writableStreamController[nJ](n._reason),()=>(n._resolve(),cS(t),null),r=>(n._reject(r),cS(t),null))}function Bu(t){return t._closeRequest!==void 0||t._inFlightCloseRequest!==void 0}function cS(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;e!==void 0&&bF(e,t._storedError)}function yF(t,e){const n=t._writer;n!==void 0&&e!==t._backpressure&&(e?function(r){bT(r)}(n):wF(n)),t._backpressure=e}Object.defineProperties(Wh.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),Yn(Wh.prototype.abort,"abort"),Yn(Wh.prototype.close,"close"),Yn(Wh.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Wh.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Gf{constructor(e){if(Rp(e,1,"WritableStreamDefaultWriter"),BJ(e,"First parameter"),fg(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const n=e._state;if(n==="writable")!Bu(e)&&e._backpressure?bT(this):z5(this),Tx(this);else if(n==="erroring")VD(this,e._storedError),Tx(this);else if(n==="closed")z5(this),Tx(r=this),XJ(r);else{const i=e._storedError;VD(this,i),KJ(this,i)}var r}get closed(){return sh(this)?this._closedPromise:en(lh("closed"))}get desiredSize(){if(!sh(this))throw lh("desiredSize");if(this._ownerWritableStream===void 0)throw r_("desiredSize");return function(e){const n=e._ownerWritableStream,r=n._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:VJ(n._writableStreamController)}(this)}get ready(){return sh(this)?this._readyPromise:en(lh("ready"))}abort(e=void 0){return sh(this)?this._ownerWritableStream===void 0?en(r_("abort")):function(n,r){return DA(n._ownerWritableStream,r)}(this,e):en(lh("abort"))}close(){if(!sh(this))return en(lh("close"));const e=this._ownerWritableStream;return e===void 0?en(r_("close")):Bu(e)?en(new TypeError("Cannot close an already-closing stream")):jJ(this)}releaseLock(){if(!sh(this))throw lh("releaseLock");this._ownerWritableStream!==void 0&&$J(this)}write(e=void 0){return sh(this)?this._ownerWritableStream===void 0?en(r_("write to")):zJ(this,e):en(lh("write"))}}function sh(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof Gf}function jJ(t){return UJ(t._ownerWritableStream)}function Nde(t,e){t._closedPromiseState==="pending"?bF(t,e):function(n,r){KJ(n,r)}(t,e)}function HJ(t,e){t._readyPromiseState==="pending"?JJ(t,e):function(n,r){VD(n,r)}(t,e)}function $J(t){const e=t._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");HJ(t,n),Nde(t,n),e._writer=void 0,t._ownerWritableStream=void 0}function zJ(t,e){const n=t._ownerWritableStream,r=n._writableStreamController,i=function(s,u){if(s._strategySizeAlgorithm===void 0)return 1;try{return s._strategySizeAlgorithm(u)}catch(l){return wb(s,l),1}}(r,e);if(n!==t._ownerWritableStream)return en(r_("write to"));const o=n._state;if(o==="errored")return en(n._storedError);if(Bu(n)||o==="closed")return en(new TypeError("The stream is closing or closed and cannot be written to"));if(o==="erroring")return en(n._storedError);const a=function(s){return Ri((u,l)=>{const c={_resolve:u,_reject:l};s._writeRequests.push(c)})}(n);return function(s,u,l){try{hF(s,u,l)}catch(f){return void wb(s,f)}const c=s._controlledWritableStream;!Bu(c)&&c._state==="writable"&&yF(c,_F(s)),_T(s)}(r,e,i),a}Object.defineProperties(Gf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),Yn(Gf.prototype.abort,"abort"),Yn(Gf.prototype.close,"close"),Yn(Gf.prototype.releaseLock,"releaseLock"),Yn(Gf.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Gf.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const GJ={};class bb{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!YI(this))throw ZI("abortReason");return this._abortReason}get signal(){if(!YI(this))throw ZI("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!YI(this))throw ZI("error");this._controlledWritableStream._state==="writable"&&qJ(this,e)}[nJ](e){const n=this._abortAlgorithm(e);return LA(this),n}[rJ](){Wd(this)}}function YI(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof bb}function WJ(t,e,n,r,i,o,a,s){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,Wd(e),e._abortReason=void 0,e._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),e._started=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._writeAlgorithm=r,e._closeAlgorithm=i,e._abortAlgorithm=o;const u=_F(e);yF(t,u),ja(Zn(n()),()=>(e._started=!0,_T(e),null),l=>(e._started=!0,WD(t,l),null))}function LA(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function VJ(t){return t._strategyHWM-t._queueTotalSize}function _T(t){const e=t._controlledWritableStream;if(!t._started||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring")return void gF(e);if(t._queue.length===0)return;const n=t._queue.peek().value;n===GJ?function(r){const i=r._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(i),$D(r);const o=r._closeAlgorithm();LA(r),ja(o,()=>(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,a._state==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";const s=a._writer;s!==void 0&&XJ(s)}(i),null),a=>(function(s,u){s._inFlightCloseRequest._reject(u),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(u),s._pendingAbortRequest=void 0),WD(s,u)}(i,a),null))}(t):function(r,i){const o=r._controlledWritableStream;(function(s){s._inFlightWriteRequest=s._writeRequests.shift()})(o);const a=r._writeAlgorithm(i);ja(a,()=>{(function(u){u._inFlightWriteRequest._resolve(void 0),u._inFlightWriteRequest=void 0})(o);const s=o._state;if($D(r),!Bu(o)&&s==="writable"){const u=_F(r);yF(o,u)}return _T(r),null},s=>(o._state==="writable"&&LA(r),function(u,l){u._inFlightWriteRequest._reject(l),u._inFlightWriteRequest=void 0,WD(u,l)}(o,s),null))}(t,n)}function wb(t,e){t._controlledWritableStream._state==="writable"&&qJ(t,e)}function _F(t){return VJ(t)<=0}function qJ(t,e){const n=t._controlledWritableStream;LA(t),vF(n,e)}function fS(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function ZI(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function lh(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function r_(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Tx(t){t._closedPromise=Ri((e,n)=>{t._closedPromise_resolve=e,t._closedPromise_reject=n,t._closedPromiseState="pending"})}function KJ(t,e){Tx(t),bF(t,e)}function bF(t,e){t._closedPromise_reject!==void 0&&(v0(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function XJ(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function bT(t){t._readyPromise=Ri((e,n)=>{t._readyPromise_resolve=e,t._readyPromise_reject=n}),t._readyPromiseState="pending"}function VD(t,e){bT(t),JJ(t,e)}function z5(t){bT(t),wF(t)}function JJ(t,e){t._readyPromise_reject!==void 0&&(v0(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function wF(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(bb.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bb.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const G5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,Bde=function(){const t=G5==null?void 0:G5.DOMException;return function(e){if(typeof e!="function"&&typeof e!="object"||e.name!=="DOMException")return!1;try{return new e,!0}catch{return!1}}(t)?t:void 0}()||function(){const t=function(e,n){this.message=e||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Yn(t,"DOMException"),t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}();function W5(t,e,n,r,i,o){const a=ug(t),s=FJ(e);t._disturbed=!0;let u=!1,l=Zn(void 0);return Ri((c,f)=>{let d;if(o!==void 0){if(d=()=>{const x=o.reason!==void 0?o.reason:new Bde("Aborted","AbortError"),E=[];r||E.push(()=>e._state==="writable"?DA(e,x):Zn(void 0)),i||E.push(()=>t._state==="readable"?ql(t,x):Zn(void 0)),b(()=>Promise.all(E.map(M=>M())),!0,x)},o.aborted)return void d();o.addEventListener("abort",d)}var h,p,_;if(m(t,a._closedPromise,x=>(r?w(!0,x):b(()=>DA(e,x),!0,x),null)),m(e,s._closedPromise,x=>(i?w(!0,x):b(()=>ql(t,x),!0,x),null)),h=t,p=a._closedPromise,_=()=>(n?w():b(()=>function(x){const E=x._ownerWritableStream,M=E._state;return Bu(E)||M==="closed"?Zn(void 0):M==="errored"?en(E._storedError):jJ(x)}(s)),null),h._state==="closed"?_():WI(p,_),Bu(e)||e._state==="closed"){const x=new TypeError("the destination writable stream closed before all data could be piped to it");i?w(!0,x):b(()=>ql(t,x),!0,x)}function y(){const x=l;return Nu(l,()=>x!==l?y():void 0)}function m(x,E,M){x._state==="errored"?M(x._storedError):jD(E,M)}function b(x,E,M){function O(){return ja(x(),()=>S(E,M),C=>S(!0,C)),null}u||(u=!0,e._state!=="writable"||Bu(e)?O():WI(y(),O))}function w(x,E){u||(u=!0,e._state!=="writable"||Bu(e)?S(x,E):WI(y(),()=>S(x,E)))}function S(x,E){return $J(s),kc(a),o!==void 0&&o.removeEventListener("abort",d),x?f(E):c(void 0),null}v0(Ri((x,E)=>{(function M(O){O?x():Nu(u?Zn(!0):Nu(s._readyPromise,()=>Ri((C,T)=>{yb(a,{_chunkSteps:P=>{l=Nu(zJ(s,P),void 0,gb),C(!1)},_closeSteps:()=>C(!0),_errorSteps:T})})),M,E)})(!1)}))})}class ed{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dS(this))throw hS("desiredSize");return SF(this)}close(){if(!dS(this))throw hS("close");if(!Bg(this))throw new TypeError("The stream is not in a state that permits close");Lp(this)}enqueue(e=void 0){if(!dS(this))throw hS("enqueue");if(!Bg(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ng(this,e)}error(e=void 0){if(!dS(this))throw hS("error");ru(this,e)}[oF](e){Wd(this);const n=this._cancelAlgorithm(e);return NA(this),n}[aF](e){const n=this._controlledReadableStream;if(this._queue.length>0){const r=$D(this);this._closeRequested&&this._queue.length===0?(NA(this),hw(n)):Sb(this),e._chunkSteps(r)}else uJ(n,e),Sb(this)}[sF](){}}function dS(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof ed}function Sb(t){if(YJ(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,ja(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Sb(t)),null),e=>(ru(t,e),null))}}function YJ(t){const e=t._controlledReadableStream;return!Bg(t)||!t._started?!1:sd(e)&&gT(e)>0?!0:SF(t)>0}function NA(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Lp(t){if(!Bg(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(NA(t),hw(e))}function Ng(t,e){if(!Bg(t))return;const n=t._controlledReadableStream;if(sd(n)&&gT(n)>0)dF(n,e,!1);else{let r;try{r=t._strategySizeAlgorithm(e)}catch(i){throw ru(t,i),i}try{hF(t,e,r)}catch(i){throw ru(t,i),i}}Sb(t)}function ru(t,e){const n=t._controlledReadableStream;n._state==="readable"&&(Wd(t),NA(t),QJ(n,e))}function SF(t){const e=t._controlledReadableStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function Bg(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&e==="readable"}function ZJ(t,e,n,r,i,o,a){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,Wd(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=a,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,t._readableStreamController=e,ja(Zn(n()),()=>(e._started=!0,Sb(e),null),s=>(ru(e,s),null))}function hS(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function Fde(t,e){return zh(t._readableStreamController)?function(n){let r,i,o,a,s,u=ug(n),l=!1,c=!1,f=!1,d=!1,h=!1;const p=Ri(M=>{s=M});function _(M){jD(M._closedPromise,O=>(M!==u||(Ys(o._readableStreamController,O),Ys(a._readableStreamController,O),d&&h||s(void 0)),null))}function y(){tp(u)&&(kc(u),u=ug(n),_(u)),yb(u,{_chunkSteps:M=>{hp(()=>{c=!1,f=!1;const O=M;let C=M;if(!d&&!h)try{C=H5(M)}catch(T){return Ys(o._readableStreamController,T),Ys(a._readableStreamController,T),void s(ql(n,T))}d||xx(o._readableStreamController,O),h||xx(a._readableStreamController,C),l=!1,c?b():f&&w()})},_closeSteps:()=>{l=!1,d||n_(o._readableStreamController),h||n_(a._readableStreamController),o._readableStreamController._pendingPullIntos.length>0&&Ax(o._readableStreamController,0),a._readableStreamController._pendingPullIntos.length>0&&Ax(a._readableStreamController,0),d&&h||s(void 0)},_errorSteps:()=>{l=!1}})}function m(M,O){ad(u)&&(kc(u),u=PJ(n),_(u));const C=O?a:o,T=O?o:a;LJ(u,M,1,{_chunkSteps:P=>{hp(()=>{c=!1,f=!1;const N=O?h:d;if(O?d:h)N||Cx(C._readableStreamController,P);else{let H;try{H=H5(P)}catch(B){return Ys(C._readableStreamController,B),Ys(T._readableStreamController,B),void s(ql(n,B))}N||Cx(C._readableStreamController,P),xx(T._readableStreamController,H)}l=!1,c?b():f&&w()})},_closeSteps:P=>{l=!1;const N=O?h:d,H=O?d:h;N||n_(C._readableStreamController),H||n_(T._readableStreamController),P!==void 0&&(N||Cx(C._readableStreamController,P),!H&&T._readableStreamController._pendingPullIntos.length>0&&Ax(T._readableStreamController,0)),N&&H||s(void 0)},_errorSteps:()=>{l=!1}})}function b(){if(l)return c=!0,Zn(void 0);l=!0;const M=GD(o._readableStreamController);return M===null?y():m(M._view,!1),Zn(void 0)}function w(){if(l)return f=!0,Zn(void 0);l=!0;const M=GD(a._readableStreamController);return M===null?y():m(M._view,!0),Zn(void 0)}function S(M){if(d=!0,r=M,h){const O=e_([r,i]),C=ql(n,O);s(C)}return p}function x(M){if(h=!0,i=M,d){const O=e_([r,i]),C=ql(n,O);s(C)}return p}function E(){}return o=q5(E,b,S),a=q5(E,w,x),_(u),[o,a]}(t):function(n){const r=ug(n);let i,o,a,s,u,l=!1,c=!1,f=!1,d=!1;const h=Ri(b=>{u=b});function p(){return l?(c=!0,Zn(void 0)):(l=!0,yb(r,{_chunkSteps:b=>{hp(()=>{c=!1;const w=b,S=b;f||Ng(a._readableStreamController,w),d||Ng(s._readableStreamController,S),l=!1,c&&p()})},_closeSteps:()=>{l=!1,f||Lp(a._readableStreamController),d||Lp(s._readableStreamController),f&&d||u(void 0)},_errorSteps:()=>{l=!1}}),Zn(void 0))}function _(b){if(f=!0,i=b,d){const w=e_([i,o]),S=ql(n,w);u(S)}return h}function y(b){if(d=!0,o=b,f){const w=e_([i,o]),S=ql(n,w);u(S)}return h}function m(){}return a=Eb(m,p,_),s=Eb(m,p,y),jD(r._closedPromise,b=>(ru(a._readableStreamController,b),ru(s._readableStreamController,b),f&&d||u(void 0),null)),[a,s]}(t)}function kde(t){return Ui(e=t)&&e.getReader!==void 0?function(n){let r;function i(){let a;try{a=n.read()}catch(s){return en(s)}return Vc(a,s=>{if(!Ui(s))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(s.done)Lp(r._readableStreamController);else{const u=s.value;Ng(r._readableStreamController,u)}})}function o(a){try{return Zn(n.cancel(a))}catch(s){return en(s)}}return r=Eb(gb,i,o,0),r}(t.getReader()):function(n){let r;const i=pJ(n,"async");function o(){let s;try{s=mJ(i)}catch(u){return en(u)}return Vc(Zn(s),u=>{if(!Ui(u))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(u.done)Lp(r._readableStreamController);else{const l=u.value;Ng(r._readableStreamController,l)}})}function a(s){const u=i.iterator;let l;try{l=t_(u,"return")}catch(c){return en(c)}return l===void 0?Zn(void 0):Vc(uf(l,u,[s]),c=>{if(!Ui(c))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return r=Eb(gb,o,a,0),r}(t);var e}function Ude(t,e,n){return vl(t,n),r=>uf(t,e,[r])}function jde(t,e,n){return vl(t,n),r=>uf(t,e,[r])}function Hde(t,e,n){return vl(t,n),r=>Ip(t,e,[r])}function $de(t,e){if((t=`${t}`)!="bytes")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function V5(t,e){Uc(t,e);const n=t==null?void 0:t.preventAbort,r=t==null?void 0:t.preventCancel,i=t==null?void 0:t.preventClose,o=t==null?void 0:t.signal;return o!==void 0&&function(a,s){if(!function(u){if(typeof u!="object"||u===null)return!1;try{return typeof u.aborted=="boolean"}catch{return!1}}(a))throw new TypeError(`${s} is not an AbortSignal.`)}(o,`${e} has member 'signal' that`),{preventAbort:!!n,preventCancel:!!r,preventClose:!!i,signal:o}}Object.defineProperties(ed.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),Yn(ed.prototype.close,"close"),Yn(ed.prototype.enqueue,"enqueue"),Yn(ed.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ed.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});let ho=class{constructor(e={},n={}){e===void 0?e=null:sJ(e,"First parameter");const r=PA(n,"Second parameter"),i=function(o,a){Uc(o,a);const s=o,u=s==null?void 0:s.autoAllocateChunkSize,l=s==null?void 0:s.cancel,c=s==null?void 0:s.pull,f=s==null?void 0:s.start,d=s==null?void 0:s.type;return{autoAllocateChunkSize:u===void 0?void 0:cF(u,`${a} has member 'autoAllocateChunkSize' that`),cancel:l===void 0?void 0:Ude(l,s,`${a} has member 'cancel' that`),pull:c===void 0?void 0:jde(c,s,`${a} has member 'pull' that`),start:f===void 0?void 0:Hde(f,s,`${a} has member 'start' that`),type:d===void 0?void 0:$de(d,`${a} has member 'type' that`)}}(e,"First parameter");if(EF(this),i.type==="bytes"){if(r.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(o,a,s){const u=Object.create(Qf.prototype);let l,c,f;l=a.start!==void 0?()=>a.start(u):()=>{},c=a.pull!==void 0?()=>a.pull(u):()=>Zn(void 0),f=a.cancel!==void 0?h=>a.cancel(h):()=>Zn(void 0);const d=a.autoAllocateChunkSize;if(d===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");RJ(o,u,l,c,f,s,d)})(this,i,_b(r,0))}else{const o=RA(r);(function(a,s,u,l){const c=Object.create(ed.prototype);let f,d,h;f=s.start!==void 0?()=>s.start(c):()=>{},d=s.pull!==void 0?()=>s.pull(c):()=>Zn(void 0),h=s.cancel!==void 0?p=>s.cancel(p):()=>Zn(void 0),ZJ(a,c,f,d,h,u,l)})(this,i,_b(r,1),o)}}get locked(){if(!Hf(this))throw uh("locked");return sd(this)}cancel(e=void 0){return Hf(this)?sd(this)?en(new TypeError("Cannot cancel a stream that already has a reader")):ql(this,e):en(uh("cancel"))}getReader(e=void 0){if(!Hf(this))throw uh("getReader");return function(n,r){Uc(n,r);const i=n==null?void 0:n.mode;return{mode:i===void 0?void 0:Ode(i,`${r} has member 'mode' that`)}}(e,"First parameter").mode===void 0?ug(this):PJ(this)}pipeThrough(e,n={}){if(!Hf(this))throw uh("pipeThrough");Rp(e,1,"pipeThrough");const r=function(o,a){Uc(o,a);const s=o==null?void 0:o.readable;B5(s,"readable","ReadableWritablePair"),fF(s,`${a} has member 'readable' that`);const u=o==null?void 0:o.writable;return B5(u,"writable","ReadableWritablePair"),BJ(u,`${a} has member 'writable' that`),{readable:s,writable:u}}(e,"First parameter"),i=V5(n,"Second parameter");if(sd(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(fg(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v0(W5(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,n={}){if(!Hf(this))return en(uh("pipeTo"));if(e===void 0)return en("Parameter 1 is required in 'pipeTo'.");if(!Hv(e))return en(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=V5(n,"Second parameter")}catch(i){return en(i)}return sd(this)?en(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):fg(e)?en(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):W5(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Hf(this))throw uh("tee");return e_(Fde(this))}values(e=void 0){if(!Hf(this))throw uh("values");return function(n,r){const i=ug(n),o=new vJ(i,r),a=Object.create(gJ);return a._asyncIteratorImpl=o,a}(this,function(n,r){return Uc(n,r),{preventCancel:!!(n==null?void 0:n.preventCancel)}}(e,"First parameter").preventCancel)}[dw](e){return this.values(e)}static from(e){return kde(e)}};function Eb(t,e,n,r=1,i=()=>1){const o=Object.create(ho.prototype);return EF(o),ZJ(o,Object.create(ed.prototype),t,e,n,r,i),o}function q5(t,e,n){const r=Object.create(ho.prototype);return EF(r),RJ(r,Object.create(Qf.prototype),t,e,n,0,void 0),r}function EF(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Hf(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof ho}function sd(t){return t._reader!==void 0}function ql(t,e){if(t._disturbed=!0,t._state==="closed")return Zn(void 0);if(t._state==="errored")return en(t._storedError);hw(t);const n=t._reader;if(n!==void 0&&tp(n)){const r=n._readIntoRequests;n._readIntoRequests=new ml,r.forEach(i=>{i._closeSteps(void 0)})}return Vc(t._readableStreamController[oF](e),gb)}function hw(t){t._state="closed";const e=t._reader;if(e!==void 0&&(aJ(e),ad(e))){const n=e._readRequests;e._readRequests=new ml,n.forEach(r=>{r._closeSteps()})}}function QJ(t,e){t._state="errored",t._storedError=e;const n=t._reader;n!==void 0&&(uF(n,e),ad(n)?fJ(n,e):NJ(n,e))}function uh(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}Object.defineProperties(ho,{from:{enumerable:!0}}),Object.defineProperties(ho.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),Yn(ho.from,"from"),Yn(ho.prototype.cancel,"cancel"),Yn(ho.prototype.getReader,"getReader"),Yn(ho.prototype.pipeThrough,"pipeThrough"),Yn(ho.prototype.pipeTo,"pipeTo"),Yn(ho.prototype.tee,"tee"),Yn(ho.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ho.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(ho.prototype,dw,{value:ho.prototype.values,writable:!0,configurable:!0});const zde=t=>t.byteLength;Yn(zde,"size");const Gde=()=>1;Yn(Gde,"size");function Wde(t,e,n){return vl(t,n),r=>uf(t,e,[r])}function Vde(t,e,n){return vl(t,n),r=>Ip(t,e,[r])}function qde(t,e,n){return vl(t,n),(r,i)=>uf(t,e,[r,i])}function Kde(t,e,n){return vl(t,n),r=>uf(t,e,[r])}let BA=class{constructor(e={},n={},r={}){e===void 0&&(e=null);const i=PA(n,"Second parameter"),o=PA(r,"Third parameter"),a=function(d,h){Uc(d,h);const p=d==null?void 0:d.cancel,_=d==null?void 0:d.flush,y=d==null?void 0:d.readableType,m=d==null?void 0:d.start,b=d==null?void 0:d.transform,w=d==null?void 0:d.writableType;return{cancel:p===void 0?void 0:Kde(p,d,`${h} has member 'cancel' that`),flush:_===void 0?void 0:Wde(_,d,`${h} has member 'flush' that`),readableType:y,start:m===void 0?void 0:Vde(m,d,`${h} has member 'start' that`),transform:b===void 0?void 0:qde(b,d,`${h} has member 'transform' that`),writableType:w}}(e,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");const s=_b(o,0),u=RA(o),l=_b(i,1),c=RA(i);let f;(function(d,h,p,_,y,m){function b(){return h}function w(O){return function(C,T){const P=C._transformStreamController;return C._backpressure?Vc(C._backpressureChangePromise,()=>{const N=C._writable;if(N._state==="erroring")throw N._storedError;return X5(P,T)}):X5(P,T)}(d,O)}function S(O){return function(C,T){const P=C._transformStreamController;if(P._finishPromise!==void 0)return P._finishPromise;const N=C._readable;P._finishPromise=Ri((B,k)=>{P._finishPromise_resolve=B,P._finishPromise_reject=k});const H=P._cancelAlgorithm(T);return Mx(P),ja(H,()=>(N._state==="errored"?Cm(P,N._storedError):(ru(N._readableStreamController,T),QI(P)),null),B=>(ru(N._readableStreamController,B),Cm(P,B),null)),P._finishPromise}(d,O)}function x(){return function(O){const C=O._transformStreamController;if(C._finishPromise!==void 0)return C._finishPromise;const T=O._readable;C._finishPromise=Ri((N,H)=>{C._finishPromise_resolve=N,C._finishPromise_reject=H});const P=C._flushAlgorithm();return Mx(C),ja(P,()=>(T._state==="errored"?Cm(C,T._storedError):(Lp(T._readableStreamController),QI(C)),null),N=>(ru(T._readableStreamController,N),Cm(C,N),null)),C._finishPromise}(d)}function E(){return function(O){return FA(O,!1),O._backpressureChangePromise}(d)}function M(O){return function(C,T){const P=C._transformStreamController;if(P._finishPromise!==void 0)return P._finishPromise;const N=C._writable;P._finishPromise=Ri((B,k)=>{P._finishPromise_resolve=B,P._finishPromise_reject=k});const H=P._cancelAlgorithm(T);return Mx(P),ja(H,()=>(N._state==="errored"?Cm(P,N._storedError):(wb(N._writableStreamController,T),qD(C),QI(P)),null),B=>(wb(N._writableStreamController,B),qD(C),Cm(P,B),null)),P._finishPromise}(d,O)}d._writable=function(O,C,T,P,N=1,H=()=>1){const B=Object.create(Wh.prototype);return kJ(B),WJ(B,Object.create(bb.prototype),O,C,T,P,N,H),B}(b,w,x,S,p,_),d._readable=Eb(b,E,M,y,m),d._backpressure=void 0,d._backpressureChangePromise=void 0,d._backpressureChangePromise_resolve=void 0,FA(d,!0),d._transformStreamController=void 0})(this,Ri(d=>{f=d}),l,c,s,u),function(d,h){const p=Object.create(Vh.prototype);let _,y,m;_=h.transform!==void 0?b=>h.transform(b,p):b=>{try{return tY(p,b),Zn(void 0)}catch(w){return en(w)}},y=h.flush!==void 0?()=>h.flush(p):()=>Zn(void 0),m=h.cancel!==void 0?b=>h.cancel(b):()=>Zn(void 0),function(b,w,S,x,E){w._controlledTransformStream=b,b._transformStreamController=w,w._transformAlgorithm=S,w._flushAlgorithm=x,w._cancelAlgorithm=E,w._finishPromise=void 0,w._finishPromise_resolve=void 0,w._finishPromise_reject=void 0}(d,p,_,y,m)}(this,a),a.start!==void 0?f(a.start(this._transformStreamController)):f(void 0)}get readable(){if(!K5(this))throw J5("readable");return this._readable}get writable(){if(!K5(this))throw J5("writable");return this._writable}};function K5(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof BA}function eY(t,e){ru(t._readable._readableStreamController,e),xF(t,e)}function xF(t,e){Mx(t._transformStreamController),wb(t._writable._writableStreamController,e),qD(t)}function qD(t){t._backpressure&&FA(t,!1)}function FA(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=Ri(n=>{t._backpressureChangePromise_resolve=n}),t._backpressure=e}Object.defineProperties(BA.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(BA.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Vh{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!pS(this))throw mS("desiredSize");return SF(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!pS(this))throw mS("enqueue");tY(this,e)}error(e=void 0){if(!pS(this))throw mS("error");var n;n=e,eY(this._controlledTransformStream,n)}terminate(){if(!pS(this))throw mS("terminate");(function(e){const n=e._controlledTransformStream;Lp(n._readable._readableStreamController);const r=new TypeError("TransformStream terminated");xF(n,r)})(this)}}function pS(t){return!!Ui(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof Vh}function Mx(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0,t._cancelAlgorithm=void 0}function tY(t,e){const n=t._controlledTransformStream,r=n._readable._readableStreamController;if(!Bg(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ng(r,e)}catch(o){throw xF(n,o),n._readable._storedError}(function(o){return!YJ(o)})(r)!==n._backpressure&&FA(n,!0)}function X5(t,e){return Vc(t._transformAlgorithm(e),void 0,n=>{throw eY(t._controlledTransformStream,n),n})}function mS(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function QI(t){t._finishPromise_resolve!==void 0&&(t._finishPromise_resolve(),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function Cm(t,e){t._finishPromise_reject!==void 0&&(v0(t._finishPromise),t._finishPromise_reject(e),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function J5(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(Vh.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),Yn(Vh.prototype.enqueue,"enqueue"),Yn(Vh.prototype.error,"error"),Yn(Vh.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Vh.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Xde=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fg=function(){return Fg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fg.apply(this,arguments)},Jde=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Yde=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Zde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Qde(){if(typeof wx>"u"||typeof Page>"u"||!wx.getSystemInfoSync||!wx.getStorageSync||!wx.setStorageSync||!wx.connectSocket||!wx.request)return!1;try{if(!wx.getSystemInfoSync()||wx.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}function ehe(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}var eR="Error when aborting requestTask",KD=function(t){Xde(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this,i=n.timeout,o=n.timeoutMsg,a=n.restrictedMethods;return r._timeout=i||0,r._timeoutMsg=o||"",r._restrictedMethods=a||["get","post","upload","download"],r}return e.prototype.post=function(n){var r=this;return new Promise(function(i,o){var a=n.url,s=n.data,u=n.headers,l=wx.request({url:Qy("https:",a),data:s,timeout:r._timeout,method:"POST",header:u,success:function(c){c.statusCode>=200&&c.statusCode<300?i({statusCode:c.statusCode,status:c.statusCode,data:c.data}):o(c)},fail:function(c){o(c)},complete:function(c){if(!(!c||!c.errMsg)&&!(!r._timeout||r._restrictedMethods.indexOf("post")===-1)){var f=c.errMsg;if(f==="request:fail timeout"){console.warn(r._timeoutMsg);try{l.abort()}catch{}}}}})})},e.prototype.get=function(n){var r=this;return new Promise(function(i,o){var a=n.url,s=n.body,u=n.headers,l=Qy("https:",a),c=wx.request({url:l,data:s,timeout:r._timeout,method:"GET",header:u,success:function(f){f.statusCode>=200&&f.statusCode<300?i({statusCode:f.statusCode,status:f.statusCode,data:f.data}):o(f)},fail:function(f){o(f)},complete:function(f){if(!(!f||!f.errMsg)&&!(!r._timeout||r._restrictedMethods.indexOf("get")===-1)){var d=f.errMsg;if(d.includes("timeout")){console.warn(r._timeoutMsg);try{c.abort()}catch(h){console.warn(eR,h)}}}}})})},e.prototype.upload=function(n){var r=this,i=this;return new Promise(function(o){return Jde(r,void 0,void 0,function(){var a,s,u,l,c,f;return Yde(this,function(d){return a=n.url,s=n.file,u=n.data,l=n.headers,c=n.onUploadProgress,f=wx.uploadFile({url:a,filePath:s,name:"file",formData:Fg({},u),header:l,timeout:this._timeout,success:function(h){var p={statusCode:h.statusCode,data:h.data||{}};h.statusCode===200&&u.success_action_status&&(p.statusCode=parseInt(u.success_action_status,10)),o(p)},fail:function(h){o(h)},complete:function(h){if(!(!h||!h.errMsg)&&!(!i._timeout||i._restrictedMethods.indexOf("upload")===-1)){var p=h.errMsg;if(p==="request:fail timeout"){console.warn(i._timeoutMsg);try{f.abort()}catch{}}}}}),c&&f.onProgressUpdate(function(h){c(h)}),[2]})})})},e.prototype.download=function(n){var r=this,i=this;return new Promise(function(o,a){var s=n.url,u=n.headers,l=wx.downloadFile({url:Qy("https:",s),header:u,timeout:r._timeout,success:function(c){c.statusCode===200&&c.tempFilePath?o({statusCode:200,tempFilePath:c.tempFilePath}):o(c)},fail:function(c){a(c)},complete:function(c){if(!(!c||!c.errMsg)&&!(!i._timeout||i._restrictedMethods.indexOf("download")===-1)){var f=c.errMsg;if(f==="request:fail timeout"){console.warn(i._timeoutMsg);try{l.abort()}catch{}}}}})})},e.prototype.fetch=function(n){var r=n.url,i=n.body,o=n.enableAbort,a=n.headers,s=n.method,u=n.stream,l=u===void 0?!1:u,c=n.signal,f=n.timeout,d=this,h=f??this._timeout,p=null,_=new ho({start:function(y){p=y},cancel:function(){p=null}});return new Promise(function(y,m){l&&y({data:_});var b=wx.request({url:Qy("https:",r),data:i,timeout:h,method:s.toUpperCase(),header:a,success:function(S){var x;(x=p)===null||x===void 0||x.close(),!l&&y(S)},fail:function(S){var x;if((x=p)===null||x===void 0||x.close(),m(S),l)throw S},complete:function(S){if(!(!S||!S.errMsg)&&!(!h||d._restrictedMethods.indexOf("post")===-1||!o)){var x=S.errMsg;if(x==="request:fail timeout"){console.warn(d._timeoutMsg);try{b.abort()}catch(E){console.warn(eR,E)}}}},enableChunked:l});if(b.onChunkReceived(function(S){var x;(x=p)===null||x===void 0||x.enqueue(new Uint8Array(S.data))}),c){var w=function(){try{b.abort()}catch(S){console.warn(eR,S)}};c.aborted?w():c.addEventListener("abort",function(){return w()})}})},e}(rF),nY={setItem:function(t,e){wx.setStorageSync(t,e)},getItem:function(t){return wx.getStorageSync(t)},removeItem:function(t){wx.removeStorageSync(t)},clear:function(){wx.clearStorageSync()}},rY=function(){function t(e,n){n===void 0&&(n={});var r=wx.connectSocket(Fg({url:e},n)),i={set onopen(o){r.onOpen(o)},set onmessage(o){r.onMessage(o)},set onclose(o){r.onClose(o)},set onerror(o){r.onError(o)},send:function(o){return r.send({data:o})},close:function(o,a){return r.close({code:o,reason:a})},get readyState(){return r.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return i}return t}();function iY(t){var e={},n=t.replace(/^[?#]/,"");if(!n)return e;var r=n.split("&");return r.forEach(function(i){var o=i.split("="),a=o[0],s=o[1];a=decodeURIComponent(a),s=decodeURIComponent(s),a&&(e[a]?Array.isArray(e[a])?e[a].push(s):e[a]=[e[a],s]:e[a]=s)}),e}function the(t){var e={root:{globalThis:{}},reqClass:KD,wsClass:rY,captchaOptions:{openURIWithCallback:function(n){var r=t.EventBus,i={},o=n;console.log("openURIWithCallback",n);var a=n.match(/^(data:.*?)(\?[^#\s]*)?$/);if(a){o=a[1],console.log("openURIWithCallback url",o);var s=a[2];s&&(i=iY(s))}console.log("openURIWithCallback queryObj",i);var u=i.token,l=Zde(i,["token"]);return/^data:/.test(o)&&!u?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: "+n}):u?new Promise(function(c){console.log("wait for captcha..."),r.$emit("CAPTCHA_DATA_CHANGE",Fg(Fg({},l),{token:u,url:o})),r.$once("RESOLVE_CAPTCHA_DATA",function(f){c(f)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:nY,primaryStorage:vb.local,getAppSign:function(){var n=wx.getAccountInfoSync();return ehe()?n&&n.plugin?n.plugin.appId:"":n&&n.miniProgram?n.miniProgram.appId:""}};return e}var Hu={genAdapter:the,isMatch:Qde,runtime:"wx_mp"},S_=function(){return S_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S_.apply(this,arguments)},nhe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Tc={},rhe=function(){KD.prototype.upload=function(e){var n=this,r=this;return new Promise(function(i){var o=e.url,a=e.file,s=e.data,u=e.headers,l=wx.getFileSystemManager(),c=wx.request({url:o,method:e.method,header:S_({"content-type":" "},u),data:l.readFileSync(a),timeout:n._timeout,success:function(f){var d={statusCode:f.statusCode,data:f.data||{}};f.statusCode===200&&(s!=null&&s.success_action_status)&&(d.statusCode=parseInt(s.success_action_status,10)),i(d)},fail:function(f){i(f)},complete:function(f){if(f!=null&&f.errMsg&&!(!r._timeout||r._restrictedMethods.indexOf("upload")===-1)){var d=f.errMsg;if(d==="request:fail timeout"){console.warn(r._timeoutMsg);try{c.abort()}catch{}}}}})})};function t(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}return Hu.genAdapter=function(n){var r={root:{globalThis:{}},reqClass:KD,wsClass:rY,captchaOptions:{openURIWithCallback:function(i){var o=n.EventBus,a={},s=i;console.log("openURIWithCallback",i);var u=i.match(/^(data:.*?)(\?[^#\s]*)?$/);if(u){s=u[1],console.log("openURIWithCallback url",s);var l=u[2];l&&(a=iY(l))}console.log("openURIWithCallback queryObj",a);var c=a.token,f=nhe(a,["token"]);return/^data:/.test(s)&&!c?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: ".concat(i)}):c?new Promise(function(d){console.log("wait for captcha..."),o.$emit("CAPTCHA_DATA_CHANGE",S_(S_({},f),{token:c,url:s})),o.$once("RESOLVE_CAPTCHA_DATA",function(h){d(h)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:nY,primaryStorage:vb.local,getAppSign:function(){var i=wx.getAccountInfoSync();return t()?i&&i.plugin?i.plugin.appId:"":i&&i.miniProgram?i.miniProgram.appId:""}};return r},Hu},$v=function(){return $v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$v.apply(this,arguments)},ihe="user_info",Y5=mde,XD={},JD={};function Z5(t){var e=t.env,n=t.platformInfo,r="".concat(ihe,"_").concat(e),i={userInfoKey:r};XD[e]=XD[e]||new Y5($v($v({},t),{keys:i,platformInfo:n})),JD[e]=JD[e]||new Y5($v($v({},t),{keys:i,platformInfo:n,persistence:"local"}))}function ohe(t){return XD[t]}function oY(t){return JD[t]}var kA=function(){return kA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kA.apply(this,arguments)},ahe=["ap-shanghai","ap-guangzhou","ap-shenzhen-fsi","ap-shanghai-fsi","ap-nanjing","ap-beijing","ap-chengdu","ap-chongqing","ap-hongkong"],she=Yfe,lhe=Zfe,aY="",sY="@cloudbase/js-sdk";function uhe(t){aY=t}function UA(){return aY}function che(t){sY=t,she(t)}function fhe(){return sY}var dhe="2020-01-10",lY=[],hhe=["env","endPointKey","region"],YD="https:";function uY(t){return lY.find(function(e){return hhe.filter(function(n){return t[n]!=null}).every(function(n){return e[n]===t[n]})})}function jA(t){var e,n;t.protocol&&!/:$/.test(t.protocol)&&(t.protocol="".concat(t.protocol,":"));var r=uY(t);r?(t.baseUrl!=null&&(r.baseUrl=t.baseUrl),t.protocol!=null&&(r.protocol=t.protocol)):lY.push(kA(kA({},t),{protocol:(e=t.protocol)!==null&&e!==void 0?e:YD})),t.endPointKey==="CLOUD_API"&&lhe((n=t.protocol)!==null&&n!==void 0?n:YD)}function HA(t,e,n){return uY({env:t,endPointKey:e,region:n})}function phe(t,e,n){n===void 0&&(n="ap-shanghai"),n=n||"ap-shanghai";var r="//".concat(t,".api.tcloudbasegateway.com/v1");ahe.includes(n)||(r="//".concat(t,".api.intl.tcloudbasegateway.com/v1")),jA({endPointKey:"GATEWAY",env:t,baseUrl:r,protocol:e})}function mhe(t,e,n){var r="//".concat(t,".").concat(e||"ap-shanghai",".tcb-api.tencentcloudapi.com/web");jA({env:t,region:e,baseUrl:r,protocol:n,endPointKey:"CLOUD_API"})}function Q5(t,e){e===void 0&&(e="CLOUD_API");var n=HA(t,e||"CLOUD_API"),r=n.protocol,i=n.baseUrl,o="".concat(r).concat(i);return o.match(/(http(s)?:)?\/\/([^/?#]*)/)[0]}var e6;(function(t){t.NULL="NULL",t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.PHONE="PHONE"})(e6||(e6={}));var Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wn.apply(this,arguments)},bu=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},wu=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},vhe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},tR=sa,ghe=ide,yhe=KX,t6=JX,_he=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function nR(t,e,n){var r=t[e];t[e]=function(i){var o={},a={};n.forEach(function(u){var l=u.call(t,i),c=l.data,f=l.headers;Object.assign(o,c),Object.assign(a,f)});var s=i.data;return s&&function(){if(yhe(s)){Object.keys(o).forEach(function(u){s.append(u,o[u])});return}i.data=Wn(Wn({},s),o)}(),i.headers=Wn(Wn({},i.headers||{}),a),r.call(t,i)}}function rR(){var t=ghe();return{data:{seqId:t},headers:{"X-SDK-Version":"@cloudbase/js-sdk/".concat(UA()),"x-seqid":t}}}var bhe=function(){function t(e){var n=this;this.throwWhenRequestFail=!1,this.config=e;var r={timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] ".concat(this.config.timeout/1e3,"s"),restrictedMethods:["post","put"]};this.reqClass=new Tc.adapter.reqClass(r),this.throwWhenRequestFail=e.throw||!1,this.localCache=oY(this.config.env),this.config.endPointMode!=="GATEWAY"&&(nR(this.reqClass,"post",[rR]),nR(this.reqClass,"upload",[rR]),nR(this.reqClass,"download",[rR])),pT.on(mT,function(i){var o;n.config.i18n=((o=i.data)===null||o===void 0?void 0:o.i18n)||n.config.i18n})}return t.prototype.getAccessToken=function(e){return e===void 0&&(e=null),bu(this,void 0,void 0,function(){var n,r,i;return wu(this,function(o){switch(o.label){case 0:if(e!=null)return[2,e];if(n=this.config._fromApp,!n.oauthInstance)throw new Error("you can't request without auth");return r=n.oauthInstance,i=r.oauth2client,[4,this.getOauthAccessTokenV2(i)];case 1:return[2,o.sent().accessToken]}})})},t.prototype.getDefaultHeaders=function(){var e,n,r;return e={},e[(n=this.config.i18n)===null||n===void 0?void 0:n.LANG_HEADER_KEY]=(r=this.config.i18n)===null||r===void 0?void 0:r.lang,e["X-SDK-Version"]="@cloudbase/js-sdk/".concat(UA()),e},t.prototype.post=function(e,n){return bu(this,void 0,void 0,function(){var r;return wu(this,function(i){switch(i.label){case 0:return[4,this.reqClass.post(Wn(Wn({},e),{headers:Wn(Wn({},e.headers),this.getDefaultHeaders()),customReqOpts:n}))];case 1:return r=i.sent(),[2,r]}})})},t.prototype.upload=function(e){return bu(this,void 0,void 0,function(){var n;return wu(this,function(r){switch(r.label){case 0:return[4,this.reqClass.upload(Wn(Wn({},e),{headers:Wn(Wn({},e.headers),this.getDefaultHeaders())}))];case 1:return n=r.sent(),[2,n]}})})},t.prototype.download=function(e){return bu(this,void 0,void 0,function(){var n;return wu(this,function(r){switch(r.label){case 0:return[4,this.reqClass.download(Wn(Wn({},e),{headers:Wn(Wn({},e.headers),this.getDefaultHeaders())}))];case 1:return n=r.sent(),[2,n]}})})},t.prototype.getBaseEndPoint=function(e){return e===void 0&&(e="CLOUD_API"),Q5(this.config.env,e)},t.prototype.getOauthAccessTokenV2=function(e){return bu(this,void 0,void 0,function(){var n,r;return wu(this,function(i){switch(i.label){case 0:return[4,e.getAccessToken()];case 1:return n=i.sent(),[4,e.getCredentials()];case 2:return r=i.sent(),[2,{accessToken:n,accessTokenExpire:new Date(r.expires_at).getTime()}]}})})},t.prototype.request=function(e,n,r,i){var o,a;return bu(this,void 0,void 0,function(){var s,u,l,c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C,T,P;return wu(this,function(N){switch(N.label){case 0:if(s="x-tcb-trace_".concat(this.config.env),u="application/x-www-form-urlencoded",l=Wn({action:e,dataVersion:dhe,env:this.config.env},n),_he.indexOf(e)!==-1)return[3,2];if(c=this.config._fromApp,!c.oauthInstance)throw new Error("you can't request without auth");return f=c.oauthInstance,d=f.oauth2client,h=l,[4,this.getOauthAccessTokenV2(d)];case 1:h.access_token=N.sent().accessToken,N.label=2;case 2:return e==="storage.uploadFile"?(p=new FormData,Object.keys(p).forEach(function(H){Object.prototype.hasOwnProperty.call(p,H)&&p[H]!==void 0&&p.append(H,l[H])}),u="multipart/form-data"):(u="application/json;charset=UTF-8",p={},Object.keys(l).forEach(function(H){l[H]!==void 0&&(p[H]=l[H])})),_={headers:Wn(Wn({"content-type":u},this.getDefaultHeaders()),r==null?void 0:r.headers)},r!=null&&r.onUploadProgress&&(_.onUploadProgress=r.onUploadProgress),this.config.region&&(_.headers["X-TCB-Region"]=this.config.region),y=this.localCache.getStore(s),y&&(_.headers["X-TCB-Trace"]=y),m=(r==null?void 0:r.parse)!==void 0?r.parse:n.parse,b=(r==null?void 0:r.inQuery)!==void 0?r.inQuery:n.inQuery,w=(r==null?void 0:r.search)!==void 0?r.search:n.search,S=Wn(Wn({},(r==null?void 0:r.defaultQuery)||{}),{env:this.config.env}),m&&(S.parse=!0),b&&(S=Wn(Wn({},b),S)),x=this.config.endPointMode||"CLOUD_API",E=HA(this.config.env,x),M=E.baseUrl,O=E.protocol,x==="GATEWAY"&&(e==="functions.invokeFunction"||/^(storage|database)\./.test(e))&&(M="".concat(M.match(/\/\/([^/?#]*)/)[0],"/web")),r.pathname?C=t6(O,"".concat((o=Q5(this.config.env,x))===null||o===void 0?void 0:o.replace(/^https?:/,""),"/").concat(r.pathname),S):C=t6(O,M,S),w&&(C+=w),[4,this.post(Wn({url:C,data:p},_),i)];case 3:if(T=N.sent(),P=(a=T.header)===null||a===void 0?void 0:a["x-tcb-trace"],P&&this.localCache.setStore(s,P),Number(T.status)!==200&&Number(T.statusCode)!==200||!T.data)throw new Error("network request error");return[2,T]}})})},t.prototype.fetch=function(e){var n,r,i,o,a,s,u,l;return bu(this,void 0,void 0,function(){var c,f,d,h,p,_,y,m=this;return wu(this,function(b){switch(b.label){case 0:c=e.token,f=e.headers,d=f===void 0?{}:f,h=vhe(e,["token","headers"]),p=function(){return bu(m,void 0,void 0,function(){var w,S,x,E,M;return wu(this,function(O){switch(O.label){case 0:return S=(w=this.reqClass).fetch,E={},M={"X-SDK-Version":"@cloudbase/js-sdk/".concat(UA())},x="Bearer ".concat,[4,this.getAccessToken(c)];case 1:return[2,S.apply(w,[Wn.apply(void 0,[(E.headers=Wn.apply(void 0,[Wn.apply(void 0,[(M.Authorization=x.apply("Bearer ",[O.sent()]),M),this.getDefaultHeaders()]),d]),E),h])])]}})})},b.label=1;case 1:return b.trys.push([1,3,,6]),[4,p()];case 2:return _=b.sent(),[2,_];case 3:if(y=b.sent(),(y==null?void 0:y.code)!=="ACCESS_TOKEN_EXPIRED")return[3,5];if(typeof((o=(i=(r=(n=this.config)===null||n===void 0?void 0:n._fromApp)===null||r===void 0?void 0:r.oauthInstance)===null||i===void 0?void 0:i.authApi)===null||o===void 0?void 0:o.refreshTokenForce)!="function")throw y;return[4,(l=(u=(s=(a=this.config)===null||a===void 0?void 0:a._fromApp)===null||s===void 0?void 0:s.oauthInstance)===null||u===void 0?void 0:u.authApi)===null||l===void 0?void 0:l.refreshTokenForce()];case 4:return b.sent(),[2,p()];case 5:throw y;case 6:return[2]}})})},t.prototype.send=function(e,n,r,i){return n===void 0&&(n={}),r===void 0&&(r={}),bu(this,void 0,void 0,function(){var o;return wu(this,function(a){switch(a.label){case 0:return[4,this.request(e,n,Wn(Wn({},r),{onUploadProgress:n.onUploadProgress}),i)];case 1:if(o=a.sent(),o.data.code&&this.throwWhenRequestFail)throw new Error(JSON.stringify({code:tR.OPERATION_FAIL,msg:"[".concat(o.data.code,"] ").concat(o.data.message)}));return[2,o.data]}})})},t.prototype.gateWay=function(e,n){return bu(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,d,h,p,_,y,m,b;return wu(this,function(w){switch(w.label){case 0:if(r=e.name,i=e.data,o=e.path,a=o===void 0?"":o,s=e.method,u=e.header,l=u===void 0?{}:u,!r||!a)throw new Error(JSON.stringify({code:tR.INVALID_PARAMS,msg:"[gateWay] invalid function name or path"}));try{c=i?JSON.stringify(i):""}catch{throw new Error(JSON.stringify({code:tR.INVALID_PARAMS,msg:"[gateWay] invalid data"}))}return f=XX(),d=HA(this.config.env,"GATEWAY"),h=d.baseUrl,p=d.protocol,_="".concat(p).concat(h,"/").concat(a,"/").concat(r),[4,this.fetch({method:s||"POST",headers:Wn({"Content-Type":"application/json; charset=utf-8","X-Request-Id":f},l),body:c,url:_,customReqOpts:n})];case 1:return y=w.sent(),m=[Wn({requestId:f},y)],b={},[4,y.data];case 2:return[2,Wn.apply(void 0,m.concat([(b.data=w.sent(),b)]))]}})})},t}(),cY={};function whe(t){cY[t.env]=new bhe(Wn(Wn({},t),{throw:!0}))}function She(t){return cY[t]}var iR,$A;(function(t){t.ZH="zh-CN",t.EN="en-US"})($A||($A={}));var Ehe="Accept-Language",xhe=(iR={},iR[$A.EN]={" AI+ ":"Please check the calling method or visit the AI+ homepage to view the documentation","AI+ ":"AI+ request error, error code",:"error message",:"not implemented"," wasm ":"wasm loading is not supported in mini programs"," js ":"dynamic js loading is not supported in mini programs",:"request timeout"," privatelink sdk ":"missing privatelink sdk address"},iR),n6=function(t,e){var n;return((n=xhe[e])===null||n===void 0?void 0:n[t])||t},Ahe=function(t){return"lang_".concat(t.clientId||t.env)},Che=function(t,e){var n,r,i=Ahe(e),o=(t.adapter||{}).localStorage,a=e.lang||((n=o==null?void 0:o.getItem)===null||n===void 0?void 0:n.call(o,i))||$A.ZH;return(r=o==null?void 0:o.setItem)===null||r===void 0||r.call(o,i,a),new Proxy({t:function(s){return n6(s,a)},LANG_HEADER_KEY:Ehe,lang:a},{get:function(s,u){var l;return u==="lang"&&((l=o==null?void 0:o.getItem)===null||l===void 0?void 0:l.call(o,i))||s[u]},set:function(s,u,l){var c;return u==="lang"&&l!==s[u]&&(s[u]=l,s.t=function(f){return n6(f,l)},(c=o==null?void 0:o.setItem)===null||c===void 0||c.call(o,i,l),pT.fire(mT,{i18n:s})),s[u]=l,!0}})},E_=function(){return E_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E_.apply(this,arguments)},r6=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Tm=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},The=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Mhe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ohe=fde,Ihe=dde,vS=sa,i6=hT,o6=lg,a6=vT,Rhe={timeout:15e3,persistence:"local"},s6=1e3*60*10,l6=100,u6={},Phe=function(){function t(e){this.cloudbaseConfig=e||this.cloudbaseConfig,this.authInstance=null,this.oauthInstance=null,this.version=UA()}return Object.defineProperty(t.prototype,"config",{get:function(){return this.cloudbaseConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return Tc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return ohe(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCache",{get:function(){return oY(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"request",{get:function(){return She(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var n;if(!e.env)throw new Error(JSON.stringify({code:vS.INVALID_PARAMS,msg:"env must not be specified"}));Tc.adapter||this.useDefaultAdapter();var r={timeout:e.timeout||5e3,timeoutMsg:"[".concat(fhe(),"][REQUEST TIMEOUT] request had been abort since didn't finished within").concat(e.timeout/1e3,"s")};this.requestClient=new Tc.adapter.reqClass(r),this.cloudbaseConfig=E_(E_(E_({},Rhe),e),{i18n:Che(Tc,e)}),delete this.cloudbaseConfig.lang,this.cloudbaseConfig.timeout=this.formatTimeout(this.cloudbaseConfig.timeout);var i=this.cloudbaseConfig,o=i.env,a=i.persistence,s=i.debug,u=i.timeout,l=i.oauthClient,c=i.i18n;Z5({env:o,persistence:a,debug:s,platformInfo:this.platform}),mhe(o,e.region||""),phe(o,YD,e.region||"");var f=new t(this.cloudbaseConfig);return whe({env:o,region:e.region||"",timeout:u,oauthClient:l,_fromApp:f,i18n:c,endPointMode:e.endPointMode}),f.requestClient=this.requestClient,this.app=f,(n=this===null||this===void 0?void 0:this.fire)===null||n===void 0||n.call(this,"cloudbase_init",f),this.try2InitAuth(f),f},t.prototype.updateConfig=function(e){var n=e.persistence,r=e.debug;this.cloudbaseConfig.persistence=n,this.cloudbaseConfig.debug=r,Z5({env:this.cloudbaseConfig.env,persistence:n,debug:r,platformInfo:this.platform})},t.prototype.updateLang=function(e){var n;!e||e===((n=this.cloudbaseConfig.i18n)===null||n===void 0?void 0:n.lang)||(this.cloudbaseConfig.i18n.lang=e)},t.prototype.registerExtension=function(e){u6[e.name]=e},t.prototype.invokeExtension=function(e,n){return The(this,void 0,void 0,function(){var r;return Mhe(this,function(i){switch(i.label){case 0:if(r=u6[e],!r)throw new Error(JSON.stringify({code:vS.INVALID_PARAMS,msg:"extension:".concat(e," must be registered before invoke")}));return[4,r.invoke(n,this)];case 1:return[2,i.sent()]}})})},t.prototype.useAdapters=function(e,n){var r=Ohe(e,n)||{},i=r.adapter,o=r.runtime;i&&(Tc.adapter=i),o&&(Tc.runtime=o)},t.prototype.registerHook=function(e){Sde(t,e)},t.prototype.registerComponent=function(e){wde(t,e)},t.prototype.registerVersion=function(e){uhe(e),this.version=e},t.prototype.registerSdkName=function(e){che(e)},t.prototype.registerEndPoint=function(e,n){jA({baseUrl:e,protocol:n,env:this.config.env,endPointKey:"CLOUD_API"})},t.prototype.registerEndPointWithKey=function(e){jA({env:this.config.env,endPointKey:e.key,baseUrl:e.url,protocol:e.protocol})},t.prototype.getEndPointWithKey=function(e){var n=HA(this.config.env,e);return{BASE_URL:n.baseUrl,PROTOCOL:n.protocol}},t.prototype.parseCaptcha=function(e){return sde(e)},t.prototype.useDefaultAdapter=function(){var e=Ihe.bind(this)(),n=e.adapter,r=e.runtime;Tc.adapter=n,Tc.runtime=r},t.prototype.formatTimeout=function(e){switch(!0){case e>s6:return o6(vS.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),s6;case e<l6:return o6(vS.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),l6;default:return e}},t.prototype.try2InitAuth=function(e){e===void 0&&(e=this.app);try{var n=e.auth();Reflect.ownKeys(n).forEach(function(r){e.auth[r]=n[r]}),e.auth.__proto__=n.__proto__}catch(r){console.log("try2InitAuth error:",r)}},r6([a6({mode:"sync",title:"Cloudbase ",messages:["","  1 -  cloudbase.init() ","  2 - https://docs.cloudbase.net/api-reference/webv3/adapter#%E7%AC%AC-2-%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E5%BA%94%E7%94%A8%E6%9D%A5%E6%BA%90","".concat(i6)]}),Tm("design:type",Function),Tm("design:paramtypes",[Object]),Tm("design:returntype",t)],t.prototype,"init",null),r6([a6({title:"",messages:["","  1 -  invokeExtension() ","  2 -  registerExtension() ","".concat(i6)]}),Tm("design:type",Function),Tm("design:paramtypes",[String,Object]),Tm("design:returntype",Promise)],t.prototype,"invokeExtension",null),t}(),ta=new Phe;ta.useAdapters(rhe());const wT="/auth";var An;(function(t){t.AUTH_SIGN_UP_URL="/v1/signup",t.AUTH_TOKEN_URL="/v1/token",t.AUTH_REVOKE_URL="/v1/revoke",t.WEDA_USER_URL="/v1/plugin/weda/userinfo",t.AUTH_RESET_PASSWORD="/v1/reset",t.AUTH_GET_DEVICE_CODE="/v1/device/code",t.CHECK_USERNAME="/v1/checkUsername",t.CHECK_IF_USER_EXIST="/v1/checkIfUserExist",t.GET_PROVIDER_TYPE="/v1/mgr/provider/providerSubType",t.AUTH_SIGN_IN_URL="/v1/signin",t.AUTH_SIGN_IN_ANONYMOUSLY_URL="/v1/signin/anonymously",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v1/signin/with/provider",t.AUTH_SIGN_IN_WITH_WECHAT_URL="/v1/signin/wechat/noauth",t.AUTH_SIGN_IN_CUSTOM="/v1/signin/custom",t.PROVIDER_TOKEN_URL="/v1/provider/token",t.PROVIDER_URI_URL="/v1/provider/uri",t.USER_ME_URL="/v1/user/me",t.AUTH_SIGNOUT_URL="/v1/user/signout",t.USER_QUERY_URL="/v1/user/query",t.USER_PRIFILE_URL="/v1/user/profile",t.USER_BASIC_EDIT_URL="/v1/user/basic/edit",t.USER_TRANS_BY_PROVIDER_URL="/v1/user/trans/by/provider",t.PROVIDER_LIST="/v1/user/provider",t.PROVIDER_BIND_URL="/v1/user/provider/bind",t.PROVIDER_UNBIND_URL="/v1/user/provider",t.CHECK_PWD_URL="/v1/user/sudo",t.SUDO_URL="/v1/user/sudo",t.BIND_CONTACT_URL="/v1/user/contact",t.AUTH_SET_PASSWORD="/v1/user/password",t.AUTHORIZE_DEVICE_URL="/v1/user/device/authorize",t.AUTHORIZE_URL="/v1/user/authorize",t.AUTHORIZE_INFO_URL="/v1/user/authorize/info",t.AUTHORIZED_DEVICES_DELETE_URL="/v1/user/authorized/devices/",t.AUTH_REVOKE_ALL_URL="/v1/user/revoke/all",t.GET_USER_BEHAVIOR_LOG="/v1/user/security/history",t.VERIFICATION_URL="/v1/verification",t.VERIFY_URL="/v1/verification/verify",t.CAPTCHA_DATA_URL="/v1/captcha/data",t.VERIFY_CAPTCHA_DATA_URL="/v1/captcha/data/verify",t.GET_CAPTCHA_URL="/v1/captcha/init",t.GET_MINIPROGRAM_QRCODE="/v1/qrcode/generate",t.GET_MINIPROGRAM_QRCODE_STATUS="/v1/qrcode/get/status"})(An||(An={}));var dg;(function(t){t.AUTH_SIGN_IN_URL="/v2/signin/username",t.AUTH_TOKEN_URL="/v2/token",t.USER_ME_URL="/v2/user/me",t.VERIFY_URL="/v2/signin/verificationcode",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v2/signin/with/provider",t.AUTH_PUBLIC_KEY="/v2/signin/publichkey",t.AUTH_RESET_PASSWORD="/v2/signin/password/update"})(dg||(dg={}));var c6;(function(t){t.REGISTER="REGISTER",t.SIGN_IN="SIGN_IN",t.PASSWORD_RESET="PASSWORD_RESET",t.EMAIL_ADDRESS_CHANGE="EMAIL_ADDRESS_CHANGE",t.PHONE_NUMBER_CHANGE="PHONE_NUMBER_CHANGE"})(c6||(c6={}));var Oa;(function(t){t.UNREACHABLE="unreachable",t.LOCAL="local",t.CANCELLED="cancelled",t.UNKNOWN="unknown",t.UNAUTHENTICATED="unauthenticated",t.RESOURCE_EXHAUSTED="resource_exhausted",t.FAILED_PRECONDITION="failed_precondition",t.INVALID_ARGUMENT="invalid_argument",t.DEADLINE_EXCEEDED="deadline_exceeded",t.NOT_FOUND="not_found",t.ALREADY_EXISTS="already_exists",t.PERMISSION_DENIED="permission_denied",t.ABORTED="aborted",t.OUT_OF_RANGE="out_of_range",t.UNIMPLEMENTED="unimplemented",t.INTERNAL="internal",t.UNAVAILABLE="unavailable",t.DATA_LOSS="data_loss",t.INVALID_PASSWORD="invalid_password",t.PASSWORD_NOT_SET="password_not_set",t.INVALID_STATUS="invalid_status",t.USER_PENDING="user_pending",t.USER_BLOCKED="user_blocked",t.INVALID_VERIFICATION_CODE="invalid_verification_code",t.TWO_FACTOR_REQUIRED="two_factor_required",t.INVALID_TWO_FACTOR="invalid_two_factor",t.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",t.UNDER_REVIEW="under_review",t.INVALID_REQUEST="invalid_request",t.UNAUTHORIZED_CLIENT="unauthorized_client",t.ACCESS_DENIED="access_denied",t.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",t.INVALID_SCOPE="invalid_scope",t.INVALID_GRANT="invalid_grant",t.SERVER_ERROR="server_error",t.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",t.INTERACTION_REQUIRED="interaction_required",t.LOGIN_REQUIRED="login_required",t.ACCOUNT_SELECTION_REQUIRED="account_selection_required",t.CONSENT_REQUIRED="consent_required",t.INVALID_REQUEST_URI="invalid_request_uri",t.INVALID_REQUEST_OBJECT="invalid_request_object",t.REQUEST_NOT_SUPPORTED="request_not_supported",t.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",t.REGISTRATION_NOT_SUPPORTED="registration_not_supported",t.CAPTCHA_REQUIRED="captcha_required",t.CAPTCHA_INVALID="captcha_invalid"})(Oa||(Oa={}));const zA={SIGN_OUT:"sign_out",SIGN_IN:"sign_in",CREDENTIALS_ERROR:"credentials_error"},Kl={SIGNED_OUT:"SIGNED_OUT",SIGNED_IN:"SIGNED_IN",INITIAL_SESSION:"INITIAL_SESSION",PASSWORD_RECOVERY:"PASSWORD_RECOVERY",TOKEN_REFRESHED:"TOKEN_REFRESHED",USER_UPDATED:"USER_UPDATED",BIND_IDENTITY:"BIND_IDENTITY"},Fo={LOGIN_STATE_CHANGED:"loginStateChanged",AUTH_STATE_CHANGED:"authStateChanged"},jc={SIGN_IN:"sign_in",BIND_IDENTITY:"bind_identity"};var f6;(function(t){t.CLIENT_ID="client_id",t.CLIENT_SECRET="client_secret",t.RESPONSE_TYPE="response_type",t.SCOPE="scope",t.STATE="state",t.REDIRECT_URI="redirect_uri",t.ERROR="error",t.ERROR_DESCRIPTION="error_description",t.ERROR_URI="error_uri",t.GRANT_TYPE="grant_type",t.CODE="code",t.ACCESS_TOKEN="access_token",t.TOKEN_TYPE="token_type",t.EXPIRES_IN="expires_in",t.USERNAME="username",t.PASSWORD="password",t.REFRESH_TOKEN="refresh_token"})(f6||(f6={}));function fY(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const Ox=t=>{const e=r=>{for(const i in t)t.hasOwnProperty(i)&&(r[i]=Ox(t[i]));return r},n=t==null?"NullOrUndefined":Object.prototype.toString.call(t).slice(8,-1);if(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].includes(n))return t.slice();switch(n){case"Object":return e(Object.create(Object.getPrototypeOf(t)));case"Array":return e([]);case"Date":return new Date(t.valueOf());case"RegExp":return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""));default:return t}},d6=t=>{const e=/^(?:http(s)?:\/\/[^\/]+)?(\/[^\?#]*)/,n=t.match(e);return n&&n[2]||""};let cy=new Map;class dY{constructor(e){this.clientId=(e==null?void 0:e.clientId)||"",cy=cy||new Map}async run(e,n){e=`${this.clientId}_${e}`;let r=cy.get(e);return r||(r=new Promise((i,o)=>{(async()=>{try{await this.runIdlePromise();const a=n();i(await a)}catch(a){o(a)}finally{cy.delete(e)}})()}),cy.set(e,r)),r}runIdlePromise(){return Promise.resolve()}}const ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Dhe=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Lhe(t){t=String(t);let e,n,r,i,o="",a=0;const s=t.length%3;for(;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=n<<16|r<<8|i,o+=ld.charAt(e>>18&63)+ld.charAt(e>>12&63)+ld.charAt(e>>6&63)+ld.charAt(e&63)}return s?o.slice(0,s-3)+"===".substring(s):o}const hY=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Dhe.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(t.length&3));let e,n="",r,i,o=0;for(;o<t.length;)e=ld.indexOf(t.charAt(o++))<<18|ld.indexOf(t.charAt(o++))<<12|(r=ld.indexOf(t.charAt(o++)))<<6|(i=ld.indexOf(t.charAt(o++))),n+=r===64?String.fromCharCode(e>>16&255):i===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return n};function Nhe(t){return decodeURIComponent(hY(t).replace(/(.)/g,e=>{let n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n=`0${n}`),`%${n}`}))}function Bhe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}try{return Nhe(e)}catch{return hY(e)}}function Fhe(t){if(typeof t!="string")throw new Error("Invalid token specified");try{const e=t.split(".").map((n,r)=>r===2?n:JSON.parse(Bhe(n)));return{claims:e[1],header:e[0],signature:e[2]}}catch(e){throw new Error(`Invalid token specified: ${e}`?e.message:"")}}function AF(){if(typeof globalThis>"u")return!1;const{wx:t}=globalThis;if(typeof t>"u"||globalThis.Page===void 0||!t.getSystemInfoSync||!t.getStorageSync||!t.setStorageSync||!t.connectSocket||!t.request)return!1;try{if(!t.getSystemInfoSync()||t.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}let GA=!1;function h6(){GA=GA||typeof window!==void 0&&window.__wxjs_environment==="miniprogram"}try{AF()||(GA=GA||!!navigator.userAgent.match(/miniprogram/i)||window.__wxjs_environment==="miniprogram",window&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke?h6():typeof document<"u"&&document.addEventListener("WeixinJSBridgeReady",h6,!1))}catch{}const p6="x-request-id",m6="x-device-id",v6="device_id",khe=async function(t,e){let n=null,r=null;try{const i=Object.assign({},e);i.method||(i.method="GET"),i.body&&typeof i.body!="string"&&(i.body=JSON.stringify(i.body));const a=await(await fetch(t,i)).json();a!=null&&a.error?(r=a,r.error_uri=new URL(t).pathname):n=a}catch(i){r={error:Oa.UNREACHABLE,error_description:i.message,error_uri:new URL(t).pathname}}if(r)throw r;return n};function Uhe(){return fY()}class jhe{constructor(e){this._env=(e==null?void 0:e.env)||""}async getItem(e){return window.localStorage.getItem(`${e}${this._env}`)}async removeItem(e){window.localStorage.removeItem(`${e}${this._env}`)}async setItem(e,n){window.localStorage.setItem(`${e}${this._env}`,n)}getItemSync(e){return window.localStorage.getItem(`${e}${this._env}`)}removeItemSync(e){window.localStorage.removeItem(`${e}${this._env}`)}setItemSync(e,n){window.localStorage.setItem(`${e}${this._env}`,n)}}const CF=new jhe;function pY(t){let e=!0;return t!=null&&t.expires_at&&(t!=null&&t.access_token)&&(e=t.expires_at<new Date),e}class Hhe{constructor(e){this.credentials=null,this.accessKeyCredentials=null,this.singlePromise=null,this.tokenSectionName=e.tokenSectionName,this.storage=e.storage,this.clientId=e.clientId,this.singlePromise=new dY({clientId:this.clientId}),this.credentials=e.credentials||null}getStorageCredentialsSync(){let e=null;const n=this.storage.getItemSync(this.tokenSectionName);if(n!=null)try{e=JSON.parse(n),e!=null&&e.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{this.storage.removeItem(this.tokenSectionName),e=null}return e}async setCredentials(e){if(e!=null&&e.expires_in){if(e!=null&&e.expires_at||(e.expires_at=new Date(Date.now()+(e.expires_in-30)*1e3)),this.storage){const n=JSON.stringify(e);await this.storage.setItem(this.tokenSectionName,n)}this.credentials=e}else this.storage&&await this.storage.removeItem(this.tokenSectionName),this.credentials=null}setAccessKeyCredentials(e){this.accessKeyCredentials=e}async getCredentials(){return this.singlePromise.run("getCredentials",async()=>{if(pY(this.credentials)){const{credentials:e,isAccessKeyCredentials:n}=await this.getStorageCredentials();if(n)return e;this.credentials=e}return this.credentials})}async getStorageCredentials(){return this.singlePromise.run("_getStorageCredentials",async()=>{let e=null,n=!1;const r=await this.storage.getItem(this.tokenSectionName);if(r)try{e=JSON.parse(r),e!=null&&e.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{await this.storage.removeItem(this.tokenSectionName),e=null}else e=this.accessKeyCredentials||null,n=!0;return{credentials:e,isAccessKeyCredentials:n}})}}class Zl{constructor(e){this.initializePromise=null,this.lockAcquired=!1,this.pendingInLock=[],this.singlePromise=null,e.clientSecret||(e.clientSecret=""),!e.clientId&&e.env&&(e.clientId=e.env),this.apiOrigin=e.apiOrigin,this.apiPath=e.apiPath||wT,this.clientId=e.clientId,this.i18n=e.i18n,this.eventBus=e.eventBus,this.singlePromise=new dY({clientId:this.clientId}),this.retry=this.formatRetry(e.retry,Zl.defaultRetry),e.baseRequest?this.baseRequest=e.baseRequest:this.baseRequest=khe,this.tokenInURL=e.tokenInURL,this.headers=e.headers,this.storage=e.storage||CF,this.localCredentials=new Hhe({tokenSectionName:`credentials_${e.clientId}`,storage:this.storage,clientId:e.clientId}),this.clientSecret=e.clientSecret,e.clientId&&(this.basicAuth=`Basic ${Lhe(`${e.clientId}:${this.clientSecret}`)}`),this.wxCloud=e.wxCloud;try{AF()&&(this.useWxCloud=e.useWxCloud,this.wxCloud===void 0&&e.env&&(wx.cloud.init({env:e.env}),this.wxCloud=wx.cloud))}catch{}this.refreshTokenFunc=e.refreshTokenFunc||this.defaultRefreshTokenFunc,this.anonymousSignInFunc=e.anonymousSignInFunc,this.onCredentialsError=e.onCredentialsError,this.getInitialSession=e.getInitialSession,this.onInitialSessionObtained=e.onInitialSessionObtained,this.logDebugMessages=e.debug??!1,pT.on(mT,n=>{var r;this.i18n=((r=n.data)==null?void 0:r.i18n)||this.i18n})}setGetInitialSession(e){this.getInitialSession=e}setOnInitialSessionObtained(e){this.onInitialSessionObtained=e}async initialize(e){return this.initializePromise?await this.initializePromise:e!==void 0?(this.initializePromise=e,await this.initializePromise):(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async setCredentials(e){return await this.initializePromise,this._acquireLock(-1,async()=>this.localCredentials.setCredentials(e))}setAccessKeyCredentials(e){return this.localCredentials.setAccessKeyCredentials(e)}async getAccessToken(){await this.initializePromise;const e=await this.getCredentials();if(e!=null&&e.access_token)return Promise.resolve(e.access_token);const n={error:Oa.UNAUTHENTICATED};return Promise.reject(n)}async request(e,n){var a,s;n||(n={});const r=this.formatRetry(n.retry,this.retry);if(n.headers={...n.headers,[(a=this.i18n)==null?void 0:a.LANG_HEADER_KEY]:(s=this.i18n)==null?void 0:s.lang},this.headers&&(n.headers={...this.headers,...n.headers}),n.headers[p6]||(n.headers[p6]=Uhe()),!n.headers[m6]){const u=await this.getDeviceId();n.headers[m6]=u}if(n!=null&&n.withBasicAuth&&this.basicAuth&&(n.headers.Authorization=this.basicAuth),n!=null&&n.withCredentials){const u=n.getCredentials?await n.getCredentials():await this.getCredentials();u&&(this.tokenInURL?(e.indexOf("?")<0&&(e+="?"),e+=`access_token=${u.access_token}`):n.headers.Authorization=`${u.token_type} ${u.access_token}`)}else this.clientId&&e.indexOf("client_id")<0&&(e+=e.indexOf("?")<0?"?":"&",e+=`client_id=${this.clientId}`);e.startsWith("/")&&(e=`${this.apiOrigin}${this.apiPath}${e}`);let i=null;const o=r+1;for(let u=0;u<o;u++){try{n.useWxCloud||this.useWxCloud?i=await this.wxCloudCallFunction(e,n):i=await this.baseRequest(e,n);break}catch(l){if(n.withCredentials&&l&&l.error===Oa.UNAUTHENTICATED)return await this.setCredentials(null),Promise.reject(l);if(u===r||!l||l.error!=="unreachable")return Promise.reject(l)}await this.sleep(Zl.retryInterval)}return i}async wxCloudCallFunction(e,n){var o;let r=null,i=null;try{let a="";try{a=await wx.getRendererUserAgent()}catch{}const{result:s}=await this.wxCloud.callFunction({name:"httpOverCallFunction",data:{url:e,method:n.method,headers:{origin:"https://servicewechat.com","User-Agent":a,...n.headers},body:n.body}});(o=s==null?void 0:s.body)!=null&&o.error_code?(i=s==null?void 0:s.body,i.error_uri=d6(e)):r=s==null?void 0:s.body}catch(a){i={error:Oa.UNREACHABLE,error_description:a.message,error_uri:d6(e)}}if(i)throw i;return r}async getCredentials(){return await this.initializePromise,this._acquireLock(-1,async()=>this._getCredentials())}getCredentialsSync(){return this.localCredentials.getStorageCredentialsSync()}getCredentialsAsync(){return this.getCredentials()}async getScope(){var n;const e=await this.localCredentials.getCredentials();if(!e){const r="credentials not found";return(n=this.onCredentialsError)==null||n.call(this,{msg:r}),this.unAuthenticatedError(r)}return e.scope}async getGroups(){var n;const e=await this.localCredentials.getCredentials();if(!e){const r="credentials not found";return(n=this.onCredentialsError)==null||n.call(this,{msg:r}),this.unAuthenticatedError(r)}return e.groups}async refreshToken(e,n){return await this.initializePromise,this._acquireLock(-1,async()=>this._refreshToken(e,n))}async _refreshToken(e,n){return this.singlePromise.run("_refreshToken",async()=>{var r,i,o,a;if(!e||!e.refresh_token){const s="no refresh token found in credentials";return(r=this.onCredentialsError)==null||r.call(this,{msg:s}),this.unAuthenticatedError(s)}try{const s=await this.refreshTokenFunc(e.refresh_token,e);return await this.localCredentials.setCredentials(s),(i=this.eventBus)==null||i.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.TOKEN_REFRESHED}),s}catch(s){if(n!=null&&n.throwError)throw s;if(s.error===Oa.INVALID_GRANT){await this.localCredentials.setCredentials(null);const u=s.error_description;return(o=this.onCredentialsError)==null||o.call(this,{msg:u}),this.unAuthenticatedError(u)}return(a=this.onCredentialsError)==null||a.call(this,{msg:s.error_description}),Promise.reject(s)}})}async anonymousLogin(e){return this.singlePromise.run("_anonymousLogin",async()=>(this.anonymousSignInFunc?e=await this.anonymousSignInFunc(e)||await this.localCredentials.getCredentials():e=await this.anonymousSignIn(e),e))}checkRetry(e){let n=null;if((typeof e!="number"||e<Zl.minRetry||e>Zl.maxRetry)&&(n={error:Oa.UNREACHABLE,error_description:"wrong options param: retry"}),n)throw n;return e}formatRetry(e,n){return typeof e>"u"?n:this.checkRetry(e)}async sleep(e){return new Promise(n=>{setTimeout(()=>{n()},e)})}async anonymousSignIn(e){return this.singlePromise.run("_anonymous",async()=>{if(!e||e.scope!=="anonymous")return this.unAuthenticatedError("no anonymous in credentials");try{const n=await this.request(An.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",withBasicAuth:!0,body:{}});return await this.localCredentials.setCredentials(n),n}catch(n){return n.error===Oa.INVALID_GRANT?(await this.localCredentials.setCredentials(null),this.unAuthenticatedError(n.error_description)):Promise.reject(n)}})}async defaultRefreshTokenFunc(e,n){var o;if(e===void 0||e===""){const a="refresh token not found";return(o=this.onCredentialsError)==null||o.call(this,{msg:a}),this.unAuthenticatedError(a)}let r=An.AUTH_TOKEN_URL;return(n==null?void 0:n.version)==="v2"&&(r=dg.AUTH_TOKEN_URL),{...await this.request(r,{method:"POST",body:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"refresh_token",refresh_token:e}}),version:(n==null?void 0:n.version)||"v1"}}async getDeviceId(){if(this.deviceID)return this.deviceID;let e=await this.storage.getItem(v6);return typeof e=="string"&&e.length>=16&&e.length<=48||(e=fY(),await this.storage.setItem(v6,e)),this.deviceID=e,e}unAuthenticatedError(e){const n={error:Oa.UNAUTHENTICATED,error_description:e};return Promise.reject(n)}_debug(...e){this.logDebugMessages&&console.log("[OAuth2Client]",...e)}async _initialize(){try{if(!this.getInitialSession)return this._debug("#_initialize()","no getInitialSession callback set, skipping"),{error:null};this._debug("#_initialize()","calling getInitialSession callback");try{const{data:e,error:n}=await this.getInitialSession();if(e!=null&&e.session&&(this._debug("#_initialize()","session obtained from getInitialSession",e.session),await this.localCredentials.setCredentials(e==null?void 0:e.session)),this.onInitialSessionObtained){this._debug("#_initialize()","calling onInitialSessionObtained callback");try{await this.onInitialSessionObtained(e,n)}catch(r){this._debug("#_initialize()","error in onInitialSessionObtained",r)}}return n?(this._debug("#_initialize()","error from getInitialSession",n),{error:n}):{error:null}}catch(e){return this._debug("#_initialize()","exception during getInitialSession",e),{error:e instanceof Error?e:new Error(String(e))}}}catch(e){return this._debug("#_initialize()","unexpected error",e),{error:e instanceof Error?e:new Error(String(e))}}finally{this._debug("#_initialize()","end")}}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}this._debug("#_acquireLock","acquiring lock for client",this.clientId);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","releasing lock for client",this.clientId),this.lockAcquired=!1}}finally{this._debug("#_acquireLock","end")}}async _getCredentials(){var n,r,i;let e=await this.localCredentials.getCredentials();if(!e){const o="credentials not found";return(n=this.onCredentialsError)==null||n.call(this,{msg:o}),this.unAuthenticatedError(o)}if(pY(e))if(e.refresh_token)try{e=await this._refreshToken(e)}catch(o){if(e.scope==="anonymous")e=await this.anonymousLogin(e);else return(r=this.onCredentialsError)==null||r.call(this,{msg:o.error_description}),Promise.reject(o)}else if(e.scope==="anonymous")e=await this.anonymousLogin(e);else{const o="no refresh token found in credentials";return(i=this.onCredentialsError)==null||i.call(this,{msg:o}),this.unAuthenticatedError(o)}return e}}Zl.defaultRetry=2;Zl.minRetry=0;Zl.maxRetry=5;Zl.retryInterval=1e3;const $he="modulepreload",zhe=function(t){return"/"+t},g6={},Ghe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=zhe(u),u in g6)return;g6[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":$he,l||(f.as="script"),f.crossOrigin="",f.href=u,s&&f.setAttribute("nonce",s),document.head.appendChild(f),l)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var rs={},ol={},ar={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.COMMUNITY_SITE_URL=aa.IS_DEBUG_MODE=aa.getProtocol=aa.setProtocol=aa.getSdkName=aa.setSdkName=void 0;var mY="@cloudbase/js-sdk";function Whe(t){mY=t}aa.setSdkName=Whe;function Vhe(){return mY}aa.getSdkName=Vhe;var vY="https:";function qhe(t){vY=t}aa.setProtocol=qhe;function Khe(){return vY}aa.getProtocol=Khe;aa.IS_DEBUG_MODE=!1;aa.COMMUNITY_SITE_URL="https://support.qq.com/products/148793";var ST={};Object.defineProperty(ST,"__esModule",{value:!0});ST.ERRORS=void 0;ST.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"};(function(t){var e=bn&&bn.__createBinding||(Object.create?function(r,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,a,s)}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]}),n=bn&&bn.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.OATUH_LOGINTYPE=void 0,n(aa,t),n(ST,t),t.OATUH_LOGINTYPE="constants"})(ar);(function(t){var e=bn&&bn.__rest||function(N,H){var B={};for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&H.indexOf(k)<0&&(B[k]=N[k]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,k=Object.getOwnPropertySymbols(N);j<k.length;j++)H.indexOf(k[j])<0&&Object.prototype.propertyIsEnumerable.call(N,k[j])&&(B[k[j]]=N[k[j]]);return B};Object.defineProperty(t,"__esModule",{value:!0}),t.parseCaptcha=t.parseQueryString=t.transformPhone=t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.formatUrl=t.generateRequestId=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var n=ar;function r(N){return Object.prototype.toString.call(N)==="[object Array]"}t.isArray=r;function i(N){return typeof N=="string"}t.isString=i;function o(N){return typeof N>"u"}t.isUndefined=o;function a(N){return Object.prototype.toString.call(N)==="[object Object]"}t.isPalinObject=a;function s(N){return Object.prototype.toString.call(N)==="[object Null]"}t.isNull=s;function u(N,H){return N instanceof H}t.isInstanceOf=u;function l(N){return Object.prototype.toString.call(N)==="[object FormData]"}t.isFormData=l;function c(){return Math.random().toString(16).slice(2)}t.genSeqId=c;function f(){var N=new Date().getTime(),H=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(B){var k=Math.random()*16;return N>0?(k=(N+k)%16|0,N=Math.floor(N/16)):(k=(H+k)%16|0,H=Math.floor(H/16)),(B==="x"?k:k&7|8).toString(16)})}t.generateRequestId=f;function d(N,H,B){B===void 0&&(B={});var k=/\?/.test(H),j="";return Object.keys(B).forEach(function($){j===""?!k&&(H+="?"):j+="&",j+="".concat($,"=").concat(encodeURIComponent(B[$]))}),H+=j,/^http(s)?:\/\//.test(H)?H:"".concat(N).concat(H)}t.formatUrl=d;function h(N){N===void 0&&(N={});var H=[];return Object.keys(N).forEach(function(B){H.push("".concat(B,"=").concat(encodeURIComponent(N[B])))}),H.join("&")}t.toQueryString=h;function p(N,H){if(typeof window>"u")return!1;var B=H||decodeURIComponent(window.location.search),k=new RegExp("(^|&)".concat(N,"=([^&]*)(&|$)")),j=B.substr(B.indexOf("?")+1).match(k);return j!=null?j[2]:""}t.getQuery=p;var _=function(N){if(typeof window>"u")return"";var H=window.location.hash.match(new RegExp("[#?&/]".concat(N,"=([^&#]*)")));return H?H[1]:""};t.getHash=_;function y(N,H){var B=H.split("?")[0],k,j=[],$=H.indexOf("?")!==-1?H.split("?")[1]:"";if($!==""){j=$.split("&");for(var F=j.length-1;F>=0;F-=1)k=j[F].split("=")[0],k===N&&j.splice(F,1);B="".concat(B,"?").concat(j.join("&"))}return B}t.removeParam=y;function m(){var N={};if(!Promise){N=function(){},N.promise={};var H=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(N.promise,"then",{get:H}),Object.defineProperty(N.promise,"catch",{get:H}),N}var B=new Promise(function(k,j){N=function($,F){return $?j($):k(F)}});return N.promise=B,N}t.createPromiseCallback=m;function b(N,H,B){if(B===void 0&&(B=null),N&&typeof N=="function")return N(H,B);if(H)throw H;return B}t.execCallback=b;function w(N,H){console.warn("[".concat((0,n.getSdkName)(),"][").concat(N,"]:").concat(H))}t.printWarn=w;function S(N,H){console.error({code:N,msg:"[".concat((0,n.getSdkName)(),"][").concat(N,"]:").concat(H)})}t.printError=S;function x(N,H){console.log("[".concat((0,n.getSdkName)(),"][").concat(N,"]:").concat(H))}t.printInfo=x;function E(N,H){throw new Error(JSON.stringify({code:N,msg:"[".concat((0,n.getSdkName)(),"][").concat(N,"]:").concat(H)}))}t.throwError=E;function M(N){var H,B=N.title,k=N.subtitle,j=k===void 0?"":k,$=N.content,F=$===void 0?[]:$,R=N.printTrace,L=R===void 0?!1:R,W=N.collapsed,Z=W===void 0?!1:W;Z?(console.groupCollapsed||console.error)(B,j):(console.group||console.error)(B,j);for(var ee=0,oe=F;ee<oe.length;ee++){var pe=oe[ee],ie=pe.type,ce=pe.body;switch(ie){case"info":console.log(ce);break;case"warn":console.warn(ce);break;case"error":console.error(ce);break}}L&&(console.trace||console.log)("stack trace:"),(H=console.groupEnd)===null||H===void 0||H.call(console)}t.printGroupLog=M;var O=function(N){return N===void 0&&(N=0),new Promise(function(H){return setTimeout(H,N)})};t.sleep=O;function C(N){return"+86".concat(N)}t.transformPhone=C;var T=function(N){N=N.replace(/^\?/,"");var H={},B=N.split("&");return B.forEach(function(k){var j=k.split("="),$=j[0],F=j[1];$=decodeURIComponent($),F=decodeURIComponent(F),$&&(H[$]?Array.isArray(H[$])?H[$].push(F):H[$]=[H[$],F]:H[$]=F)}),H};t.parseQueryString=T;function P(N){var H={},B=N.match(/^(data:.*?)(\?[^#\s]*)?$/);if(B){N=B[1];var k=B[2];k&&(H=(0,t.parseQueryString)(k))}var j=H.token,$=e(H,["token"]);return/^data:/.test(N)&&!j?{error:"invalid_argument",error_description:"invalid captcha data: ".concat(N)}:j?{state:$.state,token:j,captchaData:N}:{error:"unimplemented",error_description:"need to impl captcha data"}}t.parseCaptcha=P})(ol);var Xhe=bn&&bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jhe=bn&&bn.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(rs,"__esModule",{value:!0});rs.removeEventListener=rs.activateEvent=rs.addEventListener=MF=rs.CloudbaseEventEmitter=rs.IErrorEvent=rs.CloudbaseEvent=void 0;var y6=ol;function Yhe(t,e,n){n[t]=n[t]||[],n[t].push(e)}function Zhe(t,e,n){if(n!=null&&n[t]){var r=n[t].indexOf(e);r!==-1&&n[t].splice(r,1)}}var TF=function(){function t(e,n){this.data=n||null,this.name=e}return t}();rs.CloudbaseEvent=TF;var gY=function(t){Xhe(e,t);function e(n,r){var i=t.call(this,"error",{error:n,data:r})||this;return i.error=n,i}return e}(TF);rs.IErrorEvent=gY;var yY=function(){function t(){this.listeners={}}return t.prototype.on=function(e,n){return Yhe(e,n,this.listeners),this},t.prototype.off=function(e,n){return Zhe(e,n,this.listeners),this},t.prototype.fire=function(e,n){if((0,y6.isInstanceOf)(e,gY))return console.error(e.error),this;var r=(0,y6.isString)(e)?new TF(e,n||{}):e,i=r.name;if(this.listens(i)){r.target=this;for(var o=this.listeners[i]?Jhe([],this.listeners[i],!0):[],a=0,s=o;a<s.length;a++){var u=s[a];u.call(this,r)}}return this},t.prototype.listens=function(e){return this.listeners[e]&&this.listeners[e].length>0},t}(),MF=rs.CloudbaseEventEmitter=yY,OF=new yY;function Qhe(t,e){OF.on(t,e)}rs.addEventListener=Qhe;function epe(t,e){e===void 0&&(e={}),OF.fire(t,e)}rs.activateEvent=epe;function tpe(t,e){OF.off(t,e)}rs.removeEventListener=tpe;const _6=(t,e)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t.apply(null,r),e)}},_Y=new MF,bY={CAPTCHA_DATA_CHANGE:"captchaDataChange",RESOLVE_CAPTCHA_DATA:"resolveCaptchaData"},ga={overlay:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:999",modal:"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:320px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.2);z-index:1000",prompt:"margin-bottom:15px",captchaWrap:"display:flex;align-items:center;justify-content:space-between;margin-bottom:15px",captchaImg:"width:100%;height:auto;border:1px solid #eee",refreshBtn:"padding:10px 8px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;white-space:nowrap;margin-left:10px",input:"width:100%;padding:14px 16px;margin-bottom:15px;box-sizing:border-box;border:2px solid #e8ecf4;border-radius:10px;font-size:15px",confirmBtn:"width:100%;padding:10px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer",loading:"background:#6c757d;cursor:not-allowed"},npe=({oauthInstance:t,captchaState:e})=>{const n="captcha-image",r=async()=>{try{const p=await t.createCaptchaData({state:e.state});e={...e,captchaData:p.data,token:p.token},document.getElementById(n).src=p.data}catch(p){console.error("",p)}},i=(p,_,y)=>{const m=document.createElement(p);return _&&(m.style.cssText=_),y&&(m.textContent=y),m},o=i("div",ga.overlay),a=i("div",ga.modal);a.appendChild(i("p",ga.prompt,""));const s=i("div",ga.captchaWrap),u=i("img",ga.captchaImg);u.id=n,u.src=e.captchaData,s.appendChild(u);const l=i("button",ga.refreshBtn,"");l.onclick=_6(async()=>{l.textContent="...",l.disabled=!0,l.style.cssText=`${ga.refreshBtn};${ga.loading}`;try{await r()}finally{l.textContent="",l.disabled=!1,l.style.cssText=ga.refreshBtn}},500),s.appendChild(l),a.appendChild(s);const c=i("input",ga.input);c.type="text",c.placeholder="",c.maxLength=4,a.appendChild(c);const f=i("div","color:#dc3545;font-size:12px;margin-bottom:10px;display:none;padding:8px;background:#f8d7da;border:1px solid #f5c6cb;border-radius:4px");a.appendChild(f);const d=p=>{f.textContent=p,f.style.display="block"},h=i("button",ga.confirmBtn,"");h.onclick=_6(async()=>{const p=c.value.trim();if(!p){d("");return}f.style.display="none",h.textContent="...",h.disabled=!0,h.style.cssText=`${ga.confirmBtn};${ga.loading}`;try{const _=await t.verifyCaptchaData({token:e.token,key:p});_Y.fire(bY.RESOLVE_CAPTCHA_DATA,_),console.log(""),document.body.removeChild(o),document.body.removeChild(a)}catch(_){console.error("",_);const y=_.error_description||"";d(y),c.value="",c.focus(),await r()}finally{h.textContent="",h.disabled=!1,h.style.cssText=ga.confirmBtn}},500),a.appendChild(h),document.body.appendChild(o),document.body.appendChild(a)},rpe=async(t,e)=>{const{captchaData:n,state:r,token:i}=ol.parseCaptcha(t);return npe({oauthInstance:e,captchaState:{captchaData:n,state:r,token:i}}),new Promise(o=>{console.log("..."),_Y.on(bY.RESOLVE_CAPTCHA_DATA,a=>{o(a==null?void 0:a.data)})})};class ipe{constructor(e){e.openURIWithCallback||(e.openURIWithCallback=this.getDefaultOpenURIWithCallback()),e.storage||(e.storage=CF),this.config=e,this.tokenSectionName=`captcha_${e.clientId||e.env}`}isMatch(){var e,n,r;return((r=(n=(e=this.config)==null?void 0:e.adapter)==null?void 0:n.isMatch)==null?void 0:r.call(n))||AF()}async request(e,n){n||(n={}),n.method||(n.method="GET");const r=`${n.method}:${e}`;let i=e;n.withCaptcha&&(i=await this.appendCaptchaTokenToURL(e,r,!1));let o;try{o=await this.config.request(i,n)}catch(a){return a.error===Oa.CAPTCHA_REQUIRED||a.error===Oa.CAPTCHA_INVALID?(e=await this.appendCaptchaTokenToURL(e,r,a.error===Oa.CAPTCHA_INVALID),this.config.request(e,n)):Promise.reject(a)}return o}getDefaultOpenURIWithCallback(){return e=>rpe(e,this.config.oauthInstance)}async getCaptchaToken(e,n){if(!e){const a=await this.findCaptchaToken();if(a)return a}const r=await this.config.request(An.CAPTCHA_DATA_URL,{method:"POST",body:{state:n,redirect_uri:""},withCredentials:!1}),i=`${r.data}?state=${encodeURIComponent(n)}&token=${encodeURIComponent(r.token)}`,o=await this.config.openURIWithCallback(i);return this.saveCaptchaToken(o),o.captcha_token}async appendCaptchaTokenToURL(e,n,r){const i=await this.getCaptchaToken(r,n);return e.indexOf("?")>0?e+=`&captcha_token=${i}`:e+=`?captcha_token=${i}`,e}async saveCaptchaToken(e){e.expires_at=new Date(Date.now()+(e.expires_in-10)*1e3);const n=JSON.stringify(e);await this.config.storage.setItem(this.tokenSectionName,n)}async findCaptchaToken(){const e=await this.config.storage.getItem(this.tokenSectionName);if(e!=null)try{const n=JSON.parse(e);return n!=null&&n.expires_at&&(n.expires_at=new Date(n.expires_at)),n.expires_at<new Date?null:n.captcha_token}catch{return await this.config.storage.removeItem(this.tokenSectionName),null}return null}}class gS{constructor(e){if(this.params={},typeof e=="string")this.parse(e);else if(e&&typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.append(n,e[n])}parse(e){e.split("&").forEach(r=>{const[i,o]=r.split("=").map(decodeURIComponent);this.append(i,o)})}append(e,n){this.params[e]?this.params[e]=this.params[e].concat([n]):this.params[e]=[n]}get(e){return this.params[e]?this.params[e][0]:null}getAll(e){return this.params[e]||[]}delete(e){delete this.params[e]}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}set(e,n){this.params[e]=[n]}toString(){const e=[];for(const n in this.params)Object.prototype.hasOwnProperty.call(this.params,n)&&this.params[n].forEach(r=>{e.push(`${encodeURIComponent(n)}=${encodeURIComponent(r)}`)});return e.join("&")}}var ope={};async function oR(t,e){var r;const n=async()=>{try{return require("../utils/encrypt")}catch{try{return await Ghe(()=>import("./encrypt-p8fJLOa-.js"),[])}catch{return}}};try{if((((r=e==null?void 0:e.root)==null?void 0:r.globalThis)||globalThis).IS_MP_BUILD)return;if(!ope.IS_MP_BUILD&&t)return n()}catch{if(t)return n()}}let ape=class Ix{static parseParamsToSearch(e){return Object.keys(e).forEach(r=>{e[r]||delete e[r]}),new gS(e).toString()}constructor(e){let{request:n}=e,r=e.credentialsClient;if(!r){const i={apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,storage:e.storage,env:e.env,baseRequest:e.baseRequest,anonymousSignInFunc:e.anonymousSignInFunc,wxCloud:e.wxCloud,onCredentialsError:e.onCredentialsError,headers:e.headers||{},i18n:e.i18n,debug:e.debug};r=new Zl(i)}if(!n){const i=r.request.bind(r),o=new ipe({env:e.env,clientId:e.clientId,request:i,storage:e.storage,adapter:e.adapter,oauthInstance:this,...e.captchaOptions});n=o.request.bind(o)}this.config={env:e.env,apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,request:n,credentialsClient:r,storage:e.storage||CF,adapter:e.adapter}}getParamsByVersion(e,n){var o;const r=Ox(e),i=((o={v2:dg}[r==null?void 0:r.version])==null?void 0:o[n])||An[n];return r&&delete r.version,{params:r,url:i}}async signIn(e){const n=e.version||"v1",r=this.getParamsByVersion(e,"AUTH_SIGN_IN_URL");r.params.query&&delete r.params.query;const i=await this.getEncryptParams(r.params),o=await this.config.request(r.url,{method:"POST",body:i});return await this.config.credentialsClient.setCredentials({...o,version:n}),Promise.resolve(o)}async signInAnonymously(e={},n=!1){const r=await this.config.request(An.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",body:e,useWxCloud:n});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signUp(e){const n=await this.config.request(An.AUTH_SIGN_UP_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async signOut(e){let n={};if(e){try{n=await this.config.request(An.AUTH_SIGNOUT_URL,{method:"POST",withCredentials:!0,body:e})}catch(o){o.error!==Oa.UNAUTHENTICATED&&console.log("sign_out_error",o)}return await this.config.credentialsClient.setCredentials(),n}const r=await this.config.credentialsClient.getAccessToken(),i=await this.config.request(An.AUTH_REVOKE_URL,{method:"POST",body:{token:r}});return await this.config.credentialsClient.setCredentials(),Promise.resolve(i)}async revokeAllDevices(){await this.config.request(An.AUTH_REVOKE_ALL_URL,{method:"DELETE",withCredentials:!0})}async revokeDevice(e){await this.config.request(An.AUTHORIZED_DEVICES_DELETE_URL+e.device_id,{method:"DELETE",withCredentials:!0})}async getVerification(e,n){let r=!1;(e.target==="CUR_USER"||await this.hasLoginState())&&(r=!0);const i=Ox(e);return i.phone_number&&!/^\+\d{1,3}\s+\d+/.test(i.phone_number)&&(i.phone_number=`+86 ${i.phone_number}`),this.config.request(An.VERIFICATION_URL,{method:"POST",body:i,withCaptcha:(n==null?void 0:n.withCaptcha)||!1,withCredentials:r})}async verify(e){const n=this.getParamsByVersion(e,"VERIFY_URL"),r=await this.config.request(n.url,{method:"POST",body:n.params});return(e==null?void 0:e.version)==="v2"&&await this.config.credentialsClient.setCredentials({...r,version:"v2"}),r}async genProviderRedirectUri(e){const{provider_redirect_uri:n,other_params:r={},...i}=e;n&&!i.redirect_uri&&(i.redirect_uri=n);let o=`${An.PROVIDER_URI_URL}?${Ix.parseParamsToSearch(i)}`;return Object.keys(r).forEach(a=>{const s=r[a];a==="sign_out_uri"&&!((s==null?void 0:s.length)>0)||(o+=`&other_params[${a}]=${encodeURIComponent(s)}`)}),this.config.request(o,{method:"GET"})}async grantProviderToken(e,n=!1){return this.config.request(An.PROVIDER_TOKEN_URL,{method:"POST",body:e,useWxCloud:n})}async patchProviderToken(e){return this.config.request(An.PROVIDER_TOKEN_URL,{method:"PATCH",body:e})}async signInWithProvider(e,n=!1){const r=this.getParamsByVersion(e,"AUTH_SIGN_IN_WITH_PROVIDER_URL"),i=await this.config.request(r.url,{method:"POST",body:r.params,useWxCloud:n});return await this.config.credentialsClient.setCredentials({...i,version:(e==null?void 0:e.version)||"v1"}),Promise.resolve(i)}async toBindIdentity(e){var i,o;const n=e.credentials||await this.config.credentialsClient.localCredentials.getCredentials();let r;try{await this.bindWithProvider({provider_token:e.provider_token},n),r={data:{type:jc.BIND_IDENTITY,provider:e.provider},error:null}}catch(a){r={data:{type:jc.BIND_IDENTITY},error:new In(a)}}return e.fireEvent&&((o=(i=this.config.eventBus)==null?void 0:i.fire)==null||o.call(i,Fo.AUTH_STATE_CHANGED,{event:Kl.BIND_IDENTITY,info:r})),r}async getInitialSession(){let e={};try{if(typeof window>"u"||typeof document>"u")return{data:null,error:null};const n=new URLSearchParams(location==null?void 0:location.search),r=n.get("code"),i=n.get("state");if(!r||!i)return{data:null,error:null};let o=null;try{o=JSON.parse(sessionStorage.getItem(i)||"null")}catch{}e={type:o==null?void 0:o.type};const a=n.get("error"),s=n.get("error_description");if(a||s)return{data:e,error:new In({message:s||a||"Unknown error from OAuth provider"})};const u=(o==null?void 0:o.provider)||n.get("provider");if(!u)return{data:e,error:new In({message:"Provider is required for OAuth verification"})};const l=location.origin+location.pathname,{provider_token:c}=await this.grantProviderToken({provider_id:u,provider_redirect_uri:l,provider_code:r});let f,d=null,h;if(o.type===jc.BIND_IDENTITY)f=await this.config.credentialsClient.localCredentials.getCredentials(),h=await this.toBindIdentity({provider:u,provider_token:c,credentials:f});else if(o.type===jc.SIGN_IN){h=this.getParamsByVersion({provider:u},"AUTH_SIGN_IN_WITH_PROVIDER_URL"),f=await this.config.request(h.url,{method:"POST",body:{provider_token:c}});try{d=await this.getUserInfo({credentials:f})}catch(p){console.error("get user info error",p)}h={data:{...e,session:f,user:d},error:null}}n.delete("code"),n.delete("state"),n.delete("provider"),this.restoreUrlState((o==null?void 0:o.search)===void 0?`?${n.toString()}`:o.search,(o==null?void 0:o.hash)||location.hash);try{sessionStorage.removeItem(i)}catch{}return h}catch(n){return{data:e,error:new In(n)}}}async signInCustom(e){const n=await this.config.request(An.AUTH_SIGN_IN_CUSTOM,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async signInWithWechat(e={}){const n=await this.config.request(An.AUTH_SIGN_IN_WITH_WECHAT_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async bindWithProvider(e,n){return this.config.request(An.PROVIDER_BIND_URL,{method:"POST",body:e,withCredentials:!0,getCredentials:n?()=>n:void 0})}async getUserProfile(e){return this.getUserInfo(e)}async getUserInfo(e={}){var i;const n=this.getParamsByVersion(e,"USER_ME_URL");if((i=n.params)!=null&&i.query){const o=new gS(n.params.query);n.url+=`?${o.toString()}`}const r=await this.config.request(n.url,{method:"GET",withCredentials:!0,getCredentials:e.credentials?()=>e.credentials:void 0});return r.sub&&(r.uid=r.sub),r}async getWedaUserInfo(){return await this.config.request(An.WEDA_USER_URL,{method:"GET",withCredentials:!0})}async deleteMe(e){const n=this.getParamsByVersion(e,"USER_ME_URL"),r=`${n.url}?${Ix.parseParamsToSearch(n.params)}`;return this.config.request(r,{method:"DELETE",withCredentials:!0})}async hasLoginState(){try{return await this.config.credentialsClient.getAccessToken(),!0}catch{return!1}}hasLoginStateSync(){return this.config.credentialsClient.getCredentialsSync()}async getLoginState(){return this.config.credentialsClient.getCredentialsAsync()}async transByProvider(e){return this.config.request(An.USER_TRANS_BY_PROVIDER_URL,{method:"PATCH",body:e,withCredentials:!0})}async grantToken(e){const n=this.getParamsByVersion(e,"AUTH_TOKEN_URL");return this.config.request(n.url,{method:"POST",body:n.params})}async getProviders(){return this.config.request(An.PROVIDER_LIST,{method:"GET",withCredentials:!0})}async unbindProvider(e){return this.config.request(`${An.PROVIDER_UNBIND_URL}/${e.provider_id}`,{method:"DELETE",withCredentials:!0})}async checkPassword(e){return this.config.request(`${An.CHECK_PWD_URL}`,{method:"POST",withCredentials:!0,body:e})}async editContact(e){return this.config.request(`${An.BIND_CONTACT_URL}`,{method:"PATCH",withCredentials:!0,body:e})}async setPassword(e){return this.config.request(`${An.AUTH_SET_PASSWORD}`,{method:"PATCH",withCredentials:!0,body:e})}async updatePasswordByOld(e){const n=await this.sudo({password:e.old_password});return this.setPassword({sudo_token:n.sudo_token,new_password:e.new_password})}async sudo(e){return this.config.request(`${An.SUDO_URL}`,{method:"POST",withCredentials:!0,body:e})}async sendVerificationCodeToCurrentUser(e){return e.target="CUR_USER",this.config.request(An.VERIFICATION_URL,{method:"POST",body:e,withCredentials:!0,withCaptcha:!0})}async changeBoundProvider(e){return this.config.request(`${An.PROVIDER_LIST}/${e.provider_id}/trans`,{method:"POST",body:{provider_trans_token:e.trans_token},withCredentials:!0})}async setUserProfile(e){return this.config.request(An.USER_PRIFILE_URL,{method:"PATCH",body:e,withCredentials:!0})}async updateUserBasicInfo(e){return this.config.request(An.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:e})}async queryUserProfile(e){const n=new gS(e);return this.config.request(`${An.USER_QUERY_URL}?${n.toString()}`,{method:"GET",withCredentials:!0})}setCustomSignFunc(e){this.getCustomSignTicketFn=e}async signInWithCustomTicket(){const e=this.getCustomSignTicketFn;if(!e)return Promise.reject({error:"failed_precondition",error_description:"please use setCustomSignFunc to set custom sign function"});const n=await e();return this.signInCustom({provider_id:"custom",ticket:n})}async resetPassword(e){return this.config.request(An.AUTH_RESET_PASSWORD,{method:"POST",body:e})}async authorize(e){return this.config.request(An.AUTHORIZE_URL,{method:"POST",withCredentials:!0,body:e})}async authorizeDevice(e){return this.config.request(An.AUTHORIZE_DEVICE_URL,{method:"POST",withCredentials:!0,body:e})}async deviceAuthorize(e){return this.config.request(An.AUTH_GET_DEVICE_CODE,{method:"POST",body:e,withCredentials:!0})}async authorizeInfo(e){const n=`${An.AUTHORIZE_INFO_URL}?${Ix.parseParamsToSearch(e)}`;let r=!0,i=!1;return await this.hasLoginState()&&(i=!0,r=!1),this.config.request(n,{method:"GET",withBasicAuth:r,withCredentials:i})}async checkUsername(e){return this.config.request(An.CHECK_USERNAME,{method:"GET",body:e,withCredentials:!0})}async checkIfUserExist(e){const n=new gS(e);return this.config.request(`${An.CHECK_IF_USER_EXIST}?${n.toString()}`,{method:"GET"})}async loginScope(){return this.config.credentialsClient.getScope()}async loginGroups(){return this.config.credentialsClient.getGroups()}async refreshTokenForce(e){const n=await this.config.credentialsClient.getCredentials();return await this.config.credentialsClient.refreshToken({...n,version:(e==null?void 0:e.version)||"v1"})}async getCredentials(){return this.config.credentialsClient.getCredentials()}async getPublicKey(){return this.config.request(dg.AUTH_PUBLIC_KEY,{method:"POST",body:{}})}async getEncryptParams(e){const{isEncrypt:n}=e;delete e.isEncrypt;const r=Ox(e),i=await oR(n,this.config.adapter);if(!i)return e;let o="",a="";try{const s=await this.getPublicKey();if(o=s.public_key,a=s.public_key_thumbprint,!o||!a)throw s}catch(s){throw s}return{params:i.getEncryptInfo({publicKey:o,payload:r}),public_key_thumbprint:a}}async getProviderSubType(){return this.config.request(An.GET_PROVIDER_TYPE,{method:"POST",body:{provider_id:"weda"}})}async verifyCaptchaData({token:e,key:n}){return this.config.request(An.VERIFY_CAPTCHA_DATA_URL,{method:"POST",body:{token:e,key:n},withCredentials:!1})}async createCaptchaData({state:e,redirect_uri:n=void 0}){return this.config.request(An.CAPTCHA_DATA_URL,{method:"POST",body:{state:e,redirect_uri:n},withCredentials:!1})}async getMiniProgramCode(e){return this.config.request(An.GET_MINIPROGRAM_QRCODE,{method:"POST",body:e})}async getMiniProgramQrCodeStatus(e){return this.config.request(An.GET_MINIPROGRAM_QRCODE_STATUS,{method:"POST",body:e})}async getUserBehaviorLog(e){const n={LOGIN:"query[action]=USER_LOGIN",MODIFY:"ne_query[action]=USER_LOGIN"},r=`${An.GET_USER_BEHAVIOR_LOG}?${n[e.type]}&limit=${e.limit}${e.page_token?`&page_token=${e.page_token}`:""}`;return this.config.request(r,{method:"GET",withCredentials:!0})}async modifyPassword(e){let n="",r="";const i=await oR(!0,this.config.adapter);if(!i)throw new Error("do not support encrypt, a encrypt util required.");try{const s=await this.getPublicKey();if(n=s.public_key,r=s.public_key_thumbprint,!n||!r)throw s}catch(s){throw s}const o=e.password?i.getEncryptInfo({publicKey:n,payload:e.password}):"",a=i.getEncryptInfo({publicKey:n,payload:e.new_password});return this.config.request(An.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:{user_id:e.user_id,encrypt_password:o,encrypt_new_password:a,public_key_thumbprint:r}})}async modifyPasswordWithoutLogin(e){let n="",r="";const i=await oR(!0,this.config.adapter);if(!i)throw new Error("do not support encrypt, a encrypt util required.");try{const s=await this.getPublicKey();if(n=s.public_key,r=s.public_key_thumbprint,!n||!r)throw s}catch(s){throw s}const o=e.password?i.getEncryptInfo({publicKey:n,payload:e.password}):"",a=i.getEncryptInfo({publicKey:n,payload:e.new_password});return this.config.request(dg.AUTH_RESET_PASSWORD,{method:"POST",body:{username:e.username,password:o,new_password:a,public_key_thumbprint:r}})}restoreUrlState(e,n){if(e!==void 0)try{const r=new URL(window.location.href);r.search=e,r.hash=n||"",window.history.replaceState(null,"",r.toString())}catch{}}};class In extends Error{constructor(e){super(e.error_description||e.message),this.__isAuthError=!0,this.name="AuthError",this.status=e.error,this.code=e.error_code}}class spe{constructor(e){const{apiOrigin:n,apiPath:r=wT,clientId:i,env:o,storage:a,request:s,baseRequest:u,anonymousSignInFunc:l,wxCloud:c,adapter:f,onCredentialsError:d,headers:h,i18n:p,useWxCloud:_,eventBus:y,detectSessionInUrl:m,debug:b}=e;this.detectSessionInUrl=m??!1,this.oauth2client=new Zl({apiOrigin:n,apiPath:r,clientId:i,env:o,storage:a,baseRequest:u||s,anonymousSignInFunc:l,wxCloud:c,onCredentialsError:d,headers:h||{},i18n:p,useWxCloud:_,eventBus:y,debug:b}),this.authApi=new ape({credentialsClient:this.oauth2client,...e,request:s?this.oauth2client.request.bind(this.oauth2client):void 0,adapter:f}),m&&this.oauth2client.setGetInitialSession(this.authApi.getInitialSession.bind(this.authApi))}initializeSession(e){if(!this.detectSessionInUrl){this.oauth2client.initialize(Promise.resolve({error:null}));return}this.oauth2client.setOnInitialSessionObtained(e),this.oauth2client.initialize()}}var oi={},ET={},lpe=bn&&bn.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},upe=bn&&bn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ET,"__esModule",{value:!0});ET.catchErrorsDecorator=void 0;var b6=ol,cpe=ar,x_=!1;typeof navigator<"u"&&navigator.userAgent&&(x_=navigator.userAgent.indexOf("Firefox")!==-1);var fpe=x_?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,wY=/https?:\/\/.+:\d*\/.*\.js:\d+:\d+/;function dpe(t){var e=t.mode,n=e===void 0?"async":e,r=t.customInfo,i=r===void 0?{}:r,o=t.title,a=t.messages,s=a===void 0?[]:a;return function(u,l,c){if(cpe.IS_DEBUG_MODE){var f=i.className||u.constructor.name,d=i.methodName||l,h=c.value,p=hpe(new Error);n==="sync"?c.value=function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];var m=w6({err:new Error,className:f,methodName:d,sourceLink:p});try{return h.apply(this,_)}catch(O){var b=O,w=O.message,S=O.error,x=O.error_description,E={title:o||"".concat(f,".").concat(d," failed"),content:[{type:"error",body:O}]};if(w&&/^\{.*\}$/.test(w)){var M=JSON.parse(w);E.subtitle=w,M.code&&(m?(m.code=M.code,m.msg=M.msg):(O.code=M.code,O.message=M.msg),b=m||O,E.content=s.map(function(C){return{type:"info",body:C}}))}throw S&&x&&(E.subtitle=x,m?(m.code=S,m.msg=x):(O.code=S,O.message=x),b=m||O,E.content=s.map(function(C){return{type:"info",body:C}})),(0,b6.printGroupLog)(E),b}}:c.value=function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];return lpe(this,void 0,void 0,function(){var m,b,w,S,x,E,M,O;return upe(this,function(C){switch(C.label){case 0:m=w6({err:new Error,className:f,methodName:d,sourceLink:p}),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,h.apply(this,_)];case 2:return[2,C.sent()];case 3:throw b=C.sent(),w=b,S=b.message,x=b.error,E=b.error_description,M={title:o||"".concat(f,".").concat(d," failed"),content:[{type:"error",body:b}]},S&&/^\{.*\}$/.test(S)&&(O=JSON.parse(S),M.subtitle=O,O.code&&(m?(m.code=O.code,m.message=O.msg):(b.code=O.code,b.message=O.msg),w=m||b,M.content=s.map(function(T){return{type:"info",body:T}}))),x&&E&&(M.subtitle=E,m?(m.code=x,m.msg=E):(b.code=x,b.message=E),w=m||b,M.content=s.map(function(T){return{type:"info",body:T}})),(0,b6.printGroupLog)(M),w;case 4:return[2]}})})}}}}ET.catchErrorsDecorator=dpe;function hpe(t){var e="",n=t.stack.split(`
`),r=n.findIndex(function(o){return fpe.test(o)});if(r!==-1){var i=wY.exec(n[r+1]||"");e=i?i[0]:""}return e}function w6(t){var e=t.err,n=t.className,r=t.methodName,i=t.sourceLink;if(!i)return null;var o=e.stack.split(`
`),a=x_?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp("".concat(n,"\\.descriptor.value\\s*\\[as\\s").concat(r,"\\]\\s*\\(.*\\)$")),s=x_?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp("".concat(n,"\\.descriptor.value\\s*\\[as\\s").concat(r,"\\]")),u=o.findIndex(function(f){return a.test(f)}),l;if(u!==-1){var c=o.filter(function(f,d){return d>u});c.unshift(o[u].replace(s,"".concat(n,".").concat(r)).replace(wY,i)),l=new Error,l.stack="".concat(x_?"@debugger":"Error",`
`).concat(c.join(`
`))}return l}(function(t){var e=bn&&bn.__createBinding||(Object.create?function(r,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,a,s)}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]}),n=bn&&bn.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(ET,t)})(oi);var IF={};const SY=cle(ede);var yS={},ppe=bn&&bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aR=bn&&bn.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},sR=bn&&bn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(IF,"__esModule",{value:!0});var EY=IF.CloudbaseCache=void 0,mpe=SY,A_=ol,Wf=ar,lR=function(t){ppe(e,t);function e(n){var r=t.call(this)||this;return r.root=n,n.tcbCacheObject||(n.tcbCacheObject={}),r}return e.prototype.setItem=function(n,r){this.root.tcbCacheObject[n]=r},e.prototype.getItem=function(n){return this.root.tcbCacheObject[n]},e.prototype.removeItem=function(n){delete this.root.tcbCacheObject[n]},e.prototype.clear=function(){delete this.root.tcbCacheObject},e}(mpe.AbstractStorage);function vpe(t,e){switch(t){case"local":return e.localStorage?e.localStorage:((0,A_.printWarn)(Wf.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new lR(e.root));case"none":return new lR(e.root);default:return e.localStorage?e.localStorage:((0,A_.printWarn)(Wf.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new lR(e.root))}}var gpe=function(){function t(e){this.keys={};var n=e.persistence,r=e.platformInfo,i=r===void 0?{}:r,o=e.keys,a=o===void 0?{}:o;this.platformInfo=i,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||n,this.storage=vpe(this.persistenceTag,this.platformInfo.adapter),this.keys=a)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),t.prototype.setStore=function(e,n,r){if(this.mode==="async"){(0,A_.printWarn)(Wf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var i={version:r||"localCachev1",content:n};this.storage.setItem(e,JSON.stringify(i))}catch(o){throw new Error(JSON.stringify({code:Wf.ERRORS.OPERATION_FAIL,msg:"[".concat((0,Wf.getSdkName)(),"][").concat(Wf.ERRORS.OPERATION_FAIL,"]setStore failed"),info:o}))}},t.prototype.setStoreAsync=function(e,n,r){return aR(this,void 0,void 0,function(){var i;return sR(this,function(o){switch(o.label){case 0:if(!this.storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),i={version:r||"localCachev1",content:n},[4,this.storage.setItem(e,JSON.stringify(i))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}})})},t.prototype.getStore=function(e,n){var r;if(this.mode==="async"){(0,A_.printWarn)(Wf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((r=yS)===null||r===void 0)&&r.tcb_token))return yS.tcb_token;if(!this.storage)return""}catch{return""}n=n||"localCachev1";var i=this.storage.getItem(e);if(!i)return"";if(i.indexOf(n)>=0){var o=JSON.parse(i);return o.content}return""},t.prototype.getStoreAsync=function(e,n){var r;return aR(this,void 0,void 0,function(){var i,o;return sR(this,function(a){switch(a.label){case 0:try{if(typeof process<"u"&&(!((r=yS)===null||r===void 0)&&r.tcb_token))return[2,yS.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return n=n||"localCachev1",[4,this.storage.getItem(e)];case 1:return i=a.sent(),i?i.indexOf(n)>=0?(o=JSON.parse(i),[2,o.content]):[2,""]:[2,""]}})})},t.prototype.removeStore=function(e){if(this.mode==="async"){(0,A_.printWarn)(Wf.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(e)},t.prototype.removeStoreAsync=function(e){return aR(this,void 0,void 0,function(){return sR(this,function(n){switch(n.label){case 0:return[4,this.storage.removeItem(e)];case 1:return n.sent(),[2]}})})},t}();EY=IF.CloudbaseCache=gpe;var xY={},kg={},ype=bn&&bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Do=bn&&bn.__assign||function(){return Do=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Do.apply(this,arguments)},uR=bn&&bn.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},cR=bn&&bn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(kg,"__esModule",{value:!0});kg.WebRequest=kg.genAdapter=void 0;var _pe=SY,fR=ol,bpe=aa,AY=function(t){ype(e,t);function e(n){var r=t.call(this)||this,i=n.timeout,o=n.timeoutMsg,a=n.restrictedMethods;return r.timeout=i||0,r.timeoutMsg=o||"",r.restrictedMethods=a||["get","post","upload","download"],r}return e.prototype.get=function(n){return this.request(Do(Do({},n),{method:"get"}),this.restrictedMethods.includes("get"))},e.prototype.post=function(n){return this.request(Do(Do({},n),{method:"post"}),this.restrictedMethods.includes("post"))},e.prototype.put=function(n){return this.request(Do(Do({},n),{method:"put"}))},e.prototype.upload=function(n){var r=n.data,i=n.file,o=n.name,a=n.method,s=n.headers,u=s===void 0?{}:s,l={post:"post",put:"put"}[a==null?void 0:a.toLowerCase()]||"put",c=new FormData;return l==="post"?(Object.keys(r).forEach(function(f){c.append(f,r[f])}),c.append("key",o),c.append("file",i),this.request(Do(Do({},n),{data:c,method:l}),this.restrictedMethods.includes("upload"))):this.request(Do(Do({},n),{method:"put",headers:u,body:i}),this.restrictedMethods.includes("upload"))},e.prototype.download=function(n){return uR(this,void 0,void 0,function(){var r,i,o,a;return cR(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(Do(Do({},n),{headers:{},responseType:"blob"}))];case 1:return r=s.sent().data,i=window.URL.createObjectURL(new Blob([r])),o=decodeURIComponent(new URL(n.url).pathname.split("/").pop()||""),a=document.createElement("a"),a.href=i,a.setAttribute("download",o),a.style.display="none",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(i),document.body.removeChild(a),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise(function(u){u({statusCode:200,tempFilePath:n.url})})]}})})},e.prototype.fetch=function(n){var r;return uR(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,d,h,p,_,y,m=this;return cR(this,function(b){switch(b.label){case 0:return i=new AbortController,o=n.url,a=n.enableAbort,s=a===void 0?!1:a,u=n.stream,l=u===void 0?!1:u,c=n.signal,f=n.timeout,d=n.shouldThrowOnError,h=d===void 0?!0:d,p=f??this.timeout,c&&(c.aborted&&i.abort(),c.addEventListener("abort",function(){return i.abort()})),_=null,s&&p&&(_=setTimeout(function(){console.warn(m.timeoutMsg),i.abort(new Error(m.timeoutMsg))},p)),[4,fetch(o,Do(Do({},n),{signal:i.signal})).then(function(w){return uR(m,void 0,void 0,function(){var S,x,E;return cR(this,function(M){switch(M.label){case 0:return clearTimeout(_),h?w.ok?(S=w,[3,3]):[3,1]:[3,4];case 1:return E=(x=Promise).reject,[4,w.json()];case 2:S=E.apply(x,[M.sent()]),M.label=3;case 3:return[2,S];case 4:return[2,w]}})})}).catch(function(w){if(clearTimeout(_),h)return Promise.reject(w)})];case 1:return y=b.sent(),[2,{data:l?y.body:!((r=y.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?y.json():y.text(),statusCode:y.status,header:y.headers}]}})})},e.prototype.request=function(n,r){var i=this;r===void 0&&(r=!1);var o=String(n.method).toLowerCase()||"get";return new Promise(function(a){var s=n.url,u=n.headers,l=u===void 0?{}:u,c=n.data,f=n.responseType,d=n.withCredentials,h=n.body,p=n.onUploadProgress,_=(0,fR.formatUrl)((0,bpe.getProtocol)(),s,o==="get"?c:{}),y=new XMLHttpRequest;y.open(o,_),f&&(y.responseType=f),Object.keys(l).forEach(function(w){y.setRequestHeader(w,l[w])});var m;p&&y.upload.addEventListener("progress",p),y.onreadystatechange=function(){var w={};if(y.readyState===4){var S=y.getAllResponseHeaders(),x=S.trim().split(/[\r\n]+/),E={};x.forEach(function(M){var O=M.split(": "),C=O.shift().toLowerCase(),T=O.join(": ");E[C]=T}),w.header=E,w.statusCode=y.status;try{w.data=f==="blob"?y.response:JSON.parse(y.responseText)}catch{w.data=f==="blob"?y.response:y.responseText}clearTimeout(m),a(w)}},r&&i.timeout&&(m=setTimeout(function(){console.warn(i.timeoutMsg),y.abort()},i.timeout));var b;(0,fR.isFormData)(c)?b=c:l["content-type"]==="application/x-www-form-urlencoded"?b=(0,fR.toQueryString)(c):h?b=h:b=c?JSON.stringify(c):void 0,d&&(y.withCredentials=!0),y.send(b)})},e}(_pe.AbstractSDKRequest);kg.WebRequest=AY;function wpe(){var t={type:"default",root:window,reqClass:AY,wsClass:WebSocket,localStorage};return t}kg.genAdapter=wpe;(function(t){var e=bn&&bn.__assign||function(){return e=Object.assign||function(c){for(var f,d=1,h=arguments.length;d<h;d++){f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c},e.apply(this,arguments)},n=bn&&bn.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var p=Object.getOwnPropertyDescriptor(f,d);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,p)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),r=bn&&bn.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),i=bn&&bn.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&n(f,c,d);return r(f,c),f};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var o=i(kg),a=ol,s;(function(c){c.WEB="web",c.WX_MP="wx_mp"})(s=t.RUNTIME||(t.RUNTIME={}));function u(c,f){for(var d=(0,a.isArray)(c)?c:[c],h=0,p=d;h<p.length;h++){var _=p[h],y=_.isMatch,m=_.genAdapter,b=_.runtime;if(y())return{adapter:e({isMatch:y},m(f)),runtime:b}}}t.useAdapters=u;function l(){return{adapter:e({},o.genAdapter()),runtime:s.WEB}}t.useDefaultAdapter=l})(xY);var is=function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},is.apply(this,arguments)},C_=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},T_=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},CY=function(){function t(e){var n,r;try{this.localStorage=(e==null?void 0:e.localStorage)||(((r=(n=e==null?void 0:e.adapter)===null||n===void 0?void 0:n.root)===null||r===void 0?void 0:r.globalThis)||globalThis).localStorage}catch{this.localStorage=(e==null?void 0:e.localStorage)||{}}}return t.prototype.getItem=function(e){return C_(this,void 0,void 0,function(){return T_(this,function(n){return[2,this.localStorage.getItem(e)]})})},t.prototype.removeItem=function(e){return C_(this,void 0,void 0,function(){return T_(this,function(n){return this.localStorage.removeItem(e),[2]})})},t.prototype.setItem=function(e,n){return C_(this,void 0,void 0,function(){return T_(this,function(r){return this.localStorage.setItem(e,n),[2]})})},t.prototype.getItemSync=function(e){return this.localStorage.getItem(e)},t.prototype.setItemSync=function(e,n){this.localStorage.setItem(e,n)},t.prototype.removeItemSync=function(e){this.localStorage.removeItem(e)},t}(),Spe=/^[^:]+:\/\/[^/]+(\/[^?#]+)/,TY=function(t,e){var n,r,i,o=(n=e==null?void 0:e.headers)===null||n===void 0?void 0:n["x-request-id"];return t||(t={}),(t!=null&&t.code||!((r=t==null?void 0:t.data)===null||r===void 0)&&r.error_code)&&(t={error:t.code||t.data.error,error_description:t.data.error_description||t.message||t.code||t.data.error_code,request_id:t.requestId,error_code:(i=t.data)===null||i===void 0?void 0:i.error_code}),t!=null&&t.request_id||(t.request_id=t.request_id||o),t!=null&&t.error?(t.error_uri=xpe(e==null?void 0:e.url),t):(t==null?void 0:t.data)||{}};function Epe(t){return function(e,n){return C_(this,void 0,void 0,function(){return T_(this,function(r){return[2,new Promise(function(i,o){var a=Object.assign({},n);a.body&&typeof a.body!="string"&&(a.body=JSON.stringify(a.body));var s=wx.request({url:e,data:a.body,timeout:t._timeout,method:a.method||"GET",header:a.headers,success:function(u){u=TY(u,is(is({},n),{url:e})),u.error&&o(u),i(u)},fail:function(u){o({error:"unreachable",error_description:u.message})},complete:function(u){if(!(!u||!u.errMsg)&&!(!t._timeout||t._restrictedMethods.indexOf("request")===-1)){var l=u.errMsg;if(l==="request:fail timeout"){console.warn(t._timeoutMsg);try{s.abort()}catch{}}}}})})]})})}}function xpe(t){return Spe.test(t)?RegExp.$1:t}var Ape=function(t,e){var n=is({},t);try{if(!(t!=null&&t.storage)&&(e!=null&&e.localStorage)&&(n.storage=new CY({localStorage:e.localStorage,adapter:e})),!t.captchaOptions&&(e!=null&&e.captchaOptions)&&(n.captchaOptions=e.captchaOptions),!t.baseRequest&&!t.request&&(e!=null&&e.reqClass)){var r={timeout:1e4,restrictedMethods:["get","post","upload","download","request"]},i=new e.reqClass(r);n.baseRequest=function(o,a){var s,u,l,c,f;return C_(this,void 0,void 0,function(){var d,h,p,_;return T_(this,function(y){switch(y.label){case 0:if(d={},h=((s=a.method)===null||s===void 0?void 0:s.toLocaleLowerCase())||"post",p=(l=(u=i==null?void 0:i[h])===null||u===void 0?void 0:u.bind)===null||l===void 0?void 0:l.call(u,i),typeof p!="function")throw new Error("invalid ".concat(h," request method"));y.label=1;case 1:return y.trys.push([1,3,,4]),(!(!((c=a.headers)===null||c===void 0)&&c["content-type"])||!((f=a.headers)===null||f===void 0)&&f["content-type"].includes("application/json"))&&!["string","undefined"].includes(typeof a.body)&&(a.data=a.data||a.body,a.body=JSON.stringify(a.body)),[4,p(is({url:o},a))];case 2:return d=y.sent(),d=TY(d,is(is({},a),{url:o})),[3,4];case 3:throw _=y.sent(),d=is(is({},_==null?void 0:_.data),_),d;case 4:if(d!=null&&d.error)throw d;return[2,d]}})})}}}catch(o){console.error("user adapter generate fail:",o)}return n},Cpe=function(t,e){var n=is({},t),r={};if(e!=null&&e.captchaOptions&&(n.captchaOptions=e.captchaOptions),!Hu.isMatch()||t.storage&&t.baseRequest)return n;try{var i=Hu.genAdapter({}),o=i.localStorage,a=i.reqClass;if(o&&(r.storage=new CY({localStorage:o,adapter:e})),a){var s=new a({timeout:1e4,restrictedMethods:["get","post","upload","download","request"]});r.request=Epe(s)}return n.captchaOptions&&(r.baseRequest=r.request,r.request=void 0),is(is({},n),r)}catch(u){console.error("adapter generate fail:",u)}return n},Tpe=function(t){return t.adapter&&t.adapter.type!=="default"?Ape(t,t.adapter):Cpe(t,t.adapter)};function Mpe(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Failed to save to browser session:",n)}}function Ope(t){try{var e=JSON.parse(sessionStorage.getItem(t));return e}catch(n){return console.error("Failed to get browser session:",n),null}}function Ipe(t){try{return sessionStorage.removeItem(t),!0}catch(e){return console.error("Failed to remove browser session:",e),null}}function Rpe(t,e){if(t!==void 0){var n=new URL(window.location.href);n.search=t,n.hash=e||n.hash,window.history.replaceState({},"",n.href)}}var Dr=function(){return Dr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dr.apply(this,arguments)},hn=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},pn=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ppe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},S6=function(){return typeof window<"u"&&typeof document<"u"},Dpe=function(){function t(e){this.listeners=new Map,this.hasListenerSetUp=!1,this.config=e,this.oauthInstance=e.oauthInstance,this.cache=e.cache,this.init()}return Object.defineProperty(t.prototype,"currentUser",{get:function(){var e=this.hasLoginState();return e&&e.user||null},enumerable:!1,configurable:!0}),t.prototype.hasLoginState=function(){throw new Error("Auth.hasLoginState() is not implemented")},t.prototype.setAccessKey=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){throw new Error("Auth.setAccessKey() is not implemented")})})},t.prototype.signIn=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.signIn() is not implemented")})})},t.prototype.signInWithProvider=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.signInWithProvider() is not implemented")})})},t.prototype.genProviderRedirectUri=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.genProviderRedirectUri() is not implemented")})})},t.prototype.getAccessToken=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){throw new Error("Auth.getAccessToken() is not implemented")})})},t.prototype.getUserInfo=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){throw new Error("Auth.getUserInfo() is not implemented")})})},t.prototype.updateUserBasicInfo=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.updateUserBasicInfo() is not implemented")})})},t.prototype.setCustomSignFunc=function(e){throw new Error("Auth.setCustomSignFunc() is not implemented")},t.prototype.grantProviderToken=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.grantProviderToken() is not implemented")})})},t.prototype.bindWithProvider=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.bindWithProvider() is not implemented")})})},t.prototype.signInWithUsername=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.signInWithUsername() is not implemented")})})},t.prototype.getVerification=function(e,n){return hn(this,void 0,void 0,function(){return pn(this,function(r){throw new Error("Auth.getVerification() is not implemented")})})},t.prototype.createLoginState=function(e,n){return hn(this,void 0,void 0,function(){return pn(this,function(r){throw new Error("Auth.createLoginState() is not implemented")})})},t.prototype.verify=function(e){return hn(this,void 0,void 0,function(){return pn(this,function(n){throw new Error("Auth.verify() is not implemented")})})},t.prototype.signInAnonymously=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a;return pn(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this.oauthInstance.authApi.signInAnonymously(e)];case 1:return s.sent(),[4,this.createLoginState()];case 2:return n=s.sent(),[4,this.getSession()];case 3:return r=s.sent().data,i=r===void 0?{}:r,o=i.session,[2,Dr(Dr({},n),{data:{user:o.user,session:o},error:null})];case 4:return a=s.sent(),[2,{data:{},error:new In(a)}];case 5:return[2]}})})},t.prototype.signUp=function(e){return hn(this,void 0,void 0,function(){var n,r,i=this;return pn(this,function(o){switch(o.label){case 0:return e.phone_number||e.verification_code||e.verification_token||e.provider_token?[4,this.oauthInstance.authApi.signUp(e)]:[3,2];case 1:return o.sent(),[2,this.createLoginState()];case 2:return o.trys.push([2,4,,5]),this.validateAtLeastOne(e,[["email"],["phone"]],"You must provide either an email or phone number"),[4,this.getVerification(e.email?{email:e.email}:{phone_number:this.formatPhone(e.phone)})];case 3:return n=o.sent(),[2,{data:{verifyOtp:function(a){var s=a.token,u=a.messageId,l=u===void 0?n.verification_id:u;return hn(i,void 0,void 0,function(){var c,f,d,h,p,_;return pn(this,function(y){switch(y.label){case 0:return y.trys.push([0,8,,9]),[4,this.verify({verification_id:l||n.verification_id,verification_code:s})];case 1:return c=y.sent(),n.is_user?[4,this.signIn({username:e.email||this.formatPhone(e.phone),verification_token:c.verification_token})]:[3,3];case 2:return y.sent(),[3,6];case 3:return f=JSON.parse(JSON.stringify(e)),delete f.email,delete f.phone,[4,this.oauthInstance.authApi.signUp(Dr(Dr(Dr({},f),e.email?{email:e.email}:{phone_number:this.formatPhone(e.phone)}),{verification_token:c.verification_token,verification_code:s}))];case 4:return y.sent(),[4,this.createLoginState()];case 5:y.sent(),y.label=6;case 6:return[4,this.getSession()];case 7:return d=y.sent().data,h=d===void 0?{}:d,p=h.session,[2,{data:{user:p.user,session:p},error:null}];case 8:return _=y.sent(),[2,{data:{},error:new In(_)}];case 9:return[2]}})})}},error:null}];case 4:return r=o.sent(),[2,{data:{},error:new In(r)}];case 5:return[2]}})})},t.prototype.signOut=function(e){return hn(this,void 0,void 0,function(){var n,r,i;return pn(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n=this.cache.keys.userInfoKey,[4,this.oauthInstance.authApi.signOut(e)];case 1:return r=o.sent(),[4,this.cache.removeStoreAsync(n)];case 2:return o.sent(),this.setAccessKey(),ia.fire(Fo.LOGIN_STATE_CHANGED,{eventType:zA.SIGN_OUT}),ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.SIGNED_OUT}),[2,Dr(Dr({},r),{data:{},error:null})];case 3:return i=o.sent(),[2,{data:{},error:new In(i)}];case 4:return[2]}})})},t.prototype.onAuthStateChange=function(e){var n=this;this.hasListenerSetUp||(this.setupListeners(),this.hasListenerSetUp=!0);var r=Math.random().toString(36);this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(e);var i={id:r,callback:e,unsubscribe:function(){var o=n.listeners.get(r);o&&(o.delete(e),o.size===0&&n.listeners.delete(r))}};return{data:{subscription:i}}},t.prototype.signInWithPassword=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.validateAtLeastOne(e,[["username"],["email"],["phone"]],"You must provide either username, email, or phone"),this.validateParams(e,{password:{required:!0,message:"Password is required"}}),[4,this.signIn(Dr({username:e.username||e.email||this.formatPhone(e.phone),password:e.password},e.is_encrypt?{isEncrypt:!0,version:"v2"}:{}))];case 1:return a.sent(),[4,this.getSession()];case 2:return n=a.sent().data,r=n===void 0?{}:n,i=r.session,[2,{data:{user:i.user,session:i},error:null}];case 3:return o=a.sent(),[2,{data:{},error:new In(o)}];case 4:return[2]}})})},t.prototype.signInWithIdToken=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.validateParams(e,{token:{required:!0,message:"Token is required"}}),[4,this.signInWithProvider({provider_token:e.token})];case 1:return a.sent(),[4,this.getSession()];case 2:return n=a.sent().data,r=n===void 0?{}:n,i=r.session,[2,{data:{user:i.user,session:i},error:null}];case 3:return o=a.sent(),[2,{data:{},error:new In(o)}];case 4:return[2]}})})},t.prototype.signInWithOtp=function(e){return hn(this,void 0,void 0,function(){var n,r,i=this;return pn(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.validateAtLeastOne(e,[["email"],["phone"]],"You must provide either an email or phone number"),[4,this.getVerification(e.email?{email:e.email}:{phone_number:this.formatPhone(e.phone)})];case 1:return n=o.sent(),[2,{data:{user:null,session:null,verifyOtp:function(a){var s=a.token,u=a.messageId,l=u===void 0?n.verification_id:u;return hn(i,void 0,void 0,function(){return pn(this,function(c){return[2,this.verifyOtp({email:e.email,phone:e.phone,token:s,messageId:l})]})})}},error:null}];case 2:return r=o.sent(),[2,{data:{},error:new In(r)}];case 3:return[2]}})})},t.prototype.verifyOAuth=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c;return pn(this,function(f){switch(f.label){case 0:n={},f.label=1;case 1:return f.trys.push([1,7,,8]),r=(e==null?void 0:e.code)||UI("code"),i=(e==null?void 0:e.state)||UI("state"),r?i?(o=Ope(i),n.type=o==null?void 0:o.type,a=(e==null?void 0:e.provider)||(o==null?void 0:o.provider)||UI("provider"),a?[4,this.grantProviderToken({provider_id:a,provider_redirect_uri:location.origin+location.pathname,provider_code:r})]:[2,{data:n,error:new In({message:"Provider is required"})}]):[2,{data:{},error:new In({message:"State is required"})}]:[2,{data:{},error:new In({message:"Code is required"})}];case 2:return s=f.sent().provider_token,u=void 0,o.type!==jc.BIND_IDENTITY?[3,4]:[4,this.oauthInstance.authApi.toBindIdentity({provider_token:s,provider:a,fireEvent:!0})];case 3:return u=f.sent(),[3,6];case 4:return[4,this.signInWithIdToken({token:s})];case 5:u=f.sent(),u.data=Dr(Dr({},n),u.data),f.label=6;case 6:return l=new URLSearchParams(location==null?void 0:location.search),l.delete("code"),l.delete("state"),Rpe((o==null?void 0:o.search)===void 0?"?".concat(l.toString()):o==null?void 0:o.search,(o==null?void 0:o.hash)||location.hash),Ipe(i),[2,u];case 7:return c=f.sent(),[2,{data:n,error:new In(c)}];case 8:return[2]}})})},t.prototype.signInWithOAuth=function(e){var n,r,i,o,a;return hn(this,void 0,void 0,function(){var s,u,l,c,f,d,h,p,_;return pn(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),this.validateParams(e,{provider:{required:!0,message:"Provider is required"}}),s=((n=e.options)===null||n===void 0?void 0:n.redirectTo)||location.href,u=new URL(s),l=u.origin+u.pathname,c=((r=e.options)===null||r===void 0?void 0:r.state)||"prd-".concat(e.provider,"-").concat(Math.random().toString(36).slice(2)),[4,this.genProviderRedirectUri({provider_id:e.provider,provider_redirect_uri:l,state:c})];case 1:return f=y.sent().uri,d=decodeURIComponent(f),h=d,!((i=e.options)===null||i===void 0)&&i.queryParams&&(p=new URL(d),Object.entries(e.options.queryParams).forEach(function(m){var b=m[0],w=m[1];p.searchParams.set(b,w)}),h=p.toString()),Mpe(c,{provider:e.provider,search:u.search,hash:u.hash,type:((o=e.options)===null||o===void 0?void 0:o.type)||jc.SIGN_IN}),S6()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(h),[2,{data:{url:h,provider:e.provider},error:null}];case 2:return _=y.sent(),[2,{data:{},error:new In(_)}];case 3:return[2]}})})},t.prototype.signInWithSSO=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){return[2]})})},t.prototype.signInWithWeb3=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){return[2]})})},t.prototype.getClaims=function(){return hn(this,void 0,void 0,function(){var e,n,r;return pn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getAccessToken()];case 1:return e=i.sent().accessToken,n=Fhe(e),[2,{data:n,error:null}];case 2:return r=i.sent(),[2,{data:{},error:new In(r)}];case 3:return[2]}})})},t.prototype.resetPasswordForEmail=function(e,n){return hn(this,void 0,void 0,function(){var r,i,o,a,s,u,l=this;return pn(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this.validateParams({emailOrPhone:e},{emailOrPhone:{required:!0,message:"Email or phone is required"}}),r=(n||{}).redirectTo,i=e.includes("@"),o=void 0,i?o={email:e}:(a=this.formatPhone(e),o={phone_number:a}),[4,this.getVerification(o)];case 1:return s=c.sent(),[2,{data:{updateUser:function(f){return hn(l,void 0,void 0,function(){var d,h,p;return pn(this,function(_){switch(_.label){case 0:this.validateParams(f,{nonce:{required:!0,message:"Nonce is required"},password:{required:!0,message:"Password is required"}}),_.label=1;case 1:return _.trys.push([1,5,,6]),[4,this.verify({verification_id:s.verification_id,verification_code:f.nonce})];case 2:return d=_.sent(),[4,this.oauthInstance.authApi.resetPassword({email:i?e:void 0,phone:i?void 0:e,new_password:f.password,verification_token:d.verification_token})];case 3:return _.sent(),ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.PASSWORD_RECOVERY}),[4,this.signInWithPassword({email:i?e:void 0,phone:i?void 0:e,password:f.password})];case 4:return h=_.sent(),r&&S6()&&window.location.assign(r),[2,h];case 5:return p=_.sent(),[2,{data:{},error:new In(p)}];case 6:return[2]}})})}},error:null}];case 2:return u=c.sent(),[2,{data:{},error:new In(u)}];case 3:return[2]}})})},t.prototype.resetPasswordForOld=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.oauthInstance.authApi.updatePasswordByOld({old_password:e.old_password,new_password:e.new_password})];case 1:return a.sent(),[4,this.getSession()];case 2:return n=a.sent().data,r=n===void 0?{}:n,i=r.session,[2,{data:{user:i.user,session:i},error:null}];case 3:return o=a.sent(),[2,{data:{},error:new In(o)}];case 4:return[2]}})})},t.prototype.verifyOtp=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a;return pn(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),n=e.type,this.validateParams(e,{token:{required:!0,message:"Token is required"},messageId:{required:!0,message:"messageId is required"}}),["phone_change","email_change"].includes(n)?[4,this.verify({verification_id:e.messageId,verification_code:e.token})]:[3,2];case 1:return s.sent(),[3,4];case 2:return[4,this.signInWithUsername({verificationInfo:{verification_id:e.messageId,is_user:!0},verificationCode:e.token,username:e.email||this.formatPhone(e.phone)||"",loginType:e.email?"email":"phone"})];case 3:s.sent(),s.label=4;case 4:return[4,this.getSession()];case 5:return r=s.sent().data,i=r===void 0?{}:r,o=i.session,[2,{data:{user:o.user,session:o},error:null}];case 6:return a=s.sent(),[2,{data:{},error:new In(a)}];case 7:return[2]}})})},t.prototype.getSession=function(){return hn(this,void 0,void 0,function(){var e,n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.oauthInstance.oauth2client.getCredentials()];case 1:return e=a.sent(),!e||e.scope==="accessKey"?[2,{data:{session:null},error:null}]:[4,this.getUser()];case 2:return n=a.sent().data,r=n===void 0?{}:n,i=r.user,[2,{data:{session:Dr(Dr({},e),{user:i})},error:null}];case 3:return o=a.sent(),[2,{data:{},error:new In(o)}];case 4:return[2]}})})},t.prototype.refreshSession=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a,s;return pn(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),[4,this.oauthInstance.oauth2client.localCredentials.getCredentials()];case 1:return n=u.sent(),n.refresh_token=e||n.refresh_token,[4,this.oauthInstance.oauth2client.refreshToken(n)];case 2:return r=u.sent(),[4,this.getUser()];case 3:return i=u.sent().data,o=i===void 0?{}:i,a=o.user,[2,{data:{user:a,session:Dr(Dr({},r),{user:a})},error:null}];case 4:return s=u.sent(),[2,{data:{},error:new In(s)}];case 5:return[2]}})})},t.prototype.getUser=function(){return hn(this,void 0,void 0,function(){var e,n,r;return pn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=this.convertToUser,[4,this.getUserInfo()];case 1:return e=n.apply(this,[i.sent()]),[2,{data:{user:e},error:null}];case 2:return r=i.sent(),[2,{data:{},error:new In(r)}];case 3:return[2]}})})},t.prototype.refreshUser=function(){return hn(this,void 0,void 0,function(){var e,n,r,i;return pn(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.currentUser.refresh()];case 1:return o.sent(),[4,this.getSession()];case 2:return e=o.sent().data,n=e===void 0?{}:e,r=n.session,[2,{data:{user:r.user,session:r},error:null}];case 3:return i=o.sent(),[2,{data:{},error:new In(i)}];case 4:return[2]}})})},t.prototype.updateUser=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c,f,d,h,p,_,y=this;return pn(this,function(m){switch(m.label){case 0:if(m.trys.push([0,8,,9]),n=Object.keys(e).some(function(b){return e[b]!==void 0&&e[b]!==null&&e[b]!==""}),!n)throw new In({message:"At least one field must be provided for update"});return r=e.email,i=e.phone,o=Ppe(e,["email","phone"]),a=r!==void 0,s=i!==void 0,u={},a||s?(l=void 0,a?(l={email:e.email},c="email_change"):(f=this.formatPhone(e.phone),l={phone_number:f},c="phone_change"),[4,this.getVerification(l)]):[3,4];case 1:return d=m.sent(),h=Object.keys(o).length>0,h?[4,this.updateUserBasicInfo(o)]:[3,3];case 2:h=m.sent(),m.label=3;case 3:return u={messageId:d.verification_id,verifyOtp:function(b){return hn(y,void 0,void 0,function(){var w,S;return pn(this,function(x){switch(x.label){case 0:return x.trys.push([0,11,,12]),b.email&&e.email===b.email?[4,this.verifyOtp({type:"email_change",email:e.email,token:b.token,messageId:d.verification_id})]:[3,3];case 1:return x.sent(),[4,this.updateUserBasicInfo({email:e.email})];case 2:return x.sent(),[3,9];case 3:return b.phone&&e.phone===b.phone?[4,this.verifyOtp({type:"phone_change",phone:e.phone,token:b.token,messageId:d.verification_id})]:[3,6];case 4:return x.sent(),[4,this.updateUserBasicInfo({phone:this.formatPhone(e.phone)})];case 5:return x.sent(),[3,9];case 6:return[4,this.verifyOtp({type:c,email:a?e.email:void 0,phone:a?void 0:e.phone,token:b.token,messageId:d.verification_id})];case 7:return x.sent(),[4,this.updateUserBasicInfo(e)];case 8:x.sent(),x.label=9;case 9:return[4,this.getUser()];case 10:return w=x.sent().data.user,ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.USER_UPDATED}),[2,{data:{user:w},error:null}];case 11:return S=x.sent(),[2,{data:{},error:new In(S)}];case 12:return[2]}})})}},[3,6];case 4:return[4,this.updateUserBasicInfo(e)];case 5:m.sent(),m.label=6;case 6:return[4,this.getUser()];case 7:return p=m.sent().data.user,ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.USER_UPDATED}),[2,{data:Dr({user:p},u),error:null}];case 8:return _=m.sent(),[2,{data:{},error:new In(_)}];case 9:return[2]}})})},t.prototype.getUserIdentities=function(){var e;return hn(this,void 0,void 0,function(){var n,r;return pn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.oauthInstance.authApi.getProviders()];case 1:return n=i.sent(),[2,{data:{identities:(e=n==null?void 0:n.data)===null||e===void 0?void 0:e.filter(function(o){return!!o.bind})},error:null}];case 2:return r=i.sent(),[2,{data:{},error:new In(r)}];case 3:return[2]}})})},t.prototype.linkIdentity=function(e){return hn(this,void 0,void 0,function(){var n;return pn(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.validateParams(e,{provider:{required:!0,message:"Provider is required"}}),[4,this.signInWithOAuth({provider:e.provider,options:{type:jc.BIND_IDENTITY}})];case 1:return r.sent(),[2,{data:{provider:e.provider},error:null}];case 2:return n=r.sent(),[2,{data:{},error:new In(n)}];case 3:return[2]}})})},t.prototype.unlinkIdentity=function(e){return hn(this,void 0,void 0,function(){var n;return pn(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.validateParams(e,{provider:{required:!0,message:"Provider is required"}}),[4,this.oauthInstance.authApi.unbindProvider({provider_id:e.provider})];case 1:return r.sent(),[2,{data:{},error:null}];case 2:return n=r.sent(),[2,{data:{},error:new In(n)}];case 3:return[2]}})})},t.prototype.reauthenticate=function(){return hn(this,void 0,void 0,function(){var e,n,r,i,o=this;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.getUser()];case 1:return e=a.sent().data.user,this.validateAtLeastOne(e,[["email","phone"]],"You must provide either an email or phone number"),n=e.email?{email:e.email}:{phone_number:this.formatPhone(e.phone)},[4,this.getVerification(n)];case 2:return r=a.sent(),[2,{data:{updateUser:function(s){return hn(o,void 0,void 0,function(){var u,l,c,f,d,h;return pn(this,function(p){switch(p.label){case 0:this.validateParams(s,{nonce:{required:!0,message:"Nonce is required"}}),p.label=1;case 1:return p.trys.push([1,9,,10]),s.password?[4,this.verify({verification_id:r.verification_id,verification_code:s.nonce})]:[3,5];case 2:return u=p.sent(),[4,this.oauthInstance.authApi.sudo({verification_token:u.verification_token})];case 3:return l=p.sent(),[4,this.oauthInstance.authApi.setPassword({new_password:s.password,sudo_token:l.sudo_token})];case 4:return p.sent(),[3,7];case 5:return[4,this.signInWithUsername(Dr(Dr({verificationInfo:r,verificationCode:s.nonce},n),{loginType:n.email?"email":"phone"}))];case 6:p.sent(),p.label=7;case 7:return[4,this.getSession()];case 8:return c=p.sent().data,f=c===void 0?{}:c,d=f.session,[2,{data:{user:d.user,session:d},error:null}];case 9:return h=p.sent(),[2,{data:{},error:new In(h)}];case 10:return[2]}})})}},error:null}];case 3:return i=a.sent(),[2,{data:{},error:new In(i)}];case 4:return[2]}})})},t.prototype.resend=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.validateAtLeastOne(e,[["email"],["phone"]],"You must provide either an email or phone number"),n=e.type==="signup"?"ANY":"USER",r={target:n},"email"in e&&(r.email=e.email),"phone"in e&&(r.phone_number=this.formatPhone(e.phone)),[4,this.oauthInstance.authApi.getVerification(r)];case 1:return i=a.sent().verification_id,[2,{data:{messageId:i},error:null}];case 2:return o=a.sent(),[2,{data:{},error:new In(o)}];case 3:return[2]}})})},t.prototype.setSession=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o;return pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.validateParams(e,{access_token:{required:!0,message:"Access token is required"},refresh_token:{required:!0,message:"Refresh token is required"}}),[4,this.oauthInstance.oauth2client.refreshToken(e,{throwOnError:!0})];case 1:return a.sent(),[4,this.getSession()];case 2:return n=a.sent().data,r=n===void 0?{}:n,i=r.session,ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.SIGNED_IN}),[2,{data:{user:i.user,session:i},error:null}];case 3:return o=a.sent(),[2,{data:{},error:new In(o)}];case 4:return[2]}})})},t.prototype.exchangeCodeForSession=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){return[2]})})},t.prototype.deleteUser=function(e){return hn(this,void 0,void 0,function(){var n,r;return pn(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.validateParams(e,{password:{required:!0,message:"Password is required"}}),[4,this.oauthInstance.authApi.sudo(e)];case 1:return n=i.sent().sudo_token,[4,this.oauthInstance.authApi.deleteMe({sudo_token:n})];case 2:return i.sent(),[2,{data:{},error:null}];case 3:return r=i.sent(),[2,{data:{},error:new In(r)}];case 4:return[2]}})})},t.prototype.toDefaultLoginPage=function(e){return e===void 0&&(e={}),hn(this,void 0,void 0,function(){var n,r,i,o,a;return pn(this,function(s){try{return n=e.config_version||"env",r=Object.keys(e.query||{}).map(function(u){return"".concat(u,"=").concat(e.query[u])}).join("&"),Hu.isMatch()?wx.navigateTo({url:"/packages/$wd_system/pages/login/index".concat(r?"?".concat(r):"")}):(i=e.redirect_uri||window.location.href,o=new URL(i),a="".concat(o.origin,"/__auth/?app_id=").concat(e.app_id||"","&env_id=").concat(this.config.env,"&client_id=").concat(this.config.clientId||this.config.env,"&config_version=").concat(n,"&redirect_uri=").concat(encodeURIComponent(i)).concat(r?"&".concat(r):""),window.location.href=a),[2,{data:{},error:null}]}catch(u){return[2,{data:{},error:new In(u)}]}return[2]})})},t.prototype.signInWithCustomTicket=function(e){return hn(this,void 0,void 0,function(){var n,r,i,o,a;return pn(this,function(s){switch(s.label){case 0:e&&this.setCustomSignFunc(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this.oauthInstance.authApi.signInWithCustomTicket()];case 2:return s.sent(),[4,this.createLoginState()];case 3:return n=s.sent(),[4,this.getSession()];case 4:return r=s.sent().data,i=r===void 0?{}:r,o=i.session,[2,Dr(Dr({},n),{data:{user:o.user,session:o},error:null})];case 5:return a=s.sent(),[2,{data:{},error:new In(a)}];case 6:return[2]}})})},t.prototype.signInWithOpenId=function(e){var n=e===void 0?{}:e,r=n.useWxCloud,i=r===void 0?!0:r;return hn(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d=this;return pn(this,function(h){switch(h.label){case 0:if(!Hu.isMatch())throw Error("wx api undefined");o=wx.getAccountInfoSync().miniProgram,a=function(p){return hn(d,void 0,void 0,function(){var _,y,m;return pn(this,function(b){switch(b.label){case 0:_=void 0,y=void 0,b.label=1;case 1:return b.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:o==null?void 0:o.appId,provider_code:p,provider_params:{provider_code_type:"open_id",appid:o==null?void 0:o.appId}},i)];case 2:if(_=b.sent(),_!=null&&_.error_code||!_.provider_token)throw _;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:_.provider_token},i)];case 3:if(y=b.sent(),y!=null&&y.error_code)throw y;return[3,5];case 4:throw m=b.sent(),m;case 5:return[4,this.oauthInstance.oauth2client.setCredentials(y)];case 6:return b.sent(),[2]}})})},h.label=1;case 1:return h.trys.push([1,5,,6]),[4,new Promise(function(p,_){wx.login({success:function(y){return hn(d,void 0,void 0,function(){var m;return pn(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,a(y.code)];case 1:return b.sent(),p(!0),[3,3];case 2:return m=b.sent(),_(m),[3,3];case 3:return[2]}})})},fail:function(y){var m=new Error(y==null?void 0:y.errMsg);m.code=y==null?void 0:y.errno,_(m)}})})];case 2:return h.sent(),[4,this.createLoginState()];case 3:return s=h.sent(),[4,this.getSession()];case 4:return u=h.sent().data,l=u===void 0?{}:u,c=l.session,[2,Dr(Dr({},s),{data:{user:c.user,session:c},error:null})];case 5:return f=h.sent(),[2,{data:{},error:new In(f)}];case 6:return[2]}})})},t.prototype.signInWithPhoneAuth=function(e){var n=e.phoneCode,r=n===void 0?"":n;return hn(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,d,h;return pn(this,function(p){switch(p.label){case 0:return Hu.isMatch()?(i=wx.getAccountInfoSync().miniProgram,o={provider_params:{provider_code_type:"phone"},provider_id:i.appId},[4,wx.login()]):[2,{data:{},error:new In({message:"wx api undefined"})}];case 1:a=p.sent().code,o.provider_code=a,p.label=2;case 2:return p.trys.push([2,6,,7]),[4,this.oauthInstance.authApi.grantProviderToken(o)];case 3:if(s=p.sent(),s.error_code)throw s;return[4,this.oauthInstance.authApi.patchProviderToken({provider_token:s.provider_token,provider_id:i.appId,provider_params:{code:r,provider_code_type:"phone"}})];case 4:if(s=p.sent(),s.error_code)throw s;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:s.provider_token})];case 5:if(u=p.sent(),u!=null&&u.error_code)throw u;return[3,7];case 6:return l=p.sent(),[2,{data:{},error:new In(l)}];case 7:return[4,this.createLoginState()];case 8:return c=p.sent(),[4,this.getSession()];case 9:return f=p.sent().data,d=f===void 0?{}:f,h=d.session,[2,Dr(Dr({},c),{data:{user:h.user,session:h},error:null})]}})})},t.prototype.formatPhone=function(e){return!/\s+/.test(e)&&/^\+\d{1,3}\d+/.test(e)?e.replace(/^(\+\d{1,2})(\d+)$/,"$1 $2"):/^\+\d{1,3}\s+/.test(e)?e:"+86 ".concat(e)},t.prototype.notifyListeners=function(e,n,r){this.listeners.forEach(function(i){i.forEach(function(o){try{o(e,n,r)}catch(a){console.error("Error in auth state change callback:",a)}})})},t.prototype.init=function(){return hn(this,void 0,void 0,function(){var e;return pn(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.oauthInstance.oauth2client.localCredentials.getCredentials()];case 1:return e=n.sent(),e&&ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.INITIAL_SESSION}),[3,3];case 2:return n.sent(),[3,3];case 3:return[2,{error:null}]}})})},t.prototype.setupListeners=function(){var e=this;ia.on(Fo.AUTH_STATE_CHANGED,function(n){return hn(e,void 0,void 0,function(){var r,i,o,a,s;return pn(this,function(u){switch(u.label){case 0:return r=(a=n==null?void 0:n.data)===null||a===void 0?void 0:a.event,i=(s=n==null?void 0:n.data)===null||s===void 0?void 0:s.info,[4,this.getSession()];case 1:return o=u.sent().data.session,this.notifyListeners(r,o,i),[2]}})})})},t.prototype.convertToUser=function(e){var n,r,i;if(!e)return null;var o=(e==null?void 0:e.email)||(e==null?void 0:e.username),a=e==null?void 0:e.phone_number,s=(e==null?void 0:e.sub)||(e==null?void 0:e.uid)||"";return{id:s,aud:"authenticated",role:e.groups,email:o||"",email_confirmed_at:(e!=null&&e.email_verified,e.created_at),phone:a,phone_confirmed_at:a?e.created_at:void 0,confirmed_at:e.created_at,last_sign_in_at:e.last_sign_in_at,app_metadata:{provider:((n=e.loginType)===null||n===void 0?void 0:n.toLowerCase())||"cloudbase",providers:[((r=e.loginType)===null||r===void 0?void 0:r.toLowerCase())||"cloudbase"]},user_metadata:{name:e==null?void 0:e.name,picture:e==null?void 0:e.picture,username:e==null?void 0:e.username,gender:e==null?void 0:e.gender,locale:e==null?void 0:e.locale,uid:e.uid,nickName:e.nickName,avatarUrl:e.avatarUrl||e.picture,location:e.location,hasPassword:e.hasPassword},identities:((i=e==null?void 0:e.providers)===null||i===void 0?void 0:i.map(function(u){return{id:u.id||"",identity_id:u.id||"",user_id:s,identity_data:{provider_id:u.id,provider_user_id:u.provider_user_id,name:u.name},provider:u.id||"cloudbase",created_at:e.created_at,updated_at:e.updated_at,last_sign_in_at:e.last_sign_in_at}}))||[],created_at:e.created_at,updated_at:e.updated_at,is_anonymous:e.name==="anonymous"}},t.prototype.validateParams=function(e,n){for(var r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(s.required&&((e==null?void 0:e[a])===void 0||(e==null?void 0:e[a])===null||(e==null?void 0:e[a])===""))throw new In({message:s.message})}},t.prototype.validateAtLeastOne=function(e,n,r){var i=n.some(function(o){return o.some(function(a){return(e==null?void 0:e[a])!==void 0&&(e==null?void 0:e[a])!==null&&(e==null?void 0:e[a])!==""})});if(!i)throw new In({message:r})},t}(),Lpe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(){return Jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jr.apply(this,arguments)},pi=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},qt=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Xt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Jt=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Npe="auth",ia=new MF,Bpe=function(t){ia.fire(Fo.LOGIN_STATE_CHANGED,Jr(Jr({},t),{eventType:zA.CREDENTIALS_ERROR}))},Fpe=function(){function t(e){var n=e.cache,r=e.oauthInstance;this.cache=n,this.oauthInstance=r,this.setUserInfo()}return t.prototype.checkLocalInfo=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(e){return this.uid=this.getLocalUserInfo("uid"),this.gender=this.getLocalUserInfo("gender"),this.picture=this.getLocalUserInfo("picture"),this.email=this.getLocalUserInfo("email"),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),this.username=this.getLocalUserInfo("username"),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]})})},t.prototype.checkLocalInfoAsync=function(){return Xt(this,void 0,void 0,function(){var e,n,r,i;return Jt(this,function(o){switch(o.label){case 0:return e=this,[4,this.getLocalUserInfoAsync("uid")];case 1:return e.uid=o.sent(),n=this,[4,this.getLocalUserInfoAsync("gender")];case 2:return n.gender=o.sent(),this.picture=this.getLocalUserInfo("picture"),r=this,[4,this.getLocalUserInfoAsync("email")];case 3:return r.email=o.sent(),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),i=this,[4,this.getLocalUserInfoAsync("username")];case 4:return i.username=o.sent(),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]}})})},t.prototype.update=function(e){return Xt(this,void 0,void 0,function(){var n;return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.setUserProfile(Jr({},e))];case 1:return n=r.sent(),this.setLocalUserInfo(n),[2]}})})},t.prototype.updateUserBasicInfo=function(e){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.updateUserBasicInfo(Jr({},e))];case 1:return n.sent(),[4,this.refresh()];case 2:return n.sent(),[2]}})})},t.prototype.updatePassword=function(e,n){return this.oauthInstance.authApi.updatePasswordByOld({old_password:n,new_password:e})},t.prototype.updateUsername=function(e){return typeof e!="string"&&ol.throwError(ar.ERRORS.INVALID_PARAMS,"username must be a string"),this.update({username:e})},t.prototype.refresh=function(e){return Xt(this,void 0,void 0,function(){var n;return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.getUserInfo(e)];case 1:if(n=r.sent(),n.code==="INVALID_ACCESS_TOKEN")throw this.setLocalUserInfo({}),n;return this.setLocalUserInfo(n),[2,n]}})})},t.prototype.getLocalUserInfo=function(e){var n=this.cache.keys.userInfoKey,r=this.cache.getStore(n);return e?r[e]:r||{}},t.prototype.setLocalUserInfo=function(e){var n=this.cache.keys.userInfoKey;this.cache.setStore(n,e),this.setUserInfo()},t.prototype.getLocalUserInfoAsync=function(e){return Xt(this,void 0,void 0,function(){var n,r;return Jt(this,function(i){switch(i.label){case 0:return n=this.cache.keys.userInfoKey,[4,this.cache.getStoreAsync(n)];case 1:return r=i.sent(),[2,r[e]]}})})},t.prototype.setUserInfo=function(){var e=this,n=this.cache.keys.userInfoKey,r=this.cache.getStore(n);["uid","email","name","gender","picture","email_verified","phone_number","birthdate","zoneinfo","locale","sub","created_from","providers","username","created_at"].forEach(function(i){e[i]=r[i]})},pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  User.update() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],t.prototype,"update",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  User.updatePassword() ","  3 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[String,String]),qt("design:returntype",void 0)],t.prototype,"updatePassword",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  User.updateUsername() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[String]),qt("design:returntype",void 0)],t.prototype,"updateUsername",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  User.refresh() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],t.prototype,"refresh",null),t}(),dR=function(){function t(e){var n=e.envId,r=e.cache,i=e.oauthInstance;n||ol.throwError(ar.ERRORS.INVALID_PARAMS,"envId is not defined"),this.cache=r,this.oauthInstance=i,this.user=new Fpe({cache:this.cache,oauthInstance:i})}return t.prototype.checkLocalState=function(){var e;this.oauthLoginState=(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.hasLoginStateSync(),this.user.checkLocalInfo()},t.prototype.checkLocalStateAsync=function(){var e;return Xt(this,void 0,void 0,function(){return Jt(this,function(n){switch(n.label){case 0:return[4,(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.getLoginState()];case 1:return n.sent(),[4,this.user.checkLocalInfoAsync()];case 2:return n.sent(),[2]}})})},t}(),kpe=function(t){Lpe(e,t);function e(n){var r=t.call(this,n)||this;return r.setAccessKey(),r}return e.prototype.bindPhoneNumber=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.editContact(n)]})})},e.prototype.unbindProvider=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.unbindProvider(n)]})})},e.prototype.bindEmail=function(n){return this.oauthInstance.authApi.editContact(n)},e.prototype.verify=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.verify(n)]})})},e.prototype.getVerification=function(n,r){return Xt(this,void 0,void 0,function(){return Jt(this,function(i){return[2,this.oauthInstance.authApi.getVerification(n,r)]})})},Object.defineProperty(e.prototype,"currentUser",{get:function(){if(this.cache.mode==="async"){ol.printWarn(ar.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrentUser instead");return}var n=this.hasLoginState();return n&&n.user||null},enumerable:!1,configurable:!0}),e.prototype.getCurrentUser=function(){return Xt(this,void 0,void 0,function(){var n,r;return Jt(this,function(i){switch(i.label){case 0:return[4,this.getLoginState()];case 1:return n=i.sent(),n?(r=n.user.getLocalUserInfo(),[4,n.user.checkLocalInfoAsync()]):[3,3];case 2:return i.sent(),[2,Jr(Jr({},n.user),r)];case 3:return[2,null]}})})},e.prototype.signInAnonymouslyInWx=function(n){var r=n===void 0?{}:n,i=r.useWxCloud;return Xt(this,void 0,void 0,function(){var o,a,s=this;return Jt(this,function(u){switch(u.label){case 0:if(!Hu.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,a=function(l){return Xt(s,void 0,void 0,function(){var c,f,d;return Jt(this,function(h){switch(h.label){case 0:c=void 0,f=void 0,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:o==null?void 0:o.appId,provider_code:l,provider_params:{provider_code_type:"open_id",appid:o==null?void 0:o.appId}},i)];case 2:if(c=h.sent(),c!=null&&c.error_code||!c.provider_token)throw c;return[4,this.oauthInstance.authApi.signInAnonymously({provider_token:c.provider_token},i)];case 3:if(f=h.sent(),f!=null&&f.error_code)throw f;return[3,5];case 4:throw d=h.sent(),d;case 5:return[2]}})})},[4,new Promise(function(l,c){wx.login({success:function(f){return Xt(s,void 0,void 0,function(){var d;return Jt(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,a(f.code)];case 1:return h.sent(),l(!0),[3,3];case 2:return d=h.sent(),c(d),[3,3];case 3:return[2]}})})},fail:function(f){var d=new Error(f==null?void 0:f.errMsg);d.code=f==null?void 0:f.errno,c(d)}})})];case 1:return u.sent(),[2,this.createLoginState(void 0,{asyncRefreshUser:!0})]}})})},e.prototype.bindOpenId=function(){return Xt(this,void 0,void 0,function(){var n,r,i=this;return Jt(this,function(o){switch(o.label){case 0:if(!Hu.isMatch())throw Error("wx api undefined");return n=wx.getAccountInfoSync().miniProgram,r=function(a){return Xt(i,void 0,void 0,function(){var s,u;return Jt(this,function(l){switch(l.label){case 0:s=void 0,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:n==null?void 0:n.appId,provider_code:a,provider_params:{provider_code_type:"open_id",appid:n==null?void 0:n.appId}})];case 2:if(s=l.sent(),s!=null&&s.error_code||!s.provider_token)throw s;return[4,this.oauthInstance.authApi.bindWithProvider({provider_token:s.provider_token})];case 3:return l.sent(),[3,5];case 4:throw u=l.sent(),u;case 5:return[2]}})})},[4,new Promise(function(a,s){wx.login({success:function(u){return Xt(i,void 0,void 0,function(){var l;return Jt(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,r(u.code)];case 1:return c.sent(),a(!0),[3,3];case 2:return l=c.sent(),s(l),[3,3];case 3:return[2]}})})},fail:function(u){var l=new Error(u==null?void 0:u.errMsg);l.code=u==null?void 0:u.errno,s(l)}})})];case 1:return o.sent(),[2]}})})},e.prototype.signInWithUnionId=function(){return Xt(this,void 0,void 0,function(){var n,r=this;return Jt(this,function(i){switch(i.label){case 0:if(!Hu.isMatch())throw Error("wx api undefined");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,new Promise(function(o,a){var s=wx.getAccountInfoSync().miniProgram;wx.login({success:function(u){return Xt(r,void 0,void 0,function(){var l,c,f,d,h;return Jt(this,function(p){switch(p.label){case 0:l=s==null?void 0:s.appId,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_code:u.code,provider_id:l,provider_params:{provider_code_type:"union_id",appid:s==null?void 0:s.appId}})];case 2:return c=p.sent(),f=c.provider_token,f?[4,this.oauthInstance.authApi.signInWithProvider({provider_id:l,provider_token:f})]:(a(c),[2]);case 3:return d=p.sent(),d!=null&&d.error_code?(a(d),[2]):(o(!0),[3,5]);case 4:return h=p.sent(),a(h),[3,5];case 5:return[2]}})})},fail:function(u){var l=new Error(u==null?void 0:u.errMsg);l.code=u==null?void 0:u.errno,a(l)}})})];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),n;case 4:return[2,this.createLoginState()]}})})},e.prototype.signInWithSms=function(n){var r=n.verificationInfo,i=r===void 0?{verification_id:"",is_user:!1}:r,o=n.verificationCode,a=o===void 0?"":o,s=n.phoneNum,u=s===void 0?"":s,l=n.bindInfo,c=l===void 0?void 0:l;return Xt(this,void 0,void 0,function(){return Jt(this,function(f){try{return[2,this.signInWithUsername({verificationInfo:i,verificationCode:a,bindInfo:c,username:u,loginType:"sms"})]}catch(d){throw d}return[2]})})},e.prototype.signInWithEmail=function(n){var r=n.verificationInfo,i=r===void 0?{verification_id:"",is_user:!1}:r,o=n.verificationCode,a=o===void 0?"":o,s=n.bindInfo,u=s===void 0?void 0:s,l=n.email,c=l===void 0?"":l;return Xt(this,void 0,void 0,function(){return Jt(this,function(f){try{return[2,this.signInWithUsername({verificationInfo:i,verificationCode:a,bindInfo:u,username:c,loginType:"email"})]}catch(d){throw d}return[2]})})},e.prototype.setCustomSignFunc=function(n){this.oauthInstance.authApi.setCustomSignFunc(n)},e.prototype.signIn=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signIn(n)];case 1:return r.sent(),[2,this.createLoginState(n)]}})})},e.prototype.setPassword=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.setPassword(n)]})})},e.prototype.isUsernameRegistered=function(n){return Xt(this,void 0,void 0,function(){var r;return Jt(this,function(i){switch(i.label){case 0:return typeof n!="string"&&ol.throwError(ar.ERRORS.INVALID_PARAMS,"username must be a string"),[4,this.oauthInstance.authApi.checkIfUserExist({username:n})];case 1:return r=i.sent().exist,[2,r]}})})},e.prototype.hasLoginState=function(){var n;if(this.cache.mode==="async"){ol.printWarn(ar.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed");return}var r=(n=this.oauthInstance)===null||n===void 0?void 0:n.authApi.hasLoginStateSync();if(r){var i=new dR({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance});return i}return null},e.prototype.getLoginState=function(){return Xt(this,void 0,void 0,function(){var n,r;return Jt(this,function(i){switch(i.label){case 0:n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.oauthInstance.authApi.getLoginState()];case 2:return n=i.sent(),[3,4];case 3:return i.sent(),[2,null];case 4:return n?(r=new dR({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[2,r]):[2,null]}})})},e.prototype.getUserInfo=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.getCurrentUser()]})})},e.prototype.getWedaUserInfo=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.getWedaUserInfo()]})})},e.prototype.updateUserBasicInfo=function(n){return Xt(this,void 0,void 0,function(){var r;return Jt(this,function(i){switch(i.label){case 0:return[4,this.getLoginState()];case 1:return r=i.sent(),r?[4,r.user.updateUserBasicInfo(n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.getAuthHeader=function(){return console.error("Auth.getAuthHeader API "),{}},e.prototype.bindWithProvider=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.bindWithProvider(n)]})})},e.prototype.queryUser=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.queryUserProfile(n)]})})},e.prototype.getAccessToken=function(){return Xt(this,void 0,void 0,function(){var n;return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.getAccessToken()];case 1:return n=r.sent(),[2,{accessToken:n,env:this.config.env}]}})})},e.prototype.grantProviderToken=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.grantProviderToken(n)]})})},e.prototype.patchProviderToken=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.patchProviderToken(n)]})})},e.prototype.signInWithProvider=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithProvider(n)];case 1:return r.sent(),[2,this.createLoginState(n)]}})})},e.prototype.signInWithWechat=function(n){return n===void 0&&(n={}),Xt(this,void 0,void 0,function(){return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithWechat(n)];case 1:return r.sent(),[2,this.createLoginState(n)]}})})},e.prototype.grantToken=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.grantToken(n)];case 1:return r.sent(),[2,this.createLoginState()]}})})},e.prototype.genProviderRedirectUri=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.genProviderRedirectUri(n)]})})},e.prototype.resetPassword=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.resetPassword(n)]})})},e.prototype.deviceAuthorize=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.deviceAuthorize(n)]})})},e.prototype.sudo=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.sudo(n)]})})},e.prototype.deleteMe=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.deleteMe(n)]})})},e.prototype.getProviders=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.getProviders()]})})},e.prototype.loginScope=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.loginScope()]})})},e.prototype.loginGroups=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.loginGroups()]})})},e.prototype.onLoginStateChanged=function(n){return Xt(this,void 0,void 0,function(){var r,i=this;return Jt(this,function(o){switch(o.label){case 0:return ia.on(Fo.LOGIN_STATE_CHANGED,function(a){return Xt(i,void 0,void 0,function(){var s,u,l;return Jt(this,function(c){switch(c.label){case 0:return((l=a==null?void 0:a.data)===null||l===void 0?void 0:l.eventType)===zA.CREDENTIALS_ERROR?[3,2]:[4,this.getLoginState()];case 1:return u=c.sent(),[3,3];case 2:u={},c.label=3;case 3:return s=u,n.call(this,Jr(Jr({},a),s)),[2]}})})}),[4,this.getLoginState()];case 1:return r=o.sent(),n.call(this,r),[2]}})})},e.prototype.refreshTokenForce=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.refreshTokenForce(n)]})})},e.prototype.getCredentials=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.getCredentials()]})})},e.prototype.setCredentials=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.setCredentials(n)];case 1:return r.sent(),[2]}})})},e.prototype.getProviderSubType=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,this.oauthInstance.authApi.getProviderSubType()]})})},e.prototype.createCaptchaData=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.createCaptchaData(n)]})})},e.prototype.verifyCaptchaData=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.verifyCaptchaData(n)]})})},e.prototype.getMiniProgramQrCode=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramCode(n)]})})},e.prototype.getMiniProgramQrCodeStatus=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramQrCodeStatus(n)]})})},e.prototype.modifyPassword=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.modifyPassword(n)]})})},e.prototype.modifyPasswordWithoutLogin=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.modifyPasswordWithoutLogin(n)]})})},e.prototype.getUserBehaviorLog=function(n){return Xt(this,void 0,void 0,function(){return Jt(this,function(r){return[2,this.oauthInstance.authApi.getUserBehaviorLog(n)]})})},e.prototype.signInWithUsername=function(n){var r=n.verificationInfo,i=r===void 0?{verification_id:"",is_user:!1}:r,o=n.verificationCode,a=o===void 0?"":o,s=n.username,u=s===void 0?"":s,l=n.bindInfo,c=l===void 0?void 0:l,f=n.loginType,d=f===void 0?"":f;return Xt(this,void 0,void 0,function(){var h,p,_,y,m,b,w,S;return Jt(this,function(x){switch(x.label){case 0:return x.trys.push([0,8,,9]),[4,this.oauthInstance.authApi.verify({verification_id:i.verification_id,verification_code:a})];case 1:if(h=x.sent(),h!=null&&h.error_code)throw h;return p=h.verification_token,_=/^\+\d{1,3}\s+/.test(u)?u:"+86 ".concat(u),y={phone_number:_},d==="email"&&(_=u,y={email:_}),i.is_user?[4,this.oauthInstance.authApi.signIn({username:_,verification_token:p})]:[3,5];case 2:if(m=x.sent(),m!=null&&m.error_code)throw m;return c?[4,this.oauthInstance.authApi.bindWithProvider({provider_token:c==null?void 0:c.providerToken})]:[3,4];case 3:if(b=x.sent(),b!=null&&b.error_code)throw b;x.label=4;case 4:return[3,7];case 5:return[4,this.oauthInstance.authApi.signUp(Jr(Jr({},y),{verification_token:p,provider_token:c==null?void 0:c.providerId}))];case 6:if(w=x.sent(),w!=null&&w.error_code)throw w;x.label=7;case 7:return[2,this.createLoginState()];case 8:throw S=x.sent(),S;case 9:return[2]}})})},e.prototype.createLoginState=function(n,r){return Xt(this,void 0,void 0,function(){var i;return Jt(this,function(o){switch(o.label){case 0:return i=new dR({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[4,i.checkLocalStateAsync()];case 1:return o.sent(),r!=null&&r.userInfo?(i.user.setLocalUserInfo(r.userInfo),[3,5]):[3,2];case 2:return r!=null&&r.asyncRefreshUser?(i.user.refresh(n),[3,5]):[3,3];case 3:return[4,i.user.refresh(n)];case 4:o.sent(),o.label=5;case 5:return ia.fire(Fo.LOGIN_STATE_CHANGED,{eventType:zA.SIGN_IN}),ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.SIGNED_IN}),[2,i]}})})},e.prototype.setAccessKey=function(){return Xt(this,void 0,void 0,function(){return Jt(this,function(n){if(this.config.accessKey)try{this.oauthInstance.oauth2client.setAccessKeyCredentials({access_token:this.config.accessKey,token_type:"Bearer",scope:"accessKey",expires_at:new Date(+new Date+ +new Date),expires_in:+new Date+ +new Date})}catch(r){console.warn("accessKey error: ",r)}return[2]})})},pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindPhoneNumber() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"bindPhoneNumber",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().unbindProvider() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"unbindProvider",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindEmail() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],e.prototype,"bindEmail",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().verify() ","  2 - /","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"verify",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getVerification() ","  2 - /","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object,Object]),qt("design:returntype",Promise)],e.prototype,"getVerification",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getCurrentUser() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"getCurrentUser",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymouslyInWx() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"signInAnonymouslyInWx",null),pi([oi.catchErrorsDecorator({title:"OpenID",messages:["","  1 - openId","  2 -  auth().bindOpenId() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"bindOpenId",null),pi([oi.catchErrorsDecorator({title:"unionId",messages:["","  1 - unionId","  2 -  auth().signInWithUnionId() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"signInWithUnionId",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithSms() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"signInWithSms",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithEmail() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"signInWithEmail",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().isUsernameRegistered() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[String]),qt("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getLoginState() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"getLoginState",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getUserInfo() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"getUserInfo",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getWedaUserInfo() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"getWedaUserInfo",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindWithProvider() ","  2 - ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],e.prototype,"bindWithProvider",null),pi([oi.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getProviderSubType() ","".concat(ar.COMMUNITY_SITE_URL)]}),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",Promise)],e.prototype,"getProviderSubType",null),e}(Dpe);function Upe(t,e){var n=this,r=t.region,i=r===void 0?"ap-shanghai":r,o=t.i18n,a=t.accessKey,s=t.useWxCloud,u=(e==null?void 0:e.platform)||xY.useDefaultAdapter.bind(e)(),l=u.runtime,c=u.adapter,f=e||{},d=f.env,h=f.clientId,p=f.debug,_=f.cache,y=f.app,m=(e||{}).apiOrigin;m||(m="https://".concat(d,".").concat(i,".tcb-api.tencentcloudapi.com"));var b={env:d,clientId:h,i18n:o,accessKey:a,useWxCloud:s,eventBus:ia},w=new spe(Tpe(Jr(Jr({},b),{apiOrigin:m,apiPath:(t==null?void 0:t.apiPath)||wT,storage:t==null?void 0:t.storage,baseRequest:t==null?void 0:t.baseRequest,request:t==null?void 0:t.request,anonymousSignInFunc:t==null?void 0:t.anonymousSignInFunc,captchaOptions:t==null?void 0:t.captchaOptions,wxCloud:t==null?void 0:t.wxCloud,adapter:c,onCredentialsError:Bpe,headers:Jr({"X-SDK-Version":"@cloudbase/js-sdk/".concat(t.sdkVersion)},t.headers||{}),detectSessionInUrl:t.detectSessionInUrl,debug:p}))),S=new kpe(Jr(Jr({},b),{region:i,persistence:t.persistence,debug:p,cache:_||new EY({persistence:t.persistence,keys:{userInfoKey:"user_info_".concat(d)},platformInfo:u}),runtime:l||"web",_fromApp:y,oauthInstance:w}));return w.initializeSession(function(x,E){return Xt(n,void 0,void 0,function(){return Jt(this,function(M){return x?(x.type===jc.SIGN_IN?E?ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.SIGNED_IN,info:Jr(Jr({},x),{error:E})}):x.user&&S.createLoginState({},{userInfo:x.user}):x.type===jc.BIND_IDENTITY&&ia.fire(Fo.AUTH_STATE_CHANGED,{event:Kl.BIND_IDENTITY,info:Jr(Jr({},x),{error:E})}),[2]):[2]})})}),{authInstance:S,oauthInstance:w}}var MY={name:Npe,namespace:"auth",entity:function(t){var e;if(this.authInstance&&!t)return this.authInstance;t=t||{region:"",persistence:"local",apiPath:wT};var n=this.platform.adapter,r=t.persistence||n.primaryStorage;r&&r!==this.config.persistence&&this.updateConfig({persistence:r});var i=Upe(Jr(Jr({wxCloud:this.config.wxCloud,storage:this.config.storage},t),{persistence:this.config.persistence,i18n:this.config.i18n,accessKey:this.config.accessKey,useWxCloud:this.config.useWxCloud,sdkVersion:this.version,detectSessionInUrl:(e=this.config.auth)===null||e===void 0?void 0:e.detectSessionInUrl}),{env:this.config.env,clientId:this.config.clientId,apiOrigin:this.request.getBaseEndPoint(this.config.endPointMode||"CLOUD_API"),platform:this.platform,cache:this.cache,app:this,debug:this.config.debug}),o=i.authInstance,a=i.oauthInstance;return this.oauthInstance=a,this.authInstance=o,this.authInstance}};try{cloudbase.registerComponent(MY)}catch{}function jpe(t){try{t.registerComponent(MY)}catch(e){console.warn(e)}}var WA=function(){return WA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},WA.apply(this,arguments)},OY=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},IY=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},E6=sa,ZD="cloudrun",Hpe=function(){function t(){}return t.prototype.callContainer=function(e,n){return OY(this,void 0,void 0,function(){var r,i,o;return IY(this,function(a){switch(a.label){case 0:if(r=e.name,i=e.data,!r)throw new Error(JSON.stringify({code:E6.INVALID_PARAMS,msg:"[".concat(ZD,".callContainer] invalid name")}));try{o=i?JSON.stringify(i):""}catch{throw new Error(JSON.stringify({code:E6.INVALID_PARAMS,msg:"[".concat(ZD,".callContainer] invalid data")}))}return[4,RY.call(this,WA(WA({},e),{data:o}),n)];case 1:return[2,a.sent()]}})})},t}();function RY(t,e){return OY(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c,f,d,h,p;return IY(this,function(_){switch(_.label){case 0:return n=t.name,r=t.data,i=t.path,o=i===void 0?"":i,a=t.method,s=t.header,u=s===void 0?{}:s,l=this.getEndPointWithKey("GATEWAY"),c=l.BASE_URL,f=l.PROTOCOL,d="".concat(f).concat(c,"/cloudrun/").concat(n),h=o.startsWith("/")?o:"/".concat(o),[4,this.request.fetch({method:a||"POST",headers:Object.assign({},{"Content-Type":"application/json; charset=utf-8"},u),body:r,url:"".concat(d).concat(h),customReqOpts:e})];case 1:return p=_.sent(),(e==null?void 0:e.from)==="node-sdk"?[2,p]:[4,p.data];case 2:return[2,_.sent()]}})})}var $pe=new Hpe,PY={name:ZD,entity:{callContainer:$pe.callContainer}};try{cloudbase.registerComponent(PY)}catch{}function DY(t){try{t.registerComponent(PY)}catch(e){console.warn(e)}}try{window.registerCloudrun=DY}catch{}var qh=function(){return qh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qh.apply(this,arguments)},zpe=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},hR=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Gpe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Wpe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Vpe=dT,pR=sa,qpe=hT,fy=YX,Kpe=vT,Rx="functions",Xpe=function(){function t(){}return t.prototype.callFunction=function(e,n,r){var i,o,a;return Gpe(this,void 0,void 0,function(){var s,u,l,c,f,d,h,p,_,y,m,b,w,P,S,x,E,M,O,C,T,P,N;return Wpe(this,function(H){switch(H.label){case 0:if(s=e.name,u=e.data,l=e.query,c=e.parse,f=e.search,d=e.type,h=e.path,p=h===void 0?"":h,_=e.method,y=e.header,m=y===void 0?{}:y,!s)throw new Error(JSON.stringify({code:pR.INVALID_PARAMS,msg:"[".concat(Rx,".callFunction] invalid function name")}));try{b=u?JSON.stringify(u):""}catch{throw new Error(JSON.stringify({code:pR.INVALID_PARAMS,msg:"[".concat(Rx,".callFunction] invalid data")}))}return d!=="cloudrun"?[3,2]:(w=XX(),[4,RY.call(this,{name:s,data:b,path:p,method:_,header:qh(qh({},m),{"X-Request-Id":w})})]);case 1:return P=H.sent(),[2,{result:P,requestId:w}];case 2:S=this,x=S.request,E=S.config,M="functions.invokeFunction",O={inQuery:l,parse:c,search:f,function_name:s,request_data:b},C={},H.label=3;case 3:return H.trys.push([3,8,,9]),E.endPointMode!=="GATEWAY"?[3,5]:[4,x.gateWay(qh(qh({},e),{path:"functions"}),r)];case 4:return T=H.sent(),C=qh({requestId:T.requestId},!((i=T.data)===null||i===void 0)&&i.code?T.data:{data:{response_data:T.data}}),[3,7];case 5:return[4,x.send(M,O,{defaultQuery:!((o=u==null?void 0:u.params)===null||o===void 0)&&o.action?{action:(a=u==null?void 0:u.params)===null||a===void 0?void 0:a.action}:{}},r)];case 6:C=H.sent(),H.label=7;case 7:if(C.code)return[2,fy(n,null,C)];if(P=C.data.response_data,c||E.endPointMode==="GATEWAY")return[2,fy(n,null,{result:P,requestId:C.requestId})];try{return P=JSON.parse(C.data.response_data),[2,fy(n,null,{result:P,requestId:C.requestId})]}catch{fy(n,new Error("[".concat(Vpe(),"][").concat(pR.INVALID_PARAMS,"][").concat(Rx,".callFunction] response data must be json")))}return[3,9];case 8:return N=H.sent(),fy(n,N),[3,9];case 9:return[2]}})})},zpe([Kpe({customInfo:{},title:"",messages:["","  1 -  callFunction() ","  2 - ","  3 - ","".concat(qpe)]}),hR("design:type",Function),hR("design:paramtypes",[Object,Function,Object]),hR("design:returntype",Promise)],t.prototype,"callFunction",null),t}(),Jpe=new Xpe,LY={name:Rx,entity:{callFunction:Jpe.callFunction}};try{cloudbase.registerComponent(LY)}catch{}function Ype(t){try{t.registerComponent(LY)}catch(e){console.warn(e)}}var Ai=function(){return Ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ai.apply(this,arguments)},Mm=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ji=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Vs=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},qs=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},jl;(function(t){t.put="put",t.post="post"})(jl||(jl={}));var Zpe=dT,Ps=sa,Om=hT,mR=VX,dy=qX,Qpe=nde,Ds=YX,Im=vT,Qo="storage",_S={getUploadInfo:function(t,e,n){return Vs(void 0,void 0,void 0,function(){var r,i,o;return qs(this,function(a){switch(a.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-upload-info",data:[Ai({objectId:e.path},e.headers?{signedHeader:e.headers}:{})]},n)];case 1:return r=a.sent(),i=((o=r.data)===null||o===void 0?void 0:o[0])||{},r=Ai(Ai({},r),{data:Ai(Ai({},i.code?Ai({},i):{}),{authorization:i.authorization,token:i.token,url:i.uploadUrl,fileId:i.cloudObjectId,cosFileId:i.cloudObjectMeta,download_url:i.downloadUrl})}),[2,r]}})})},getDownLoadInfo:function(t,e,n){return Vs(void 0,void 0,void 0,function(){var r,i;return qs(this,function(o){switch(o.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-download-info",data:e.convertedFileList.map(function(a){return{cloudObjectId:a.fileid}})},n)];case 1:return r=o.sent(),r=Ai(Ai({},r),{data:{download_list:(i=r.data)===null||i===void 0?void 0:i.map(function(a){return{code:a.code||"SUCCESS",message:a.message,fileid:a.cloudObjectId,download_url:a.downloadUrl,fileID:a.cloudObjectId,tempFileURL:a.downloadUrl}})}}),[2,r]}})})},delete:function(t,e,n){return Vs(void 0,void 0,void 0,function(){var r,i;return qs(this,function(o){switch(o.label){case 0:return[4,t.gateWay({path:"storages",name:"delete-objects",data:e.fileList.map(function(a){return{cloudObjectId:a}})},n)];case 1:return r=o.sent(),r=Ai(Ai({},r),{data:{delete_list:(i=r.data)===null||i===void 0?void 0:i.map(function(a){return{code:a.code||"SUCCESS",fileID:a.cloudObjectId,message:a.message}})}}),[2,r]}})})},copyFile:function(t,e,n){return Vs(void 0,void 0,void 0,function(){var r,i;return qs(this,function(o){switch(o.label){case 0:return[4,t.gateWay({path:"storages",name:"copy-objects",data:e.convertedFileList.map(function(a){return{srcPath:a.src_path,dstPath:a.dst_path,overwrite:a.overwrite,removeOriginal:a.remove_original}})},n)];case 1:return r=o.sent(),r=Ai(Ai({},r),{data:{copy_list:(i=r.data)===null||i===void 0?void 0:i.map(function(a){return{code:a.code||"SUCCESS",fileID:a.cloudObjectId,message:a.message}})}}),[2,r]}})})}},NY=function(){function t(){}return t.prototype.isGateWay=function(){var e=this.config,n=e.endPointMode||"CLOUD_API";return n==="GATEWAY"},t.prototype.uploadFile=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C,T;return qs(this,function(P){switch(P.label){case 0:if(r=e.cloudPath,i=e.filePath,o=e.onUploadProgress,a=(O=e.method,O===void 0?"put":O),s=(C=e.headers,C===void 0?{}:C),u=e.fileContent,!dy(r)||!i&&!u)throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".uploadFile] invalid params")}));return l={put:jl.put,post:jl.post}[a.toLocaleLowerCase()]||jl.put,[4,this.getUploadMetadata({cloudPath:r,method:l,headers:l===jl.put?s:void 0,customReqOpts:e.customReqOpts})];case 1:return c=P.sent(),f=c.data,d=c.requestId,h=f.url,p=f.authorization,_=f.token,y=f.fileId,m=f.cosFileId,b=f.download_url,w={url:h,file:i,name:r,onUploadProgress:o,fileContent:u,fileId:y,requestId:d},S=Ai(Ai({},w),{method:jl.put,headers:Ai(Ai({},s),{authorization:p,"x-cos-meta-fileid":m,"x-cos-security-token":_})}),x=Ai(Ai({},w),{method:jl.post,data:{key:r,signature:p,"x-cos-meta-fileid":m,success_action_status:"201","x-cos-security-token":_}}),E=(T={},T[jl.put]={params:S,isSuccess:function(N){return N>=200&&N<300}},T[jl.post]={params:x,isSuccess:function(N){return N===201}},T),[4,this.request.upload(E[l].params)];case 2:return M=P.sent(),E[l].isSuccess(M.statusCode)?[2,Ds(n,null,{fileID:y,download_url:b,requestId:d})]:[2,Ds(n,new Error("[".concat(Zpe(),"][").concat(Ps.OPERATION_FAIL,"][").concat(Qo,"]:").concat(M.data)))]}})})},t.prototype.getUploadMetadata=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c;return qs(this,function(f){switch(f.label){case 0:if(r=e.cloudPath,i=e.method,o=e.headers,!dy(r))throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".getUploadMetadata] invalid cloudPath")}));a=this.request,s="storage.getUploadMetadata",f.label=1;case 1:return f.trys.push([1,6,,7]),u=void 0,l={path:r},i&&(l.method=i),i===jl.put&&o&&(l.headers=o),this.isGateWay()?[4,_S.getUploadInfo(a,l,e.customReqOpts)]:[3,3];case 2:return u=f.sent(),[3,5];case 3:return[4,a.send(s,l,e.customReqOpts)];case 4:u=f.sent(),f.label=5;case 5:return[2,Ds(n,null,u)];case 6:return c=f.sent(),[2,Ds(n,c)];case 7:return[2]}})})},t.prototype.deleteFile=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c;return qs(this,function(f){switch(f.label){case 0:if(r=e.fileList,!r||!mR(r)||r.length===0)throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".deleteFile] fileList must not be empty")}));for(i=0,o=r;i<o.length;i++)if(a=o[i],!a||!dy(a))throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".deleteFile] fileID must be string")}));return s="storage.batchDeleteFile",u=this.request,l={},this.isGateWay()?[4,_S.delete(u,{fileList:r},e.customReqOpts)]:[3,2];case 1:return l=f.sent(),[3,4];case 2:return[4,u.send(s,{fileid_list:r},e.customReqOpts)];case 3:l=f.sent(),f.label=4;case 4:return l.code?[2,Ds(n,null,l)]:(c={fileList:l.data.delete_list,requestId:l.requestId},[2,Ds(n,null,c)])}})})},t.prototype.getTempFileURL=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c;return qs(this,function(f){switch(f.label){case 0:if(r=e.fileList,!r||!mR(r)||r.length===0)throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".getTempFileURL] fileList must not be empty")}));for(i=[],o=0,a=r;o<a.length;o++)if(s=a[o],Qpe(s)){if(!Object.prototype.hasOwnProperty.call(s,"fileID"))throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".getTempFileURL] file info must include fileID")}));i.push({fileid:s.fileID,max_age:s.maxAge||7200})}else if(dy(s))i.push({fileid:s});else throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".getTempFileURL] invalid fileList")}));return u="storage.batchGetDownloadUrl",l=this.request,c={},this.isGateWay()?[4,_S.getDownLoadInfo(l,{convertedFileList:i},e.customReqOpts)]:[3,2];case 1:return c=f.sent(),[3,4];case 2:return[4,l.send(u,{file_list:i},e.customReqOpts)];case 3:c=f.sent(),f.label=4;case 4:return c.code?[2,Ds(n,null,c)]:[2,Ds(n,null,{fileList:c.data.download_list,requestId:c.requestId})]}})})},t.prototype.downloadFile=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u;return qs(this,function(l){switch(l.label){case 0:if(r=e.fileID,!dy(r))throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".getTempFileURL] fileID must be string")}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:r,maxAge:600}],customReqOpts:e.customReqOpts})];case 1:return i=l.sent(),o=i.fileList[0],o.code!=="SUCCESS"?[2,Ds(n,o)]:(a=this.request,s=encodeURI(o.download_url),[4,a.download({url:s,tempFilePath:e.tempFilePath})]);case 2:return u=l.sent(),[2,Ds(n,null,u)]}})})},t.prototype.copyFile=function(e,n){return Vs(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,d;return qs(this,function(h){switch(h.label){case 0:if(r=e.fileList,!r||!mR(r)||r.length===0)throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".copyFile] fileList must not be empty")}));for(i=[],o=0,a=r;o<a.length;o++){if(s=a[o],u=s.srcPath,l=s.dstPath,!u||!l||typeof u!="string"||typeof l!="string")throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".copyFile] srcPath and dstPath may not be empty")}));if(u===l)throw new Error(JSON.stringify({code:Ps.INVALID_PARAMS,msg:"[".concat(Qo,".copyFile] srcPath and dstPath can not be the same")}));i.push({src_path:u,dst_path:l,overwrite:s.overwrite,remove_original:s.removeOriginal})}return c=this.request,f={},this.isGateWay()?[4,_S.copyFile(c,{convertedFileList:i},e.customReqOpts)]:[3,2];case 1:return f=h.sent(),[3,4];case 2:return d="storage.batchCopyFile",[4,c.send(d,{file_list:i},e.customReqOpts)];case 3:f=h.sent(),h.label=4;case 4:return f.code?[2,Ds(n,null,f)]:[2,Ds(n,null,{fileList:f.data.copy_list,requestId:f.requestId})]}})})},t.prototype.getFileInfo=function(e){var n;return Vs(this,void 0,void 0,function(){var r,i,o=this;return qs(this,function(a){switch(a.label){case 0:return[4,this.getTempFileURL(e)];case 1:return r=a.sent(),r!=null&&r.fileList&&((n=r==null?void 0:r.fileList)===null||n===void 0?void 0:n.length)>0?[4,Promise.all(r.fileList.map(function(s){return Vs(o,void 0,void 0,function(){var u,l,c,f,d,h,p;return qs(this,function(_){switch(_.label){case 0:if(s.code!=="SUCCESS")return[2,{code:s.code,fileID:s.fileID,tempFileURL:s.tempFileURL,message:s.message}];_.label=1;case 1:return _.trys.push([1,3,,4]),u=this.request,[4,u.fetch({url:s.tempFileURL,method:"HEAD"})];case 2:return l=_.sent(),c=l.header,Headers&&c instanceof Headers&&(c=Object.fromEntries(l.header.entries())),f=parseInt(c["content-length"])||0,d=c["content-type"]||"",[400,404].includes(Number(l.statusCode))?[2,{code:"FILE_NOT_FOUND",fileID:s.fileID,tempFileURL:s.tempFileURL,message:"file not found"}]:(h={code:s.code,fileID:s.fileID,tempFileURL:s.tempFileURL,cloudId:s.fileID,fileName:s.fileID.split("/").pop(),contentType:d,mime:d.split(";")[0].trim(),size:f,etag:c.etag||"",lastModified:c["last-modified"]||"",cacheControl:c["cache-control"]||""},[2,h]);case 3:return p=_.sent(),[2,{code:"FETCH_FILE_INFO_ERROR",fileID:s.fileID,tempFileURL:s.tempFileURL,message:p.message}];case 4:return[2]}})})}))]:[3,3];case 2:return i=a.sent(),[2,{fileList:i,requestId:r.requestId}];case 3:return[2,{fileList:[],requestId:r.requestId}]}})})},Mm([Im({customInfo:{},title:"",messages:["","  1 -  uploadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"uploadFile",null),Mm([Im({customInfo:{},title:"",messages:["","  1 -  getUploadMetadata() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"getUploadMetadata",null),Mm([Im({customInfo:{},title:"",messages:["","  1 -  deleteFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"deleteFile",null),Mm([Im({customInfo:{},title:"",messages:["","  1 -  getTempFileURL() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"getTempFileURL",null),Mm([Im({customInfo:{},title:"",messages:["","  1 -  downloadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"downloadFile",null),Mm([Im({customInfo:{},title:"",messages:["","  1 -  copyFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Om)]}),Ji("design:type",Function),Ji("design:paramtypes",[Object,Function]),Ji("design:returntype",Promise)],t.prototype,"copyFile",null),t}(),RF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yo=function(t){RF(e,t);function e(n){var r=t.call(this,n)||this;return r.__isStorageError=!0,r.name="StorageError",r}return e}(Error);function ch(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}(function(t){RF(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.name="StorageApiError",o.status=r,o.statusCode=i,o}return e.prototype.toJSON=function(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}},e})(Yo);(function(t){RF(e,t);function e(n,r){var i=t.call(this,n)||this;return i.name="StorageUnknownError",i.originalError=r,i}return e})(Yo);var eme=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),M_=function(){return M_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},M_.apply(this,arguments)},qo=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Ko=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},tme=sa,nme=function(t){eme(e,t);function e(n){var r=t.call(this)||this;return r.shouldThrowOnError=!1,r.bucketId="",r.context=n,r}return Object.defineProperty(e.prototype,"config",{get:function(){var n;return(n=this.context)===null||n===void 0?void 0:n.config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){var n;return(n=this.context)===null||n===void 0?void 0:n.request},enumerable:!1,configurable:!0}),e.prototype.throwOnError=function(){return this.shouldThrowOnError=!0,this},e.prototype.from=function(n){return this.bucketId=n||"",this},e.prototype.upload=function(n,r,i){return qo(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d,h;return Ko(this,function(p){switch(p.label){case 0:o=M_({upsert:!0},i),a=o.cacheControl,s=o.contentType,u=o.metadata,p.label=1;case 1:return p.trys.push([1,3,,4]),l=this._getCloudPath(n),c={cloudPath:l,filePath:r},(a||s||u)&&(f={},a&&(f["cache-control"]=a),s&&(f["content-type"]=s),u&&(f["x-cos-metadata-metadata"]=this.toBase64(JSON.stringify(u))),c.headers=f),[4,this.uploadFile(c)];case 2:if(d=p.sent(),!d.fileID)throw new Error(JSON.stringify({code:tme.OPERATION_FAIL,msg:"[".concat(Qo,".update] no fileID returned")}));return[2,{data:{id:d.fileID,path:n,fullPath:n},error:null}];case 3:if(h=p.sent(),this.shouldThrowOnError)throw h;if(ch(h))return[2,{data:null,error:h}];throw h;case 4:return[2]}})})},e.prototype.uploadToSignedUrl=function(n,r,i,o){return qo(this,void 0,void 0,function(){return Ko(this,function(a){return[2,this.upload(n,i,o)]})})},e.prototype.createSignedUploadUrl=function(n){return qo(this,void 0,void 0,function(){var r,i,o;return Ko(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),r=this._getCloudPath(n),[4,this.getUploadMetadata({cloudPath:r})];case 1:return i=a.sent().data,[2,{data:{signedUrl:i.url,token:i.token,path:n,authorization:i.authorization,id:i.fileId,cosFileId:i.cosFileId,downloadUrl:i.download_url},error:null}];case 2:if(o=a.sent(),this.shouldThrowOnError)throw o;return[2,{data:null,error:o instanceof Yo?o:new Yo(o.message)}];case 3:return[2]}})})},e.prototype.update=function(n,r,i){return qo(this,void 0,void 0,function(){return Ko(this,function(o){return[2,this.upload(n,r,M_(M_({},i),{upsert:!0}))]})})},e.prototype.move=function(n,r){return qo(this,void 0,void 0,function(){var i,o;return Ko(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.copyFile({fileList:[{srcPath:this._getCloudPath(n),dstPath:this._getCloudPath(r),overwrite:!0,removeOriginal:!0}]})];case 1:if(i=a.sent(),i.fileList[0].code&&i.fileList[0].code!=="SUCCESS")throw new Yo(i.fileList[0].message||"Move failed");return[2,{data:{message:"File moved from ".concat(n," to ").concat(r)},error:null}];case 2:if(o=a.sent(),this.shouldThrowOnError)throw o;if(ch(o))return[2,{data:null,error:o}];throw o;case 3:return[2]}})})},e.prototype.copy=function(n,r){return qo(this,void 0,void 0,function(){var i,o;return Ko(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.copyFile({fileList:[{srcPath:this._getCloudPath(n),dstPath:this._getCloudPath(r),overwrite:!0,removeOriginal:!1}]})];case 1:if(i=a.sent(),i.fileList[0].code&&i.fileList[0].code!=="SUCCESS")throw new Yo(i.fileList[0].message||"Copy failed");return[2,{data:{path:this._getCloudPath(r)},error:null}];case 2:if(o=a.sent(),this.shouldThrowOnError)throw o;if(ch(o))return[2,{data:null,error:o}];throw o;case 3:return[2]}})})},e.prototype.createSignedUrl=function(n,r,i){return qo(this,void 0,void 0,function(){var o,a,s,u,l,c,f;return Ko(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),o=this._normalizeCloudId(n),[4,this.getTempFileURL({fileList:[{fileID:o,maxAge:r}]})];case 1:if(a=d.sent(),a.fileList[0].code!=="SUCCESS")throw new Yo("Failed to create signed URL: [".concat(a.fileList[0].code,"] ").concat(a.fileList[0].fileID));return s=a.fileList[0].download_url,u=[],(i==null?void 0:i.download)!==void 0&&(typeof i.download=="string"?u.push("download=".concat(encodeURIComponent(i.download))):i.download===!0&&u.push("download=true")),i!=null&&i.transform&&(l=this._transformOptsToQueryString(i.transform),l&&u.push(l)),u.length>0&&(c=s.includes("?")?"&":"?",s="".concat(s).concat(c).concat(u.join("&"))),[2,{data:{signedUrl:s},error:null}];case 2:if(f=d.sent(),this.shouldThrowOnError)throw f;if(ch(f))return[2,{data:null,error:f}];throw f;case 3:return[2]}})})},e.prototype.createSignedUrls=function(n,r){return qo(this,void 0,void 0,function(){var i,o,a,s=this;return Ko(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),i=n.map(function(l){return{fileID:s._normalizeCloudId(l),maxAge:r}}),[4,this.getTempFileURL({fileList:i})];case 1:return o=u.sent(),[2,{data:o.fileList.map(function(l,c){return{path:n[c],signedUrl:l.tempFileURL||"",error:l.code==="SUCCESS"?null:l.message}}),error:null}];case 2:if(a=u.sent(),this.shouldThrowOnError)throw a;if(ch(a))return[2,{data:null,error:a}];throw a;case 3:return[2]}})})},e.prototype.download=function(n,r){return qo(this,void 0,void 0,function(){var i,o,a=this;return Ko(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),o={},[4,function(){return qo(a,void 0,void 0,function(){var u,l,c,f;return Ko(this,function(d){switch(d.label){case 0:return[4,this.createSignedUrl(n,600,{transform:r})];case 1:if(u=d.sent(),u.error)throw u.error;return l=encodeURI((f=u.data)===null||f===void 0?void 0:f.signedUrl),[4,this.request.reqClass.get({url:l,headers:{},responseType:"blob"})];case 2:if(c=d.sent().data,!c)throw new Yo("Download failed: no file content");return[2,new Blob([c])]}})})}()];case 1:return[2,(o.data=s.sent(),o.error=null,o)];case 2:if(i=s.sent(),this.shouldThrowOnError)throw i;if(ch(i))return[2,{data:null,error:i}];throw i;case 3:return[2]}})})},e.prototype.info=function(n){return qo(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c;return Ko(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),r=n.startsWith("cloud://"),i=r?this._extractPathFromFileId(n):n,o=r?this._extractBucketFromFileId(n):this.bucketId,[4,this.getFileInfo({fileList:[this._normalizeCloudId(n)]})];case 1:if(a=f.sent(),s=a.fileList[0],s.code!=="SUCCESS")throw new Yo(s.message);return u=new Date().toISOString(),l=(s.lastModified?new Date(s.lastModified):new Date).toISOString(),[2,{data:{id:s.fileID,version:"1",name:i,bucketId:o,updatedAt:l,createdAt:l,lastAccessedAt:u,size:s.size,cacheControl:s.cacheControl,contentType:s.contentType,etag:s.etag,lastModified:l,metadata:{}},error:null}];case 2:if(c=f.sent(),this.shouldThrowOnError)throw c;return[2,{data:null,error:c instanceof Yo?c:new Yo(c.message)}];case 3:return[2]}})})},e.prototype.exists=function(n){return qo(this,void 0,void 0,function(){var r,i,o;return Ko(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.getFileInfo({fileList:[this._normalizeCloudId(n)]})];case 1:if(r=a.sent(),i=r.fileList[0],i.code==="FILE_NOT_FOUND")return[2,{data:!1,error:null}];if(i.code!=="SUCCESS")throw new Yo(i.message);return[2,{data:!0,error:null}];case 2:throw o=a.sent(),this.shouldThrowOnError,o;case 3:return[2]}})})},e.prototype.getPublicUrl=function(n,r){return qo(this,void 0,void 0,function(){var i;return Ko(this,function(o){switch(o.label){case 0:return[4,this.createSignedUrl(n,600,r)];case 1:return i=o.sent(),i.data?[2,{data:{publicUrl:i.data.signedUrl}}]:[2,{data:null,error:i.error}]}})})},e.prototype.remove=function(n){return qo(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,d,h=this;return Ko(this,function(p){switch(p.label){case 0:for(p.trys.push([0,3,,4]),r=10,i=[],o=0;o<n.length;o+=r)i.push(n.slice(o,o+r));return[4,Promise.all(i.map(function(_){return Promise.all(_.map(function(y){return h.info(y)}))}))];case 1:return a=p.sent(),s=new Map,a.flat().forEach(function(_,y){_.data&&s.set(n[Math.floor(y/r)*r+y%r],_.data)}),u=n.map(function(_){return h._normalizeCloudId(_)}),[4,this.deleteFile({fileList:u})];case 2:if(l=p.sent(),c=l.fileList.filter(function(_){return _.code!=="SUCCESS"}),c.length>0)throw new Yo("Delete failed for ".concat(c.length," file(s)"));return f=new Date().toISOString(),[2,{data:n.map(function(_){var y=s.get(_);return{name:y==null?void 0:y.name,id:y==null?void 0:y.id,bucket_id:y==null?void 0:y.bucketId,owner:void 0,updated_at:(y==null?void 0:y.updatedAt)||f,created_at:y==null?void 0:y.createdAt,last_accessed_at:(y==null?void 0:y.lastAccessedAt)||f,metadata:(y==null?void 0:y.metadata)||{},buckets:{id:y==null?void 0:y.bucketId,name:y==null?void 0:y.bucketId,owner:void 0,public:!1,created_at:"",updated_at:f}}}),error:null}];case 3:if(d=p.sent(),this.shouldThrowOnError)throw d;if(ch(d))return[2,{data:null,error:d}];throw d;case 4:return[2]}})})},e.prototype.list=function(){return qo(this,void 0,void 0,function(){return Ko(this,function(n){throw new Yo("Not implemented")})})},e.prototype._getCloudPath=function(n){var r=n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/");return r},e.prototype._normalizeCloudId=function(n){var r;if(/^cloud:\/\//.test(n))return n;var i=this._getCloudPath(n);if(this.bucketId){var o=((r=this.config)===null||r===void 0?void 0:r.env)||"";if(o)return"cloud://".concat(o,".").concat(this.bucketId,"/").concat(i)}else throw new Yo("bucketId is not set")},e.prototype.toBase64=function(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)},e.prototype._transformOptsToQueryString=function(n){var r=["imageMogr2"];if(n.width||n.height){var i=n.width||"",o=n.height||"";n.resize==="fill"?r.push("thumbnail/".concat(i,"x").concat(o,"!")):n.resize==="contain"?r.push("thumbnail/".concat(i,"x").concat(o)):r.push("thumbnail/".concat(i,"x").concat(o,"^"))}if(n.format&&n.format!=="origin"&&r.push("format/".concat(n.format)),n.quality!==void 0){var a=Math.max(1,Math.min(100,n.quality));r.push("quality/".concat(a))}return r.join("/")},e.prototype._extractPathFromFileId=function(n){var r=n.replace(/^cloud:\/\//,""),i=r.split("/");return i.length<2?n:i.slice(1).join("/")},e.prototype._extractBucketFromFileId=function(n){var r=n.replace(/^cloud:\/\//,""),i=r.split("/");if(i.length<1)return"";var o=i[0],a=o.indexOf(".");return a===-1?o:o.substring(a+1)},e}(NY),Af=new NY,BY={name:Qo,entity:{uploadFile:Af.uploadFile,deleteFile:Af.deleteFile,getTempFileURL:Af.getTempFileURL,downloadFile:Af.downloadFile,getUploadMetadata:Af.getUploadMetadata,copyFile:Af.copyFile,getFileInfo:Af.getFileInfo,isGateWay:Af.isGateWay}},FY={name:"".concat(Qo,"/supabase"),IIFE:!0,entity:function(){var t=new WeakMap;Object.defineProperty(this.prototype,"storage",{get:function(){if(t.has(this))return t.get(this);var e=this,n=new Proxy({},{get:function(i,o){if(o==="config")return e.config;if(o==="request")return e.request}}),r=new nme(n);return t.set(this,r),r},configurable:!0,enumerable:!0})}};try{cloudbase.registerComponent(BY),cloudbase.registerComponent(FY)}catch{}function kY(t){try{t.registerComponent(BY),t.registerComponent(FY)}catch(e){console.warn(e)}}try{window.registerStorage=kY}catch{}var rme=typeof bn=="object"&&bn&&bn.Object===Object&&bn,UY=rme,ime=UY,ome=typeof self=="object"&&self&&self.Object===Object&&self,ame=ime||ome||Function("return this")(),nc=ame,sme=nc,lme=sme.Symbol,xT=lme,x6=xT,jY=Object.prototype,ume=jY.hasOwnProperty,cme=jY.toString,hy=x6?x6.toStringTag:void 0;function fme(t){var e=ume.call(t,hy),n=t[hy];try{t[hy]=void 0;var r=!0}catch{}var i=cme.call(t);return r&&(e?t[hy]=n:delete t[hy]),i}var dme=fme,hme=Object.prototype,pme=hme.toString;function mme(t){return pme.call(t)}var vme=mme,A6=xT,gme=dme,yme=vme,_me="[object Null]",bme="[object Undefined]",C6=A6?A6.toStringTag:void 0;function wme(t){return t==null?t===void 0?bme:_me:C6&&C6 in Object(t)?gme(t):yme(t)}var pw=wme;function Sme(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var g0=Sme,Eme=pw,xme=g0,Ame="[object AsyncFunction]",Cme="[object Function]",Tme="[object GeneratorFunction]",Mme="[object Proxy]";function Ome(t){if(!xme(t))return!1;var e=Eme(t);return e==Cme||e==Tme||e==Ame||e==Mme}var HY=Ome,Ime=nc,Rme=Ime["__core-js_shared__"],Pme=Rme,vR=Pme,T6=function(){var t=/[^.]+$/.exec(vR&&vR.keys&&vR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dme(t){return!!T6&&T6 in t}var Lme=Dme,Nme=Function.prototype,Bme=Nme.toString;function Fme(t){if(t!=null){try{return Bme.call(t)}catch{}try{return t+""}catch{}}return""}var $Y=Fme,kme=HY,Ume=Lme,jme=g0,Hme=$Y,$me=/[\\^$.*+?()[\]{}|]/g,zme=/^\[object .+?Constructor\]$/,Gme=Function.prototype,Wme=Object.prototype,Vme=Gme.toString,qme=Wme.hasOwnProperty,Kme=RegExp("^"+Vme.call(qme).replace($me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xme(t){if(!jme(t)||Ume(t))return!1;var e=kme(t)?Kme:zme;return e.test(Hme(t))}var Jme=Xme;function Yme(t,e){return t==null?void 0:t[e]}var Zme=Yme,Qme=Jme,eve=Zme;function tve(t,e){var n=eve(t,e);return Qme(n)?n:void 0}var Zp=tve,nve=Zp,rve=function(){try{var t=nve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ive=rve,M6=ive;function ove(t,e,n){e=="__proto__"&&M6?M6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zY=ove;function ave(t,e){return t===e||t!==t&&e!==e}var GY=ave,sve=zY,lve=GY,uve=Object.prototype,cve=uve.hasOwnProperty;function fve(t,e,n){var r=t[e];(!(cve.call(t,e)&&lve(r,n))||n===void 0&&!(e in t))&&sve(t,e,n)}var PF=fve,dve=Array.isArray,y0=dve;function hve(t){return t!=null&&typeof t=="object"}var _0=hve,pve=pw,mve=_0,vve="[object Symbol]";function gve(t){return typeof t=="symbol"||mve(t)&&pve(t)==vve}var DF=gve,yve=y0,_ve=DF,bve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wve=/^\w*$/;function Sve(t,e){if(yve(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_ve(t)?!0:wve.test(t)||!bve.test(t)||e!=null&&t in Object(e)}var Eve=Sve,xve=Zp,Ave=xve(Object,"create"),AT=Ave,O6=AT;function Cve(){this.__data__=O6?O6(null):{},this.size=0}var Tve=Cve;function Mve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ove=Mve,Ive=AT,Rve="__lodash_hash_undefined__",Pve=Object.prototype,Dve=Pve.hasOwnProperty;function Lve(t){var e=this.__data__;if(Ive){var n=e[t];return n===Rve?void 0:n}return Dve.call(e,t)?e[t]:void 0}var Nve=Lve,Bve=AT,Fve=Object.prototype,kve=Fve.hasOwnProperty;function Uve(t){var e=this.__data__;return Bve?e[t]!==void 0:kve.call(e,t)}var jve=Uve,Hve=AT,$ve="__lodash_hash_undefined__";function zve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hve&&e===void 0?$ve:e,this}var Gve=zve,Wve=Tve,Vve=Ove,qve=Nve,Kve=jve,Xve=Gve;function b0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}b0.prototype.clear=Wve;b0.prototype.delete=Vve;b0.prototype.get=qve;b0.prototype.has=Kve;b0.prototype.set=Xve;var Jve=b0;function Yve(){this.__data__=[],this.size=0}var Zve=Yve,Qve=GY;function ege(t,e){for(var n=t.length;n--;)if(Qve(t[n][0],e))return n;return-1}var CT=ege,tge=CT,nge=Array.prototype,rge=nge.splice;function ige(t){var e=this.__data__,n=tge(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rge.call(e,n,1),--this.size,!0}var oge=ige,age=CT;function sge(t){var e=this.__data__,n=age(e,t);return n<0?void 0:e[n][1]}var lge=sge,uge=CT;function cge(t){return uge(this.__data__,t)>-1}var fge=cge,dge=CT;function hge(t,e){var n=this.__data__,r=dge(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pge=hge,mge=Zve,vge=oge,gge=lge,yge=fge,_ge=pge;function w0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}w0.prototype.clear=mge;w0.prototype.delete=vge;w0.prototype.get=gge;w0.prototype.has=yge;w0.prototype.set=_ge;var TT=w0,bge=Zp,wge=nc,Sge=bge(wge,"Map"),LF=Sge,I6=Jve,Ege=TT,xge=LF;function Age(){this.size=0,this.__data__={hash:new I6,map:new(xge||Ege),string:new I6}}var Cge=Age;function Tge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mge=Tge,Oge=Mge;function Ige(t,e){var n=t.__data__;return Oge(e)?n[typeof e=="string"?"string":"hash"]:n.map}var MT=Ige,Rge=MT;function Pge(t){var e=Rge(this,t).delete(t);return this.size-=e?1:0,e}var Dge=Pge,Lge=MT;function Nge(t){return Lge(this,t).get(t)}var Bge=Nge,Fge=MT;function kge(t){return Fge(this,t).has(t)}var Uge=kge,jge=MT;function Hge(t,e){var n=jge(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $ge=Hge,zge=Cge,Gge=Dge,Wge=Bge,Vge=Uge,qge=$ge;function S0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}S0.prototype.clear=zge;S0.prototype.delete=Gge;S0.prototype.get=Wge;S0.prototype.has=Vge;S0.prototype.set=qge;var WY=S0,VY=WY,Kge="Expected a function";function NF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Kge);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(NF.Cache||VY),n}NF.Cache=VY;var Xge=NF,Jge=Xge,Yge=500;function Zge(t){var e=Jge(t,function(r){return n.size===Yge&&n.clear(),r}),n=e.cache;return e}var Qge=Zge,e0e=Qge,t0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n0e=/\\(\\)?/g,r0e=e0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(t0e,function(n,r,i,o){e.push(i?o.replace(n0e,"$1"):r||n)}),e}),i0e=r0e;function o0e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var a0e=o0e,R6=xT,s0e=a0e,l0e=y0,u0e=DF,P6=R6?R6.prototype:void 0,D6=P6?P6.toString:void 0;function qY(t){if(typeof t=="string")return t;if(l0e(t))return s0e(t,qY)+"";if(u0e(t))return D6?D6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var c0e=qY,f0e=c0e;function d0e(t){return t==null?"":f0e(t)}var h0e=d0e,p0e=y0,m0e=Eve,v0e=i0e,g0e=h0e;function y0e(t,e){return p0e(t)?t:m0e(t,e)?[t]:v0e(g0e(t))}var BF=y0e,_0e=9007199254740991,b0e=/^(?:0|[1-9]\d*)$/;function w0e(t,e){var n=typeof t;return e=e??_0e,!!e&&(n=="number"||n!="symbol"&&b0e.test(t))&&t>-1&&t%1==0&&t<e}var KY=w0e,S0e=DF;function E0e(t){if(typeof t=="string"||S0e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var FF=E0e,x0e=PF,A0e=BF,C0e=KY,L6=g0,T0e=FF;function M0e(t,e,n,r){if(!L6(t))return t;e=A0e(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var u=T0e(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var c=s[u];l=r?r(c,u,s):void 0,l===void 0&&(l=L6(c)?c:C0e(e[i+1])?[]:{})}x0e(s,u,l),s=s[u]}return t}var O0e=M0e,I0e=O0e;function R0e(t,e,n){return t==null?t:I0e(t,e,n)}var P0e=R0e;const D0e=au(P0e);function L0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var N0e=L0e,B0e=BF,F0e=FF;function k0e(t,e){e=B0e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[F0e(e[n++])];return n&&n==r?t:void 0}var U0e=k0e;function j0e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var H0e=j0e,$0e=U0e,z0e=H0e;function G0e(t,e){return e.length<2?t:$0e(t,z0e(e,0,-1))}var W0e=G0e,V0e=BF,q0e=N0e,K0e=W0e,X0e=FF;function J0e(t,e){return e=V0e(e,t),t=K0e(t,e),t==null||delete t[X0e(q0e(e))]}var Y0e=J0e,Z0e=Y0e;function Q0e(t,e){return t==null?!0:Z0e(t,e)}var eye=Q0e;const tye=au(eye);var nye=TT;function rye(){this.__data__=new nye,this.size=0}var iye=rye;function oye(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var aye=oye;function sye(t){return this.__data__.get(t)}var lye=sye;function uye(t){return this.__data__.has(t)}var cye=uye,fye=TT,dye=LF,hye=WY,pye=200;function mye(t,e){var n=this.__data__;if(n instanceof fye){var r=n.__data__;if(!dye||r.length<pye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hye(r)}return n.set(t,e),this.size=n.size,this}var vye=mye,gye=TT,yye=iye,_ye=aye,bye=lye,wye=cye,Sye=vye;function E0(t){var e=this.__data__=new gye(t);this.size=e.size}E0.prototype.clear=yye;E0.prototype.delete=_ye;E0.prototype.get=bye;E0.prototype.has=wye;E0.prototype.set=Sye;var Eye=E0;function xye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Aye=xye,Cye=PF,Tye=zY;function Mye(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;u===void 0&&(u=t[s]),i?Tye(n,s,u):Cye(n,s,u)}return n}var OT=Mye;function Oye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Iye=Oye,Rye=pw,Pye=_0,Dye="[object Arguments]";function Lye(t){return Pye(t)&&Rye(t)==Dye}var Nye=Lye,N6=Nye,Bye=_0,XY=Object.prototype,Fye=XY.hasOwnProperty,kye=XY.propertyIsEnumerable,Uye=N6(function(){return arguments}())?N6:function(t){return Bye(t)&&Fye.call(t,"callee")&&!kye.call(t,"callee")},jye=Uye,VA={exports:{}};function Hye(){return!1}var $ye=Hye;VA.exports;(function(t,e){var n=nc,r=$ye,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;t.exports=l})(VA,VA.exports);var JY=VA.exports,zye=9007199254740991;function Gye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zye}var YY=Gye,Wye=pw,Vye=YY,qye=_0,Kye="[object Arguments]",Xye="[object Array]",Jye="[object Boolean]",Yye="[object Date]",Zye="[object Error]",Qye="[object Function]",e_e="[object Map]",t_e="[object Number]",n_e="[object Object]",r_e="[object RegExp]",i_e="[object Set]",o_e="[object String]",a_e="[object WeakMap]",s_e="[object ArrayBuffer]",l_e="[object DataView]",u_e="[object Float32Array]",c_e="[object Float64Array]",f_e="[object Int8Array]",d_e="[object Int16Array]",h_e="[object Int32Array]",p_e="[object Uint8Array]",m_e="[object Uint8ClampedArray]",v_e="[object Uint16Array]",g_e="[object Uint32Array]",Lr={};Lr[u_e]=Lr[c_e]=Lr[f_e]=Lr[d_e]=Lr[h_e]=Lr[p_e]=Lr[m_e]=Lr[v_e]=Lr[g_e]=!0;Lr[Kye]=Lr[Xye]=Lr[s_e]=Lr[Jye]=Lr[l_e]=Lr[Yye]=Lr[Zye]=Lr[Qye]=Lr[e_e]=Lr[t_e]=Lr[n_e]=Lr[r_e]=Lr[i_e]=Lr[o_e]=Lr[a_e]=!1;function y_e(t){return qye(t)&&Vye(t.length)&&!!Lr[Wye(t)]}var __e=y_e;function b_e(t){return function(e){return t(e)}}var kF=b_e,qA={exports:{}};qA.exports;(function(t,e){var n=UY,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(qA,qA.exports);var UF=qA.exports,w_e=__e,S_e=kF,B6=UF,F6=B6&&B6.isTypedArray,E_e=F6?S_e(F6):w_e,x_e=E_e,A_e=Iye,C_e=jye,T_e=y0,M_e=JY,O_e=KY,I_e=x_e,R_e=Object.prototype,P_e=R_e.hasOwnProperty;function D_e(t,e){var n=T_e(t),r=!n&&C_e(t),i=!n&&!r&&M_e(t),o=!n&&!r&&!i&&I_e(t),a=n||r||i||o,s=a?A_e(t.length,String):[],u=s.length;for(var l in t)(e||P_e.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||O_e(l,u)))&&s.push(l);return s}var ZY=D_e,L_e=Object.prototype;function N_e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||L_e;return t===n}var jF=N_e;function B_e(t,e){return function(n){return t(e(n))}}var QY=B_e,F_e=QY,k_e=F_e(Object.keys,Object),U_e=k_e,j_e=jF,H_e=U_e,$_e=Object.prototype,z_e=$_e.hasOwnProperty;function G_e(t){if(!j_e(t))return H_e(t);var e=[];for(var n in Object(t))z_e.call(t,n)&&n!="constructor"&&e.push(n);return e}var W_e=G_e,V_e=HY,q_e=YY;function K_e(t){return t!=null&&q_e(t.length)&&!V_e(t)}var eZ=K_e,X_e=ZY,J_e=W_e,Y_e=eZ;function Z_e(t){return Y_e(t)?X_e(t):J_e(t)}var HF=Z_e,Q_e=OT,ebe=HF;function tbe(t,e){return t&&Q_e(e,ebe(e),t)}var nbe=tbe;function rbe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ibe=rbe,obe=g0,abe=jF,sbe=ibe,lbe=Object.prototype,ube=lbe.hasOwnProperty;function cbe(t){if(!obe(t))return sbe(t);var e=abe(t),n=[];for(var r in t)r=="constructor"&&(e||!ube.call(t,r))||n.push(r);return n}var fbe=cbe,dbe=ZY,hbe=fbe,pbe=eZ;function mbe(t){return pbe(t)?dbe(t,!0):hbe(t)}var $F=mbe,vbe=OT,gbe=$F;function ybe(t,e){return t&&vbe(e,gbe(e),t)}var _be=ybe,KA={exports:{}};KA.exports;(function(t,e){var n=nc,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=s?s(f):new l.constructor(f);return l.copy(d),d}t.exports=u})(KA,KA.exports);var bbe=KA.exports;function wbe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Sbe=wbe;function Ebe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var xbe=Ebe;function Abe(){return[]}var tZ=Abe,Cbe=xbe,Tbe=tZ,Mbe=Object.prototype,Obe=Mbe.propertyIsEnumerable,k6=Object.getOwnPropertySymbols,Ibe=k6?function(t){return t==null?[]:(t=Object(t),Cbe(k6(t),function(e){return Obe.call(t,e)}))}:Tbe,zF=Ibe,Rbe=OT,Pbe=zF;function Dbe(t,e){return Rbe(t,Pbe(t),e)}var Lbe=Dbe;function Nbe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nZ=Nbe,Bbe=QY,Fbe=Bbe(Object.getPrototypeOf,Object),rZ=Fbe,kbe=nZ,Ube=rZ,jbe=zF,Hbe=tZ,$be=Object.getOwnPropertySymbols,zbe=$be?function(t){for(var e=[];t;)kbe(e,jbe(t)),t=Ube(t);return e}:Hbe,iZ=zbe,Gbe=OT,Wbe=iZ;function Vbe(t,e){return Gbe(t,Wbe(t),e)}var qbe=Vbe,Kbe=nZ,Xbe=y0;function Jbe(t,e,n){var r=e(t);return Xbe(t)?r:Kbe(r,n(t))}var oZ=Jbe,Ybe=oZ,Zbe=zF,Qbe=HF;function ewe(t){return Ybe(t,Qbe,Zbe)}var twe=ewe,nwe=oZ,rwe=iZ,iwe=$F;function owe(t){return nwe(t,iwe,rwe)}var awe=owe,swe=Zp,lwe=nc,uwe=swe(lwe,"DataView"),cwe=uwe,fwe=Zp,dwe=nc,hwe=fwe(dwe,"Promise"),pwe=hwe,mwe=Zp,vwe=nc,gwe=mwe(vwe,"Set"),ywe=gwe,_we=Zp,bwe=nc,wwe=_we(bwe,"WeakMap"),Swe=wwe,QD=cwe,eL=LF,tL=pwe,nL=ywe,rL=Swe,aZ=pw,x0=$Y,U6="[object Map]",Ewe="[object Object]",j6="[object Promise]",H6="[object Set]",$6="[object WeakMap]",z6="[object DataView]",xwe=x0(QD),Awe=x0(eL),Cwe=x0(tL),Twe=x0(nL),Mwe=x0(rL),Lh=aZ;(QD&&Lh(new QD(new ArrayBuffer(1)))!=z6||eL&&Lh(new eL)!=U6||tL&&Lh(tL.resolve())!=j6||nL&&Lh(new nL)!=H6||rL&&Lh(new rL)!=$6)&&(Lh=function(t){var e=aZ(t),n=e==Ewe?t.constructor:void 0,r=n?x0(n):"";if(r)switch(r){case xwe:return z6;case Awe:return U6;case Cwe:return j6;case Twe:return H6;case Mwe:return $6}return e});var GF=Lh,Owe=Object.prototype,Iwe=Owe.hasOwnProperty;function Rwe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Iwe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Pwe=Rwe,Dwe=nc,Lwe=Dwe.Uint8Array,Nwe=Lwe,G6=Nwe;function Bwe(t){var e=new t.constructor(t.byteLength);return new G6(e).set(new G6(t)),e}var WF=Bwe,Fwe=WF;function kwe(t,e){var n=e?Fwe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Uwe=kwe,jwe=/\w*$/;function Hwe(t){var e=new t.constructor(t.source,jwe.exec(t));return e.lastIndex=t.lastIndex,e}var $we=Hwe,W6=xT,V6=W6?W6.prototype:void 0,q6=V6?V6.valueOf:void 0;function zwe(t){return q6?Object(q6.call(t)):{}}var Gwe=zwe,Wwe=WF;function Vwe(t,e){var n=e?Wwe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var qwe=Vwe,Kwe=WF,Xwe=Uwe,Jwe=$we,Ywe=Gwe,Zwe=qwe,Qwe="[object Boolean]",e1e="[object Date]",t1e="[object Map]",n1e="[object Number]",r1e="[object RegExp]",i1e="[object Set]",o1e="[object String]",a1e="[object Symbol]",s1e="[object ArrayBuffer]",l1e="[object DataView]",u1e="[object Float32Array]",c1e="[object Float64Array]",f1e="[object Int8Array]",d1e="[object Int16Array]",h1e="[object Int32Array]",p1e="[object Uint8Array]",m1e="[object Uint8ClampedArray]",v1e="[object Uint16Array]",g1e="[object Uint32Array]";function y1e(t,e,n){var r=t.constructor;switch(e){case s1e:return Kwe(t);case Qwe:case e1e:return new r(+t);case l1e:return Xwe(t,n);case u1e:case c1e:case f1e:case d1e:case h1e:case p1e:case m1e:case v1e:case g1e:return Zwe(t,n);case t1e:return new r;case n1e:case o1e:return new r(t);case r1e:return Jwe(t);case i1e:return new r;case a1e:return Ywe(t)}}var _1e=y1e,b1e=g0,K6=Object.create,w1e=function(){function t(){}return function(e){if(!b1e(e))return{};if(K6)return K6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),S1e=w1e,E1e=S1e,x1e=rZ,A1e=jF;function C1e(t){return typeof t.constructor=="function"&&!A1e(t)?E1e(x1e(t)):{}}var T1e=C1e,M1e=GF,O1e=_0,I1e="[object Map]";function R1e(t){return O1e(t)&&M1e(t)==I1e}var P1e=R1e,D1e=P1e,L1e=kF,X6=UF,J6=X6&&X6.isMap,N1e=J6?L1e(J6):D1e,B1e=N1e,F1e=GF,k1e=_0,U1e="[object Set]";function j1e(t){return k1e(t)&&F1e(t)==U1e}var H1e=j1e,$1e=H1e,z1e=kF,Y6=UF,Z6=Y6&&Y6.isSet,G1e=Z6?z1e(Z6):$1e,W1e=G1e,V1e=Eye,q1e=Aye,K1e=PF,X1e=nbe,J1e=_be,Y1e=bbe,Z1e=Sbe,Q1e=Lbe,eSe=qbe,tSe=twe,nSe=awe,rSe=GF,iSe=Pwe,oSe=_1e,aSe=T1e,sSe=y0,lSe=JY,uSe=B1e,cSe=g0,fSe=W1e,dSe=HF,hSe=$F,pSe=1,mSe=2,vSe=4,sZ="[object Arguments]",gSe="[object Array]",ySe="[object Boolean]",_Se="[object Date]",bSe="[object Error]",lZ="[object Function]",wSe="[object GeneratorFunction]",SSe="[object Map]",ESe="[object Number]",uZ="[object Object]",xSe="[object RegExp]",ASe="[object Set]",CSe="[object String]",TSe="[object Symbol]",MSe="[object WeakMap]",OSe="[object ArrayBuffer]",ISe="[object DataView]",RSe="[object Float32Array]",PSe="[object Float64Array]",DSe="[object Int8Array]",LSe="[object Int16Array]",NSe="[object Int32Array]",BSe="[object Uint8Array]",FSe="[object Uint8ClampedArray]",kSe="[object Uint16Array]",USe="[object Uint32Array]",Er={};Er[sZ]=Er[gSe]=Er[OSe]=Er[ISe]=Er[ySe]=Er[_Se]=Er[RSe]=Er[PSe]=Er[DSe]=Er[LSe]=Er[NSe]=Er[SSe]=Er[ESe]=Er[uZ]=Er[xSe]=Er[ASe]=Er[CSe]=Er[TSe]=Er[BSe]=Er[FSe]=Er[kSe]=Er[USe]=!0;Er[bSe]=Er[lZ]=Er[MSe]=!1;function Px(t,e,n,r,i,o){var a,s=e&pSe,u=e&mSe,l=e&vSe;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!cSe(t))return t;var c=sSe(t);if(c){if(a=iSe(t),!s)return Z1e(t,a)}else{var f=rSe(t),d=f==lZ||f==wSe;if(lSe(t))return Y1e(t,s);if(f==uZ||f==sZ||d&&!i){if(a=u||d?{}:aSe(t),!s)return u?eSe(t,J1e(a,t)):Q1e(t,X1e(a,t))}else{if(!Er[f])return i?t:{};a=oSe(t,f,s)}}o||(o=new V1e);var h=o.get(t);if(h)return h;o.set(t,a),fSe(t)?t.forEach(function(y){a.add(Px(y,e,n,y,t,o))}):uSe(t)&&t.forEach(function(y,m){a.set(m,Px(y,e,n,m,t,o))});var p=l?u?nSe:tSe:u?hSe:dSe,_=c?void 0:p(t);return q1e(_||t,function(y,m){_&&(m=y,y=t[m]),K1e(a,m,Px(y,e,n,m,t,o))}),a}var jSe=Px,HSe=jSe,$Se=1,zSe=4;function GSe(t){return HSe(t,$Se|zSe)}var WSe=GSe;const VSe=au(WSe);function zv(t){return t===void 0&&(t=""),"".concat(t?"".concat(t,"_"):"").concat(+new Date,"_").concat(Math.random())}var qSe=function(){function t(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}return t}(),Q6=function(){function t(e){var n=e.id,r=e.docChanges,i=e.docs,o=e.msgType,a=e.type,s,u;Object.defineProperties(this,{id:{get:function(){return n},enumerable:!0},docChanges:{get:function(){return s||(s=JSON.parse(JSON.stringify(r))),s},enumerable:!0},docs:{get:function(){return u||(u=JSON.parse(JSON.stringify(i))),u},enumerable:!0},msgType:{get:function(){return o},enumerable:!0},type:{get:function(){return a},enumerable:!0}})}return t}(),IT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),KSe=function(t){IT(e,t);function e(n){var r=t.call(this,"Watch Error ".concat(JSON.stringify(n.msgData)," (requestid: ").concat(n.requestId,")"))||this;return r.isRealtimeErrorMessageError=!0,r.payload=n,r}return e}(Error),eH=function(t){return t==null?void 0:t.isRealtimeErrorMessageError},XSe=function(t){IT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="timeout",n.payload=null,n.generic=!0,n}return e}(Error),JSe=function(t){return t.type==="timeout"},YSe=function(t){IT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cancelled",n.payload=null,n.generic=!0,n}return e}(Error),ZSe=function(t){return t.type==="cancelled"},$s=function(t){IT(e,t);function e(n){var r=t.call(this,n.errMsg)||this;return r.errCode="UNKNOWN_ERROR",Object.defineProperties(r,{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(Ta[this.errCode]||""," | errMsg: ").concat(this.errMsg)},set:function(i){this.errMsg=i}}}),r.errCode=n.errCode||"UNKNOWN_ERROR",r.errMsg=n.errMsg,r}return Object.defineProperty(e.prototype,"message",{get:function(){return"errCode: ".concat(this.errCode," | errMsg: ").concat(this.errMsg)},set:function(n){this.errMsg=n},enumerable:!1,configurable:!0}),e}(Error),Ta={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},iL=function(t){return t===void 0&&(t=0),new Promise(function(e){return setTimeout(e,t)})},Xa=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},ya=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},tH=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},wr;(function(t){t.LOGGINGIN="LOGGINGIN",t.INITING="INITING",t.REBUILDING="REBUILDING",t.ACTIVE="ACTIVE",t.ERRORED="ERRORED",t.CLOSING="CLOSING",t.CLOSED="CLOSED",t.PAUSED="PAUSED",t.RESUMING="RESUMING"})(wr||(wr={}));var QSe=100,bS=2,eEe=2,tEe=10*1e3,nEe=10*1e3,rEe=10*1e3,iEe=function(){function t(e){var n=this;this.watchStatus=wr.INITING,this.wsLogin=function(r,i){return Xa(n,void 0,void 0,function(){var o;return ya(this,function(a){switch(a.label){case 0:return this.watchStatus=wr.LOGGINGIN,[4,this.login(r,i)];case 1:return o=a.sent(),this.envId||(this.envId=o.envId),[2,o]}})})},this.initWatch=function(r){return Xa(n,void 0,void 0,function(){var i,o=this;return ya(this,function(a){switch(a.label){case 0:if(this.initWatchPromise!==null&&this.initWatchPromise!==void 0)return[2,this.initWatchPromise];this.initWatchPromise=new Promise(function(s,u){(function(){return Xa(o,void 0,void 0,function(){var l,c,f,d,h,p,_,y,m,b,w;return ya(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),this.watchStatus===wr.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,s()]):[4,this.wsLogin(this.envId,r)];case 1:return l=S.sent().envId,this.watchStatus===wr.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,s()]):(this.watchStatus=wr.INITING,c={watchId:this.watchId,requestId:zv(),msgType:"INIT_WATCH",msgData:{envId:l,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:c,waitResponse:!0,skipOnMessage:!0,timeout:nEe})]);case 2:if(f=S.sent(),d=f.msgData,h=d.events,p=d.currEvent,this.sessionInfo={queryID:f.msgData.queryID,currentEventId:p-1,currentDocs:[]},h.length>0){for(_=0,y=h;_<y.length;_++)m=y[_],m.ID=p;this.handleServerEvents(f)}else this.sessionInfo.currentEventId=p,b=new Q6({id:p,docChanges:[],docs:[],type:"init"}),this.listener.onChange(b),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=wr.ACTIVE,this.availableRetries.INIT_WATCH=bS,s(),[3,4];case 3:return w=S.sent(),this.handleWatchEstablishmentError(w,{operationName:"INIT_WATCH",resolve:s,reject:u}),[3,4];case 4:return[2]}})})})()}),i=!1,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.initWatchPromise];case 2:return a.sent(),i=!0,[3,4];case 3:return this.initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch ".concat(i?"success":"fail")),[2]}})})},this.rebuildWatch=function(r){return Xa(n,void 0,void 0,function(){var i,o=this;return ya(this,function(a){switch(a.label){case 0:if(this.rebuildWatchPromise!==null&&this.rebuildWatchPromise!==void 0)return[2,this.rebuildWatchPromise];this.rebuildWatchPromise=new Promise(function(s,u){(function(){return Xa(o,void 0,void 0,function(){var l,c,f,d;return ya(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),this.watchStatus===wr.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,s()]):[4,this.wsLogin(this.envId,r)];case 1:if(l=h.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===wr.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,s()]):(this.watchStatus=wr.REBUILDING,c={watchId:this.watchId,requestId:zv(),msgType:"REBUILD_WATCH",msgData:{envId:l,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:c,waitResponse:!0,skipOnMessage:!1,timeout:rEe})]);case 2:return f=h.sent(),this.handleServerEvents(f),this.watchStatus=wr.ACTIVE,this.availableRetries.REBUILD_WATCH=bS,s(),[3,4];case 3:return d=h.sent(),this.handleWatchEstablishmentError(d,{operationName:"REBUILD_WATCH",resolve:s,reject:u}),[3,4];case 4:return[2]}})})})()}),i=!1,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.rebuildWatchPromise];case 2:return a.sent(),i=!0,[3,4];case 3:return this.rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch ".concat(i?"success":"fail")),[2]}})})},this.handleWatchEstablishmentError=function(r,i){return Xa(n,void 0,void 0,function(){var o,a,s,u=this;return ya(this,function(l){return o=i.operationName==="INIT_WATCH",a=function(){u.closeWithError(new $s({errCode:o?Ta.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:Ta.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:r})),i.reject(r)},s=function(c){u.useRetryTicket(i.operationName)?o?(u.initWatchPromise=void 0,i.resolve(u.initWatch(c))):(u.rebuildWatchPromise=void 0,i.resolve(u.rebuildWatch(c))):a()},this.handleCommonError(r,{onSignError:function(){return s(!0)},onTimeoutError:function(){return s(!1)},onNotRetryableError:a,onCancelledError:i.reject,onUnknownError:function(){(function(){return Xa(u,void 0,void 0,function(){var c,f=this;return ya(this,function(d){switch(d.label){case 0:return d.trys.push([0,8,,9]),c=function(){return Xa(f,void 0,void 0,function(){return ya(this,function(h){switch(h.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return h.sent(),s(!0),[2]}})})},this.isWSConnected()?[3,2]:[4,c()];case 1:return d.sent(),[3,7];case 2:return[4,iL(QSe)];case 3:return d.sent(),this.watchStatus!==wr.PAUSED?[3,4]:(i.reject(new YSe("".concat(i.operationName," cancelled due to pause after unknownError"))),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,c()];case 5:return d.sent(),[3,7];case 6:s(!1),d.label=7;case 7:return[3,9];case 8:return d.sent(),s(!0),[3,9];case 9:return[2]}})})})()}}),[2]})})},this.closeWatch=function(){return Xa(n,void 0,void 0,function(){var r,i,o;return ya(this,function(a){switch(a.label){case 0:if(r=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==wr.ACTIVE)return this.watchStatus=wr.CLOSED,this.onWatchClose(this,r),[2];a.label=1;case 1:return a.trys.push([1,3,4,5]),this.watchStatus=wr.CLOSING,i={watchId:this.watchId,requestId:zv(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:i})];case 2:return a.sent(),this.sessionInfo=void 0,this.watchStatus=wr.CLOSED,[3,5];case 3:return o=a.sent(),this.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:o})),[3,5];case 4:return this.onWatchClose(this,r),[7];case 5:return[2]}})})},this.scheduleSendACK=function(){n.clearACKSchedule(),n.ackTimeoutId=setTimeout(function(){n.waitExpectedTimeoutId?n.scheduleSendACK():n.sendACK()},tEe)},this.clearACKSchedule=function(){n.ackTimeoutId&&clearTimeout(n.ackTimeoutId)},this.sendACK=function(){return Xa(n,void 0,void 0,function(){var r,i,o;return ya(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.watchStatus!==wr.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(r={watchId:this.watchId,requestId:zv(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:r})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return a.sent(),this.scheduleSendACK(),[3,3];case 2:if(i=a.sent(),eH(i))switch(o=i.payload,o.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:o.msgData.code})),[2]}return this.availableRetries.CHECK_LAST&&this.availableRetries.CHECK_LAST>0?(this.availableRetries.CHECK_LAST-=1,this.scheduleSendACK()):this.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:i})),[3,3];case 3:return[2]}})})},this.handleCommonError=function(r,i){if(eH(r)){var o=r.payload;switch(o.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":{i.onSignError(r);return}case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":{i.onNotRetryableError(r);return}default:{i.onNotRetryableError(r);return}}}else if(JSe(r)){i.onTimeoutError(r);return}else if(ZSe(r)){i.onCancelledError(r);return}i.onUnknownError(r)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.onceWSConnected=e.onceWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.debug=e.debug,this.availableRetries={INIT_WATCH:bS,REBUILD_WATCH:bS,CHECK_LAST:eEe},this.listener=new qSe({close:function(){n.closeWatch()},onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return t.prototype.onMessage=function(e){var n=this;switch(this.watchStatus){case wr.PAUSED:{if(e.msgType!=="ERROR")return;break}case wr.LOGGINGIN:case wr.INITING:case wr.REBUILDING:{console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));return}case wr.CLOSED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");return}case wr.ERRORED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error");return}}if(!this.sessionInfo){console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.");return}switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":{console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break}case"CHECK_EVENT":{this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this.waitExpectedTimeoutId=setTimeout(function(){n.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break}case"ERROR":{this.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break}default:{console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e);break}}},t.prototype.closeWithError=function(e){var n;this.watchStatus=wr.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,((n=this.sessionInfo)===null||n===void 0?void 0:n.queryID)||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.pause=function(){this.watchStatus=wr.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.resume=function(){return Xa(this,void 0,void 0,function(){var e;return ya(this,function(n){switch(n.label){case 0:this.watchStatus=wr.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return n.sent(),console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),[3,4];case 3:return e=n.sent(),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e),[3,4];case 4:return[2]}})})},t.prototype.useRetryTicket=function(e){return this.availableRetries[e]&&this.availableRetries[e]>0?(this.availableRetries[e]-=1,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this.availableRetries[e]," retry left")),!0):!1},t.prototype.handleServerEvents=function(e){return Xa(this,void 0,void 0,function(){var n;return ya(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this.handleServerEventsInternel(e)];case 1:return r.sent(),this.postHandleServerEventsValidityCheck(e),[3,3];case 2:throw n=r.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",n),n;case 3:return[2]}})})},t.prototype.handleServerEventsInternel=function(e){return Xa(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c,f,d,h;return ya(this,function(p){switch(p.label){case 0:if(n=e.requestId,r=e.msgData.events,i=e.msgType,!r.length||!this.sessionInfo)return[2];o=this.sessionInfo;try{a=r.map(oEe)}catch(_){return this.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:_})),[2]}s=tH([],o.currentDocs,!0),u=!1,l=function(_,y){var m,b,w,S,x,E,O,O,M,M,O,C,C,T,P,N;return ya(this,function(H){switch(H.label){case 0:return m=a[_],o.currentEventId>=m.id?(!a[_-1]||m.id>a[_-1].id?console.warn("[realtime] duplicate event received, cur ".concat(o.currentEventId," but got ").concat(m.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(n,")")),[2,"continue"]):[3,1];case 1:if(o.currentEventId!==m.id-1)return[3,2];switch(m.dataType){case"update":{if(!m.doc)switch(m.queueType){case"update":case"dequeue":{if(b=s.find(function(B){return B._id===m.docId}),b){if(w=VSe(b),m.updatedFields&&Object.keys(m.updatedFields).forEach(function(B){D0e(w,B,m.updatedFields[B])}),m.removedFields)for(S=0,x=m.removedFields;S<x.length;S++)E=x[S],tye(w,E);m.doc=w}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break}case"enqueue":throw O=new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),c.closeWithError(O),O}break}case"replace":{if(!m.doc)throw O=new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")}),c.closeWithError(O),O;break}case"remove":{M=s.find(function(B){return B._id===m.docId}),M?m.doc=M:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break}case"limit":{if(!m.doc)switch(m.queueType){case"dequeue":{M=s.find(function(B){return B._id===m.docId}),M?m.doc=M:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break}case"enqueue":throw O=new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),c.closeWithError(O),O}break}}switch(m.queueType){case"init":{u?s.push(m.doc):(u=!0,s=[m.doc]);break}case"enqueue":{s.push(m.doc);break}case"dequeue":{C=s.findIndex(function(B){return B._id===m.docId}),C>-1?s.splice(C,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break}case"update":{C=s.findIndex(function(B){return B._id===m.docId}),C>-1?s[C]=m.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.");break}}return(_===y-1||a[_+1]&&a[_+1].id!==m.id)&&(T=tH([],s,!0),P=a.slice(0,_+1).filter(function(B){return B.id===m.id}),c.sessionInfo.currentEventId=m.id,c.sessionInfo.currentDocs=s,N=new Q6({id:m.id,docChanges:P,docs:T,msgType:i}),c.listener.onChange(N)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur ".concat(c.sessionInfo.currentEventId," but got ").concat(m.id)),[4,c.rebuildWatch()];case 3:return H.sent(),[2,{value:void 0}];case 4:return[2]}})},c=this,f=0,d=a.length,p.label=1;case 1:return f<d?[5,l(f,d)]:[3,4];case 2:if(h=p.sent(),typeof h=="object")return[2,h.value];p.label=3;case 3:return f++,[3,1];case 4:return[2]}})})},t.prototype.postHandleServerEventsValidityCheck=function(e){if(!this.sessionInfo){console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur");return}if(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent){console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling");return}},t.prototype.clearWaitExpectedEvent=function(){this.waitExpectedTimeoutId&&(clearTimeout(this.waitExpectedTimeoutId),this.waitExpectedTimeoutId=void 0)},t}();function oEe(t){var e={id:t.ID,dataType:t.DataType,queueType:t.QueueType,docId:t.DocID,doc:t.Doc&&t.Doc!=="{}"?JSON.parse(t.Doc):void 0};return t.DataType==="update"&&(t.UpdatedFields&&(e.updatedFields=JSON.parse(t.UpdatedFields)),(t.removedFields||t.RemovedFields)&&(e.removedFields=JSON.parse(t.removedFields))),e}var cZ={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}},Hs;(function(t){t[t.NormalClosure=1e3]="NormalClosure",t[t.GoingAway=1001]="GoingAway",t[t.ProtocolError=1002]="ProtocolError",t[t.UnsupportedData=1003]="UnsupportedData",t[t.NoStatusReceived=1005]="NoStatusReceived",t[t.AbnormalClosure=1006]="AbnormalClosure",t[t.InvalidFramePayloadData=1007]="InvalidFramePayloadData",t[t.PolicyViolation=1008]="PolicyViolation",t[t.MessageTooBig=1009]="MessageTooBig",t[t.MissingExtension=1010]="MissingExtension",t[t.InternalError=1011]="InternalError",t[t.ServiceRestart=1012]="ServiceRestart",t[t.TryAgainLater=1013]="TryAgainLater",t[t.BadGateway=1014]="BadGateway",t[t.TLSHandshake=1015]="TLSHandshake",t[t.ReconnectWebSocket=3e3]="ReconnectWebSocket",t[t.NoRealtimeListeners=3001]="NoRealtimeListeners",t[t.HeartbeatPingError=3002]="HeartbeatPingError",t[t.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",t[t.NoAuthentication=3050]="NoAuthentication"})(Hs||(Hs={}));var gR=function(t,e){var n=cZ[t],r=n?"".concat(n.name,", code ").concat(t,", reason ").concat(e||n.description):"code ".concat(t);return new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})},fZ=null,dZ="web";function aEe(){return fZ}function sEe(t){fZ=t}function nH(){return dZ}function lEe(t){dZ=t}var XA=function(){return XA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},XA.apply(this,arguments)},Al=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Cl=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},yR={OPEN:1},rH=3,uEe=5e3,cEe=1e4,fEe=5,dEe=1e4,hEe=2,pEe=2,mEe=5e3,vEe=function(){function t(e){var n=this;this.virtualWSClient=new Set,this.queryIdClientMap=new Map,this.watchIdClientMap=new Map,this.pingFailed=0,this.pongMissed=0,this.logins=new Map,this.wsReadySubsribers=[],this.wsResponseWait=new Map,this.rttObserved=[],this.send=function(r){return Al(n,void 0,void 0,function(){var i=this;return Cl(this,function(o){return[2,new Promise(function(a,s){(function(){return Al(i,void 0,void 0,function(){var u,l,c,f,d,h,p,_,y=this;return Cl(this,function(m){switch(m.label){case 0:l=!1,c=!1,f=function(b){l=!0,u&&clearTimeout(u),a(b)},d=function(b){c=!0,u&&clearTimeout(u),s(b)},r.timeout&&(u=setTimeout(function(){(function(){return Al(y,void 0,void 0,function(){return Cl(this,function(b){switch(b.label){case 0:return!l||!c?[4,iL(0)]:[3,2];case 1:b.sent(),(!l||!c)&&d(new XSe("wsclient.send timedout")),b.label=2;case 2:return[2]}})})})()},r.timeout)),m.label=1;case 1:return m.trys.push([1,8,,9]),this.wsInitPromise!==void 0||this.wsInitPromise!==null?[4,this.wsInitPromise]:[3,3];case 2:m.sent(),m.label=3;case 3:if(!this.ws)return d(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this.ws.readyState!==yR.OPEN)return d(new Error("ws readyState invalid: ".concat(this.ws.readyState,", can not send message"))),[2];r.waitResponse&&(h={resolve:f,reject:d,skipOnMessage:r.skipOnMessage},this.wsResponseWait.set(r.msg.requestId,h)),m.label=4;case 4:return m.trys.push([4,6,,7]),[4,this.ws.send(JSON.stringify(r.msg))];case 5:return m.sent(),r.waitResponse||f(void 0),[3,7];case 6:return p=m.sent(),p&&(d(p),r.waitResponse&&this.wsResponseWait.delete(r.msg.requestId)),[3,7];case 7:return[3,9];case 8:return _=m.sent(),d(_),[3,9];case 9:return[2]}})})})()})]})})},this.closeAllClients=function(r){n.virtualWSClient.forEach(function(i){i.closeWithError(r)})},this.pauseClients=function(r){(r||n.virtualWSClient).forEach(function(i){i.pause()})},this.resumeClients=function(r){(r||n.virtualWSClient).forEach(function(i){i.resume()})},this.initWebSocketConnection=function(r,i){return i===void 0&&(i=n.maxReconnect),Al(n,void 0,void 0,function(){var o=this;return Cl(this,function(a){switch(a.label){case 0:if(r&&this.reconnectState)return[2];if(r&&(this.reconnectState=!0),this.wsInitPromise!==void 0&&this.wsInitPromise!==null)return[2,this.wsInitPromise];r&&this.pauseClients(),this.close(Hs.ReconnectWebSocket),this.wsInitPromise=new Promise(function(s,u){(function(){return Al(o,void 0,void 0,function(){var l,c,f,d=this;return Cl(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return l=h.sent(),[4,new Promise(function(p){var _=l.wsUrl||"wss://tcb-ws.tencentcloudapi.com",y=aEe();d.ws=y?new y(_):new WebSocket(_),p(void 0)})];case 2:return h.sent(),this.ws.connect?[4,this.ws.connect()]:[3,4];case 3:h.sent(),h.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return h.sent(),s(),r&&(this.resumeClients(),this.reconnectState=!1),[3,11];case 6:return c=h.sent(),console.error("[realtime] initWebSocketConnection connect fail",c),i>0?(f=!0,this.wsInitPromise=void 0,f?[4,iL(this.reconnectInterval)]:[3,8]):[3,9];case 7:h.sent(),r&&(this.reconnectState=!1),h.label=8;case 8:return s(this.initWebSocketConnection(r,i-1)),[3,10];case 9:u(c),r&&this.closeAllClients(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:c})),h.label=10;case 10:return[3,11];case 11:return[2]}})})})()}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.wsInitPromise];case 2:return a.sent(),this.wsReadySubsribers.forEach(function(s){var u=s.resolve;return u()}),[3,5];case 3:return a.sent(),this.wsReadySubsribers.forEach(function(s){var u=s.reject;return u()}),[3,5];case 4:return this.wsInitPromise=void 0,this.wsReadySubsribers=[],[7];case 5:return[2]}})})},this.initWebSocketEvent=function(){return new Promise(function(r,i){if(!n.ws)throw new Error("can not initWebSocketEvent, ws not exists");var o=!1;n.ws.onopen=function(a){console.warn("[realtime] ws event: open",a),o=!0,r()},n.ws.onerror=function(a){n.logins=new Map,o?(console.error("[realtime] ws event: error",a),n.clearHeartbeat(),n.virtualWSClient.forEach(function(s){return s.closeWithError(new $s({errCode:Ta.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:a}))})):(console.error("[realtime] ws open failed with ws event: error",a),i(a))},n.ws.onclose=function(a){switch(console.warn("[realtime] ws event: close",a),n.logins=new Map,n.clearHeartbeat(),a.code){case Hs.ReconnectWebSocket:break;case Hs.NoRealtimeListeners:break;case Hs.HeartbeatPingError:case Hs.HeartbeatPongTimeoutError:case Hs.NormalClosure:case Hs.AbnormalClosure:{n.maxReconnect>0?n.initWebSocketConnection(!0,n.maxReconnect):n.closeAllClients(gR(a.code));break}case Hs.NoAuthentication:{n.closeAllClients(gR(a.code,a.reason));break}default:n.maxReconnect>0?n.initWebSocketConnection(!0,n.maxReconnect):n.closeAllClients(gR(a.code))}},n.ws.onmessage=function(a){var s,u=((s=a.data)===null||s===void 0?void 0:s.data)||a.data;n.heartbeat();var l;try{l=typeof u=="string"?JSON.parse(u):u}catch(b){throw new Error("[realtime] onMessage parse res.data error: ".concat(b))}if(l.msgType==="ERROR"){var c=null;n.virtualWSClient.forEach(function(b){b.watchId===l.watchId&&(c=b)}),c&&c.listener.onError(l)}var f=n.wsResponseWait.get(l.requestId);if(f){try{l.msgType==="ERROR"?f.reject(new KSe(l)):f.resolve(l)}catch(b){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",b)}finally{n.wsResponseWait.delete(l.requestId)}if(f.skipOnMessage)return}if(l.msgType==="PONG"){if(n.lastPingSendTS){var d=Date.now()-n.lastPingSendTS;if(d>cEe){console.warn("[realtime] untrusted rtt observed: ".concat(d));return}n.rttObserved.length>=rH&&n.rttObserved.splice(0,n.rttObserved.length-rH+1),n.rttObserved.push(d)}return}var h=l.watchId&&n.watchIdClientMap.get(l.watchId);if(h)h.onMessage(l);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(l.watchId,": "),l),l.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":{h=n.queryIdClientMap.get(l.msgData.queryID),h&&h.onMessage(l);break}default:for(var p=0,_=Array.from(n.watchIdClientMap.entries());p<_.length;p++){var y=_[p],m=y[1];m.onMessage(l);break}}},n.heartbeat()})},this.isWSConnected=function(){return!!(n.ws&&n.ws.readyState===yR.OPEN)},this.onceWSConnected=function(){return Al(n,void 0,void 0,function(){var r=this;return Cl(this,function(i){return this.isWSConnected()?[2]:this.wsInitPromise!==null&&this.wsInitPromise!==void 0?[2,this.wsInitPromise]:[2,new Promise(function(o,a){r.wsReadySubsribers.push({resolve:o,reject:a})})]})})},this.webLogin=function(r,i){return Al(n,void 0,void 0,function(){var o,a,s,u,l,c,f,d,h=this;return Cl(this,function(p){switch(p.label){case 0:if(!i){if(r){if(o=this.logins.get(r),o){if(o.loggedIn&&o.loginResult)return[2,o.loginResult];if(o.loggingInPromise!==null&&o.loggingInPromise!==void 0)return[2,o.loggingInPromise]}}else if(a=this.logins.get(""),(a==null?void 0:a.loggingInPromise)!==null&&(a==null?void 0:a.loggingInPromise)!==void 0)return[2,a.loggingInPromise]}s=new Promise(function(_,y){(function(){return Al(h,void 0,void 0,function(){var m,b,w,S,x;return Cl(this,function(E){switch(E.label){case 0:return E.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return m=E.sent(),b={envId:m.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},w={watchId:void 0,requestId:zv(),msgType:"LOGIN",msgData:b,exMsgData:{runtime:nH(),signStr:m.signStr,secretVersion:m.secretVersion}},[4,this.send({msg:w,waitResponse:!0,skipOnMessage:!0,timeout:mEe})];case 2:return S=E.sent(),S.msgData.code?y(new Error("".concat(S.msgData.code," ").concat(S.msgData.message))):_({envId:m.envId}),[3,4];case 3:return x=E.sent(),y(x),[3,4];case 4:return[2]}})})})()}),u=r&&this.logins.get(r),l=Date.now(),u?(u.loggedIn=!1,u.loggingInPromise=s,u.loginStartTS=l):(u={loggedIn:!1,loggingInPromise:s,loginStartTS:l},this.logins.set(r||"",u)),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,s];case 2:if(c=p.sent(),f=r&&this.logins.get(r),f&&f===u&&f.loginStartTS===l)return u.loggedIn=!0,u.loggingInPromise=void 0,u.loginStartTS=void 0,u.loginResult=c,[2,c];if(f){if(f.loggedIn&&f.loginResult)return[2,f.loginResult];if(f.loggingInPromise!==null&&f.loggingInPromise!==void 0)return[2,f.loggingInPromise];throw new Error("ws unexpected login info")}else throw new Error("ws login info reset");case 3:throw d=p.sent(),u.loggedIn=!1,u.loggingInPromise=void 0,u.loginStartTS=void 0,u.loginResult=void 0,d;case 4:return[2]}})})},this.getWsSign=function(){return Al(n,void 0,void 0,function(){var r,i,o,a,s,u,l;return Cl(this,function(c){switch(c.label){case 0:return this.wsSign&&this.wsSign.expiredTs>Date.now()?[2,this.wsSign]:(r=Date.now()+6e4,[4,this.context.appConfig.request.send("auth.wsWebSign",{runtime:nH()})]);case 1:if(i=c.sent(),i.code)throw new Error("[tcb-js-sdk] : ".concat(i.code));if(i.data)return o=i.data,a=o.signStr,s=o.wsUrl,u=o.secretVersion,l=o.envId,[2,{signStr:a,wsUrl:s,secretVersion:u,envId:l,expiredTs:r}];throw new Error("[tcb-js-sdk] ")}})})},this.getWaitExpectedTimeoutLength=function(){return n.rttObserved.length?n.rttObserved.reduce(function(r,i){return r+i})/n.rttObserved.length*1.5:uEe},this.ping=function(){return Al(n,void 0,void 0,function(){var r;return Cl(this,function(i){switch(i.label){case 0:return r={watchId:void 0,requestId:zv(),msgType:"PING",msgData:null},[4,this.send({msg:r})];case 1:return i.sent(),[2]}})})},this.onWatchStart=function(r,i){n.queryIdClientMap.set(i,r)},this.onWatchClose=function(r,i){i&&n.queryIdClientMap.delete(i),n.watchIdClientMap.delete(r.watchId),n.virtualWSClient.delete(r),n.virtualWSClient.size||n.close(Hs.NoRealtimeListeners)},this.maxReconnect=e.maxReconnect||fEe,this.reconnectInterval=e.reconnectInterval||dEe,this.context=e.context}return t.prototype.clearHeartbeat=function(){this.pingTimeoutId&&clearTimeout(this.pingTimeoutId),this.pongTimeoutId&&clearTimeout(this.pongTimeoutId)},t.prototype.close=function(e){this.clearHeartbeat(),this.ws&&(this.ws.close(e,cZ[e].name),this.ws=void 0)},t.prototype.watch=function(e){!this.ws&&(this.wsInitPromise===void 0||this.wsInitPromise===null)&&this.initWebSocketConnection(!1);var n=new iEe(XA(XA({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this.virtualWSClient.add(n),this.watchIdClientMap.set(n.watchId,n),n.listener},t.prototype.heartbeat=function(e){var n=this;this.clearHeartbeat(),this.pingTimeoutId=setTimeout(function(){(function(){return Al(n,void 0,void 0,function(){var r=this;return Cl(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),!this.ws||this.ws.readyState!==yR.OPEN?[2]:(this.lastPingSendTS=Date.now(),[4,this.ping()]);case 1:return i.sent(),this.pingFailed=0,this.pongTimeoutId=setTimeout(function(){console.error("pong timed out"),r.pongMissed<pEe?(r.pongMissed+=1,r.heartbeat(!0)):r.initWebSocketConnection(!0)},this.context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return i.sent(),this.pingFailed<hEe?(this.pingFailed+=1,this.heartbeat()):this.close(Hs.HeartbeatPingError),[3,3];case 3:return[2]}})})})()},e?0:this.context.appConfig.realtimePingInterval)},t}(),hZ={target:"database",entity:function(){var t=this.platform,e=t.adapter,n=t.runtime;sEe(e.wsClass),lEe(n)}},pZ={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=vEe}};try{cloudbase.registerComponent(pZ),cloudbase.registerHook(hZ)}catch{}function gEe(t){try{t.registerComponent(pZ),t.registerHook(hZ)}catch(e){console.warn(e)}}var yEe=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},_R=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},_Ee=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},bEe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},wEe=sa,SEe=hT,EEe=vT,mZ="analytics",xEe=["mall"];function AEe(t){if(Object.prototype.toString.call(t).slice(8,-1)!=="Object")return!1;var e=t.report_data,n=t.report_type;return!(xEe.includes(n)===!1||Object.prototype.toString.call(e).slice(8,-1)!=="Object"||e.action_time!==void 0&&!Number.isInteger(e.action_time)||typeof e.action_type!="string")}var CEe=function(){function t(){}return t.prototype.analytics=function(e){return _Ee(this,void 0,void 0,function(){var n,r,i,o,a;return bEe(this,function(s){if(!AEe(e))throw new Error(JSON.stringify({code:wEe.INVALID_PARAMS,msg:"[".concat(mZ,".analytics] invalid report data")}));return n="analytics.report",r=e.report_data.action_time===void 0?Math.floor(Date.now()/1e3):e.report_data.action_time,i={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:r})},o={requestData:i},a=this.request,a.send(n,o),[2]})})},yEe([EEe({customInfo:{},title:"",messages:["","  1 -  analytics() ","".concat(SEe)]}),_R("design:type",Function),_R("design:paramtypes",[Object]),_R("design:returntype",Promise)],t.prototype,"analytics",null),t}(),TEe=new CEe,vZ={name:mZ,entity:{analytics:TEe.analytics}};try{cloudbase.registerComponent(vZ)}catch{}function MEe(t){try{t.registerComponent(vZ)}catch(e){console.warn(e)}}var oL=function(t,e){return oL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},oL(t,e)};function mw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ci=function(){return Ci=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ci.apply(this,arguments)};function Dd(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,[])).next())})}function Ld(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var np=function(t){mw(e,t);function e(n,r){var i=t.call(this,n)||this;return i.name="WxCloudSDKError",i.code=r==null?void 0:r.code,i.requestId=r==null?void 0:r.requestId,i.originError=r==null?void 0:r.originError,i}return e}(Error);function aL(){return typeof window<"u"&&window||typeof globalThis<"u"&&globalThis}function OEe(){try{var t=aL();return t?typeof wx>"u"?aL().location.href:t.__wxRoute:void 0}catch{}}function IEe(){var t=aL();if(t!=null&&t.navigator)return t.navigator.userAgent;if(typeof wx<"u"&&wx.getSystemInfo){var e;return wx.getSystemInfo({success:function(n){n&&(e=["brand","model","version","system","platform","SDKVersion","language"].map(function(r){return"".concat(r,": ").concat(n[r])}).join(", "))}}),e}}var REe="1.7.2",PEe=function(t){var e=t.dataSourceName,n=t.methodName,r=t.params,i=t.realMethodName,o=t.callFunction,a=t.envType,s=a===void 0?"prod":a,u=t.mode;return Dd(void 0,void 0,void 0,function(){var l,c,f,d,h,p;return Ld(this,function(_){switch(_.label){case 0:l={data:{},requestId:""},_.label=1;case 1:return _.trys.push([1,3,,4]),[4,o({name:"lowcode-datasource",data:{dataSourceName:e,methodName:n,params:r,userAgent:IEe(),referrer:OEe(),"x-sdk-version":REe,envType:s,mode:u}})];case 2:if(c=_.sent(),f=((h=c==null?void 0:c.result)===null||h===void 0?void 0:h.requestId)||(c==null?void 0:c.requestId)||(c==null?void 0:c.requestID),c!=null&&c.result.code)throw new np("".concat(c==null?void 0:c.result.message,`
 models.`).concat(e?"".concat(e,"."):"").concat(i,`
`).concat(c==null?void 0:c.result.code,`
ID`).concat(f||"N/A"),{code:c==null?void 0:c.result.code,requestId:f});return l.data=((p=c==null?void 0:c.result)===null||p===void 0?void 0:p.data)||{},l.requestId=f,[3,4];case 3:throw d=_.sent(),d.name==="WxCloudSDKError"?d:(console.log(d),new np("".concat(d.message,`
       models.`).concat(e?"".concat(e,"."):"").concat(i,`
      IDN/A`),{code:"UnknownError",originError:d}));case 4:return[2,l]}})})},iH=function(t){var e=t.sql,n=t.params,r=t.config,i=t.callFunction,o=t.unsafe,a=o===void 0?!1:o;return Dd(void 0,void 0,void 0,function(){return Ld(this,function(s){return[2,PEe({realMethodName:"$runSQL",methodName:"callWedaApi",params:{action:"RunMysqlCommand",data:{sqlTemplate:e,config:r,parameter:a?"":Object.entries(n||{}).reduce(function(u,l){var c=l[0],f=l[1];if(f!==void 0){var d="OBJECT",h=typeof f;switch(h){case"boolean":{d="BOOLEAN";break}case"number":{d="NUMBER";break}case"string":{d="STRING";break}default:Array.isArray(f)?d="ARRAY":d="OBJECT"}u.push({key:c,type:d,value:d==="STRING"?f:JSON.stringify(f)})}return u},[])||[]}},callFunction:i,mode:"sdk"})]})})},DEe=function(t){return{$runSQL:function(e,n,r){return Dd(this,void 0,void 0,function(){var i;return Ld(this,function(o){switch(o.label){case 0:return[4,iH({sql:e,params:n,config:Ci(Ci({},r),{preparedStatements:!0}),callFunction:t})];case 1:return i=o.sent(),[2,i]}})})},$runSQLRaw:function(e,n){return Dd(this,void 0,void 0,function(){var r;return Ld(this,function(i){switch(i.label){case 0:return[4,iH({sql:e,params:[],config:Ci(Ci({},n),{preparedStatements:!1}),callFunction:t})];case 1:return r=i.sent(),[2,r]}})})}}},oH={filter:{where:{}},select:{$master:!0}};function pc(t){return{getUrl:function(e){return"".concat(e,"/").concat(t)},method:"post"}}var LEe={get:Ci(Ci({},pc("get")),{defaultParams:Ci({},oH)}),list:Ci(Ci({},pc("list")),{defaultParams:Ci({},oH)}),create:pc("create"),createMany:pc("createMany"),update:Ci(Ci({},pc("update")),{method:"put"}),updateMany:Ci(Ci({},pc("updateMany")),{method:"put"}),upsert:pc("upsert"),delete:pc("delete"),deleteMany:pc("deleteMany")},wS="Unknown error occurred",aH="NotSupported",NEe=function(t,e,n,r){var i=DEe(t);return new Proxy({},{get:function(o,a){if(typeof a=="string")return Object.prototype.hasOwnProperty.call(i,a)?i[a]:BEe(n,a,e,r)}})},sH=function(t,e,n,r,i){return new np("".concat(t,`
 models.`).concat(e,".").concat(n,`
`).concat(r,`
ID`).concat(i),{code:r,requestId:i})},BEe=function(t,e,n,r){var i=new Proxy({},{get:function(o,a){if(a!=="runSQLTemplate"){var s=LEe[a];if(!s){var u=new Error(": ".concat(a));throw new np(u.message||wS,{originError:u,code:aH,requestId:"N/A"})}return function(l){return l===void 0&&(l={}),Dd(void 0,void 0,void 0,function(){var c,f,d,h,p,_,y,m,b,w;return Ld(this,function(S){switch(S.label){case 0:c=s.getUrl,f=s.method,d=s.defaultParams,h=d===void 0?{}:d,p=Object.assign({},h,l),_=p.envType==="pre"?"pre":"prod",y=[t,_,c(e)].join("/"),S.label=1;case 1:return S.trys.push([1,3,,4]),[4,n({url:y,body:JSON.stringify(p),method:f})];case 2:if(m=S.sent(),m.code)throw sH(m==null?void 0:m.message,e,a,m==null?void 0:m.code,m==null?void 0:m.requestId);return a==="get"&&Object.assign(m,{data:(w=m.data.record)!==null&&w!==void 0?w:m.data}),[2,m];case 3:throw b=S.sent(),new np((b==null?void 0:b.message)||wS,{originError:b});case 4:return[2]}})})}}else{if(!(r!=null&&r.sqlBaseUrl)){var u=new Error(": ".concat(a));throw new np(u.message||wS,{originError:u,code:aH,requestId:"N/A"})}return function(l){return Dd(void 0,void 0,void 0,function(){var c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C;return Ld(this,function(T){switch(T.label){case 0:c=l.params,f=l.templateName,d=l.envType,h=d==="pre"?"pre":"prod",p=[r.sqlBaseUrl,h,f,"run"].join("/"),_=Object.entries(c||{}).reduce(function(P,N){var H=N[0],B=N[1];if(B!==void 0){var k="OBJECT",j=typeof B;switch(j){case"boolean":{k="BOOLEAN";break}case"number":{k="NUMBER";break}case"string":{k="STRING";break}default:Array.isArray(B)?k="ARRAY":k="OBJECT"}P.push({key:H,type:k,value:k==="STRING"?B:JSON.stringify(B)})}return P},[]),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,n({url:p,body:JSON.stringify({parameter:_}),method:"POST"})];case 2:if(y=T.sent(),!((b=y==null?void 0:y.Response)===null||b===void 0)&&b.Error)throw sH((S=(w=y==null?void 0:y.Response)===null||w===void 0?void 0:w.Error)===null||S===void 0?void 0:S.Message,e,a,(E=(x=y==null?void 0:y.Response)===null||x===void 0?void 0:x.Error)===null||E===void 0?void 0:E.Code,(M=y==null?void 0:y.Response)===null||M===void 0?void 0:M.RequestId);return[2,Ci(Ci({},(O=y==null?void 0:y.Response)!==null&&O!==void 0?O:{}),{data:(C=y==null?void 0:y.Response)===null||C===void 0?void 0:C.Data})];case 3:throw m=T.sent(),new np((m==null?void 0:m.message)||wS,{originError:m});case 4:return[2]}})})}}}});return i},FEe=function(){function t(e){var n=this;this.map=new Map,e&&(e instanceof Headers?e.forEach(function(r,i){n.append(i,r)}):Array.isArray(e)?e.forEach(function(r){var i=r[0],o=r[1];n.append(i,o)}):typeof e=="object"&&Object.keys(e).forEach(function(r){n.append(r,e[r])}))}return t.prototype.append=function(e,n){var r=e.toLowerCase(),i=this.map.get(r);i?this.map.set(r,"".concat(i,", ").concat(n)):this.map.set(r,String(n))},t.prototype.delete=function(e){this.map.delete(e.toLowerCase())},t.prototype.forEach=function(e,n){var r=this;this.map.forEach(function(i,o){e.call(n,i,o,r)})},t.prototype.get=function(e){return this.map.get(e.toLowerCase())||null},t.prototype.has=function(e){return this.map.has(e.toLowerCase())},t.prototype.set=function(e,n){this.map.set(e.toLowerCase(),String(n))},t.prototype.entries=function(){return this.map.entries()},t.prototype.keys=function(){return this.map.keys()},t.prototype.values=function(){return this.map.values()},t.prototype.getSetCookie=function(){var e=[];return this.map.forEach(function(n,r){r==="set-cookie"&&e.push(n)}),e},t.prototype.toJSON=function(){var e={};return this.map.forEach(function(n,r){e[r]=n}),e},t.prototype[Symbol.iterator]=function(){return this.entries()},t}();typeof globalThis=="object"&&!globalThis.Headers&&(globalThis.Headers=FEe);var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kEe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ys=function(t){try{return!!t()}catch{return!0}},UEe=ys,RT=!UEe(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),gZ=RT,yZ=Function.prototype,sL=yZ.call,jEe=gZ&&yZ.bind.bind(sL,sL),$o=gZ?jEe:function(t){return function(){return sL.apply(t,arguments)}},_Z=$o,HEe=_Z({}.toString),$Ee=_Z("".slice),VF=function(t){return $Ee(HEe(t),8,-1)},zEe=$o,GEe=ys,WEe=VF,bR=Object,VEe=zEe("".split),bZ=GEe(function(){return!bR("z").propertyIsEnumerable(0)})?function(t){return WEe(t)==="String"?VEe(t,""):bR(t)}:bR,qF=function(t){return t==null},qEe=qF,KEe=TypeError,KF=function(t){if(qEe(t))throw new KEe("Can't call method on "+t);return t},XEe=bZ,JEe=KF,vw=function(t){return XEe(JEe(t))},gw={},py=function(t){return t&&t.Math===Math&&t},za=py(typeof globalThis=="object"&&globalThis)||py(typeof window=="object"&&window)||py(typeof self=="object"&&self)||py(typeof SS=="object"&&SS)||py(typeof SS=="object"&&SS)||function(){return this}()||Function("return this")(),wR=typeof document=="object"&&document.all,Ga=typeof wR>"u"&&wR!==void 0?function(t){return typeof t=="function"||t===wR}:function(t){return typeof t=="function"},YEe=za,ZEe=Ga,lH=YEe.WeakMap,QEe=ZEe(lH)&&/native code/.test(String(lH)),exe=Ga,Qp=function(t){return typeof t=="object"?t!==null:exe(t)},txe=ys,_s=!txe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),em={},nxe=za,uH=Qp,lL=nxe.document,rxe=uH(lL)&&uH(lL.createElement),wZ=function(t){return rxe?lL.createElement(t):{}},ixe=_s,oxe=ys,axe=wZ,SZ=!ixe&&!oxe(function(){return Object.defineProperty(axe("div"),"a",{get:function(){return 7}}).a!==7}),sxe=_s,lxe=ys,EZ=sxe&&lxe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),uxe=Qp,cxe=String,fxe=TypeError,tm=function(t){if(uxe(t))return t;throw new fxe(cxe(t)+" is not an object")},dxe=RT,ES=Function.prototype.call,cf=dxe?ES.bind(ES):function(){return ES.apply(ES,arguments)},XF={},SR=XF,ER=za,hxe=Ga,cH=function(t){return hxe(t)?t:void 0},A0=function(t,e){return arguments.length<2?cH(SR[t])||cH(ER[t]):SR[t]&&SR[t][e]||ER[t]&&ER[t][e]},pxe=$o,xZ=pxe({}.isPrototypeOf),mxe=za,fH=mxe.navigator,dH=fH&&fH.userAgent,vxe=dH?String(dH):"",AZ=za,xR=vxe,hH=AZ.process,pH=AZ.Deno,mH=hH&&hH.versions||pH&&pH.version,vH=mH&&mH.v8,Xl,JA;vH&&(Xl=vH.split("."),JA=Xl[0]>0&&Xl[0]<4?1:+(Xl[0]+Xl[1]));!JA&&xR&&(Xl=xR.match(/Edge\/(\d+)/),(!Xl||Xl[1]>=74)&&(Xl=xR.match(/Chrome\/(\d+)/),Xl&&(JA=+Xl[1])));var gxe=JA,gH=gxe,yxe=ys,_xe=za,bxe=_xe.String,CZ=!!Object.getOwnPropertySymbols&&!yxe(function(){var t=Symbol("symbol detection");return!bxe(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&gH&&gH<41}),wxe=CZ,TZ=wxe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Sxe=A0,Exe=Ga,xxe=xZ,Axe=TZ,Cxe=Object,MZ=Axe?function(t){return typeof t=="symbol"}:function(t){var e=Sxe("Symbol");return Exe(e)&&xxe(e.prototype,Cxe(t))},Txe=String,OZ=function(t){try{return Txe(t)}catch{return"Object"}},Mxe=Ga,Oxe=OZ,Ixe=TypeError,JF=function(t){if(Mxe(t))return t;throw new Ixe(Oxe(t)+" is not a function")},Rxe=JF,Pxe=qF,YF=function(t,e){var n=t[e];return Pxe(n)?void 0:Rxe(n)},AR=cf,CR=Ga,TR=Qp,Dxe=TypeError,Lxe=function(t,e){var n,r;if(e==="string"&&CR(n=t.toString)&&!TR(r=AR(n,t))||CR(n=t.valueOf)&&!TR(r=AR(n,t))||e!=="string"&&CR(n=t.toString)&&!TR(r=AR(n,t)))return r;throw new Dxe("Can't convert object to primitive value")},IZ={exports:{}},Nxe=!0,yH=za,Bxe=Object.defineProperty,Fxe=function(t,e){try{Bxe(yH,t,{value:e,configurable:!0,writable:!0})}catch{yH[t]=e}return e},kxe=za,Uxe=Fxe,_H="__core-js_shared__",bH=IZ.exports=kxe[_H]||Uxe(_H,{});(bH.versions||(bH.versions=[])).push({version:"3.45.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"});var ZF=IZ.exports,wH=ZF,RZ=function(t,e){return wH[t]||(wH[t]=e||{})},jxe=KF,Hxe=Object,PT=function(t){return Hxe(jxe(t))},$xe=$o,zxe=PT,Gxe=$xe({}.hasOwnProperty),rc=Object.hasOwn||function(e,n){return Gxe(zxe(e),n)},Wxe=$o,Vxe=0,qxe=Math.random(),Kxe=Wxe(1.1.toString),PZ=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Kxe(++Vxe+qxe,36)},Xxe=za,Jxe=RZ,SH=rc,Yxe=PZ,Zxe=CZ,Qxe=TZ,Gv=Xxe.Symbol,MR=Jxe("wks"),eAe=Qxe?Gv.for||Gv:Gv&&Gv.withoutSetter||Yxe,ic=function(t){return SH(MR,t)||(MR[t]=Zxe&&SH(Gv,t)?Gv[t]:eAe("Symbol."+t)),MR[t]},tAe=cf,EH=Qp,xH=MZ,nAe=YF,rAe=Lxe,iAe=ic,oAe=TypeError,aAe=iAe("toPrimitive"),sAe=function(t,e){if(!EH(t)||xH(t))return t;var n=nAe(t,aAe),r;if(n){if(e===void 0&&(e="default"),r=tAe(n,t,e),!EH(r)||xH(r))return r;throw new oAe("Can't convert object to primitive value")}return e===void 0&&(e="number"),rAe(t,e)},lAe=sAe,uAe=MZ,DZ=function(t){var e=lAe(t,"string");return uAe(e)?e:e+""},cAe=_s,fAe=SZ,dAe=EZ,xS=tm,AH=DZ,hAe=TypeError,OR=Object.defineProperty,pAe=Object.getOwnPropertyDescriptor,IR="enumerable",RR="configurable",PR="writable";em.f=cAe?dAe?function(e,n,r){if(xS(e),n=AH(n),xS(r),typeof e=="function"&&n==="prototype"&&"value"in r&&PR in r&&!r[PR]){var i=pAe(e,n);i&&i[PR]&&(e[n]=r.value,r={configurable:RR in r?r[RR]:i[RR],enumerable:IR in r?r[IR]:i[IR],writable:!1})}return OR(e,n,r)}:OR:function(e,n,r){if(xS(e),n=AH(n),xS(r),fAe)try{return OR(e,n,r)}catch{}if("get"in r||"set"in r)throw new hAe("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var yw=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},mAe=_s,vAe=em,gAe=yw,DT=mAe?function(t,e,n){return vAe.f(t,e,gAe(1,n))}:function(t,e,n){return t[e]=n,t},yAe=RZ,_Ae=PZ,CH=yAe("keys"),QF=function(t){return CH[t]||(CH[t]=_Ae(t))},e3={},bAe=QEe,LZ=za,wAe=Qp,SAe=DT,DR=rc,LR=ZF,EAe=QF,xAe=e3,TH="Object already initialized",uL=LZ.TypeError,AAe=LZ.WeakMap,YA,xb,ZA,CAe=function(t){return ZA(t)?xb(t):YA(t,{})},TAe=function(t){return function(e){var n;if(!wAe(e)||(n=xb(e)).type!==t)throw new uL("Incompatible receiver, "+t+" required");return n}};if(bAe||LR.state){var Su=LR.state||(LR.state=new AAe);Su.get=Su.get,Su.has=Su.has,Su.set=Su.set,YA=function(t,e){if(Su.has(t))throw new uL(TH);return e.facade=t,Su.set(t,e),e},xb=function(t){return Su.get(t)||{}},ZA=function(t){return Su.has(t)}}else{var Rm=EAe("state");xAe[Rm]=!0,YA=function(t,e){if(DR(t,Rm))throw new uL(TH);return e.facade=t,SAe(t,Rm,e),e},xb=function(t){return DR(t,Rm)?t[Rm]:{}},ZA=function(t){return DR(t,Rm)}}var LT={set:YA,get:xb,has:ZA,enforce:CAe,getterFor:TAe},MAe=RT,NZ=Function.prototype,MH=NZ.apply,OH=NZ.call,OAe=typeof Reflect=="object"&&Reflect.apply||(MAe?OH.bind(MH):function(){return OH.apply(MH,arguments)}),IAe=VF,RAe=$o,BZ=function(t){if(IAe(t)==="Function")return RAe(t)},FZ={},t3={},kZ={}.propertyIsEnumerable,UZ=Object.getOwnPropertyDescriptor,PAe=UZ&&!kZ.call({1:2},1);t3.f=PAe?function(e){var n=UZ(this,e);return!!n&&n.enumerable}:kZ;var DAe=_s,LAe=cf,NAe=t3,BAe=yw,FAe=vw,kAe=DZ,UAe=rc,jAe=SZ,IH=Object.getOwnPropertyDescriptor;FZ.f=DAe?IH:function(e,n){if(e=FAe(e),n=kAe(n),jAe)try{return IH(e,n)}catch{}if(UAe(e,n))return BAe(!LAe(NAe.f,e,n),e[n])};var HAe=ys,$Ae=Ga,zAe=/#|\.prototype\./,_w=function(t,e){var n=WAe[GAe(t)];return n===qAe?!0:n===VAe?!1:$Ae(e)?HAe(e):!!e},GAe=_w.normalize=function(t){return String(t).replace(zAe,".").toLowerCase()},WAe=_w.data={},VAe=_w.NATIVE="N",qAe=_w.POLYFILL="P",KAe=_w,RH=BZ,XAe=JF,JAe=RT,YAe=RH(RH.bind),NT=function(t,e){return XAe(t),e===void 0?t:JAe?YAe(t,e):function(){return t.apply(e,arguments)}},my=za,ZAe=OAe,QAe=BZ,eCe=Ga,tCe=FZ.f,nCe=KAe,Pm=XF,rCe=NT,Dm=DT,PH=rc,iCe=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return ZAe(t,this,arguments)};return e.prototype=t.prototype,e},C0=function(t,e){var n=t.target,r=t.global,i=t.stat,o=t.proto,a=r?my:i?my[n]:my[n]&&my[n].prototype,s=r?Pm:Pm[n]||Dm(Pm,n,{})[n],u=s.prototype,l,c,f,d,h,p,_,y,m;for(d in e)l=nCe(r?d:n+(i?".":"#")+d,t.forced),c=!l&&a&&PH(a,d),p=s[d],c&&(t.dontCallGetSet?(m=tCe(a,d),_=m&&m.value):_=a[d]),h=c&&_?_:e[d],!(!l&&!o&&typeof p==typeof h)&&(t.bind&&c?y=rCe(h,my):t.wrap&&c?y=iCe(h):o&&eCe(h)?y=QAe(h):y=h,(t.sham||h&&h.sham||p&&p.sham)&&Dm(y,"sham",!0),Dm(s,d,y),o&&(f=n+"Prototype",PH(Pm,f)||Dm(Pm,f,{}),Dm(Pm[f],d,h),t.real&&u&&(l||!u[d])&&Dm(u,d,h)))},cL=_s,oCe=rc,jZ=Function.prototype,aCe=cL&&Object.getOwnPropertyDescriptor,HZ=oCe(jZ,"name"),sCe=HZ&&(function(){}).name==="something";HZ&&(!cL||cL&&aCe(jZ,"name").configurable);var lCe={PROPER:sCe},$Z={},uCe=Math.ceil,cCe=Math.floor,fCe=Math.trunc||function(e){var n=+e;return(n>0?cCe:uCe)(n)},dCe=fCe,n3=function(t){var e=+t;return e!==e||e===0?0:dCe(e)},hCe=n3,pCe=Math.max,mCe=Math.min,zZ=function(t,e){var n=hCe(t);return n<0?pCe(n+e,0):mCe(n,e)},vCe=n3,gCe=Math.min,yCe=function(t){var e=vCe(t);return e>0?gCe(e,9007199254740991):0},_Ce=yCe,GZ=function(t){return _Ce(t.length)},bCe=vw,wCe=zZ,SCe=GZ,ECe=function(t){return function(e,n,r){var i=bCe(e),o=SCe(i);if(o===0)return!t&&-1;var a=wCe(r,o),s;if(t&&n!==n){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},xCe={indexOf:ECe(!1)},ACe=$o,NR=rc,CCe=vw,TCe=xCe.indexOf,MCe=e3,DH=ACe([].push),OCe=function(t,e){var n=CCe(t),r=0,i=[],o;for(o in n)!NR(MCe,o)&&NR(n,o)&&DH(i,o);for(;e.length>r;)NR(n,o=e[r++])&&(~TCe(i,o)||DH(i,o));return i},WZ=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ICe=OCe,RCe=WZ,VZ=Object.keys||function(e){return ICe(e,RCe)},PCe=_s,DCe=EZ,LCe=em,NCe=tm,BCe=vw,FCe=VZ;$Z.f=PCe&&!DCe?Object.defineProperties:function(e,n){NCe(e);for(var r=BCe(n),i=FCe(n),o=i.length,a=0,s;o>a;)LCe.f(e,s=i[a++],r[s]);return e};var kCe=A0,UCe=kCe("document","documentElement"),jCe=tm,HCe=$Z,LH=WZ,$Ce=e3,zCe=UCe,GCe=wZ,WCe=QF,NH=">",BH="<",fL="prototype",dL="script",qZ=WCe("IE_PROTO"),BR=function(){},KZ=function(t){return BH+dL+NH+t+BH+"/"+dL+NH},FH=function(t){t.write(KZ("")),t.close();var e=t.parentWindow.Object;return t=null,e},VCe=function(){var t=GCe("iframe"),e="java"+dL+":",n;return t.style.display="none",zCe.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(KZ("document.F=Object")),n.close(),n.F},AS,Dx=function(){try{AS=new ActiveXObject("htmlfile")}catch{}Dx=typeof document<"u"?document.domain&&AS?FH(AS):VCe():FH(AS);for(var t=LH.length;t--;)delete Dx[fL][LH[t]];return Dx()};$Ce[qZ]=!0;var r3=Object.create||function(e,n){var r;return e!==null?(BR[fL]=jCe(e),r=new BR,BR[fL]=null,r[qZ]=e):r=Dx(),n===void 0?r:HCe.f(r,n)},qCe=ys,KCe=!qCe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),XCe=rc,JCe=Ga,YCe=PT,ZCe=QF,QCe=KCe,kH=ZCe("IE_PROTO"),hL=Object,eTe=hL.prototype,XZ=QCe?hL.getPrototypeOf:function(t){var e=YCe(t);if(XCe(e,kH))return e[kH];var n=e.constructor;return JCe(n)&&e instanceof n?n.prototype:e instanceof hL?eTe:null},tTe=DT,bw=function(t,e,n,r){return r&&r.enumerable?t[e]=n:tTe(t,e,n),t},nTe=ys,rTe=Ga,iTe=Qp,oTe=r3,UH=XZ,aTe=bw,sTe=ic,pL=sTe("iterator"),JZ=!1,qc,FR,kR;[].keys&&(kR=[].keys(),"next"in kR?(FR=UH(UH(kR)),FR!==Object.prototype&&(qc=FR)):JZ=!0);var lTe=!iTe(qc)||nTe(function(){var t={};return qc[pL].call(t)!==t});lTe?qc={}:qc=oTe(qc);rTe(qc[pL])||aTe(qc,pL,function(){return this});var YZ={IteratorPrototype:qc,BUGGY_SAFARI_ITERATORS:JZ},uTe=ic,cTe=uTe("toStringTag"),ZZ={};ZZ[cTe]="z";var i3=String(ZZ)==="[object z]",fTe=i3,dTe=Ga,Lx=VF,hTe=ic,pTe=hTe("toStringTag"),mTe=Object,vTe=Lx(function(){return arguments}())==="Arguments",gTe=function(t,e){try{return t[e]}catch{}},ww=fTe?Lx:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=gTe(e=mTe(t),pTe))=="string"?n:vTe?Lx(e):(r=Lx(e))==="Object"&&dTe(e.callee)?"Arguments":r},yTe=i3,_Te=ww,bTe=yTe?{}.toString:function(){return"[object "+_Te(this)+"]"},wTe=i3,STe=em.f,ETe=DT,xTe=rc,ATe=bTe,CTe=ic,jH=CTe("toStringTag"),BT=function(t,e,n,r){var i=n?t:t&&t.prototype;i&&(xTe(i,jH)||STe(i,jH,{configurable:!0,value:e}),r&&!wTe&&ETe(i,"toString",ATe))},TTe=YZ.IteratorPrototype,MTe=r3,OTe=yw,ITe=BT,RTe=gw,PTe=function(){return this},QZ=function(t,e,n,r){var i=e+" Iterator";return t.prototype=MTe(TTe,{next:OTe(+!r,n)}),ITe(t,i,!1,!0),RTe[i]=PTe,t},DTe=C0,LTe=cf,NTe=lCe,BTe=QZ,FTe=XZ,kTe=BT,HH=bw,UTe=ic,$H=gw,jTe=YZ,HTe=NTe.PROPER,CS=jTe.BUGGY_SAFARI_ITERATORS,UR=UTe("iterator"),zH="keys",TS="values",GH="entries",$Te=function(){return this},eQ=function(t,e,n,r,i,o,a){BTe(n,e,r);var s=function(m){if(m===i&&d)return d;if(!CS&&m&&m in c)return c[m];switch(m){case zH:return function(){return new n(this,m)};case TS:return function(){return new n(this,m)};case GH:return function(){return new n(this,m)}}return function(){return new n(this)}},u=e+" Iterator",l=!1,c=t.prototype,f=c[UR]||c["@@iterator"]||i&&c[i],d=!CS&&f||s(i),h=e==="Array"&&c.entries||f,p,_,y;if(h&&(p=FTe(h.call(new t)),p!==Object.prototype&&p.next&&(kTe(p,u,!0,!0),$H[u]=$Te)),HTe&&i===TS&&f&&f.name!==TS&&(l=!0,d=function(){return LTe(f,this)}),i)if(_={values:s(TS),keys:o?d:s(zH),entries:s(GH)},a)for(y in _)(CS||l||!(y in c))&&HH(c,y,_[y]);else DTe({target:e,proto:!0,forced:CS||l},_);return a&&c[UR]!==d&&HH(c,UR,d,{}),$H[e]=d,_},o3=function(t,e){return{value:t,done:e}},zTe=vw,WH=gw,tQ=LT;em.f;var GTe=eQ,MS=o3,nQ="Array Iterator",WTe=tQ.set,VTe=tQ.getterFor(nQ);GTe(Array,"Array",function(t,e){WTe(this,{type:nQ,target:zTe(t),index:0,kind:e})},function(){var t=VTe(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,MS(void 0,!0);switch(t.kind){case"keys":return MS(n,!1);case"values":return MS(e[n],!1)}return MS([n,e[n]],!1)},"values");WH.Arguments=WH.Array;var qTe=C0,KTe=$o,XTe=zZ,JTe=RangeError,VH=String.fromCharCode,qH=String.fromCodePoint,YTe=KTe([].join),ZTe=!!qH&&qH.length!==1;qTe({target:"String",stat:!0,forced:ZTe},{fromCodePoint:function(e){for(var n=[],r=arguments.length,i=0,o;r>i;){if(o=+arguments[i++],XTe(o,1114111)!==o)throw new JTe(o+" is not a valid code point");n[i]=o<65536?VH(o):VH(((o-=65536)>>10)+55296,o%1024+56320)}return YTe(n,"")}});var KH=za,QTe=_s,eMe=Object.getOwnPropertyDescriptor,tMe=function(t){if(!QTe)return KH[t];var e=eMe(KH,t);return e&&e.value},nMe=ys,rMe=ic,iMe=_s,XH=Nxe,oMe=rMe("iterator"),FT=!nMe(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach(function(i,o){e.delete("b"),r+=o+i}),n.delete("a",2),n.delete("b",void 0),XH&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(XH||!iMe)||!e.sort||t.href!=="https://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[oMe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("https://x",void 0).host!=="x"}),aMe=em,rQ=function(t,e,n){return aMe.f(t,e,n)},sMe=bw,lMe=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:sMe(t,r,e[r],n);return t},uMe=xZ,cMe=TypeError,iQ=function(t,e){if(uMe(e,t))return t;throw new cMe("Incorrect invocation")},fMe=ww,dMe=String,T0=function(t){if(fMe(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return dMe(t)},hMe=ww,JH=YF,pMe=qF,mMe=gw,vMe=ic,gMe=vMe("iterator"),a3=function(t){if(!pMe(t))return JH(t,gMe)||JH(t,"@@iterator")||mMe[hMe(t)]},yMe=cf,_Me=JF,bMe=tm,wMe=OZ,SMe=a3,EMe=TypeError,oQ=function(t,e){var n=arguments.length<2?SMe(t):e;if(_Me(n))return bMe(yMe(n,t));throw new EMe(wMe(t)+" is not iterable")},xMe=TypeError,kT=function(t,e){if(t<e)throw new xMe("Not enough arguments");return t},AMe=$o,aQ=AMe([].slice),YH=aQ,CMe=Math.floor,mL=function(t,e){var n=t.length;if(n<8)for(var r=1,i,o;r<n;){for(o=r,i=t[r];o&&e(t[o-1],i)>0;)t[o]=t[--o];o!==r++&&(t[o]=i)}else for(var a=CMe(n/2),s=mL(YH(t,0,a),e),u=mL(YH(t,a),e),l=s.length,c=u.length,f=0,d=0;f<l||d<c;)t[f+d]=f<l&&d<c?e(s[f],u[d])<=0?s[f++]:u[d++]:f<l?s[f++]:u[d++];return t},TMe=mL,vL=C0,sQ=za,s3=tMe,MMe=A0,OS=cf,ou=$o,O_=_s,lQ=FT,uQ=bw,OMe=rQ,IMe=lMe,RMe=BT,PMe=QZ,l3=LT,cQ=iQ,jR=Ga,DMe=rc,LMe=NT,NMe=ww,BMe=tm,fQ=Qp,na=T0,FMe=r3,ZH=yw,QH=oQ,kMe=a3,IS=o3,Lm=kT,UMe=ic,jMe=TMe,HMe=UMe("iterator"),M0="URLSearchParams",dQ=M0+"Iterator",hQ=l3.set,Ks=l3.getterFor(M0),$Me=l3.getterFor(dQ),e$=s3("fetch"),QA=s3("Request"),I_=s3("Headers"),HR=QA&&QA.prototype,t$=I_&&I_.prototype,zMe=sQ.TypeError,GMe=sQ.encodeURIComponent,WMe=String.fromCharCode,VMe=MMe("String","fromCodePoint"),qMe=parseInt,Nx=ou("".charAt),n$=ou([].join),ud=ou([].push),pQ=ou("".replace),KMe=ou([].shift),r$=ou([].splice),i$=ou("".split),mQ=ou("".slice),XMe=ou(/./.exec),JMe=/\+/g,$R="",YMe=/^[0-9a-f]+$/i,o$=function(t,e){var n=mQ(t,e,e+2);return XMe(YMe,n)?qMe(n,16):NaN},ZMe=function(t){for(var e=0,n=128;n>0&&t&n;n>>=1)e++;return e},QMe=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(t[0]&31)<<6|t[1]&63;break;case 3:e=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:e=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return e>1114111?null:e},a$=function(t){t=pQ(t,JMe," ");for(var e=t.length,n="",r=0;r<e;){var i=Nx(t,r);if(i==="%"){if(Nx(t,r+1)==="%"||r+3>e){n+="%",r++;continue}var o=o$(t,r+1);if(o!==o){n+=i,r++;continue}r+=2;var a=ZMe(o);if(a===0)i=WMe(o);else{if(a===1||a>4){n+=$R,r++;continue}for(var s=[o],u=1;u<a&&(r++,!(r+3>e||Nx(t,r)!=="%"));){var l=o$(t,r+1);if(l!==l){r+=3;break}if(l>191||l<128)break;ud(s,l),r+=2,u++}if(s.length!==a){n+=$R;continue}var c=QMe(s);c===null?n+=$R:i=VMe(c)}}n+=i,r++}return n},eOe=/[!'()~]|%20/g,tOe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nOe=function(t){return tOe[t]},s$=function(t){return pQ(GMe(t),eOe,nOe)},zR=PMe(function(e,n){hQ(this,{type:dQ,target:Ks(e).entries,index:0,kind:n})},M0,function(){var e=$Me(this),n=e.target,r=e.index++;if(!n||r>=n.length)return e.target=null,IS(void 0,!0);var i=n[r];switch(e.kind){case"keys":return IS(i.key,!1);case"values":return IS(i.value,!1)}return IS([i.key,i.value],!1)},!0),vQ=function(t){this.entries=[],this.url=null,t!==void 0&&(fQ(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?Nx(t,0)==="?"?mQ(t,1):t:na(t)))};vQ.prototype={type:M0,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=this.entries,n=kMe(t),r,i,o,a,s,u,l;if(n)for(r=QH(t,n),i=r.next;!(o=OS(i,r)).done;){if(a=QH(BMe(o.value)),s=a.next,(u=OS(s,a)).done||(l=OS(s,a)).done||!OS(s,a).done)throw new zMe("Expected sequence with length 2");ud(e,{key:na(u.value),value:na(l.value)})}else for(var c in t)DMe(t,c)&&ud(e,{key:c,value:na(t[c])})},parseQuery:function(t){if(t)for(var e=this.entries,n=i$(t,"&"),r=0,i,o;r<n.length;)i=n[r++],i.length&&(o=i$(i,"="),ud(e,{key:a$(KMe(o)),value:a$(n$(o,"="))}))},serialize:function(){for(var t=this.entries,e=[],n=0,r;n<t.length;)r=t[n++],ud(e,s$(r.key)+"="+s$(r.value));return n$(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var UT=function(){cQ(this,Ug);var e=arguments.length>0?arguments[0]:void 0,n=hQ(this,new vQ(e));O_||(this.size=n.entries.length)},Ug=UT.prototype;IMe(Ug,{append:function(e,n){var r=Ks(this);Lm(arguments.length,2),ud(r.entries,{key:na(e),value:na(n)}),O_||this.length++,r.updateURL()},delete:function(t){for(var e=Ks(this),n=Lm(arguments.length,1),r=e.entries,i=na(t),o=n<2?void 0:arguments[1],a=o===void 0?o:na(o),s=0;s<r.length;){var u=r[s];if(u.key===i&&(a===void 0||u.value===a)){if(r$(r,s,1),a!==void 0)break}else s++}O_||(this.size=r.length),e.updateURL()},get:function(e){var n=Ks(this).entries;Lm(arguments.length,1);for(var r=na(e),i=0;i<n.length;i++)if(n[i].key===r)return n[i].value;return null},getAll:function(e){var n=Ks(this).entries;Lm(arguments.length,1);for(var r=na(e),i=[],o=0;o<n.length;o++)n[o].key===r&&ud(i,n[o].value);return i},has:function(e){for(var n=Ks(this).entries,r=Lm(arguments.length,1),i=na(e),o=r<2?void 0:arguments[1],a=o===void 0?o:na(o),s=0;s<n.length;){var u=n[s++];if(u.key===i&&(a===void 0||u.value===a))return!0}return!1},set:function(e,n){var r=Ks(this);Lm(arguments.length,1);for(var i=r.entries,o=!1,a=na(e),s=na(n),u=0,l;u<i.length;u++)l=i[u],l.key===a&&(o?r$(i,u--,1):(o=!0,l.value=s));o||ud(i,{key:a,value:s}),O_||(this.size=i.length),r.updateURL()},sort:function(){var e=Ks(this);jMe(e.entries,function(n,r){return n.key>r.key?1:-1}),e.updateURL()},forEach:function(e){for(var n=Ks(this).entries,r=LMe(e,arguments.length>1?arguments[1]:void 0),i=0,o;i<n.length;)o=n[i++],r(o.value,o.key,this)},keys:function(){return new zR(this,"keys")},values:function(){return new zR(this,"values")},entries:function(){return new zR(this,"entries")}},{enumerable:!0});uQ(Ug,HMe,Ug.entries,{});uQ(Ug,"toString",function(){return Ks(this).serialize()},{enumerable:!0});O_&&OMe(Ug,"size",{get:function(){return Ks(this).entries.length},configurable:!0,enumerable:!0});RMe(UT,M0);vL({global:!0,forced:!lQ},{URLSearchParams:UT});if(!lQ&&jR(I_)){var rOe=ou(t$.has),iOe=ou(t$.set),l$=function(t){if(fQ(t)){var e=t.body,n;if(NMe(e)===M0)return n=t.headers?new I_(t.headers):new I_,rOe(n,"content-type")||iOe(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),FMe(t,{body:ZH(0,na(e)),headers:ZH(0,n)})}return t};if(jR(e$)&&vL({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return e$(e,arguments.length>1?l$(arguments[1]):{})}}),jR(QA)){var GR=function(e){return cQ(this,HR),new QA(e,arguments.length>1?l$(arguments[1]):{})};HR.constructor=GR,GR.prototype=HR,vL({global:!0,dontCallGetSet:!0,forced:!0},{Request:GR})}}var oOe={URLSearchParams:UT,getState:Ks},u3=$o,aOe=n3,sOe=T0,lOe=KF,uOe=u3("".charAt),u$=u3("".charCodeAt),cOe=u3("".slice),c$=function(t){return function(e,n){var r=sOe(lOe(e)),i=aOe(n),o=r.length,a,s;return i<0||i>=o?t?"":void 0:(a=u$(r,i),a<55296||a>56319||i+1===o||(s=u$(r,i+1))<56320||s>57343?t?uOe(r,i):a:t?cOe(r,i,i+2):(a-55296<<10)+(s-56320)+65536)}},gQ={codeAt:c$(!1),charAt:c$(!0)},fOe=gQ.charAt,dOe=T0,yQ=LT,hOe=eQ,f$=o3,_Q="String Iterator",pOe=yQ.set,mOe=yQ.getterFor(_Q);hOe(String,"String",function(t){pOe(this,{type:_Q,string:dOe(t),index:0})},function(){var e=mOe(this),n=e.string,r=e.index,i;return r>=n.length?f$(void 0,!0):(i=fOe(n,r),e.index+=i.length,f$(i,!1))});var bQ={};bQ.f=Object.getOwnPropertySymbols;var d$=_s,vOe=$o,gOe=cf,yOe=ys,WR=VZ,_Oe=bQ,bOe=t3,wOe=PT,SOe=bZ,Nm=Object.assign,h$=Object.defineProperty,EOe=vOe([].concat),xOe=!Nm||yOe(function(){if(d$&&Nm({b:1},Nm(h$({},"a",{enumerable:!0,get:function(){h$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),Nm({},t)[n]!==7||WR(Nm({},e)).join("")!==r})?function(e,n){for(var r=wOe(e),i=arguments.length,o=1,a=_Oe.f,s=bOe.f;i>o;)for(var u=SOe(arguments[o++]),l=a?EOe(WR(u),a(u)):WR(u),c=l.length,f=0,d;c>f;)d=l[f++],(!d$||gOe(s,u,d))&&(r[d]=u[d]);return r}:Nm,AOe=cf,p$=tm,COe=YF,TOe=function(t,e,n){var r,i;p$(t);try{if(r=COe(t,"return"),!r){if(e==="throw")throw n;return n}r=AOe(r,t)}catch(o){i=!0,r=o}if(e==="throw")throw n;if(i)throw r;return p$(r),n},MOe=tm,OOe=TOe,IOe=function(t,e,n,r){try{return r?e(MOe(n)[0],n[1]):e(n)}catch(i){OOe(t,"throw",i)}},ROe=ic,POe=gw,DOe=ROe("iterator"),LOe=Array.prototype,NOe=function(t){return t!==void 0&&(POe.Array===t||LOe[DOe]===t)},BOe=$o,FOe=Ga,gL=ZF,kOe=BOe(Function.toString);FOe(gL.inspectSource)||(gL.inspectSource=function(t){return kOe(t)});var UOe=gL.inspectSource,jOe=$o,HOe=ys,wQ=Ga,$Oe=ww,zOe=A0,GOe=UOe,SQ=function(){},EQ=zOe("Reflect","construct"),c3=/^\s*(?:class|function)\b/,WOe=jOe(c3.exec),VOe=!c3.test(SQ),vy=function(e){if(!wQ(e))return!1;try{return EQ(SQ,[],e),!0}catch{return!1}},xQ=function(e){if(!wQ(e))return!1;switch($Oe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return VOe||!!WOe(c3,GOe(e))}catch{return!0}};xQ.sham=!0;var qOe=!EQ||HOe(function(){var t;return vy(vy.call)||!vy(Object)||!vy(function(){t=!0})||t})?xQ:vy,KOe=_s,XOe=em,JOe=yw,YOe=function(t,e,n){KOe?XOe.f(t,e,JOe(0,n)):t[e]=n},ZOe=NT,QOe=cf,eIe=PT,tIe=IOe,nIe=NOe,rIe=qOe,iIe=GZ,m$=YOe,oIe=oQ,aIe=a3,v$=Array,sIe=function(e){var n=eIe(e),r=rIe(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=ZOe(o,i>2?arguments[2]:void 0));var s=aIe(n),u=0,l,c,f,d,h,p;if(s&&!(this===v$&&nIe(s)))for(c=r?new this:[],d=oIe(n,s),h=d.next;!(f=QOe(h,d)).done;u++)p=a?tIe(d,o,[f.value,u],!0):f.value,m$(c,u,p);else for(l=iIe(n),c=r?new this(l):v$(l);l>u;u++)p=a?o(n[u],u):n[u],m$(c,u,p);return c.length=u,c},nm=$o,VR=2147483647,R_=36,AQ=1,yL=26,lIe=38,uIe=700,cIe=72,fIe=128,dIe="-",hIe=/[^\0-\u007E]/,CQ=/[.\u3002\uFF0E\uFF61]/g,g$="Overflow: input needs wider integers to process",qR=R_-AQ,y$=RangeError,pIe=nm(CQ.exec),Wv=Math.floor,KR=String.fromCharCode,_$=nm("".charCodeAt),TQ=nm([].join),cd=nm([].push),mIe=nm("".replace),vIe=nm("".split),gIe=nm("".toLowerCase),yIe=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=_$(t,n++);if(i>=55296&&i<=56319&&n<r){var o=_$(t,n++);(o&64512)===56320?cd(e,((i&1023)<<10)+(o&1023)+65536):(cd(e,i),n--)}else cd(e,i)}return e},b$=function(t){return t+22+75*(t<26)},_Ie=function(t,e,n){var r=0;for(t=n?Wv(t/uIe):t>>1,t+=Wv(t/e);t>qR*yL>>1;)t=Wv(t/qR),r+=R_;return Wv(r+(qR+1)*t/(t+lIe))},bIe=function(t){var e=[];t=yIe(t);var n=t.length,r=fIe,i=0,o=cIe,a,s;for(a=0;a<t.length;a++)s=t[a],s<128&&cd(e,KR(s));var u=e.length,l=u;for(u&&cd(e,dIe);l<n;){var c=VR;for(a=0;a<t.length;a++)s=t[a],s>=r&&s<c&&(c=s);var f=l+1;if(c-r>Wv((VR-i)/f))throw new y$(g$);for(i+=(c-r)*f,r=c,a=0;a<t.length;a++){if(s=t[a],s<r&&++i>VR)throw new y$(g$);if(s===r){for(var d=i,h=R_;;){var p=h<=o?AQ:h>=o+yL?yL:h-o;if(d<p)break;var _=d-p,y=R_-p;cd(e,KR(b$(p+_%y))),d=Wv(_/y),h+=R_}cd(e,KR(b$(d))),o=_Ie(i,f,l===u),i=0,l++}}i++,r++}return TQ(e,"")},wIe=function(t){var e=[],n=vIe(mIe(gIe(t),CQ,"."),"."),r,i;for(r=0;r<n.length;r++)i=n[r],cd(e,pIe(hIe,i)?"xn--"+bIe(i):i);return TQ(e,".")},SIe=C0,f3=_s,EIe=FT,d3=za,w$=NT,gl=$o,eC=bw,Ls=rQ,xIe=iQ,_L=rc,h3=xOe,Bm=sIe,Tl=aQ,AIe=gQ.codeAt,CIe=wIe,Mc=T0,TIe=BT,MIe=kT,MQ=oOe,OQ=LT,OIe=OQ.set,tC=OQ.getterFor("URL"),IIe=MQ.URLSearchParams,RIe=MQ.getState,gy=d3.URL,bL=d3.TypeError,nC=d3.parseInt,PIe=Math.floor,S$=Math.pow,Zs=gl("".charAt),Yl=gl(/./.exec),i_=gl([].join),DIe=gl(1.1.toString),LIe=gl([].pop),bv=gl([].push),XR=gl("".replace),NIe=gl([].shift),BIe=gl("".split),P_=gl("".slice),rC=gl("".toLowerCase),FIe=gl([].unshift),kIe="Invalid authority",JR="Invalid scheme",fh="Invalid host",E$="Invalid port",IQ=/[a-z]/i,UIe=/[\d+-.a-z]/i,wL=/\d/,jIe=/^0x/i,HIe=/^[0-7]+$/,$Ie=/^\d+$/,RQ=/^[\da-f]+$/i,zIe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,GIe=/[\0\t\n\r #/:<>?@[\\\]^|]/,WIe=/^[\u0000-\u0020]+/,VIe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,qIe=/[\t\n\r]/g,Ns,KIe=function(t){var e=BIe(t,"."),n,r,i,o,a,s,u;if(e.length&&e[e.length-1]===""&&e.length--,n=e.length,n>4)return t;for(r=[],i=0;i<n;i++){if(o=e[i],o==="")return t;if(a=10,o.length>1&&Zs(o,0)==="0"&&(a=Yl(jIe,o)?16:8,o=P_(o,a===8?1:2)),o==="")s=0;else{if(!Yl(a===10?$Ie:a===8?HIe:RQ,o))return t;s=nC(o,a)}bv(r,s)}for(i=0;i<n;i++)if(s=r[i],i===n-1){if(s>=S$(256,5-n))return null}else if(s>255)return null;for(u=LIe(r),i=0;i<r.length;i++)u+=r[i]*S$(256,3-i);return u},XIe=function(t){var e=[0,0,0,0,0,0,0,0],n=0,r=null,i=0,o,a,s,u,l,c,f,d=function(){return Zs(t,i)};if(d()===":"){if(Zs(t,1)!==":")return;i+=2,n++,r=n}for(;d();){if(n===8)return;if(d()===":"){if(r!==null)return;i++,n++,r=n;continue}for(o=a=0;a<4&&Yl(RQ,d());)o=o*16+nC(d(),16),i++,a++;if(d()==="."){if(a===0||(i-=a,n>6))return;for(s=0;d();){if(u=null,s>0)if(d()==="."&&s<4)i++;else return;if(!Yl(wL,d()))return;for(;Yl(wL,d());){if(l=nC(d(),10),u===null)u=l;else{if(u===0)return;u=u*10+l}if(u>255)return;i++}e[n]=e[n]*256+u,s++,(s===2||s===4)&&n++}if(s!==4)return;break}else if(d()===":"){if(i++,!d())return}else if(d())return;e[n++]=o}if(r!==null)for(c=n-r,n=7;n!==0&&c>0;)f=e[n],e[n--]=e[r+c-1],e[r+--c]=f;else if(n!==8)return;return e},JIe=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)t[o]!==0?(i>n&&(e=r,n=i),r=null,i=0):(r===null&&(r=o),++i);return i>n?r:e},yy=function(t){var e,n,r,i;if(typeof t=="number"){for(e=[],n=0;n<4;n++)FIe(e,t%256),t=PIe(t/256);return i_(e,".")}if(typeof t=="object"){for(e="",r=JIe(t),n=0;n<8;n++)i&&t[n]===0||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=DIe(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},Bx={},PQ=h3({},Bx,{" ":1,'"':1,"<":1,">":1,"`":1}),DQ=h3({},PQ,{"#":1,"?":1,"{":1,"}":1}),YR=h3({},DQ,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Cf=function(t,e){var n=AIe(t,0);return n>32&&n<127&&!_L(e,t)?t:encodeURIComponent(t)},RS={ftp:21,file:null,http:80,https:443,ws:80,wss:443},o_=function(t,e){var n;return t.length===2&&Yl(IQ,Zs(t,0))&&((n=Zs(t,1))===":"||!e&&n==="|")},x$=function(t){var e;return t.length>1&&o_(P_(t,0,2))&&(t.length===2||(e=Zs(t,2))==="/"||e==="\\"||e==="?"||e==="#")},YIe=function(t){return t==="."||rC(t)==="%2e"},ZIe=function(t){return t=rC(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},ZR={},A$={},QR={},C$={},T$={},eP={},M$={},O$={},PS={},DS={},tP={},nP={},rP={},iP={},I$={},oP={},Fm={},Eu={},R$={},dh={},mc={},p3=function(t,e,n){var r=Mc(t),i,o,a;if(e){if(o=this.parse(r),o)throw new bL(o);this.searchParams=null}else{if(n!==void 0&&(i=new p3(n,!0)),o=this.parse(r,null,i),o)throw new bL(o);a=RIe(new IIe),a.bindURL(this),this.searchParams=a}};p3.prototype={type:"URL",parse:function(t,e,n){var r=this,i=e||ZR,o=0,a="",s=!1,u=!1,l=!1,c,f,d,h;for(t=Mc(t),e||(r.scheme="",r.username="",r.password="",r.host=null,r.port=null,r.path=[],r.query=null,r.fragment=null,r.cannotBeABaseURL=!1,t=XR(t,WIe,""),t=XR(t,VIe,"$1")),t=XR(t,qIe,""),c=Bm(t);o<=c.length;){switch(f=c[o],i){case ZR:if(f&&Yl(IQ,f))a+=rC(f),i=A$;else{if(e)return JR;i=QR;continue}break;case A$:if(f&&(Yl(UIe,f)||f==="+"||f==="-"||f==="."))a+=rC(f);else if(f===":"){if(e&&(r.isSpecial()!==_L(RS,a)||a==="file"&&(r.includesCredentials()||r.port!==null)||r.scheme==="file"&&!r.host))return;if(r.scheme=a,e){r.isSpecial()&&RS[r.scheme]===r.port&&(r.port=null);return}a="",r.scheme==="file"?i=iP:r.isSpecial()&&n&&n.scheme===r.scheme?i=C$:r.isSpecial()?i=O$:c[o+1]==="/"?(i=T$,o++):(r.cannotBeABaseURL=!0,bv(r.path,""),i=R$)}else{if(e)return JR;a="",i=QR,o=0;continue}break;case QR:if(!n||n.cannotBeABaseURL&&f!=="#")return JR;if(n.cannotBeABaseURL&&f==="#"){r.scheme=n.scheme,r.path=Tl(n.path),r.query=n.query,r.fragment="",r.cannotBeABaseURL=!0,i=mc;break}i=n.scheme==="file"?iP:eP;continue;case C$:if(f==="/"&&c[o+1]==="/")i=PS,o++;else{i=eP;continue}break;case T$:if(f==="/"){i=DS;break}else{i=Eu;continue}case eP:if(r.scheme=n.scheme,f===Ns)r.username=n.username,r.password=n.password,r.host=n.host,r.port=n.port,r.path=Tl(n.path),r.query=n.query;else if(f==="/"||f==="\\"&&r.isSpecial())i=M$;else if(f==="?")r.username=n.username,r.password=n.password,r.host=n.host,r.port=n.port,r.path=Tl(n.path),r.query="",i=dh;else if(f==="#")r.username=n.username,r.password=n.password,r.host=n.host,r.port=n.port,r.path=Tl(n.path),r.query=n.query,r.fragment="",i=mc;else{r.username=n.username,r.password=n.password,r.host=n.host,r.port=n.port,r.path=Tl(n.path),r.path.length--,i=Eu;continue}break;case M$:if(r.isSpecial()&&(f==="/"||f==="\\"))i=PS;else if(f==="/")i=DS;else{r.username=n.username,r.password=n.password,r.host=n.host,r.port=n.port,i=Eu;continue}break;case O$:if(i=PS,f!=="/"||Zs(a,o+1)!=="/")continue;o++;break;case PS:if(f!=="/"&&f!=="\\"){i=DS;continue}break;case DS:if(f==="@"){s&&(a="%40"+a),s=!0,d=Bm(a);for(var p=0;p<d.length;p++){var _=d[p];if(_===":"&&!l){l=!0;continue}var y=Cf(_,YR);l?r.password+=y:r.username+=y}a=""}else if(f===Ns||f==="/"||f==="?"||f==="#"||f==="\\"&&r.isSpecial()){if(s&&a==="")return kIe;o-=Bm(a).length+1,a="",i=tP}else a+=f;break;case tP:case nP:if(e&&r.scheme==="file"){i=oP;continue}else if(f===":"&&!u){if(a==="")return fh;if(h=r.parseHost(a),h)return h;if(a="",i=rP,e===nP)return}else if(f===Ns||f==="/"||f==="?"||f==="#"||f==="\\"&&r.isSpecial()){if(r.isSpecial()&&a==="")return fh;if(e&&a===""&&(r.includesCredentials()||r.port!==null))return;if(h=r.parseHost(a),h)return h;if(a="",i=Fm,e)return;continue}else f==="["?u=!0:f==="]"&&(u=!1),a+=f;break;case rP:if(Yl(wL,f))a+=f;else if(f===Ns||f==="/"||f==="?"||f==="#"||f==="\\"&&r.isSpecial()||e){if(a!==""){var m=nC(a,10);if(m>65535)return E$;r.port=r.isSpecial()&&m===RS[r.scheme]?null:m,a=""}if(e)return;i=Fm;continue}else return E$;break;case iP:if(r.scheme="file",f==="/"||f==="\\")i=I$;else if(n&&n.scheme==="file")switch(f){case Ns:r.host=n.host,r.path=Tl(n.path),r.query=n.query;break;case"?":r.host=n.host,r.path=Tl(n.path),r.query="",i=dh;break;case"#":r.host=n.host,r.path=Tl(n.path),r.query=n.query,r.fragment="",i=mc;break;default:x$(i_(Tl(c,o),""))||(r.host=n.host,r.path=Tl(n.path),r.shortenPath()),i=Eu;continue}else{i=Eu;continue}break;case I$:if(f==="/"||f==="\\"){i=oP;break}n&&n.scheme==="file"&&!x$(i_(Tl(c,o),""))&&(o_(n.path[0],!0)?bv(r.path,n.path[0]):r.host=n.host),i=Eu;continue;case oP:if(f===Ns||f==="/"||f==="\\"||f==="?"||f==="#"){if(!e&&o_(a))i=Eu;else if(a===""){if(r.host="",e)return;i=Fm}else{if(h=r.parseHost(a),h)return h;if(r.host==="localhost"&&(r.host=""),e)return;a="",i=Fm}continue}else a+=f;break;case Fm:if(r.isSpecial()){if(i=Eu,f!=="/"&&f!=="\\")continue}else if(!e&&f==="?")r.query="",i=dh;else if(!e&&f==="#")r.fragment="",i=mc;else if(f!==Ns&&(i=Eu,f!=="/"))continue;break;case Eu:if(f===Ns||f==="/"||f==="\\"&&r.isSpecial()||!e&&(f==="?"||f==="#")){if(ZIe(a)?(r.shortenPath(),f!=="/"&&!(f==="\\"&&r.isSpecial())&&bv(r.path,"")):YIe(a)?f!=="/"&&!(f==="\\"&&r.isSpecial())&&bv(r.path,""):(r.scheme==="file"&&!r.path.length&&o_(a)&&(r.host&&(r.host=""),a=Zs(a,0)+":"),bv(r.path,a)),a="",r.scheme==="file"&&(f===Ns||f==="?"||f==="#"))for(;r.path.length>1&&r.path[0]==="";)NIe(r.path);f==="?"?(r.query="",i=dh):f==="#"&&(r.fragment="",i=mc)}else a+=Cf(f,DQ);break;case R$:f==="?"?(r.query="",i=dh):f==="#"?(r.fragment="",i=mc):f!==Ns&&(r.path[0]+=Cf(f,Bx));break;case dh:!e&&f==="#"?(r.fragment="",i=mc):f!==Ns&&(f==="'"&&r.isSpecial()?r.query+="%27":f==="#"?r.query+="%23":r.query+=Cf(f,Bx));break;case mc:f!==Ns&&(r.fragment+=Cf(f,PQ));break}o++}},parseHost:function(t){var e,n,r;if(Zs(t,0)==="["){if(Zs(t,t.length-1)!=="]"||(e=XIe(P_(t,1,-1)),!e))return fh;this.host=e}else if(this.isSpecial()){if(t=CIe(t),Yl(zIe,t)||(e=KIe(t),e===null))return fh;this.host=e}else{if(Yl(GIe,t))return fh;for(e="",n=Bm(t),r=0;r<n.length;r++)e+=Cf(n[r],Bx);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return _L(RS,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!o_(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return i!==null?(l+="//",t.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=yy(i),o!==null&&(l+=":"+o)):e==="file"&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+i_(a,"/"):"",s!==null&&(l+="?"+s),u!==null&&(l+="#"+u),l},setHref:function(t){var e=this.parse(t);if(e)throw new bL(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new jg(t.path[0]).origin}catch{return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+yy(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Mc(t)+":",ZR)},getUsername:function(){return this.username},setUsername:function(t){var e=Bm(Mc(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=Cf(e[n],YR)}},getPassword:function(){return this.password},setPassword:function(t){var e=Bm(Mc(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=Cf(e[n],YR)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?yy(t):yy(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,tP)},getHostname:function(){var t=this.host;return t===null?"":yy(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,nP)},getPort:function(){var t=this.port;return t===null?"":Mc(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=Mc(t),t===""?this.port=null:this.parse(t,rP))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+i_(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Fm))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=Mc(t),t===""?this.query=null:(Zs(t,0)==="?"&&(t=P_(t,1)),this.query="",this.parse(t,dh)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=Mc(t),t===""){this.fragment=null;return}Zs(t,0)==="#"&&(t=P_(t,1)),this.fragment="",this.parse(t,mc)},update:function(){this.query=this.searchParams.serialize()||null}};var jg=function(e){var n=xIe(this,ea),r=MIe(arguments.length,1)>1?arguments[1]:void 0,i=OIe(n,new p3(e,!1,r));f3||(n.href=i.serialize(),n.origin=i.getOrigin(),n.protocol=i.getProtocol(),n.username=i.getUsername(),n.password=i.getPassword(),n.host=i.getHost(),n.hostname=i.getHostname(),n.port=i.getPort(),n.pathname=i.getPathname(),n.search=i.getSearch(),n.searchParams=i.getSearchParams(),n.hash=i.getHash())},ea=jg.prototype,Bs=function(t,e){return{get:function(){return tC(this)[t]()},set:e&&function(n){return tC(this)[e](n)},configurable:!0,enumerable:!0}};f3&&(Ls(ea,"href",Bs("serialize","setHref")),Ls(ea,"origin",Bs("getOrigin")),Ls(ea,"protocol",Bs("getProtocol","setProtocol")),Ls(ea,"username",Bs("getUsername","setUsername")),Ls(ea,"password",Bs("getPassword","setPassword")),Ls(ea,"host",Bs("getHost","setHost")),Ls(ea,"hostname",Bs("getHostname","setHostname")),Ls(ea,"port",Bs("getPort","setPort")),Ls(ea,"pathname",Bs("getPathname","setPathname")),Ls(ea,"search",Bs("getSearch","setSearch")),Ls(ea,"searchParams",Bs("getSearchParams")),Ls(ea,"hash",Bs("getHash","setHash")));eC(ea,"toJSON",function(){return tC(this).serialize()},{enumerable:!0});eC(ea,"toString",function(){return tC(this).serialize()},{enumerable:!0});if(gy){var P$=gy.createObjectURL,D$=gy.revokeObjectURL;P$&&eC(jg,"createObjectURL",w$(P$,gy)),D$&&eC(jg,"revokeObjectURL",w$(D$,gy))}TIe(jg,"URL");SIe({global:!0,forced:!EIe,sham:!f3},{URL:jg});var QIe=C0,eRe=A0,LQ=ys,tRe=kT,L$=T0,nRe=FT,m3=eRe("URL"),rRe=nRe&&LQ(function(){m3.canParse()}),iRe=LQ(function(){return m3.canParse.length!==1});QIe({target:"URL",stat:!0,forced:!rRe||iRe},{canParse:function(e){var n=tRe(arguments.length,1),r=L$(e),i=n<2||arguments[1]===void 0?void 0:L$(arguments[1]);try{return!!new m3(r,i)}catch{return!1}}});var oRe=C0,aRe=A0,sRe=kT,N$=T0,lRe=FT,uRe=aRe("URL");oRe({target:"URL",stat:!0,forced:!lRe},{parse:function(e){var n=sRe(arguments.length,1),r=N$(e),i=n<2||arguments[1]===void 0?void 0:N$(arguments[1]);try{return new uRe(r,i)}catch{return null}}});var cRe=XF,fRe=cRe.URL,dRe=fRe,hRe=dRe,pRe=hRe,mRe=pRe,vRe=mRe,gRe=vRe,yRe=kEe(gRe),_Re=function(t){mw(e,t);function e(n){var r=t.call(this,n.message)||this;return r.name="PostgrestError",r.details=n.details,r.hint=n.hint,r.code=n.code,r}return e}(Error),bRe=function(){function t(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}return t.prototype.throwOnError=function(){return this.shouldThrowOnError=!0,this},t.prototype.setHeader=function(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this},t.prototype.then=function(e,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");var i=this.fetch,o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(a){return Dd(r,void 0,void 0,function(){var s,u,l,c,f,p,d,h,p,_,y,m,b,w;return Ld(this,function(S){switch(S.label){case 0:return s=null,u=null,l=null,c=a.status,f=a.statusText,a.ok?this.method==="HEAD"?[3,2]:[4,a.text()]:[3,3];case 1:p=S.sent(),p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=p:u=JSON.parse(p)),S.label=2;case 2:return d=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),h=(b=a.headers.get("content-range"))===null||b===void 0?void 0:b.split("/"),d&&h&&h.length>1&&(l=parseInt(h[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,l=null,c=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null),[3,5];case 3:return[4,a.text()];case 4:p=S.sent();try{s=JSON.parse(p),Array.isArray(s)&&a.status===404&&(u=[],s=null,c=200,f="OK")}catch{a.status===404&&p===""?(c=204,f="No Content"):s={message:p}}if(s&&this.isMaybeSingle&&(!((w=s==null?void 0:s.details)===null||w===void 0)&&w.includes("0 rows"))&&(s=null,c=200,f="OK"),s&&this.shouldThrowOnError)throw new _Re(s);S.label=5;case 5:return _={error:s,data:u,count:l,status:c,statusText:f},[2,_]}})})});return this.shouldThrowOnError||(o=o.catch(function(a){var s,u,l;return{error:{message:"".concat((s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError",": ").concat(a==null?void 0:a.message),details:"".concat((u=a==null?void 0:a.stack)!==null&&u!==void 0?u:""),hint:"",code:"".concat((l=a==null?void 0:a.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),o.then(e,n)},t.prototype.returns=function(){return this},t.prototype.overrideTypes=function(){return this},t}(),wRe=function(t){mw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.select=function(n){var r=!1,i=(n??"*").split("").map(function(o){return/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)}).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this},e.prototype.order=function(n,r){var i=r===void 0?{}:r,o=i.ascending,a=o===void 0?!0:o,s=i.nullsFirst,u=i.foreignTable,l=i.referencedTable,c=l===void 0?u:l,f=c?"".concat(c,".order"):"order",d=this.url.searchParams.get(f);return this.url.searchParams.set(f,"".concat(d?"".concat(d,","):"").concat(n,".").concat(a?"asc":"desc").concat(s===void 0?"":s?".nullsfirst":".nullslast")),this},e.prototype.limit=function(n,r){var i=r===void 0?{}:r,o=i.foreignTable,a=i.referencedTable,s=a===void 0?o:a,u=typeof s>"u"?"limit":"".concat(s,".limit");return this.url.searchParams.set(u,"".concat(n)),this},e.prototype.range=function(n,r,i){var o=i===void 0?{}:i,a=o.foreignTable,s=o.referencedTable,u=s===void 0?a:s,l=typeof u>"u"?"offset":"".concat(u,".offset"),c=typeof u>"u"?"limit":"".concat(u,".limit");return this.url.searchParams.set(l,"".concat(n)),this.url.searchParams.set(c,"".concat(r-n+1)),this},e.prototype.abortSignal=function(n){return this.signal=n,this},e.prototype.single=function(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this},e.prototype.maybeSingle=function(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this},e.prototype.csv=function(){return this.headers.set("Accept","text/csv"),this},e.prototype.geojson=function(){return this.headers.set("Accept","application/geo+json"),this},e.prototype.explain=function(n){var r,i=n===void 0?{}:n,o=i.analyze,a=o===void 0?!1:o,s=i.verbose,u=s===void 0?!1:s,l=i.settings,c=l===void 0?!1:l,f=i.buffers,d=f===void 0?!1:f,h=i.wal,p=h===void 0?!1:h,_=i.format,y=_===void 0?"text":_,m=[a?"analyze":null,u?"verbose":null,c?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(r=this.headers.get("Accept"))!==null&&r!==void 0?r:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(y,'; for="').concat(b,'"; options=').concat(m,";")),y==="json"?this:this},e.prototype.rollback=function(){return this.headers.append("Prefer","tx=rollback"),this},e.prototype.returns=function(){return this},e.prototype.maxAffected=function(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(n)),this},e}(bRe),_y=function(t){mw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eq=function(n,r){return this.url.searchParams.append(n,"eq.".concat(r)),this},e.prototype.neq=function(n,r){return this.url.searchParams.append(n,"neq.".concat(r)),this},e.prototype.gt=function(n,r){return this.url.searchParams.append(n,"gt.".concat(r)),this},e.prototype.gte=function(n,r){return this.url.searchParams.append(n,"gte.".concat(r)),this},e.prototype.lt=function(n,r){return this.url.searchParams.append(n,"lt.".concat(r)),this},e.prototype.lte=function(n,r){return this.url.searchParams.append(n,"lte.".concat(r)),this},e.prototype.like=function(n,r){return this.url.searchParams.append(n,"like.".concat(r)),this},e.prototype.likeAllOf=function(n,r){return this.url.searchParams.append(n,"like(all).{".concat(r.join(","),"}")),this},e.prototype.likeAnyOf=function(n,r){return this.url.searchParams.append(n,"like(any).{".concat(r.join(","),"}")),this},e.prototype.ilike=function(n,r){return this.url.searchParams.append(n,"ilike.".concat(r)),this},e.prototype.ilikeAllOf=function(n,r){return this.url.searchParams.append(n,"ilike(all).{".concat(r.join(","),"}")),this},e.prototype.ilikeAnyOf=function(n,r){return this.url.searchParams.append(n,"ilike(any).{".concat(r.join(","),"}")),this},e.prototype.is=function(n,r){return this.url.searchParams.append(n,"is.".concat(r)),this},e.prototype.in=function(n,r){var i=Array.from(new Set(r)).map(function(o){return typeof o=="string"&&new RegExp("[,()]").test(o)?'"'.concat(o,'"'):"".concat(o)}).join(",");return this.url.searchParams.append(n,"in.(".concat(i,")")),this},e.prototype.contains=function(n,r){return typeof r=="string"?this.url.searchParams.append(n,"cs.".concat(r)):Array.isArray(r)?this.url.searchParams.append(n,"cs.{".concat(r.join(","),"}")):this.url.searchParams.append(n,"cs.".concat(JSON.stringify(r))),this},e.prototype.containedBy=function(n,r){return typeof r=="string"?this.url.searchParams.append(n,"cd.".concat(r)):Array.isArray(r)?this.url.searchParams.append(n,"cd.{".concat(r.join(","),"}")):this.url.searchParams.append(n,"cd.".concat(JSON.stringify(r))),this},e.prototype.rangeGt=function(n,r){return this.url.searchParams.append(n,"sr.".concat(r)),this},e.prototype.rangeGte=function(n,r){return this.url.searchParams.append(n,"nxl.".concat(r)),this},e.prototype.rangeLt=function(n,r){return this.url.searchParams.append(n,"sl.".concat(r)),this},e.prototype.rangeLte=function(n,r){return this.url.searchParams.append(n,"nxr.".concat(r)),this},e.prototype.rangeAdjacent=function(n,r){return this.url.searchParams.append(n,"adj.".concat(r)),this},e.prototype.overlaps=function(n,r){return typeof r=="string"?this.url.searchParams.append(n,"ov.".concat(r)):this.url.searchParams.append(n,"ov.{".concat(r.join(","),"}")),this},e.prototype.textSearch=function(n,r,i){var o=i===void 0?{}:i,a=o.config,s=o.type,u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");var l=a===void 0?"":"(".concat(a,")");return this.url.searchParams.append(n,"".concat(u,"fts").concat(l,".").concat(r)),this},e.prototype.match=function(n){var r=this;return Object.entries(n).forEach(function(i){var o=i[0],a=i[1];r.url.searchParams.append(o,"eq.".concat(a))}),this},e.prototype.not=function(n,r,i){return this.url.searchParams.append(n,"not.".concat(r,".").concat(i)),this},e.prototype.or=function(n,r){var i=r===void 0?{}:r,o=i.foreignTable,a=i.referencedTable,s=a===void 0?o:a,u=s?"".concat(s,".or"):"or";return this.url.searchParams.append(u,"(".concat(n,")")),this},e.prototype.filter=function(n,r,i){return this.url.searchParams.append(n,"".concat(r,".").concat(i)),this},e}(wRe),SRe=function(){function t(e,n){var r=n.headers,i=r===void 0?{}:r,o=n.schema,a=n.fetch;this.url=e,this.headers=new Headers(i),this.schema=o,this.fetch=a}return t.prototype.select=function(e,n){var r=n===void 0?{}:n,i=r.head,o=i===void 0?!1:i,a=r.count,s=o?"HEAD":"GET",u=!1,l=(e??"*").split("").map(function(c){return/\s/.test(c)&&!u?"":(c==='"'&&(u=!u),c)}).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer","count=".concat(a)),new _y({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})},t.prototype.insert=function(e,n){var r,i=n===void 0?{}:n,o=i.count,a=i.defaultToNull,s=a===void 0?!0:a,u="POST";if(o&&this.headers.append("Prefer","count=".concat(o)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var l=e.reduce(function(f,d){return f.concat(Object.keys(d))},[]);if(l.length>0){var c=Array.from(new Set(l)).map(function(f){return'"'.concat(f,'"')});this.url.searchParams.set("columns",c.join(","))}}return new _y({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},t.prototype.upsert=function(e,n){var r,i=n===void 0?{}:n,o=i.onConflict,a=i.ignoreDuplicates,s=a===void 0?!1:a,u=i.count,l=i.defaultToNull,c=l===void 0?!0:l,f="POST";if(this.headers.append("Prefer","resolution=".concat(s?"ignore":"merge","-duplicates")),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer","count=".concat(u)),c||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var d=e.reduce(function(p,_){return p.concat(Object.keys(_))},[]);if(d.length>0){var h=Array.from(new Set(d)).map(function(p){return'"'.concat(p,'"')});this.url.searchParams.set("columns",h.join(","))}}return new _y({method:f,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},t.prototype.update=function(e,n){var r,i=n===void 0?{}:n,o=i.count,a="PATCH";return o&&this.headers.append("Prefer","count=".concat(o)),new _y({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},t.prototype.delete=function(e){var n,r=e===void 0?{}:e,i=r.count,o="DELETE";return i&&this.headers.append("Prefer","count=".concat(i)),new _y({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t}(),ERe=function(t){mw(e,t);function e(n,r){var i=r.headers,o=i===void 0?{}:i,a=r.fetch;return t.call(this,n,{headers:o,schema:void 0,fetch:a})||this}return e}(SRe),xRe=function(){function t(e,n){var r=n===void 0?{}:n,i=r.headers,o=i===void 0?{}:i,a=r.fetch;this.url=e,this.headers=new Headers(o),this.fetch=a}return t.prototype.from=function(e){var n=new yRe("".concat(this.url,"/").concat(e));return new ERe(n,{headers:this.headers,fetch:this.fetch})},t}();function ARe(t,e){var n=e==null?void 0:e.envId,r=(e==null?void 0:e.mysqlBaseUrl)||CRe(t,e==null?void 0:e.envId).mysql,i=e==null?void 0:e.fetch;return function(o){var a=this;return new xRe(r,{fetch:i||function(s,u){return Dd(a,void 0,void 0,function(){var l,c,f;return Ld(this,function(d){return l=(o==null?void 0:o.instance)||"default",c=(o==null?void 0:o.database)||n,f={},(u==null?void 0:u.headers)instanceof Headers?u.headers.forEach(function(h,p){f[p]=h}):f=(u==null?void 0:u.headers)||{},[2,t.callFunction({name:"httpOverCallFunction",data:{url:s.toString(),method:(u==null?void 0:u.method)||"GET",headers:Ci(Ci({},f||{}),{"Content-Type":"application/json","X-Db-Instance":l,"Accept-Profile":c,"Content-Profile":c}),body:u==null?void 0:u.body}}).then(function(h){var p=h==null?void 0:h.result,_={ok:(p==null?void 0:p.statusCode)>=200&&(p==null?void 0:p.statusCode)<300,status:(p==null?void 0:p.statusCode)||200,statusText:(p==null?void 0:p.statusMessage)||"OK",json:function(){return Promise.resolve((p==null?void 0:p.body)||{})},text:function(){return Promise.resolve(typeof(p==null?void 0:p.body)=="string"?p.body:JSON.stringify((p==null?void 0:p.body)||{}))},headers:new Headers((p==null?void 0:p.headers)||{})};return _})]})})}})}}function CRe(t,e){var n,r,i,o,a=e||((r=(n=t==null?void 0:t.extend)===null||n===void 0?void 0:n.AI)===null||r===void 0?void 0:r.env);if((typeof a!="string"||!a.trim())&&(a=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.env),(typeof a!="string"||!a.trim())&&(a=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.envName),typeof a!="string"||!a.trim())throw new Error("Generating default gateway base url failed: env not found");return a=a.trim(),{model:"https://".concat(a,".api.tcloudbasegateway.com/v1/model"),sql:"https://".concat(a,".api.tcloudbasegateway.com/v1/sql"),mysql:"https://".concat(a,".api.tcloudbasegateway.com/v1/rdb/rest")}}var pp=function(){return pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pp.apply(this,arguments)},TRe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},MRe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ORe=QX,B$="models";function IRe(t){var e=this,n=t.callFunction.bind(t),r=t.request.fetch.bind(t.request),i=function(f){return TRe(e,void 0,void 0,function(){var d;return MRe(this,function(h){switch(h.label){case 0:return[4,r(pp(pp({},f),{headers:pp({"Content-Type":"application/json"},f.headers)}))];case 1:return d=h.sent(),[4,d.data];case 2:return[2,h.sent()]}})})},o=t.getEndPointWithKey("GATEWAY"),a=o.BASE_URL,s=o.PROTOCOL,u="".concat(s).concat(a,"/model"),l="".concat(s).concat(a,"/sql"),c=NEe(n,i,u,{sqlBaseUrl:l});return c}var F$=new WeakMap;function RRe(t){return new Proxy({},{get:function(e,n){var r=t.getEndPointWithKey("GATEWAY"),i=r.BASE_URL,o=r.PROTOCOL,a=pp(pp({},t),{BASE_URL:i,PROTOCOL:o}),s=F$.get(a);return s||(s=IRe(t),F$.set(a,s)),s[n]}})}var NQ="cloudbase_init",BQ=new ORe;BQ.on(NQ,function(t){var e=t.data;Object.assign(e,{models:RRe(e)})});var FQ={name:B$,namespace:B$,entity:new Proxy({},{get:function(t,e){console.warn("deprecatedAccessing Cloudbase.prototype.models.".concat(e,"."))}}),injectEvents:{bus:BQ,events:[NQ]}};try{cloudbase.registerComponent(FQ)}catch{}function kQ(t){try{t.registerComponent(FQ)}catch(e){console.warn(e)}}try{window.registerModel=kQ}catch{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SL=function(t,e){return SL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},SL(t,e)};function UQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Hg(t){if(!t)throw new TypeError("Assertion failed")}function PRe(){}function DRe(t){return typeof t=="object"&&t!==null||typeof t=="function"}function LRe(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch{}return e}function jQ(t){return!(!DRe(t)||typeof t.getReader!="function")}function NRe(t){return!(!LRe(t)||!jQ(new t))}function HQ(t){try{var e=t.getReader({mode:"byob"});return e.releaseLock(),!0}catch{return!1}}function BRe(t){try{return new t({type:"bytes"}),!0}catch{return!1}}function FRe(t){Hg(NRe(t));var e=BRe(t);return function(n,r){var i=r===void 0?{}:r,o=i.type;if(o=$Q(o),o==="bytes"&&!e&&(o=void 0),n.constructor===t&&(o!=="bytes"||HQ(n)))return n;if(o==="bytes"){var a=k$(n,{type:o});return new t(a)}else{var a=k$(n);return new t(a)}}}function k$(t,e){var n=e===void 0?{}:e,r=n.type;Hg(jQ(t)),Hg(t.locked===!1),r=$Q(r);var i;return r==="bytes"?i=new jRe(t):i=new kRe(t),i}function $Q(t){var e=String(t);if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var zQ=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return Hg(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var n=this;Hg(this._underlyingReader===void 0),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then(function(){return n._finishPendingRead()}).then(function(){e===n._underlyingReader&&n._readableStreamController.close()},function(i){e===n._underlyingReader&&n._readableStreamController.error(i)}).catch(PRe)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var n=this._underlyingReader.read().then(function(r){var i=e._readableStreamController;r.done?e._tryClose():i.enqueue(r.value)});return this._setPendingRead(n),n},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},t.prototype._setPendingRead=function(e){var n=this,r,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var n=function(){return e._finishPendingRead()};return this._pendingRead.then(n,n)}},t}(),kRe=function(t){UQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(zQ);function U$(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function URe(t,e){var n=U$(t),r=U$(e);r.set(n,0)}var jRe=function(t){UQ(e,t);function e(n){var r=this,i=HQ(n);return r=t.call(this,n)||this,r._supportsByob=i,r}return Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){Hg(this._supportsByob),this._detachReader();var n=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(n)}},e.prototype.pull=function(){if(this._supportsByob){var n=this._readableStreamController.byobRequest;if(n)return this._pullWithByobRequest(n)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(n){var r=this;this._attachByobReader();var i=new Uint8Array(n.view.byteLength),o=this._underlyingReader.read(i).then(function(a){r._readableStreamController,a.done?(r._tryClose(),n.respond(0)):(URe(a.value,n.view),n.respond(a.value.byteLength))});return this._setPendingRead(o),o},e}(zQ);function HRe(t){var e,n,r,i,o,a,s;return u(),{feed:l,reset:u};function u(){e=!0,n="",r=0,i=-1,o=void 0,a=void 0,s=""}function l(f){n=n?n+f:f,e&&$Re(n)&&(n=n.slice(GQ.length)),e=!1;for(var d=n.length,h=0,p=!1;h<d;){p&&(n[h]===`
`&&(h+=1),p=!1);for(var _=-1,y=i,m=void 0,b=r;_<0&&b<d;b++)m=n[b],m===":"&&y<0?y=b-h:m==="\r"?(p=!0,_=b-h):m===`
`&&(_=b-h);if(_<0){r=d-h,i=y;break}else r=0,i=-1;c(n,h,y,_),h+=_+1}h===d?n="":h>0&&(n=n.slice(h))}function c(f,d,h,p){if(p===0){s.length>0&&(t({type:"event",id:o,event:a||void 0,data:s.slice(0,-1)}),s="",o=void 0),a=void 0;return}var _=h<0,y=f.slice(d,d+(_?p:h)),m=0;_?m=p:f[d+h+1]===" "?m=h+2:m=h+1;var b=d+m,w=p-m,S=f.slice(b,b+w).toString();if(y==="data")s+=S?"".concat(S,`
`):`
`;else if(y==="event")a=S;else if(y==="id"&&!S.includes("\0"))o=S;else if(y==="retry"){var x=parseInt(S,10);Number.isNaN(x)||t({type:"reconnect-interval",value:x})}}}var GQ=[239,187,191];function $Re(t){return GQ.every(function(e,n){return t.charCodeAt(n)===e})}var WQ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bn,function(){var n=typeof bn<"u"?bn:self;if(typeof n.TextEncoder<"u"&&typeof n.TextDecoder<"u")return{TextEncoder:n.TextEncoder,TextDecoder:n.TextDecoder};var r=["utf8","utf-8","unicode-1-1-utf-8"],i=function(a){if(r.indexOf(a)<0&&typeof a<"u"&&a!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(s){if(typeof s!="string")throw new TypeError("passed argument must be of type string");var u=unescape(encodeURIComponent(s)),l=new Uint8Array(u.length);return u.split("").forEach(function(c,f){l[f]=c.charCodeAt(0)}),l}},o=function(a,s){if(r.indexOf(a)<0&&typeof a<"u"&&a!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=typeof s<"u"&&"fatal"in s?s.fatal:!1,typeof this.fatal!="boolean")throw new TypeError("fatal flag must be boolean");this.decode=function(u,l){if(typeof u>"u")return"";var c=typeof l<"u"&&"stream"in l?l.stream:!1;if(typeof c!="boolean")throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(u)){var f=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),d=new Array(f.length);return f.forEach(function(h,p){d[p]=String.fromCharCode(h)}),decodeURIComponent(escape(d.join("")))}else throw new TypeError("passed argument must be an array buffer view")}};return{TextEncoder:i,TextDecoder:o}})})(WQ);var zRe=WQ.exports,VQ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},qQ=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},GRe=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}},WRe=ho,Pi=BA,KQ=function(){var t;return new Pi({start:function(e){t=HRe(function(n){n.type==="event"&&e.enqueue(n)})},transform:function(e){t.feed(e)}})},bs=FRe(WRe),v3=function(){function t(e,n){e===void 0&&(e="utf-8"),n===void 0&&(n={});var r=this;this.transform=new Pi({transform:function(i,o){var a=r.handle.decode(new Uint8Array(i),{stream:!0});a&&o.enqueue(a)},flush:function(i){var o=r.handle.decode();o&&i.enqueue(o),i.terminate()}}),this.handle=new zRe.TextDecoder(e,n)}return Object.defineProperty(t.prototype,"encoding",{get:function(){return this.handle.encoding},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fatal",{get:function(){return this.handle.fatal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreBOM",{get:function(){return this.handle.ignoreBOM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readable",{get:function(){return this.transform.readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return this.transform.writable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"TextDecoderStream"},enumerable:!1,configurable:!0}),t}();function zr(t){var e=t;return e[Symbol.asyncIterator]=function(){var n=t.getReader();return{next:function(){return VQ(this,void 0,void 0,function(){var r,i,o;return qQ(this,function(a){switch(a.label){case 0:return[4,n.read()];case 1:return r=a.sent(),i=r.done,o=r.value,[2,i?{done:!0,value:void 0}:{done:!1,value:o}]}})})}}},e}function su(t){return zr(t.pipeThrough(new v3).pipeThrough(KQ()).pipeThrough(new Pi({transform:function(e,n){try{var r=JSON.parse(e.data);n.enqueue(r)}catch(i){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",i,e):n.terminate()}}})))}function VRe(t){return zr(bs(t).pipeThrough(new v3))}function qRe(t){var e,n,r,i;return VQ(this,void 0,void 0,function(){var o,a,s,u,l,c,f;return qQ(this,function(d){switch(d.label){case 0:o=VRe(t),a="",d.label=1;case 1:d.trys.push([1,6,7,12]),s=!0,u=GRe(o),d.label=2;case 2:return[4,u.next()];case 3:if(l=d.sent(),e=l.done,!!e)return[3,5];i=l.value,s=!1;try{c=i,a+=c}finally{s=!0}d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return f=d.sent(),n={error:f},[3,12];case 7:return d.trys.push([7,,10,11]),!s&&!e&&(r=u.return)?[4,r.call(u)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:return[2,JSON.parse(a)]}})})}function j$(){var t,e,n=new Promise(function(r,i){t=r,e=i});return{promise:n,res:t,rej:e}}function yl(t){var e;return t.role==="assistant"&&"tool_calls"in t&&((e=t.tool_calls)===null||e===void 0?void 0:e[0])!=null}function KRe(t){return{type:"function",function:{description:t.description,name:t.name,parameters:t.parameters}}}var Vf=function(){return Vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vf.apply(this,arguments)},Ml=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Ol=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},LS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},XRe=function(){function t(e,n){this.baseUrl=n;var r=arguments[2];typeof r=="string"?this.req=function(i){var o=i.headers,a=o===void 0?{}:o,s=LS(i,["headers"]);return e(Vf(Vf({},s),{headers:Vf(Vf({},a),{Authorization:"Bearer ".concat(r)})}))}:this.req=e}return t.prototype.list=function(e,n){return this.req({method:"get",url:this.join("bots"),data:e,timeout:n==null?void 0:n.timeout})},t.prototype.create=function(e,n){var r=e.botInfo;return this.req({method:"post",url:this.join("bots"),data:r,timeout:n==null?void 0:n.timeout})},t.prototype.get=function(e,n){var r=e.botId;return this.req({method:"get",url:this.join("bots/".concat(r)),timeout:n==null?void 0:n.timeout})},t.prototype.update=function(e,n){var r=e.botId,i=e.botInfo;return this.req({method:"PATCH",url:this.join("bots/".concat(r)),data:i,timeout:n==null?void 0:n.timeout})},t.prototype.delete=function(e,n){var r=e.botId;return this.req({method:"delete",url:this.join("bots/".concat(r)),timeout:n==null?void 0:n.timeout})},t.prototype.getChatRecords=function(e,n){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/records")),data:e,timeout:n==null?void 0:n.timeout})},t.prototype.sendFeedback=function(e,n){var r=e.userFeedback;return this.req({method:"post",url:this.join("bots/".concat(r.botId,"/feedback")),data:r,timeout:n==null?void 0:n.timeout})},t.prototype.getFeedback=function(e,n){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/feedback")),data:e,timeout:n==null?void 0:n.timeout})},t.prototype.uploadFiles=function(e,n){return Ml(this,void 0,void 0,function(){return Ol(this,function(r){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/files")),data:e,timeout:n==null?void 0:n.timeout})]})})},t.prototype.createConversation=function(e,n){var r=e.botId,i=LS(e,["botId"]);return Ml(this,void 0,void 0,function(){return Ol(this,function(o){return[2,this.req({method:"post",url:this.join("bots/".concat(r,"/conversation")),data:i,timeout:n==null?void 0:n.timeout})]})})},t.prototype.getConversation=function(e,n){var r=e.pageSize,i=r===void 0?10:r,o=e.pageNumber,a=o===void 0?1:o,s=e.botId,u=LS(e,["pageSize","pageNumber","botId"]);return Ml(this,void 0,void 0,function(){var l,c;return Ol(this,function(f){if(a<1)throw new Error("pageNumber must be greater than 0");return l=i*(a-1),c=i,[2,this.req({method:"get",url:this.join("bots/".concat(s,"/conversation")),data:Vf(Vf({},u),{offset:l,limit:c}),timeout:n==null?void 0:n.timeout})]})})},t.prototype.deleteConversation=function(e,n){var r=e.botId,i=e.conversationId,o=LS(e,["botId","conversationId"]);return Ml(this,void 0,void 0,function(){return Ol(this,function(a){return[2,this.req({method:"delete",url:this.join("bots/".concat(r,"/conversation/").concat(i)),data:o,timeout:n==null?void 0:n.timeout})]})})},t.prototype.speechToText=function(e,n){return Ml(this,void 0,void 0,function(){return Ol(this,function(r){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/speech-to-text")),data:e,timeout:n==null?void 0:n.timeout})]})})},t.prototype.textToSpeech=function(e,n){return Ml(this,void 0,void 0,function(){return Ol(this,function(r){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:n==null?void 0:n.timeout})]})})},t.prototype.getTextToSpeechResult=function(e,n){return Ml(this,void 0,void 0,function(){return Ol(this,function(r){return[2,this.req({method:"get",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:n==null?void 0:n.timeout})]})})},t.prototype.getRecommendQuestions=function(e,n){return Ml(this,void 0,void 0,function(){var r;return Ol(this,function(i){switch(i.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/recommend-questions")),data:e,stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,new NS(r)]}})})},t.prototype.generateBot=function(e,n){return Ml(this,void 0,void 0,function(){var r;return Ol(this,function(i){switch(i.label){case 0:return[4,this.req({method:"post",url:this.join("generate-bot"),data:e,stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,new NS(r)]}})})},t.prototype.getPreview=function(e,n){return Ml(this,void 0,void 0,function(){var r;return Ol(this,function(i){switch(i.label){case 0:return[4,this.req({method:"post",url:this.join("preview"),data:e,stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,new NS(r)]}})})},t.prototype.generateImage=function(e,n){return this.req({method:"post",url:this.join("generate-image"),data:e,timeout:n==null?void 0:n.timeout})},t.prototype.sendMessage=function(e,n){return Ml(this,void 0,void 0,function(){var r;return Ol(this,function(i){switch(i.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/send-message")),data:e,stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,new NS(r)]}})})},t.prototype.join=function(e){return"".concat(this.baseUrl,"/").concat(e)},t}(),NS=function(){function t(e){var n=bs(e);this._eventSourceStream=n.pipeThrough(new v3).pipeThrough(KQ())}return Object.defineProperty(t.prototype,"teeedStream",{get:function(){var e=this._eventSourceStream.tee(),n=e[0],r=e[1];return this._eventSourceStream=r,n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventSourceStream",{get:function(){return zr(this.teeedStream)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataStream",{get:function(){return zr(this.eventSourceStream.pipeThrough(new Pi({transform:function(e,n){try{var r=JSON.parse(e.data);n.enqueue(r)}catch(i){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",i,e):n.terminate()}}})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textStream",{get:function(){return zr(this.dataStream.pipeThrough(new Pi({transform:function(e,n){var r;n.enqueue((r=e==null?void 0:e.content)!==null&&r!==void 0?r:"")}})))},enumerable:!1,configurable:!0}),t}(),Lo=function(){return Lo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lo.apply(this,arguments)},H$=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},$$=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function z$(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tool_choice,o=t.tools,a=t.top_p,s=function(){return i&&i!=="auto"&&console.warn("`tool_choice` is not 'auto'"),i};return Lo(Lo({},t),{messages:e,model:n,temperature:r,tool_choice:s(),tools:o,top_p:a})}var XQ=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="zhipu/api/paas/v4/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return H$(this,void 0,void 0,function(){var r,i;return $$(this,function(o){switch(o.label){case 0:return r=z$(e),[4,this.req({url:this.url,data:Lo(Lo({},r),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return i=o.sent(),[2,Lo(Lo({},i),{rawResponse:i})]}})})},t.prototype.doStream=function(e,n){return H$(this,void 0,void 0,function(){var r,i,o,a,s,u;return $$(this,function(l){switch(l.label){case 0:return r=z$(e),i=null,[4,this.req({url:this.url,data:Lo(Lo({},r),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return o=l.sent(),a=bs(o),s=su(a),u=s.pipeThrough(new Pi({transform:function(c,f){var d=c.choices.map(function(p){var _=p.delta;return i==null&&(i=yl(_)),i?Lo(Lo({},p),{finish_reason:"tool_calls",delta:_}):p}),h=Lo(Lo({},c),{choices:d});f.enqueue(Lo(Lo({},h),{rawResponse:c}))}})),[2,zr(u)]}})})},t}(),iC=function(){return iC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iC.apply(this,arguments)};function Np(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tool_choice,o=t.tools,a=t.top_p,s=function(){if(o)return o.forEach(function(l){l.type!=="function"&&console.warn("`type` in tool is not 'function'",l)}),o},u=function(){return e.forEach(function(l){"tool_calls"in l&&l.tool_calls.filter(function(c){return c.type!=="function"}).forEach(function(c){return console.warn("`type` in tool_call is not 'function'",c,l)})}),e};return iC(iC({},t),{messages:u(),model:n,tools:s(),top_p:a,tool_choice:i,temperature:r})}function oC(t){if(typeof t!="object"||t==null)return t;if(Array.isArray(t))return t.map(function(n){return oC(n)});return Object.entries(t).reduce(function(n,r){var i=r[0],o=r[1],a=e(i);return n[a]=typeof o=="object"?oC(o):o,n},{});function e(n){var r=n.replace(/[A-Z]/g,function(i){return"_".concat(i.toLowerCase())});return r.charAt(0)==="_"?r.slice(1):r}}var wa=function(){return wa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wa.apply(this,arguments)},G$=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},W$=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},JQ=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="hunyuan-beta/openapi/v1/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return G$(this,void 0,void 0,function(){var r;return W$(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:wa(wa({},Np(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,wa(wa({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return G$(this,void 0,void 0,function(){var r,i,o,a,s;return W$(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:wa(wa({},Np(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=h.delta;return r==null&&(r=yl(p)),r?wa(wa({},h),{finish_reason:"tool_calls",delta:p}):h}),d=wa(wa({},l),{choices:f});c.enqueue(wa(wa({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),Sa=function(){return Sa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sa.apply(this,arguments)},V$=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},q$=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},YQ=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="hunyuan",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return V$(this,void 0,void 0,function(){var r,i;return q$(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:Sa(Sa({},Np(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=o.sent(),i=oC(r.Response),[2,Sa(Sa({},i),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return V$(this,void 0,void 0,function(){var r,i,o,a,s;return q$(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:Sa(Sa({},e),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=oC(l),d=f.choices.map(function(p){var _=p.delta;return r==null&&(r=yl(_)),r?Sa(Sa({},p),{finish_reason:"tool_calls",delta:_}):p}),h=Sa(Sa({},f),{choices:d});c.enqueue(Sa(Sa({},h),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),No=function(){return No=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},No.apply(this,arguments)},K$=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},X$=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function J$(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tools,o=t.top_p;return No(No({},t),{messages:e,model:n,tools:i,top_p:o,temperature:r})}var ZQ=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="ark/api/v3/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return K$(this,void 0,void 0,function(){var r;return X$(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:No(No({},J$(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,No(No({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return K$(this,void 0,void 0,function(){var r,i,o,a,s;return X$(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:No(No({},J$(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=h.delta;return r==null&&(r=yl(p)),r?No(No({},h),{finish_reason:"tool_calls",delta:p}):h}),d=No(No({},l),{choices:f});c.enqueue(No(No({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),eo=function(){return eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eo.apply(this,arguments)},Y$=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Z$=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function Q$(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tools,o=t.top_p;return eo(eo({},t),{messages:e,model:n,tools:i,top_p:o,temperature:r})}var QQ=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="dashscope/compatible-mode/v1/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return Y$(this,void 0,void 0,function(){var r;return Z$(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:eo(eo({},Q$(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,eo(eo({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return Y$(this,void 0,void 0,function(){var r,i,o,a,s;return Z$(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:eo(eo({},Q$(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=Object.assign(h.delta,{role:"assistant"});return r==null&&(r=yl(p)),r?eo(eo({},h),{finish_reason:"tool_calls",delta:p}):eo(eo({},h),{delta:p})}),d=eo(eo({},l),{choices:f});c.enqueue(eo(eo({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),to=function(){return to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},to.apply(this,arguments)},e8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},t8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function n8(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tools,o=t.top_p;return to(to({},t),{messages:e,model:n,tools:i,top_p:o,temperature:r})}var eee=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="01-ai/v1/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return e8(this,void 0,void 0,function(){var r;return t8(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:to(to({},n8(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,to(to({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return e8(this,void 0,void 0,function(){var r,i,o,a,s;return t8(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:to(to({},n8(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f,d,h,p,_,y;if(!((h=(d=(f=l==null?void 0:l.choices)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.delta)===null||h===void 0)&&h.content||!((y=(_=(p=l==null?void 0:l.choices)===null||p===void 0?void 0:p[0])===null||_===void 0?void 0:_.delta)===null||y===void 0)&&y.tool_calls){var m=l.choices.map(function(w){var S=Object.assign(w.delta,{role:"assistant"});return r==null&&(r=yl(S)),r?to(to({},w),{finish_reason:"tool_calls",delta:S}):to(to({},w),{delta:S})}),b=to(to({},l),{choices:m});c.enqueue(to(to({},b),{rawResponse:l}))}}})),[2,zr(s)]}})})},t}(),Bo=function(){return Bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bo.apply(this,arguments)},r8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},i8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function o8(t){var e=t.messages,n=t.model,r=t.temperature,i=t.tools,o=t.top_p;return Bo(Bo({},t),{messages:e,model:n,tools:i,top_p:o,temperature:r})}var tee=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="moonshot/v1/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return r8(this,void 0,void 0,function(){var r;return i8(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:Bo(Bo({},o8(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,Bo(Bo({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return r8(this,void 0,void 0,function(){var r,i,o,a,s;return i8(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:Bo(Bo({},o8(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=h.delta;return r==null&&(r=yl(p)),r?Bo(Bo({},h),{finish_reason:"tool_calls",delta:p}):h}),d=Bo(Bo({},l),{choices:f});c.enqueue(Bo(Bo({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),Ea=function(){return Ea=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ea.apply(this,arguments)},a8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},s8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},nee=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="hunyuan-exp/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return a8(this,void 0,void 0,function(){var n;return s8(this,function(r){switch(r.label){case 0:return[4,this.req({url:this.url,data:Ea(Ea({},Np(e)),{stream:!1}),stream:!1})];case 1:return n=r.sent(),[2,Ea(Ea({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e){return a8(this,void 0,void 0,function(){var n,r,i,o,a;return s8(this,function(s){switch(s.label){case 0:return n=null,[4,this.req({url:this.url,data:Ea(Ea({},Np(e)),{stream:!0}),stream:!0})];case 1:return r=s.sent(),i=bs(r),o=su(i),a=o.pipeThrough(new Pi({transform:function(u,l){var c=u.choices.map(function(d){var h=d.delta;return n==null&&(n=yl(h)),n?Ea(Ea({},d),{finish_reason:"tool_calls",delta:h}):d}),f=Ea(Ea({},u),{choices:c});l.enqueue(Ea(Ea({},f),{rawResponse:u}))}})),[2,zr(a)]}})})},t}(),xa=function(){return xa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xa.apply(this,arguments)},l8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},u8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ree=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="hunyuan-open/v1/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return l8(this,void 0,void 0,function(){var r;return u8(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:xa(xa({},Np(e)),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,xa(xa({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return l8(this,void 0,void 0,function(){var r,i,o,a,s;return u8(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:xa(xa({},Np(e)),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=h.delta;return r==null&&(r=yl(p)),r?xa(xa({},h),{finish_reason:"tool_calls",delta:p}):h}),d=xa(xa({},l),{choices:f});c.enqueue(xa(xa({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),Aa=function(){return Aa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Aa.apply(this,arguments)},c8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},f8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},JRe=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.subUrl="deepseek/chat/completions",r!=null&&(this.subUrl=r)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,n){return c8(this,void 0,void 0,function(){var r;return f8(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,data:Aa(Aa({},e),{stream:!1}),stream:!1,timeout:n==null?void 0:n.timeout})];case 1:return r=i.sent(),[2,Aa(Aa({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e,n){return c8(this,void 0,void 0,function(){var r,i,o,a,s;return f8(this,function(u){switch(u.label){case 0:return r=null,[4,this.req({url:this.url,data:Aa(Aa({},e),{stream:!0}),stream:!0,timeout:n==null?void 0:n.timeout})];case 1:return i=u.sent(),o=bs(i),a=su(o),s=a.pipeThrough(new Pi({transform:function(l,c){var f=l.choices.map(function(h){var p=h.delta;return r==null&&(r=yl(p)),r?Aa(Aa({},h),{finish_reason:"tool_calls",delta:p}):h}),d=Aa(Aa({},l),{choices:f});c.enqueue(Aa(Aa({},d),{rawResponse:l}))}})),[2,zr(s)]}})})},t}(),Ca=function(){return Ca=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ca.apply(this,arguments)},d8=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},h8=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},iee=function(){function t(e,n,r){r===void 0&&(r=""),this.req=e,this.baseUrl=n,this.subUrl=r}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return d8(this,void 0,void 0,function(){var n;return h8(this,function(r){switch(r.label){case 0:return[4,this.req({url:this.url,data:Ca(Ca({},e),{stream:!1}),stream:!1})];case 1:return n=r.sent(),[2,Ca(Ca({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e){return d8(this,void 0,void 0,function(){var n,r,i,o,a;return h8(this,function(s){switch(s.label){case 0:return n=null,[4,this.req({url:this.url,data:Ca(Ca({},e),{stream:!0}),stream:!0})];case 1:return r=s.sent(),i=bs(r),o=su(i),a=o.pipeThrough(new Pi({transform:function(u,l){var c=u.choices.map(function(d){var h=d.delta;return n==null&&(n=yl(h)),n?Ca(Ca({},d),{finish_reason:"tool_calls",delta:h}):d}),f=Ca(Ca({},u),{choices:c});l.enqueue(Ca(Ca({},f),{rawResponse:u}))}})),[2,zr(a)]}})})},t}(),YRe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},ZRe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},oee=function(){function t(e,n,r){this.req=e,this.baseUrl=n,this.provider=r,this.generateImageSubUrl="images/generations"}return t.prototype.generateImage=function(e){return YRe(this,void 0,void 0,function(){var n;return ZRe(this,function(r){switch(r.label){case 0:return[4,this.req({url:this.getGenerateUrl(),data:e,stream:!1})];case 1:return n=r.sent(),[2,n]}})})},t.prototype.getGenerateUrl=function(){return"".concat(this.baseUrl,"/").concat(this.provider,"/").concat(this.generateImageSubUrl)},t}(),aC=function(){return aC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aC.apply(this,arguments)},EL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},xL=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},QRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},ePe=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}},xu=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function p8(t){var e,n=t.onStepFinish,r=t.abortSignal,i=t.maxSteps,o=t.topP,a=t.toolChoice,s=QRe(t,["onStepFinish","abortSignal","maxSteps","topP","toolChoice"]);if(i!=null&&i<1)throw new Error("`maxSteps` muse be greater than 0.");return[{onStepFinish:n,abortSignal:r,maxSteps:i},aC(aC({},s),{tools:(e=s.tools)===null||e===void 0?void 0:e.map(function(u){return"fn"in u?KRe(u):u}),top_p:o??s.top_p,tool_choice:a??s.tool_choice})]}var aee=function(){function t(e){this.model=e}return t.prototype.generateText=function(e,n){var r,i;return EL(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C,T=this;return xL(this,function(P){switch(P.label){case 0:return o=[],a={completion_tokens:0,prompt_tokens:0,total_tokens:0},s=p8(e),u=s[0],l=u.onStepFinish,c=u.maxSteps,f=c===void 0?10:c,d=s[1],h=function(){return T.model.doGenerate(d,n)},[4,h()];case 1:p=P.sent(),_=1,p.rawResponse&&o.push(p.rawResponse),y=null,P.label=2;case 2:if(!(_<f&&(y=m8(p))!=null))return[3,9];m=y8(p.usage),by(a,m),P.label=3;case 3:return P.trys.push([3,7,,8]),[4,g8(y)];case 4:return b=P.sent(),w=p.choices[0],[4,l==null?void 0:l({finishReason:w.finish_reason,messages:d.messages.slice(),text:w.message.content,toolCall:y,toolResult:b,stepUsage:m,totalUsage:Object.assign({},a)})];case 5:return P.sent(),v8(d.messages,w.message,b),[4,h()];case 6:return p=P.sent(),p.rawResponse&&o.push(p.rawResponse),_+=1,[3,8];case 7:return S=P.sent(),[2,{text:"",messages:d.messages,usage:a,error:S,rawResponses:o}];case 8:return[3,2];case 9:return x=(r=p==null?void 0:p.choices)===null||r===void 0?void 0:r[0],E=x==null?void 0:x.message,M=(i=E==null?void 0:E.content)!==null&&i!==void 0?i:"",O=E?xu(xu([],d.messages,!0),[E],!1):d.messages,C=y8(p.usage),by(a,C),[4,l==null?void 0:l({finishReason:x.finish_reason,messages:O.slice(),text:M,toolCall:m8(p),toolResult:null,stepUsage:C,totalUsage:Object.assign({},a)})];case 10:return P.sent(),[2,{text:M,messages:O,usage:a,rawResponses:o}]}})})},t.prototype.streamText=function(e,n){var r;return EL(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C,T,P,N,H,B,k,j,$,F,R,L,W,Z,ee,oe=this;return xL(this,function(pe){switch(pe.label){case 0:return i={completion_tokens:0,prompt_tokens:0,total_tokens:0},o=p8(e),a=o[0],s=a.onStepFinish,u=a.maxSteps,l=u===void 0?10:u,c=o[1],f=function(){return oe.model.doStream(c,n)},[4,f()];case 1:d=pe.sent(),h=1,p=null,_=function(){var ie=d.tee(),ce=ie[0],ve=ie[1];return d=zr(ce),tPe(ve)},pe.label=2;case 2:return y=h<l,y?[4,_()]:[3,4];case 3:y=(p=pe.sent())!=null,pe.label=4;case 4:if(!y)return[3,11];m=p.message,b=p.usage,by(i,b),w=(r=m.tool_calls)===null||r===void 0?void 0:r[0],pe.label=5;case 5:return pe.trys.push([5,9,,10]),[4,g8(w)];case 6:return S=pe.sent(),[4,s==null?void 0:s({finishReason:"tool_calls",messages:c.messages.slice(),text:m.content,toolCall:w,toolResult:S,stepUsage:b,totalUsage:Object.assign({},i)})];case 7:return pe.sent(),v8(c.messages,m,S),[4,f()];case 8:return d=pe.sent(),[3,10];case 9:return x=pe.sent(),E=d.tee(),M=E[0],O=E[1],[2,{messages:Promise.resolve(c.messages),dataStream:zr(M),textStream:zr(O.pipeThrough(new Pi({transform:function(ie,ce){var ve,xe,he,we=(he=(xe=(ve=ie==null?void 0:ie.choices)===null||ve===void 0?void 0:ve[0])===null||xe===void 0?void 0:xe.delta)===null||he===void 0?void 0:he.content;typeof we=="string"&&ce.enqueue(we)}}))),usage:Promise.resolve(i),error:x}];case 10:return[3,2];case 11:return[4,_()];case 12:return p=pe.sent(),p?(C=p.message,T=p.usage,by(i,T),P=xu(xu([],c.messages,!0),[C],!1),s({messages:P.slice(),finishReason:"tool_call",stepUsage:T,text:C.content,toolCall:C.tool_calls[0],totalUsage:Object.assign({},i)}),N=d.tee(),H=N[0],B=N[1],[2,{messages:Promise.resolve(xu(xu([],c.messages,!0),[C],!1)),dataStream:zr(H),textStream:zr(B.pipeThrough(new Pi({transform:function(ie,ce){var ve,xe,he,we=(he=(xe=(ve=ie==null?void 0:ie.choices)===null||ve===void 0?void 0:ve[0])===null||xe===void 0?void 0:xe.delta)===null||he===void 0?void 0:he.content;typeof we=="string"&&ce.enqueue(we)}}))),usage:Promise.resolve(i)}]):(k=j$(),j=j$(),$={role:"assistant",content:""},F="",R={completion_tokens:0,prompt_tokens:0,total_tokens:0},L=d.pipeThrough(new Pi({transform:function(ie,ce){var ve,xe,he,we,ne,Me,Ce,K,U=(he=(xe=(ve=ie==null?void 0:ie.choices)===null||ve===void 0?void 0:ve[0])===null||xe===void 0?void 0:xe.delta)===null||he===void 0?void 0:he.content;typeof U=="string"&&($.content+=U);var G=(ne=(we=ie==null?void 0:ie.choices)===null||we===void 0?void 0:we[0])===null||ne===void 0?void 0:ne.finish_reason;G&&(F=G),!((Me=ie==null?void 0:ie.usage)===null||Me===void 0)&&Me.completion_tokens&&(R.completion_tokens=ie.usage.completion_tokens),!((Ce=ie==null?void 0:ie.usage)===null||Ce===void 0)&&Ce.prompt_tokens&&(R.prompt_tokens=ie.usage.prompt_tokens),!((K=ie==null?void 0:ie.usage)===null||K===void 0)&&K.total_tokens&&(R.total_tokens=ie.usage.total_tokens),ce.enqueue(ie)},flush:function(){k.res(xu(xu([],c.messages,!0),[$],!1)),by(i,R),j.res(Object.assign({},i)),s==null||s({messages:xu(xu([],c.messages,!0),[$],!1),finishReason:F,text:$.content,stepUsage:R,totalUsage:Object.assign({},i)})}})),W=L.tee(),Z=W[0],ee=W[1],[2,{messages:k.promise,dataStream:zr(Z),textStream:zr(ee.pipeThrough(new Pi({transform:function(ie,ce){var ve,xe,he,we=(he=(xe=(ve=ie==null?void 0:ie.choices)===null||ve===void 0?void 0:ve[0])===null||xe===void 0?void 0:xe.delta)===null||he===void 0?void 0:he.content;typeof we=="string"&&ce.enqueue(we)}}))),usage:j.promise}])}})})},t}();function m8(t){var e,n=(e=t==null?void 0:t.choices)===null||e===void 0?void 0:e[0];if(!n)return null;var r=n.finish_reason,i=n.message;return r!=="tool_calls"||!i||!yl(i)?null:i.tool_calls[0]}function v8(t,e,n){t.push(e,{role:"tool",tool_call_id:e.tool_calls[0].id,content:JSON.stringify(n)})}function tPe(t){var e,n,r,i,o,a,s,u,l,c;return EL(this,void 0,void 0,function(){var f,d,h,p,_,y,m,b,w,S,x,E,M;return xL(this,function(O){switch(O.label){case 0:f={completion_tokens:0,prompt_tokens:0,total_tokens:0},d=zr(t),h={id:"",function:{name:"",arguments:""},type:""},p={role:"assistant",content:"",tool_calls:[h]},O.label=1;case 1:O.trys.push([1,6,7,12]),_=!0,y=ePe(d),O.label=2;case 2:return[4,y.next()];case 3:if(m=O.sent(),e=m.done,!!e)return[3,5];i=m.value,_=!1;try{if(b=i,w=b==null?void 0:b.choices[0],!w)return[2,null];if(S=w.finish_reason,x=w.delta,S!=="tool_calls")return[2,null];if(!x)return[3,4];if(x.content&&(p.content+=x.content),!("tool_calls"in x))return[3,4];E=(o=x==null?void 0:x.tool_calls)===null||o===void 0?void 0:o[0],E!=null&&E.id&&(h.id=E.id),E!=null&&E.type&&(h.type=E.type),!((a=E==null?void 0:E.function)===null||a===void 0)&&a.name&&(h.function.name=E.function.name),!((s=E==null?void 0:E.function)===null||s===void 0)&&s.arguments&&(h.function.arguments+=E.function.arguments),!((u=b==null?void 0:b.usage)===null||u===void 0)&&u.completion_tokens&&(f.completion_tokens=b.usage.completion_tokens),!((l=b==null?void 0:b.usage)===null||l===void 0)&&l.prompt_tokens&&(f.prompt_tokens=b.usage.prompt_tokens),!((c=b==null?void 0:b.usage)===null||c===void 0)&&c.total_tokens&&(f.total_tokens=b.usage.total_tokens)}finally{_=!0}O.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return M=O.sent(),n={error:M},[3,12];case 7:return O.trys.push([7,,10,11]),!_&&!e&&(r=y.return)?[4,r.call(y)]:[3,9];case 8:O.sent(),O.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:return[2,{message:p,usage:f}]}})})}var sC=new Map;function g8(t){return sC.get(t.function.name)(JSON.parse(t.function.arguments))}function y8(t){var e,n,r;return{completion_tokens:(e=t==null?void 0:t.completion_tokens)!==null&&e!==void 0?e:0,prompt_tokens:(n=t==null?void 0:t.prompt_tokens)!==null&&n!==void 0?n:0,total_tokens:(r=t==null?void 0:t.total_tokens)!==null&&r!==void 0?r:0}}function by(t,e){t.completion_tokens+=e.completion_tokens,t.prompt_tokens+=e.prompt_tokens,t.total_tokens+=e.total_tokens}var see={hunyuan:YQ,"hunyuan-beta":JQ,ark:ZQ,dashscope:QQ,"01-ai":eee,moonshot:tee,zhipu:XQ,"hunyuan-exp":nee,"hunyuan-open":ree,deepseek:JRe};const nPe=Object.freeze(Object.defineProperty({__proto__:null,ArkSimpleModel:ZQ,DSSimpleModel:QQ,DefaultImageModel:oee,DefaultSimpleModel:iee,HunYuanBetaSimpleModel:JQ,HunYuanExpSimpleModel:nee,HunYuanOpenSimpleModel:ree,HunYuanSimpleModel:YQ,MODELS:see,MoonshotSimpleModel:tee,ReactModel:aee,YiSimpleModel:eee,ZhiPuSimpleModel:XQ,toolMap:sC},Symbol.toStringTag,{value:"Module"}));var Vv=function(){return Vv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vv.apply(this,arguments)},aP=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},sP=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},lP=see,rPe=function(){function t(e,n,r){var i=this;this.req=e,this.baseUrl=n,this.modelRequest=function(o){var a=o.url,s=o.data,u=o.headers,l=o.stream,c=o.timeout;return aP(i,void 0,void 0,function(){var f,d,h,p,_,y,m;return sP(this,function(b){switch(b.label){case 0:return f={"Content-Type":"application/json"},l&&Object.assign(f,{Accept:"text/event-stream"}),[4,this.req.fetch({method:"post",headers:Vv(Vv((_={},_[(y=this.i18n)===null||y===void 0?void 0:y.LANG_HEADER_KEY]=(m=this.i18n)===null||m===void 0?void 0:m.lang,_),f),u),body:JSON.stringify(s),url:a,stream:l,timeout:c})];case 1:return d=b.sent(),h=d.data,p=d.header,[2,this.handleResponseData(h,p)]}})})},this.botRequest=function(o){var a=o.method,s=o.url,u=o.data,l=u===void 0?{}:u,c=o.headers,f=o.stream,d=o.timeout;return aP(i,void 0,void 0,function(){function h(E){return Object.entries(E).map(function(M){var O=M[0],C=M[1];return"".concat(O,"=").concat(C)}).join("&")}var p,_,y,m,b,w,S,x;return sP(this,function(E){switch(E.label){case 0:return a!=="get"?[3,2]:(p=this.handleResponseData,[4,this.req.fetch({url:"".concat(s,"?").concat(h(l)),method:a,headers:c,stream:f,timeout:d})]);case 1:return[2,p.apply(this,[E.sent().data])];case 2:return _={"Content-Type":"application/json"},f&&Object.assign(_,{Accept:"text/event-stream"}),[4,this.req.fetch({url:s,body:JSON.stringify(l),headers:Vv(Vv((w={},w[(S=this.i18n)===null||S===void 0?void 0:S.LANG_HEADER_KEY]=(x=this.i18n)===null||x===void 0?void 0:x.lang,w),_),c),stream:f,method:a,timeout:d})];case 3:return y=E.sent(),m=y.data,b=y.header,[2,this.handleResponseData(m,b)]}})})},this.aiBaseUrl="".concat(n,"/ai"),this.aiBotBaseUrl="".concat(n,"/aibot"),this.bot=new XRe(this.botRequest,this.aiBotBaseUrl),this.i18n=r,pT.on(mT,function(o){var a;i.i18n=((a=o.data)===null||a===void 0?void 0:a.i18n)||i.i18n})}return t.prototype.handleResponseData=function(e,n){var r,i;return aP(this,void 0,void 0,function(){var o,a,a;return sP(this,function(s){switch(s.label){case 0:return o="".concat(this.i18n.t(" AI+ "),"https://tcb.cloud.tencent.com/dev#/ai"),typeof e=="object"&&e&&"then"in e?[4,e]:[3,2];case 1:if(a=s.sent(),typeof a=="object"&&a&&"code"in a&&a.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(a.code,"").concat(this.i18n.t(""),"").concat(a.message,`
`).concat(o,`
`).concat(JSON.stringify(a,null,2)));return[2,e];case 2:return!((i=(r=n==null?void 0:n.get)===null||r===void 0?void 0:r.call(n,"content-type"))===null||i===void 0)&&i.includes("application/json")?[4,qRe(e)]:[3,4];case 3:if(a=s.sent(),typeof a=="object"&&a&&"code"in a&&a.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(a.code,"").concat(this.i18n.t(""),"").concat(a.message,`
`).concat(o,`
`).concat(JSON.stringify(a,null,2)));s.label=4;case 4:return[2,e]}})})},t.prototype.createModel=function(e,n){var r,i=lP[e];if(i)r=new i(this.modelRequest,this.aiBaseUrl);else{var o=typeof(n==null?void 0:n.defaultModelSubUrl)=="string"?n.defaultModelSubUrl:"/chat/completions";r=new iee(this.modelRequest,this.aiBaseUrl,"".concat(e).concat(o))}var a=new aee(r);return a},t.prototype.registerModel=function(e,n){if(lP[e]!=null){console.warn("AI model ".concat(e," already exists!"));return}lP[e]=n},t.prototype.createImageModel=function(e){return new oee(this.modelRequest,this.aiBaseUrl,e)},t.prototype.registerFunctionTool=function(e){sC.has(e.name)&&console.warn("AI function tool ".concat(e.name," already exists and will be overwritten!")),sC.set(e.name,e.fn)},t}(),lC=function(){return lC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lC.apply(this,arguments)},iPe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},oPe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},lee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},aPe="ai";lee(nPe,["MODELS"]);var sPe=function(t){var e=t.getAccessToken,n=t.req,r=function(i){return iPe(void 0,void 0,void 0,function(){var o,a,s,u,l;return oPe(this,function(c){switch(c.label){case 0:if(typeof n.fetch!="function")throw new Error("req.fetch is not a function");return o=i.token,a=i.headers,s=a===void 0?{}:a,u=lee(i,["token","headers"]),o==null?[3,1]:(l=o,[3,3]);case 1:return[4,e()];case 2:l=c.sent().accessToken,c.label=3;case 3:return[2,n.fetch(lC({headers:lC({Authorization:"Bearer ".concat(l)},s)},u))]}})})};return{download:n.download,post:n.post,upload:n.upload,fetch:r}};function lPe(t){var e=t.env,n=t.baseUrl,r=t.req,i=t.getAccessToken,o=t.handleReqInstance,a=t.i18n,s=function(){if(n!=null)return n;if(e==null)throw new Error("`env` is required when `baseUrl` is not provided!");return"https://".concat(e,".api.tcloudbasegateway.com/v1")},u=function(){if(o==null){if(i==null)throw new Error("`getAccessToken` is required when `handleReqInstance` is not provided!");return sPe({req:r,getAccessToken:i})}return o({req:r})};return new rPe(u(),s(),a)}function uPe(t){var e=this,n,r=this.request;if(r.fetch==null)throw new Error("cloudbase.request.fetch() unimplemented!");var i=function(){var a=e.getEndPointWithKey("GATEWAY"),s=a.BASE_URL,u=a.PROTOCOL;return"".concat(u).concat(s)},o=(n=t==null?void 0:t.baseUrl)!==null&&n!==void 0?n:i();return lPe({req:r,baseUrl:o,handleReqInstance:function(a){var s=a.req;return s},i18n:this.config.i18n})}var cPe={name:aPe,entity:{ai:uPe}};function uee(t){try{t.registerComponent(cPe)}catch(e){console.warn(e)}}try{window.registerAi=uee}catch{}var D_=function(){return D_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},D_.apply(this,arguments)},fPe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},dPe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function cee(t,e){var n=this,r=t.request.fetch.bind(t.request),i=e||{},o=i.instance,a=o===void 0?"default":o,s=i.database,u=s===void 0?t.config.env:s,l=function(_,y){return fPe(n,void 0,void 0,function(){var m,b,w,S,x;return dPe(this,function(E){switch(E.label){case 0:return m={},y.headers instanceof Headers?y.headers.forEach(function(M,O){m[O]=M}):m=y.headers||{},[4,r(D_(D_({url:_.toString()},y),{headers:D_({"Content-Type":"application/json","X-Db-Instance":a,"Accept-Profile":u,"Content-Profile":u},m),shouldThrowOnError:!1}))];case 1:b=E.sent(),w={},E.label=2;case 2:return E.trys.push([2,4,,5]),[4,b.data];case 3:return w=E.sent(),[3,5];case 4:if(S=E.sent(),!S.message.includes("Unexpected end of JSON input"))throw S;return[3,5];case 5:return x={ok:(b==null?void 0:b.statusCode)>=200&&(b==null?void 0:b.statusCode)<300,status:(b==null?void 0:b.statusCode)||200,statusText:(b==null?void 0:b.statusMessage)||"OK",json:function(){return Promise.resolve(w||{})},text:function(){return Promise.resolve(typeof w=="string"?w:JSON.stringify(w||{}))},headers:b==null?void 0:b.header},[2,x]}})})},c=t.getEndPointWithKey("GATEWAY"),f=c.BASE_URL,d=c.PROTOCOL,h="".concat(d).concat(f,"/rdb/rest"),p=ARe(t,{mysqlBaseUrl:h,fetch:l});return p}var fee={name:"mysql",entity:{mysql:function(t){return cee(this,t)(t)}}},dee={name:"rdb",entity:{rdb:function(t){return cee(this,t)(t)}}};try{cloudbase.registerComponent(fee),cloudbase.registerComponent(dee)}catch{}function hee(t){try{t.registerComponent(fee),t.registerComponent(dee)}catch(e){console.warn(e)}}try{window.registerMySQL=hee}catch{}var Ab=function(){return Ab=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ab.apply(this,arguments)},pee=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},mee=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function hPe(t,e){var n,r,i;return pee(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d,h,p,_,y,m,b,w,S,x,E,M,O,C,T;return mee(this,function(P){switch(P.label){case 0:if(o=t||{},a=o.name,s=o.body,u=o.path,l=u===void 0?"":u,c=o.method,f=c===void 0?"POST":c,d=o.headers,h=d===void 0?{}:d,p=(t||{}).token,!a)throw new Error(JSON.stringify({code:ar.ERRORS.INVALID_PARAMS,msg:"[apis] invalid api name"}));return _="",y=this,m=y.gatewayOrigin,b=y.getAccessToken,w=y.env,m?_="".concat(m,"/v1"):this.getEndPointWithKey?(S=this.getEndPointWithKey("GATEWAY"),x=S.BASE_URL,E=S.PROTOCOL,_="".concat(E).concat(x)):_="https://".concat(w,".api.tcloudbasegateway.com/v1"),M="".concat(_,"/apis/").concat(a),O=l.startsWith("/")?l:"/".concat(l),b?[4,b()]:[3,2];case 1:C=P.sent().accessToken,h.Authorization="Bearer ".concat(C),P.label=2;case 2:return[4,this.request.fetch(Ab({url:"".concat(M).concat(O),method:f||"POST",headers:Ab({"Content-Type":"application/json; charset=utf-8"},h),body:s,token:((n=p==null?void 0:p.trim)===null||n===void 0?void 0:n.call(p))||((i=(r=h.Authorization)===null||r===void 0?void 0:r.replace)===null||i===void 0?void 0:i.call(r,/^Bearer /,""))||null},e))];case 3:return T=P.sent(),[4,T.data];case 4:return[2,P.sent()]}})})}var pPe=["GET","POST","PUT","DELETE","HEAD","OPTIONS","PATCH","REQUEST"];function mPe(t){var e=this;return new Proxy({},{get:function(n,r){if(typeof r!="string")throw new Error("[apis] method must be string");var i=r.toLocaleUpperCase();if(!pPe.includes(i))throw new Error("[apis] invalid method: ".concat(r));return function(o,a){return pee(e,void 0,void 0,function(){return mee(this,function(s){switch(s.label){case 0:return[4,hPe.call(this,Ab({name:t,method:(i==="REQUEST"?o.method:i)||"POST"},o),a)];case 1:return[2,s.sent()]}})})}}})}function vPe(t){var e=this;return Object.keys(t||{}).forEach(function(n){t[n]!==void 0&&(e[n]=t[n])}),new Proxy({},{get:function(n,r){if(typeof r=="string")return mPe.call(e,r)}})}var _8="apis",vee={name:_8,IIFE:!0,entity:function(){Object.defineProperty(this.prototype,_8,{get:function(){return vPe.call(this)},configurable:!0,enumerable:!0})}};function gee(t){try{t.registerComponent(vee)}catch(e){console.warn(e)}}try{cloudbase.registerComponent(vee)}catch{}try{window.registerApis=gee}catch{}var hh,Dc;(function(t){t.DocIDError="ID",t.CollNameError="",t.OpStrError="",t.DirectionError="",t.IntergerError="must be integer",t.QueryParamTypeError="",t.QueryParamValueError="undefined"})(Dc||(Dc={}));var Pr={Number:"Number",Object:"Object",Array:"Array",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",ServerDate:"ServerDate",BsonDate:"BsonDate"},gPe=["desc","asc"],yPe=["<","<=","==",">=",">"],Kh;(function(t){t.lt="<",t.gt=">",t.lte="<=",t.gte=">=",t.eq="=="})(Kh||(Kh={}));hh={},hh[Kh.eq]="$eq",hh[Kh.lt]="$lt",hh[Kh.lte]="$lte",hh[Kh.gt]="$gt",hh[Kh.gte]="$gte";var Fu;(function(t){t.WHERE="WHERE",t.DOC="DOC"})(Fu||(Fu={}));var _Pe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BS=[],b8={},bPe=function(){function t(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return t}(),ws=function(t){_Pe(e,t);function e(n,r){var i=this;if(r!==b8)throw new TypeError("InternalSymbol cannot be constructed with new operator");return i=t.call(this,n)||this,i}return e.for=function(n){for(var r=0,i=BS.length;r<i;r++)if(BS[r].target===n)return BS[r].instance;var o=new e(n,b8);return BS.push({target:n,instance:o}),o},e}(bPe),Cb=ws.for("UNSET_FIELD_NAME"),yee=ws.for("UPDATE_COMMAND"),_ee=ws.for("QUERY_COMMAND"),bee=ws.for("LOGIC_COMMAND"),wee=ws.for("GEO_POINT"),wPe=ws.for("SYMBOL_GEO_LINE_STRING"),SPe=ws.for("SYMBOL_GEO_POLYGON"),EPe=ws.for("SYMBOL_GEO_MULTI_POINT"),xPe=ws.for("SYMBOL_GEO_MULTI_LINE_STRING"),APe=ws.for("SYMBOL_GEO_MULTI_POLYGON"),See=ws.for("SERVER_DATE"),Eee=ws.for("REGEXP"),xee=function(){function t(e){var n=(e===void 0?{}:e).offset,r=n===void 0?0:n;this.offset=r}return Object.defineProperty(t.prototype,"_internalType",{get:function(){return See},enumerable:!0,configurable:!0}),t.prototype.parse=function(){return{$date:{offset:this.offset}}},t}();function CPe(t){return new xee(t)}var uP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},jT=function(){function t(){}return t.formatResDocumentData=function(e){return e.map(function(n){return t.formatField(n)})},t.formatField=function(e){var n=Object.keys(e),r={};return Array.isArray(e)&&(r=[]),n.forEach(function(i){var o=e[i],a=t.whichType(o),s;switch(a){case Pr.GeoPoint:s=new Ma(o.coordinates[0],o.coordinates[1]);break;case Pr.GeoLineString:s=new Pu(o.coordinates.map(function(u){return new Ma(u[0],u[1])}));break;case Pr.GeoPolygon:s=new mp(o.coordinates.map(function(u){return new Pu(u.map(function(l){var c=uP(l,2),f=c[0],d=c[1];return new Ma(f,d)}))}));break;case Pr.GeoMultiPoint:s=new uC(o.coordinates.map(function(u){return new Ma(u[0],u[1])}));break;case Pr.GeoMultiLineString:s=new cC(o.coordinates.map(function(u){return new Pu(u.map(function(l){var c=uP(l,2),f=c[0],d=c[1];return new Ma(f,d)}))}));break;case Pr.GeoMultiPolygon:s=new Tb(o.coordinates.map(function(u){return new mp(u.map(function(l){return new Pu(l.map(function(c){var f=uP(c,2),d=f[0],h=f[1];return new Ma(d,h)}))}))}));break;case Pr.Timestamp:s=new Date(o.$timestamp*1e3);break;case Pr.Object:case Pr.Array:s=t.formatField(o);break;case Pr.ServerDate:s=new Date(o.$date);break;default:s=o}Array.isArray(r)?r.push(s):r[i]=s}),r},t.whichType=function(e){var n=Object.prototype.toString.call(e).slice(8,-1);if(n===Pr.Timestamp)return Pr.BsonDate;if(n===Pr.Object){if(e instanceof Ma)return Pr.GeoPoint;if(e instanceof Date)return Pr.Timestamp;if(e instanceof xee)return Pr.ServerDate;e.$timestamp?n=Pr.Timestamp:e.$date?n=Pr.ServerDate:Ma.validate(e)?n=Pr.GeoPoint:Pu.validate(e)?n=Pr.GeoLineString:mp.validate(e)?n=Pr.GeoPolygon:uC.validate(e)?n=Pr.GeoMultiPoint:cC.validate(e)?n=Pr.GeoMultiLineString:Tb.validate(e)&&(n=Pr.GeoMultiPolygon)}return n},t.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",n="",r=0;r<24;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},t}(),fd=function(){function t(){}return t.isGeopoint=function(e,n){if(jT.whichType(n)!==Pr.Number)throw new Error("Geo Point must be number type");var r=Math.abs(n);if(e==="latitude"&&r>90)throw new Error("latitude should be a number ranges from -90 to 90");if(e==="longitude"&&r>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},t.isInteger=function(e,n){if(!Number.isInteger(n))throw new Error(e+Dc.IntergerError);return!0},t.isFieldOrder=function(e){if(gPe.indexOf(e)===-1)throw new Error(Dc.DirectionError);return!0},t.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},t.isOperator=function(e){if(yPe.indexOf(e)===-1)throw new Error(Dc.OpStrError);return!0},t.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(Dc.CollNameError);return!0},t.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(Dc.DocIDError);return!0},t}(),Xu=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},xd=function(t){return Xu(t)==="object"},TPe=function(t){return Xu(t)==="string"},ul=function(t){return Xu(t)==="number"},gi=function(t){return Array.isArray(t)},Aee=function(t){return Xu(t)==="date"},g3=function(t){return Xu(t)==="regexp"},Cee=function(t){return t&&t._internalType instanceof ws},Ma=function(){function t(e,n){fd.isGeopoint("longitude",e),fd.isGeopoint("latitude",n),this.longitude=e,this.latitude=n}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"Point",coordinates:[this.longitude,this.latitude]},n},t.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},t.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},t.validate=function(e){return e.type==="Point"&&gi(e.coordinates)&&fd.isGeopoint("longitude",e.coordinates[0])&&fd.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return wee},enumerable:!0,configurable:!0}),t}(),MPe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pu=function(){function t(e){if(!gi(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach(function(n){if(!(n instanceof Ma))throw new TypeError('"points" must be of type Point[]. Received type '+typeof n+"[]")}),this.points=e}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"LineString",coordinates:this.points.map(function(r){return r.toJSON().coordinates})},n},t.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var n,r;if(e.type!=="LineString"||!gi(e.coordinates))return!1;try{for(var i=MPe(e.coordinates),o=i.next();!o.done;o=i.next()){var a=o.value;if(!ul(a[0])||!ul(a[1]))return!1}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},t.isClosed=function(e){var n=e.points[0],r=e.points[e.points.length-1];if(n.latitude===r.latitude&&n.longitude===r.longitude)return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return wPe},enumerable:!0,configurable:!0}),t}(),w8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mp=function(){function t(e){if(!gi(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(n){if(!(n instanceof Pu))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof n+"[]");if(!Pu.isClosed(n))throw new Error("LineString "+n.points.map(function(r){return r.toReadableString()})+" is not a closed cycle")}),this.lines=e}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"Polygon",coordinates:this.lines.map(function(r){return r.points.map(function(i){return[i.longitude,i.latitude]})})},n},t.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(n){return[n.longitude,n.latitude]})})}},t.validate=function(e){var n,r,i,o;if(e.type!=="Polygon"||!gi(e.coordinates))return!1;try{for(var a=w8(e.coordinates),s=a.next();!s.done;s=a.next()){var u=s.value;if(!this.isCloseLineString(u))return!1;try{for(var l=(i=void 0,w8(u)),c=l.next();!c.done;c=l.next()){var f=c.value;if(!ul(f[0])||!ul(f[1]))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!0},t.isCloseLineString=function(e){var n=e[0],r=e[e.length-1];return!(n[0]!==r[0]||n[1]!==r[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return APe},enumerable:!0,configurable:!0}),t}(),OPe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uC=function(){function t(e){if(!gi(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length===0)throw new Error('"points" must contain 1 point at least');e.forEach(function(n){if(!(n instanceof Ma))throw new TypeError('"points" must be of type Point[]. Received type '+typeof n+"[]")}),this.points=e}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"MultiPoint",coordinates:this.points.map(function(r){return r.toJSON().coordinates})},n},t.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var n,r;if(e.type!=="MultiPoint"||!gi(e.coordinates))return!1;try{for(var i=OPe(e.coordinates),o=i.next();!o.done;o=i.next()){var a=o.value;if(!ul(a[0])||!ul(a[1]))return!1}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return EPe},enumerable:!0,configurable:!0}),t}(),S8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cC=function(){function t(e){if(!gi(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(n){if(!(n instanceof Pu))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof n+"[]")}),this.lines=e}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"MultiLineString",coordinates:this.lines.map(function(r){return r.points.map(function(i){return[i.longitude,i.latitude]})})},n},t.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(n){return[n.longitude,n.latitude]})})}},t.validate=function(e){var n,r,i,o;if(e.type!=="MultiLineString"||!gi(e.coordinates))return!1;try{for(var a=S8(e.coordinates),s=a.next();!s.done;s=a.next()){var u=s.value;try{for(var l=(i=void 0,S8(u)),c=l.next();!c.done;c=l.next()){var f=c.value;if(!ul(f[0])||!ul(f[1]))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return xPe},enumerable:!0,configurable:!0}),t}(),FS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tb=function(){function t(e){var n,r;if(!gi(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(e.length===0)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var i=FS(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(!(a instanceof mp))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof a+"[]")}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.polygons=e}return t.prototype.parse=function(e){var n;return n={},n[e]={type:"MultiPolygon",coordinates:this.polygons.map(function(r){return r.lines.map(function(i){return i.points.map(function(o){return[o.longitude,o.latitude]})})})},n},t.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(n){return n.points.map(function(r){return[r.longitude,r.latitude]})})})}},t.validate=function(e){var n,r,i,o,a,s;if(e.type!=="MultiPolygon"||!gi(e.coordinates))return!1;try{for(var u=FS(e.coordinates),l=u.next();!l.done;l=u.next()){var c=l.value;try{for(var f=(i=void 0,FS(c)),d=f.next();!d.done;d=f.next()){var h=d.value;try{for(var p=(a=void 0,FS(h)),_=p.next();!_.done;_=p.next()){var y=_.value;if(!ul(y[0])||!ul(y[1]))return!1}}catch(m){a={error:m}}finally{try{_&&!_.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return SPe},enumerable:!0,configurable:!0}),t}();const IPe=Object.freeze(Object.defineProperty({__proto__:null,LineString:Pu,MultiLineString:cC,MultiPoint:uC,MultiPolygon:Tb,Point:Ma,Polygon:mp},Symbol.toStringTag,{value:"Module"}));var Lc=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var n=new Promise(function(r,i){t=function(o,a){return o?i(o):r(a)}});return t.promise=n,t},Xn;(function(t){t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.PULL="pull",t.PULL_ALL="pullAll",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",t.ADD_TO_SET="addToSet",t.BIT="bit",t.RENAME="rename",t.MAX="max",t.MIN="min"})(Xn||(Xn={}));var Ni=function(){function t(e,n,r){this._internalType=yee,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=n,this.fieldName=r||Cb}return t.prototype._setFieldName=function(e){var n=new t(this.operator,this.operands,e);return n},t}();function E8(t){return t&&t instanceof Ni&&t._internalType===yee}var ls;(function(t){t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor"})(ls||(ls={}));var rp=function(){function t(e,n,r){if(this._internalType=bee,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=n,this.fieldName=r||Cb,this.fieldName!==Cb)if(Array.isArray(n)){n=n.slice(),this.operands=n;for(var i=0,o=n.length;i<o;i++){var a=n[i];(fC(a)||dC(a))&&(n[i]=a._setFieldName(this.fieldName))}}else{var a=n;(fC(a)||dC(a))&&(n=a._setFieldName(this.fieldName))}}return t.prototype._setFieldName=function(e){var n=this.operands.map(function(i){return i instanceof t?i._setFieldName(e):i}),r=new t(this.operator,n,e);return r},t.prototype.and=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(ls.AND,e,this.fieldName)},t.prototype.or=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(ls.OR,e,this.fieldName)},t}();function fC(t){return t&&t instanceof rp&&t._internalType===bee}var RPe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wn;(function(t){t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",t.ALL="all",t.ELEM_MATCH="elemMatch",t.EXISTS="exists",t.SIZE="size",t.MOD="mod",t.GEO_NEAR="geoNear",t.GEO_WITHIN="geoWithin",t.GEO_INTERSECTS="geoIntersects"})(wn||(wn={}));var Qi=function(t){RPe(e,t);function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.operator=n,o._internalType=_ee,o}return e.prototype.toJSON=function(){var n,r;switch(this.operator){case wn.IN:case wn.NIN:return n={},n["$"+this.operator]=this.operands,n;default:return r={},r["$"+this.operator]=this.operands[0],r}},e.prototype._setFieldName=function(n){var r=new e(this.operator,this.operands,n);return r},e.prototype.eq=function(n){var r=new e(wn.EQ,[n],this.fieldName);return this.and(r)},e.prototype.neq=function(n){var r=new e(wn.NEQ,[n],this.fieldName);return this.and(r)},e.prototype.gt=function(n){var r=new e(wn.GT,[n],this.fieldName);return this.and(r)},e.prototype.gte=function(n){var r=new e(wn.GTE,[n],this.fieldName);return this.and(r)},e.prototype.lt=function(n){var r=new e(wn.LT,[n],this.fieldName);return this.and(r)},e.prototype.lte=function(n){var r=new e(wn.LTE,[n],this.fieldName);return this.and(r)},e.prototype.in=function(n){var r=new e(wn.IN,n,this.fieldName);return this.and(r)},e.prototype.nin=function(n){var r=new e(wn.NIN,n,this.fieldName);return this.and(r)},e.prototype.geoNear=function(n){if(!(n.geometry instanceof Ma))throw new TypeError('"geometry" must be of type Point. Received type '+typeof n.geometry);if(n.maxDistance!==void 0&&!ul(n.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof n.maxDistance);if(n.minDistance!==void 0&&!ul(n.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof n.minDistance);var r=new e(wn.GEO_NEAR,[n],this.fieldName);return this.and(r)},e.prototype.geoWithin=function(n){if(!(n.geometry instanceof Tb)&&!(n.geometry instanceof mp))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof n.geometry);var r=new e(wn.GEO_WITHIN,[n],this.fieldName);return this.and(r)},e.prototype.geoIntersects=function(n){if(!(n.geometry instanceof Ma)&&!(n.geometry instanceof Pu)&&!(n.geometry instanceof mp)&&!(n.geometry instanceof uC)&&!(n.geometry instanceof cC)&&!(n.geometry instanceof Tb))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof n.geometry);var r=new e(wn.GEO_INTERSECTS,[n],this.fieldName);return this.and(r)},e}(rp);function dC(t){return t&&t instanceof Qi&&t._internalType===_ee}function x8(t){return dC(t)}var Vd={};for(var Nd in wn)Vd[Nd]="$"+Nd;for(var Nd in ls)Vd[Nd]="$"+Nd;for(var Nd in Xn)Vd[Nd]="$"+Nd;Vd[wn.NEQ]="$ne";Vd[Xn.REMOVE]="$unset";Vd[Xn.SHIFT]="$pop";Vd[Xn.UNSHIFT]="$push";function qv(t){return Vd[t]||"$"+t}var AL=function(){return AL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},AL.apply(this,arguments)},PPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},A8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(PPe(arguments[e]));return t};function Mb(t){return CL(t,[t])}function CL(t,e){if(Cee(t))switch(t._internalType){case wee:return t.toJSON();case See:return t.parse();case Eee:return t.parse();default:return t.toJSON?t.toJSON():t}else{if(Aee(t))return{$date:+t};if(g3(t))return{$regex:t.source,$options:t.flags};if(gi(t))return t.map(function(i){if(e.indexOf(i)>-1)throw new Error("Cannot convert circular structure to JSON");return CL(i,A8(e,[i]))});if(xd(t)){var n=AL({},t);for(var r in n){if(e.indexOf(n[r])>-1)throw new Error("Cannot convert circular structure to JSON");n[r]=CL(n[r],A8(e,[n[r]]))}return n}else return t}}var TL=function(){return TL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TL.apply(this,arguments)},DPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},C8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(DPe(arguments[e]));return t};function Tee(t,e,n,r){var i=TL({},t);for(var o in t)if(!/^\$/.test(o)){var a=t[o];if(a&&xd(a)&&!e(a)){if(r.indexOf(a)>-1)throw new Error("Cannot convert circular structure to JSON");var s=C8(n,[o]),u=C8(r,[a]),l=Tee(a,e,s,u);i[o]=l;var c=!1;for(var f in l)/^\$/.test(f)?c=!0:(i[o+"."+f]=l[f],delete i[o][f]);c||delete i[o]}}return i}function Mee(t){return Tee(t,ML,[],[t])}function T8(t,e,n){e[n]||delete t[n];for(var r in e)t[r]?gi(t[r])?t[r].push(e[r]):xd(t[r])?xd(e[r])?Object.assign(t[r],e[r]):(console.warn("unmergable condition, query is object but condition is "+Xu(e)+", can only overwrite",e,n),t[r]=e[r]):(console.warn("to-merge query is of type "+Xu(t)+", can only overwrite",t,e,n),t[r]=e[r]):t[r]=e[r]}function ML(t){return Cee(t)||Aee(t)||g3(t)}function dd(t){return Mb(t)}var y3=function(){function t(){}return t.encode=function(e){var n=new t;return n.encodeUpdate(e)},t.prototype.encodeUpdate=function(e){return E8(e)?this.encodeUpdateCommand(e):Xu(e)==="object"?this.encodeUpdateObject(e):e},t.prototype.encodeUpdateCommand=function(e){if(e.fieldName===Cb)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case Xn.PUSH:case Xn.PULL:case Xn.PULL_ALL:case Xn.POP:case Xn.SHIFT:case Xn.UNSHIFT:case Xn.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},t.prototype.encodeFieldUpdateCommand=function(e){var n,r,i,o,a=qv(e.operator);switch(e.operator){case Xn.REMOVE:return n={},n[a]=(r={},r[e.fieldName]="",r),n;default:return i={},i[a]=(o={},o[e.fieldName]=e.operands[0],o),i}},t.prototype.encodeArrayUpdateCommand=function(e){var n,r,i,o,a,s,u,l,c,f,d=qv(e.operator);switch(e.operator){case Xn.PUSH:{var h=void 0;return gi(e.operands)?h={$each:e.operands.map(dd)}:h=e.operands,n={},n[d]=(r={},r[e.fieldName]=h,r),n}case Xn.UNSHIFT:{var h={$each:e.operands.map(dd),$position:0};return i={},i[d]=(o={},o[e.fieldName]=h,o),i}case Xn.POP:return a={},a[d]=(s={},s[e.fieldName]=1,s),a;case Xn.SHIFT:return u={},u[d]=(l={},l[e.fieldName]=-1,l),u;default:return c={},c[d]=(f={},f[e.fieldName]=dd(e.operands),f),c}},t.prototype.encodeUpdateObject=function(e){var n=Mee(e);for(var r in n)if(!/^\$/.test(r)){var i=n[r];if(E8(i)){n[r]=i._setFieldName(r);var o=this.encodeUpdateCommand(n[r]);T8(n,o,r)}else{n[r]=i=dd(i);var a=new Ni(Xn.SET,[i],r),o=this.encodeUpdateCommand(a);T8(n,o,r)}}return n},t}(),cP={};function Oee(t){if(!oa.wsClientClass)throw new Error("to use realtime you must import realtime module first");var e=t.config.env;return cP[e]||(cP[e]=new oa.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new oa.reqClass(t.config)}}})),cP[e]}var hC=function(){return hC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hC.apply(this,arguments)},M8=function(){function t(e,n,r,i){var o=this;i===void 0&&(i={}),this.watch=function(a){var s=Oee(o._db);return s.watch(hC(hC({},a),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=n,this.id=r,this.request=new oa.reqClass(this._db.config),this.projection=i}return t.prototype.create=function(e,n){n=n||Lc();var r={collectionName:this._coll,data:Mb(e)};return this.id&&(r._id=this.id),this.request.send("database.addDocument",r).then(function(i){i.code?n(0,i):n(0,{id:i.data._id,requestId:i.requestId})}).catch(function(i){n(i)}),n.promise},t.prototype.set=function(e,n){if(n=n||Lc(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId"});if(!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var r=!1,i=function(s){if(typeof s=="object")for(var u in s)s[u]instanceof Ni?r=!0:typeof s[u]=="object"&&i(s[u])};if(i(e),r)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var o=!1,a={collectionName:this._coll,queryType:Fu.DOC,data:Mb(e),multi:!1,merge:o,upsert:!0};return this.id&&(a.query={_id:this.id}),this.request.send("database.updateDocument",a).then(function(s){s.code?n(0,s):n(0,{updated:s.data.updated,upsertedId:s.data.upserted_id,requestId:s.requestId})}).catch(function(s){n(s)}),n.promise},t.prototype.update=function(e,n){if(n=n||Lc(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var r={_id:this.id},i=!0,o={collectionName:this._coll,data:y3.encode(e),query:r,queryType:Fu.DOC,multi:!1,merge:i,upsert:!1};return this.request.send("database.updateDocument",o).then(function(a){a.code?n(0,a):n(0,{updated:a.data.updated,upsertedId:a.data.upserted_id,requestId:a.requestId})}).catch(function(a){n(a)}),n.promise},t.prototype.remove=function(e){e=e||Lc();var n={_id:this.id},r={collectionName:this._coll,query:n,queryType:Fu.DOC,multi:!1};return this.request.send("database.deleteDocument",r).then(function(i){i.code?e(0,i):e(0,{deleted:i.data.deleted,requestId:i.requestId})}).catch(function(i){e(i)}),e.promise},t.prototype.get=function(e){e=e||Lc();var n={_id:this.id},r={collectionName:this._coll,query:n,queryType:Fu.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",r).then(function(i){if(i.code)e(0,i);else{var o=jT.formatResDocumentData(i.data.list);e(0,{data:o,requestId:i.requestId})}}).catch(function(i){e(i)}),e.promise},t.prototype.field=function(e){for(var n in e)e[n]?e[n]=1:e[n]=0;return new t(this._db,this._coll,this.id,e)},t}(),pC=function(){function t(){}return t.encode=function(e){var n=new LPe;return n.encodeQuery(e)},t}(),LPe=function(){function t(){}return t.prototype.encodeQuery=function(e,n){var r;return ML(e)?fC(e)?this.encodeLogicCommand(e):dC(e)?this.encodeQueryCommand(e):(r={},r[n]=this.encodeQueryObject(e),r):xd(e)?this.encodeQueryObject(e):e},t.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},t.prototype.encodeLogicCommand=function(e){var n,r,i,o,a,s,u,l=this;switch(e.operator){case ls.NOR:case ls.AND:case ls.OR:{var c=qv(e.operator),f=e.operands.map(function(p){return l.encodeQuery(p,e.fieldName)});return n={},n[c]=f,n}case ls.NOT:{var c=qv(e.operator),d=e.operands[0];if(g3(d))return r={},r[e.fieldName]=(i={},i[c]=this.encodeRegExp(d),i),r;var f=this.encodeQuery(d)[e.fieldName];return o={},o[e.fieldName]=(a={},a[c]=f,a),o}default:{var c=qv(e.operator);if(e.operands.length===1){var h=this.encodeQuery(e.operands[0]);return s={},s[c]=h,s}else{var f=e.operands.map(this.encodeQuery.bind(this));return u={},u[c]=f,u}}}},t.prototype.encodeQueryCommand=function(e){return x8(e)?this.encodeComparisonCommand(e):this.encodeComparisonCommand(e)},t.prototype.encodeComparisonCommand=function(e){var n,r,i,o,a,s,u,l,c;if(e.fieldName===Cb)throw new Error("Cannot encode a comparison command with unset field name");var f=qv(e.operator);switch(e.operator){case wn.EQ:case wn.NEQ:case wn.LT:case wn.LTE:case wn.GT:case wn.GTE:case wn.ELEM_MATCH:case wn.EXISTS:case wn.SIZE:case wn.MOD:return n={},n[e.fieldName]=(r={},r[f]=dd(e.operands[0]),r),n;case wn.IN:case wn.NIN:case wn.ALL:return i={},i[e.fieldName]=(o={},o[f]=dd(e.operands),o),i;case wn.GEO_NEAR:{var d=e.operands[0];return a={},a[e.fieldName]={$nearSphere:{$geometry:d.geometry.toJSON(),$maxDistance:d.maxDistance,$minDistance:d.minDistance}},a}case wn.GEO_WITHIN:{var d=e.operands[0];return s={},s[e.fieldName]={$geoWithin:{$geometry:d.geometry.toJSON()}},s}case wn.GEO_INTERSECTS:{var d=e.operands[0];return u={},u[e.fieldName]={$geoIntersects:{$geometry:d.geometry.toJSON()}},u}default:return l={},l[e.fieldName]=(c={},c[f]=dd(e.operands[0]),c),l}},t.prototype.encodeQueryObject=function(e){var n=Mee(e);for(var r in n){var i=n[r];if(fC(i)){n[r]=i._setFieldName(r);var o=this.encodeLogicCommand(n[r]);this.mergeConditionAfterEncode(n,o,r)}else if(x8(i)){n[r]=i._setFieldName(r);var o=this.encodeComparisonCommand(n[r]);this.mergeConditionAfterEncode(n,o,r)}else ML(i)&&(n[r]=dd(i))}return n},t.prototype.mergeConditionAfterEncode=function(e,n,r){n[r]||delete e[r];for(var i in n)e[i]?gi(e[i])?e[i]=e[i].concat(n[i]):xd(e[i])?xd(n[i])?Object.assign(e,n):(console.warn("unmergable condition, query is object but condition is "+Xu(n)+", can only overwrite",n,r),e[i]=n[i]):(console.warn("to-merge query is of type "+Xu(e)+", can only overwrite",e,n,r),e[i]=n[i]):e[i]=n[i]},t}(),Xh=function(){return Xh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xh.apply(this,arguments)},NPe=function(){function t(e,n,r,i,o){var a=this;this.watch=function(s){var u=Oee(a._db);return u.watch(Xh(Xh({},s),{envId:a._db.config.env,collectionName:a._coll,query:JSON.stringify(a._fieldFilters||{}),limit:a._queryOptions.limit,orderBy:a._fieldOrders?a._fieldOrders.reduce(function(l,c){return l[c.field]=c.direction,l},{}):void 0}))},this._db=e,this._coll=n,this._fieldFilters=r,this._fieldOrders=i||[],this._queryOptions=o||{},this._request=new oa.reqClass(this._db.config)}return t.prototype.get=function(e){e=e||Lc();var n=[];this._fieldOrders&&this._fieldOrders.forEach(function(i){n.push(i)});var r={collectionName:this._coll,queryType:Fu.WHERE};return this._fieldFilters&&(r.query=this._fieldFilters),n.length>0&&(r.order=n),this._queryOptions.offset&&(r.offset=this._queryOptions.offset),this._queryOptions.limit?r.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:r.limit=100,this._queryOptions.projection&&(r.projection=this._queryOptions.projection),this._request.send("database.queryDocument",r).then(function(i){if(i.code)e(0,i);else{var o=jT.formatResDocumentData(i.data.list),a={data:o,requestId:i.requestId};i.total&&(a.total=i.total),i.limit&&(a.limit=i.limit),i.offset&&(a.offset=i.offset),e(0,a)}}).catch(function(i){e(i)}),e.promise},t.prototype.count=function(e){e=e||Lc();var n={collectionName:this._coll,queryType:Fu.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),this._request.send("database.countDocument",n).then(function(r){r.code?e(0,r):e(0,{requestId:r.requestId,total:r.data.total})}).catch(function(r){e(r)}),e.promise},t.prototype.where=function(e){if(Object.prototype.toString.call(e).slice(8,-1)!=="Object")throw Error(Dc.QueryParamTypeError);var n=Object.keys(e),r=n.some(function(i){return e[i]!==void 0});if(n.length&&!r)throw Error(Dc.QueryParamValueError);return new t(this._db,this._coll,pC.encode(e),this._fieldOrders,this._queryOptions)},t.prototype.orderBy=function(e,n){fd.isFieldPath(e),fd.isFieldOrder(n);var r={field:e,direction:n},i=this._fieldOrders.concat(r);return new t(this._db,this._coll,this._fieldFilters,i,this._queryOptions)},t.prototype.limit=function(e){fd.isInteger("limit",e);var n=Xh({},this._queryOptions);return n.limit=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.skip=function(e){fd.isInteger("offset",e);var n=Xh({},this._queryOptions);return n.offset=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.update=function(e,n){if(n=n||Lc(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var r={collectionName:this._coll,query:this._fieldFilters,queryType:Fu.WHERE,multi:!0,merge:!0,upsert:!1,data:y3.encode(e)};return this._request.send("database.updateDocument",r).then(function(i){i.code?n(0,i):n(0,{requestId:i.requestId,updated:i.data.updated,upsertId:i.data.upsert_id})}).catch(function(i){n(i)}),n.promise},t.prototype.field=function(e){for(var n in e)e[n]?typeof e[n]!="object"&&(e[n]=1):e[n]=0;var r=Xh({},this._queryOptions);return r.projection=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.remove=function(e){e=e||Lc(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var n={collectionName:this._coll,query:pC.encode(this._fieldFilters),queryType:Fu.WHERE,multi:!0};return this._request.send("database.deleteDocument",n).then(function(r){r.code?e(0,r):e(0,{requestId:r.requestId,deleted:r.data.deleted})}).catch(function(r){e(r)}),e.promise},t}();function BPe(t,e){return e={exports:{}},t(e,e.exports),e.exports}var FPe=$Pe,kPe=GPe,UPe=qPe,Du=[],zs=[],jPe=typeof Uint8Array<"u"?Uint8Array:Array,fP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var km=0,HPe=fP.length;km<HPe;++km)Du[km]=fP[km],zs[fP.charCodeAt(km)]=km;zs[45]=62;zs[95]=63;function Iee(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function $Pe(t){var e=Iee(t),n=e[0],r=e[1];return(n+r)*3/4-r}function zPe(t,e,n){return(e+n)*3/4-n}function GPe(t){var e,n=Iee(t),r=n[0],i=n[1],o=new jPe(zPe(t,r,i)),a=0,s=i>0?r-4:r,u;for(u=0;u<s;u+=4)e=zs[t.charCodeAt(u)]<<18|zs[t.charCodeAt(u+1)]<<12|zs[t.charCodeAt(u+2)]<<6|zs[t.charCodeAt(u+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=zs[t.charCodeAt(u)]<<2|zs[t.charCodeAt(u+1)]>>4,o[a++]=e&255),i===1&&(e=zs[t.charCodeAt(u)]<<10|zs[t.charCodeAt(u+1)]<<4|zs[t.charCodeAt(u+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function WPe(t){return Du[t>>18&63]+Du[t>>12&63]+Du[t>>6&63]+Du[t&63]}function VPe(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(WPe(r));return i.join("")}function qPe(t){for(var e,n=t.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(VPe(t,a,a+o>s?s:a+o));return r===1?(e=t[n-1],i.push(Du[e>>2]+Du[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Du[e>>10]+Du[e>>4&63]+Du[e<<2&63]+"=")),i.join("")}var dP={byteLength:FPe,toByteArray:kPe,fromByteArray:UPe};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var KPe=function(e,n,r,i,o){var a,s,u=o*8-i-1,l=(1<<u)-1,c=l>>1,f=-7,d=r?o-1:0,h=r?-1:1,p=e[n+d];for(d+=h,a=p&(1<<-f)-1,p>>=-f,f+=u;f>0;a=a*256+e[n+d],d+=h,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=i;f>0;s=s*256+e[n+d],d+=h,f-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-c}return(p?-1:1)*s*Math.pow(2,a-i)},XPe=function(e,n,r,i,o,a){var s,u,l,c=a*8-o-1,f=(1<<c)-1,d=f>>1,h=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,_=i?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,s=f):(s=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?n+=h/l:n+=h*Math.pow(2,1-d),n*l>=2&&(s++,l/=2),s+d>=f?(u=0,s=f):s+d>=1?(u=(n*l-1)*Math.pow(2,o),s=s+d):(u=n*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=u&255,p+=_,u/=256,o-=8);for(s=s<<o|u,c+=o;c>0;e[r+p]=s&255,p+=_,s/=256,c-=8);e[r+p-_]|=y*128},Um={read:KPe,write:XPe},HT=BPe(function(t,e){var n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50;var r=2147483647;e.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var K=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(K,U),K.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(K){if(K>r)throw new RangeError('The value "'+K+'" is invalid for option "size"');var U=new Uint8Array(K);return Object.setPrototypeOf(U,a.prototype),U}function a(K,U,G){if(typeof K=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(K)}return s(K,U,G)}a.poolSize=8192;function s(K,U,G){if(typeof K=="string")return f(K,U);if(ArrayBuffer.isView(K))return h(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(K));if(ne(K,ArrayBuffer)||K&&ne(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(K,SharedArrayBuffer)||K&&ne(K.buffer,SharedArrayBuffer)))return p(K,U,G);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var te=K.valueOf&&K.valueOf();if(te!=null&&te!==K)return a.from(te,U,G);var q=_(K);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return a.from(K[Symbol.toPrimitive]("string"),U,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(K))}a.from=function(K,U,G){return s(K,U,G)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function l(K,U,G){return u(K),K<=0?o(K):U!==void 0?typeof G=="string"?o(K).fill(U,G):o(K).fill(U):o(K)}a.alloc=function(K,U,G){return l(K,U,G)};function c(K){return u(K),o(K<0?0:y(K)|0)}a.allocUnsafe=function(K){return c(K)},a.allocUnsafeSlow=function(K){return c(K)};function f(K,U){if((typeof U!="string"||U==="")&&(U="utf8"),!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);var G=b(K,U)|0,te=o(G),q=te.write(K,U);return q!==G&&(te=te.slice(0,q)),te}function d(K){for(var U=K.length<0?0:y(K.length)|0,G=o(U),te=0;te<U;te+=1)G[te]=K[te]&255;return G}function h(K){if(ne(K,Uint8Array)){var U=new Uint8Array(K);return p(U.buffer,U.byteOffset,U.byteLength)}return d(K)}function p(K,U,G){if(U<0||K.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<U+(G||0))throw new RangeError('"length" is outside of buffer bounds');var te;return U===void 0&&G===void 0?te=new Uint8Array(K):G===void 0?te=new Uint8Array(K,U):te=new Uint8Array(K,U,G),Object.setPrototypeOf(te,a.prototype),te}function _(K){if(a.isBuffer(K)){var U=y(K.length)|0,G=o(U);return G.length===0||K.copy(G,0,0,U),G}if(K.length!==void 0)return typeof K.length!="number"||Me(K.length)?o(0):d(K);if(K.type==="Buffer"&&Array.isArray(K.data))return d(K.data)}function y(K){if(K>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return K|0}function m(K){return+K!=K&&(K=0),a.alloc(+K)}a.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==a.prototype},a.compare=function(U,G){if(ne(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),ne(G,Uint8Array)&&(G=a.from(G,G.offset,G.byteLength)),!a.isBuffer(U)||!a.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===G)return 0;for(var te=U.length,q=G.length,V=0,ae=Math.min(te,q);V<ae;++V)if(U[V]!==G[V]){te=U[V],q=G[V];break}return te<q?-1:q<te?1:0},a.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(U,G){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return a.alloc(0);var te;if(G===void 0)for(G=0,te=0;te<U.length;++te)G+=U[te].length;var q=a.allocUnsafe(G),V=0;for(te=0;te<U.length;++te){var ae=U[te];if(ne(ae,Uint8Array))V+ae.length>q.length?a.from(ae).copy(q,V):Uint8Array.prototype.set.call(q,ae,V);else if(a.isBuffer(ae))ae.copy(q,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=ae.length}return q};function b(K,U){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ne(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(K));var G=K.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&G===0)return 0;for(var q=!1;;)switch(U){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return ce(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return he(K).length;default:if(q)return te?-1:ce(K).length;U=(""+U).toLowerCase(),q=!0}}a.byteLength=b;function w(K,U,G){var te=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,U>>>=0,G<=U))return"";for(K||(K="utf8");;)switch(K){case"hex":return F(this,U,G);case"utf8":case"utf-8":return H(this,U,G);case"ascii":return j(this,U,G);case"latin1":case"binary":return $(this,U,G);case"base64":return N(this,U,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,U,G);default:if(te)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),te=!0}}a.prototype._isBuffer=!0;function S(K,U,G){var te=K[U];K[U]=K[G],K[G]=te}a.prototype.swap16=function(){var U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<U;G+=2)S(this,G,G+1);return this},a.prototype.swap32=function(){var U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<U;G+=4)S(this,G,G+3),S(this,G+1,G+2);return this},a.prototype.swap64=function(){var U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<U;G+=8)S(this,G,G+7),S(this,G+1,G+6),S(this,G+2,G+5),S(this,G+3,G+4);return this},a.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?H(this,0,U):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(U){if(!a.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:a.compare(this,U)===0},a.prototype.inspect=function(){var U="",G=e.INSPECT_MAX_BYTES;return U=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(U+=" ... "),"<Buffer "+U+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(U,G,te,q,V){if(ne(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(U));if(G===void 0&&(G=0),te===void 0&&(te=U?U.length:0),q===void 0&&(q=0),V===void 0&&(V=this.length),G<0||te>U.length||q<0||V>this.length)throw new RangeError("out of range index");if(q>=V&&G>=te)return 0;if(q>=V)return-1;if(G>=te)return 1;if(G>>>=0,te>>>=0,q>>>=0,V>>>=0,this===U)return 0;for(var ae=V-q,Ae=te-G,Oe=Math.min(ae,Ae),Te=this.slice(q,V),Ue=U.slice(G,te),Be=0;Be<Oe;++Be)if(Te[Be]!==Ue[Be]){ae=Te[Be],Ae=Ue[Be];break}return ae<Ae?-1:Ae<ae?1:0};function x(K,U,G,te,q){if(K.length===0)return-1;if(typeof G=="string"?(te=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,Me(G)&&(G=q?0:K.length-1),G<0&&(G=K.length+G),G>=K.length){if(q)return-1;G=K.length-1}else if(G<0)if(q)G=0;else return-1;if(typeof U=="string"&&(U=a.from(U,te)),a.isBuffer(U))return U.length===0?-1:E(K,U,G,te,q);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(K,U,G):Uint8Array.prototype.lastIndexOf.call(K,U,G):E(K,[U],G,te,q);throw new TypeError("val must be string, number or Buffer")}function E(K,U,G,te,q){var V=1,ae=K.length,Ae=U.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(K.length<2||U.length<2)return-1;V=2,ae/=2,Ae/=2,G/=2}function Oe(Ze,at){return V===1?Ze[at]:Ze.readUInt16BE(at*V)}var Te;if(q){var Ue=-1;for(Te=G;Te<ae;Te++)if(Oe(K,Te)===Oe(U,Ue===-1?0:Te-Ue)){if(Ue===-1&&(Ue=Te),Te-Ue+1===Ae)return Ue*V}else Ue!==-1&&(Te-=Te-Ue),Ue=-1}else for(G+Ae>ae&&(G=ae-Ae),Te=G;Te>=0;Te--){for(var Be=!0,Qe=0;Qe<Ae;Qe++)if(Oe(K,Te+Qe)!==Oe(U,Qe)){Be=!1;break}if(Be)return Te}return-1}a.prototype.includes=function(U,G,te){return this.indexOf(U,G,te)!==-1},a.prototype.indexOf=function(U,G,te){return x(this,U,G,te,!0)},a.prototype.lastIndexOf=function(U,G,te){return x(this,U,G,te,!1)};function M(K,U,G,te){G=Number(G)||0;var q=K.length-G;te?(te=Number(te),te>q&&(te=q)):te=q;var V=U.length;te>V/2&&(te=V/2);for(var ae=0;ae<te;++ae){var Ae=parseInt(U.substr(ae*2,2),16);if(Me(Ae))return ae;K[G+ae]=Ae}return ae}function O(K,U,G,te){return we(ce(U,K.length-G),K,G,te)}function C(K,U,G,te){return we(ve(U),K,G,te)}function T(K,U,G,te){return we(he(U),K,G,te)}function P(K,U,G,te){return we(xe(U,K.length-G),K,G,te)}a.prototype.write=function(U,G,te,q){if(G===void 0)q="utf8",te=this.length,G=0;else if(te===void 0&&typeof G=="string")q=G,te=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(te)?(te=te>>>0,q===void 0&&(q="utf8")):(q=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-G;if((te===void 0||te>V)&&(te=V),U.length>0&&(te<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var ae=!1;;)switch(q){case"hex":return M(this,U,G,te);case"utf8":case"utf-8":return O(this,U,G,te);case"ascii":case"latin1":case"binary":return C(this,U,G,te);case"base64":return T(this,U,G,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,U,G,te);default:if(ae)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(K,U,G){return U===0&&G===K.length?dP.fromByteArray(K):dP.fromByteArray(K.slice(U,G))}function H(K,U,G){G=Math.min(K.length,G);for(var te=[],q=U;q<G;){var V=K[q],ae=null,Ae=V>239?4:V>223?3:V>191?2:1;if(q+Ae<=G){var Oe,Te,Ue,Be;switch(Ae){case 1:V<128&&(ae=V);break;case 2:Oe=K[q+1],(Oe&192)===128&&(Be=(V&31)<<6|Oe&63,Be>127&&(ae=Be));break;case 3:Oe=K[q+1],Te=K[q+2],(Oe&192)===128&&(Te&192)===128&&(Be=(V&15)<<12|(Oe&63)<<6|Te&63,Be>2047&&(Be<55296||Be>57343)&&(ae=Be));break;case 4:Oe=K[q+1],Te=K[q+2],Ue=K[q+3],(Oe&192)===128&&(Te&192)===128&&(Ue&192)===128&&(Be=(V&15)<<18|(Oe&63)<<12|(Te&63)<<6|Ue&63,Be>65535&&Be<1114112&&(ae=Be))}}ae===null?(ae=65533,Ae=1):ae>65535&&(ae-=65536,te.push(ae>>>10&1023|55296),ae=56320|ae&1023),te.push(ae),q+=Ae}return k(te)}var B=4096;function k(K){var U=K.length;if(U<=B)return String.fromCharCode.apply(String,K);for(var G="",te=0;te<U;)G+=String.fromCharCode.apply(String,K.slice(te,te+=B));return G}function j(K,U,G){var te="";G=Math.min(K.length,G);for(var q=U;q<G;++q)te+=String.fromCharCode(K[q]&127);return te}function $(K,U,G){var te="";G=Math.min(K.length,G);for(var q=U;q<G;++q)te+=String.fromCharCode(K[q]);return te}function F(K,U,G){var te=K.length;(!U||U<0)&&(U=0),(!G||G<0||G>te)&&(G=te);for(var q="",V=U;V<G;++V)q+=Ce[K[V]];return q}function R(K,U,G){for(var te=K.slice(U,G),q="",V=0;V<te.length-1;V+=2)q+=String.fromCharCode(te[V]+te[V+1]*256);return q}a.prototype.slice=function(U,G){var te=this.length;U=~~U,G=G===void 0?te:~~G,U<0?(U+=te,U<0&&(U=0)):U>te&&(U=te),G<0?(G+=te,G<0&&(G=0)):G>te&&(G=te),G<U&&(G=U);var q=this.subarray(U,G);return Object.setPrototypeOf(q,a.prototype),q};function L(K,U,G){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+U>G)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(U,G,te){U=U>>>0,G=G>>>0,te||L(U,G,this.length);for(var q=this[U],V=1,ae=0;++ae<G&&(V*=256);)q+=this[U+ae]*V;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(U,G,te){U=U>>>0,G=G>>>0,te||L(U,G,this.length);for(var q=this[U+--G],V=1;G>0&&(V*=256);)q+=this[U+--G]*V;return q},a.prototype.readUint8=a.prototype.readUInt8=function(U,G){return U=U>>>0,G||L(U,1,this.length),this[U]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(U,G){return U=U>>>0,G||L(U,2,this.length),this[U]|this[U+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(U,G){return U=U>>>0,G||L(U,2,this.length),this[U]<<8|this[U+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(U,G){return U=U>>>0,G||L(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(U,G){return U=U>>>0,G||L(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},a.prototype.readIntLE=function(U,G,te){U=U>>>0,G=G>>>0,te||L(U,G,this.length);for(var q=this[U],V=1,ae=0;++ae<G&&(V*=256);)q+=this[U+ae]*V;return V*=128,q>=V&&(q-=Math.pow(2,8*G)),q},a.prototype.readIntBE=function(U,G,te){U=U>>>0,G=G>>>0,te||L(U,G,this.length);for(var q=G,V=1,ae=this[U+--q];q>0&&(V*=256);)ae+=this[U+--q]*V;return V*=128,ae>=V&&(ae-=Math.pow(2,8*G)),ae},a.prototype.readInt8=function(U,G){return U=U>>>0,G||L(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},a.prototype.readInt16LE=function(U,G){U=U>>>0,G||L(U,2,this.length);var te=this[U]|this[U+1]<<8;return te&32768?te|4294901760:te},a.prototype.readInt16BE=function(U,G){U=U>>>0,G||L(U,2,this.length);var te=this[U+1]|this[U]<<8;return te&32768?te|4294901760:te},a.prototype.readInt32LE=function(U,G){return U=U>>>0,G||L(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},a.prototype.readInt32BE=function(U,G){return U=U>>>0,G||L(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},a.prototype.readFloatLE=function(U,G){return U=U>>>0,G||L(U,4,this.length),Um.read(this,U,!0,23,4)},a.prototype.readFloatBE=function(U,G){return U=U>>>0,G||L(U,4,this.length),Um.read(this,U,!1,23,4)},a.prototype.readDoubleLE=function(U,G){return U=U>>>0,G||L(U,8,this.length),Um.read(this,U,!0,52,8)},a.prototype.readDoubleBE=function(U,G){return U=U>>>0,G||L(U,8,this.length),Um.read(this,U,!1,52,8)};function W(K,U,G,te,q,V){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>q||U<V)throw new RangeError('"value" argument is out of bounds');if(G+te>K.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(U,G,te,q){if(U=+U,G=G>>>0,te=te>>>0,!q){var V=Math.pow(2,8*te)-1;W(this,U,G,te,V,0)}var ae=1,Ae=0;for(this[G]=U&255;++Ae<te&&(ae*=256);)this[G+Ae]=U/ae&255;return G+te},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(U,G,te,q){if(U=+U,G=G>>>0,te=te>>>0,!q){var V=Math.pow(2,8*te)-1;W(this,U,G,te,V,0)}var ae=te-1,Ae=1;for(this[G+ae]=U&255;--ae>=0&&(Ae*=256);)this[G+ae]=U/Ae&255;return G+te},a.prototype.writeUint8=a.prototype.writeUInt8=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,1,255,0),this[G]=U&255,G+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,2,65535,0),this[G]=U&255,this[G+1]=U>>>8,G+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,2,65535,0),this[G]=U>>>8,this[G+1]=U&255,G+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,4,4294967295,0),this[G+3]=U>>>24,this[G+2]=U>>>16,this[G+1]=U>>>8,this[G]=U&255,G+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,4,4294967295,0),this[G]=U>>>24,this[G+1]=U>>>16,this[G+2]=U>>>8,this[G+3]=U&255,G+4},a.prototype.writeIntLE=function(U,G,te,q){if(U=+U,G=G>>>0,!q){var V=Math.pow(2,8*te-1);W(this,U,G,te,V-1,-V)}var ae=0,Ae=1,Oe=0;for(this[G]=U&255;++ae<te&&(Ae*=256);)U<0&&Oe===0&&this[G+ae-1]!==0&&(Oe=1),this[G+ae]=(U/Ae>>0)-Oe&255;return G+te},a.prototype.writeIntBE=function(U,G,te,q){if(U=+U,G=G>>>0,!q){var V=Math.pow(2,8*te-1);W(this,U,G,te,V-1,-V)}var ae=te-1,Ae=1,Oe=0;for(this[G+ae]=U&255;--ae>=0&&(Ae*=256);)U<0&&Oe===0&&this[G+ae+1]!==0&&(Oe=1),this[G+ae]=(U/Ae>>0)-Oe&255;return G+te},a.prototype.writeInt8=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,1,127,-128),U<0&&(U=255+U+1),this[G]=U&255,G+1},a.prototype.writeInt16LE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,2,32767,-32768),this[G]=U&255,this[G+1]=U>>>8,G+2},a.prototype.writeInt16BE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,2,32767,-32768),this[G]=U>>>8,this[G+1]=U&255,G+2},a.prototype.writeInt32LE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,4,2147483647,-2147483648),this[G]=U&255,this[G+1]=U>>>8,this[G+2]=U>>>16,this[G+3]=U>>>24,G+4},a.prototype.writeInt32BE=function(U,G,te){return U=+U,G=G>>>0,te||W(this,U,G,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[G]=U>>>24,this[G+1]=U>>>16,this[G+2]=U>>>8,this[G+3]=U&255,G+4};function Z(K,U,G,te,q,V){if(G+te>K.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function ee(K,U,G,te,q){return U=+U,G=G>>>0,q||Z(K,U,G,4),Um.write(K,U,G,te,23,4),G+4}a.prototype.writeFloatLE=function(U,G,te){return ee(this,U,G,!0,te)},a.prototype.writeFloatBE=function(U,G,te){return ee(this,U,G,!1,te)};function oe(K,U,G,te,q){return U=+U,G=G>>>0,q||Z(K,U,G,8),Um.write(K,U,G,te,52,8),G+8}a.prototype.writeDoubleLE=function(U,G,te){return oe(this,U,G,!0,te)},a.prototype.writeDoubleBE=function(U,G,te){return oe(this,U,G,!1,te)},a.prototype.copy=function(U,G,te,q){if(!a.isBuffer(U))throw new TypeError("argument should be a Buffer");if(te||(te=0),!q&&q!==0&&(q=this.length),G>=U.length&&(G=U.length),G||(G=0),q>0&&q<te&&(q=te),q===te||U.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),U.length-G<q-te&&(q=U.length-G+te);var V=q-te;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,te,q):Uint8Array.prototype.set.call(U,this.subarray(te,q),G),V},a.prototype.fill=function(U,G,te,q){if(typeof U=="string"){if(typeof G=="string"?(q=G,G=0,te=this.length):typeof te=="string"&&(q=te,te=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(U.length===1){var V=U.charCodeAt(0);(q==="utf8"&&V<128||q==="latin1")&&(U=V)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(G<0||this.length<G||this.length<te)throw new RangeError("Out of range index");if(te<=G)return this;G=G>>>0,te=te===void 0?this.length:te>>>0,U||(U=0);var ae;if(typeof U=="number")for(ae=G;ae<te;++ae)this[ae]=U;else{var Ae=a.isBuffer(U)?U:a.from(U,q),Oe=Ae.length;if(Oe===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ae=0;ae<te-G;++ae)this[ae+G]=Ae[ae%Oe]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function ie(K){if(K=K.split("=")[0],K=K.trim().replace(pe,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function ce(K,U){U=U||1/0;for(var G,te=K.length,q=null,V=[],ae=0;ae<te;++ae){if(G=K.charCodeAt(ae),G>55295&&G<57344){if(!q){if(G>56319){(U-=3)>-1&&V.push(239,191,189);continue}else if(ae+1===te){(U-=3)>-1&&V.push(239,191,189);continue}q=G;continue}if(G<56320){(U-=3)>-1&&V.push(239,191,189),q=G;continue}G=(q-55296<<10|G-56320)+65536}else q&&(U-=3)>-1&&V.push(239,191,189);if(q=null,G<128){if((U-=1)<0)break;V.push(G)}else if(G<2048){if((U-=2)<0)break;V.push(G>>6|192,G&63|128)}else if(G<65536){if((U-=3)<0)break;V.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((U-=4)<0)break;V.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return V}function ve(K){for(var U=[],G=0;G<K.length;++G)U.push(K.charCodeAt(G)&255);return U}function xe(K,U){for(var G,te,q,V=[],ae=0;ae<K.length&&!((U-=2)<0);++ae)G=K.charCodeAt(ae),te=G>>8,q=G%256,V.push(q),V.push(te);return V}function he(K){return dP.toByteArray(ie(K))}function we(K,U,G,te){for(var q=0;q<te&&!(q+G>=U.length||q>=K.length);++q)U[q+G]=K[q];return q}function ne(K,U){return K instanceof U||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===U.name}function Me(K){return K!==K}var Ce=function(){for(var K="0123456789abcdef",U=new Array(256),G=0;G<16;++G)for(var te=G*16,q=0;q<16;++q)U[te+q]=K[G]+K[q];return U}()}),sr=HT.Buffer;HT.SlowBuffer;HT.INSPECT_MAX_BYTES;HT.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OL=function(e,n){return OL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},OL(e,n)};function $T(t,e){OL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vp=function(t){$T(e,t);function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),ci=function(t){$T(e,t);function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);function kS(t){return t&&t.Math==Math&&t}function Ree(){return kS(typeof globalThis=="object"&&globalThis)||kS(typeof window=="object"&&window)||kS(typeof self=="object"&&self)||kS(typeof global=="object"&&global)||Function("return this")()}function JPe(){var t=Ree();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}var YPe=function(e){var n=JPe()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(n);for(var r=sr.alloc(e),i=0;i<e;++i)r[i]=Math.floor(Math.random()*256);return r},ZPe=function(){{if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(e){return t.getRandomValues(sr.alloc(e))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(e){return global.crypto.getRandomValues(sr.alloc(e))}:YPe}},Pee=ZPe();function QPe(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function _3(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function e2e(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function t2e(t){return Sw(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Sw(t){return typeof t=="object"&&t!==null}function zT(t,e){var n=!1;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n||(console.warn(e),n=!0),t.apply(this,i)}return r}function mC(t){if(ArrayBuffer.isView(t))return sr.from(t.buffer,t.byteOffset,t.byteLength);if(QPe(t))return sr.from(t);throw new ci("Must use either Buffer or TypedArray")}var n2e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Dee=function(t){return typeof t=="string"&&n2e.test(t)},IL=function(t){if(!Dee(t))throw new ci('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return sr.from(e,"hex")},O8=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},r2e=Math.pow(2,53),i2e=-Math.pow(2,53),Lee=4,gp=function(){function t(e,n){if(!(this instanceof t))return new t(e,n);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new ci("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=n??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=sr.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=sr.from(e,"binary"):Array.isArray(e)?this.buffer=sr.from(e):this.buffer=mC(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new ci("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new ci("only accepts single character Uint8Array or Array");var n;if(typeof e=="string"?n=e.charCodeAt(0):typeof e=="number"?n=e:n=e[0],n<0||n>255)throw new ci("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=sr.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},t.prototype.write=function(e,n){if(n=typeof n=="number"?n:this.position,this.buffer.length<n+e.length){var r=sr.alloc(this.buffer.length+e.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r}ArrayBuffer.isView(e)?(this.buffer.set(mC(e),n),this.position=n+e.byteLength>this.position?n+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,n,e.length,"binary"),this.position=n+e.length>this.position?n+e.length:this.position)},t.prototype.read=function(e,n){return n=n&&n>0?n:this.position,this.buffer.slice(e,e+n)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var n=this.buffer.toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:n,$type:r.length===1?"0"+r:r}:{$binary:{base64:n,subType:r.length===1?"0"+r:r}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new I8(this.buffer.slice(0,this.position));throw new vp('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(e,n){n=n||{};var r,i;if("$binary"in e?n.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,r=sr.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,r=sr.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,r=IL(e.$uuid)),!r)throw new ci("Unexpected Binary Extended JSON format ".concat(JSON.stringify(e)));return i===Lee?new I8(r):new t(r,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(gp.prototype,"_bsontype",{value:"Binary"});var hP=16,I8=function(t){$T(e,t);function e(n){var r=this,i,o;if(n==null)i=e.generate();else if(n instanceof e)i=sr.from(n.buffer),o=n.__id;else if(ArrayBuffer.isView(n)&&n.byteLength===hP)i=mC(n);else if(typeof n=="string")i=IL(n);else throw new ci("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return r=t.call(this,i,Lee)||this,r.__id=o,r}return Object.defineProperty(e.prototype,"id",{get:function(){return this.buffer},set:function(n){this.buffer=n,e.cacheHexString&&(this.__id=O8(n))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(n){if(n===void 0&&(n=!0),e.cacheHexString&&this.__id)return this.__id;var r=O8(this.id,n);return e.cacheHexString&&(this.__id=r),r},e.prototype.toString=function(n){return n?this.id.toString(n):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(n){if(!n)return!1;if(n instanceof e)return n.id.equals(this.id);try{return new e(n).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new gp(this.id,gp.SUBTYPE_UUID)},e.generate=function(){var n=Pee(hP);return n[6]=n[6]&15|64,n[8]=n[8]&63|128,sr.from(n)},e.isValid=function(n){return n?n instanceof e?!0:typeof n=="string"?Dee(n):_3(n)?n.length!==hP?!1:(n[6]&240)===64&&(n[8]&128)===128:!1:!1},e.createFromHexString=function(n){var r=IL(n);return new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},e}(gp),GT=function(){function t(e,n){if(!(this instanceof t))return new t(e,n);this.code=e,this.scope=n}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},t}();Object.defineProperty(GT.prototype,"_bsontype",{value:"Code"});function o2e(t){return Sw(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}var Ob=function(){function t(e,n,r,i){if(!(this instanceof t))return new t(e,n,r,i);var o=e.split(".");o.length===2&&(r=o.shift(),e=o.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var n={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n},t.fromExtendedJSON=function(e){var n=Object.assign({},e);return delete n.$ref,delete n.$id,delete n.$db,new t(e.$ref,e.$id,e.$db,n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t}();Object.defineProperty(Ob.prototype,"_bsontype",{value:"DBRef"});var Us=void 0;try{Us=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var R8=65536,a2e=1<<24,Kv=R8*R8,Nee=Kv*Kv,P8=Nee/2,D8={},L8={},sn=function(){function t(e,n,r){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,n,r);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!n)):typeof e=="string"?Object.assign(this,t.fromString(e,!!n)):(this.low=e|0,this.high=n|0,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,n,r){return new t(e,n,r)},t.fromInt=function(e,n){var r,i,o;return n?(e>>>=0,(o=0<=e&&e<256)&&(i=L8[e],i)?i:(r=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(L8[e]=r),r)):(e|=0,(o=-128<=e&&e<128)&&(i=D8[e],i)?i:(r=t.fromBits(e,e<0?-1:0,!1),o&&(D8[e]=r),r))},t.fromNumber=function(e,n){if(isNaN(e))return n?t.UZERO:t.ZERO;if(n){if(e<0)return t.UZERO;if(e>=Nee)return t.MAX_UNSIGNED_VALUE}else{if(e<=-P8)return t.MIN_VALUE;if(e+1>=P8)return t.MAX_VALUE}return e<0?t.fromNumber(-e,n).neg():t.fromBits(e%Kv|0,e/Kv|0,n)},t.fromBigInt=function(e,n){return t.fromString(e.toString(),n)},t.fromString=function(e,n,r){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof n=="number"?(r=n,n=!1):n=!!n,r=r||10,r<2||36<r)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),n,r).neg();for(var o=t.fromNumber(Math.pow(r,8)),a=t.ZERO,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+u),r);if(u<8){var c=t.fromNumber(Math.pow(r,u));a=a.mul(c).add(t.fromNumber(l))}else a=a.mul(o),a=a.add(t.fromNumber(l))}return a.unsigned=n,a},t.fromBytes=function(e,n,r){return r?t.fromBytesLE(e,n):t.fromBytesBE(e,n)},t.fromBytesLE=function(e,n){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},t.fromBytesBE=function(e,n){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)},t.isLong=function(e){return Sw(e)&&e.__isLong__===!0},t.fromValue=function(e,n){return typeof e=="number"?t.fromNumber(e,n):typeof e=="string"?t.fromString(e,n):t.fromBits(e.low,e.high,typeof n=="boolean"?n:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,s=e.high&65535,u=e.low>>>16,l=e.low&65535,c=0,f=0,d=0,h=0;return h+=o+l,d+=h>>>16,h&=65535,d+=i+u,f+=d>>>16,d&=65535,f+=r+s,c+=f>>>16,f&=65535,c+=n+a,c&=65535,t.fromBits(d<<16|h,c<<16|f,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Us){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Us.div_u:Us.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(n,Us.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),u=s<=48?1:Math.pow(2,s-48),l=t.fromNumber(r),c=l.mul(e);c.isNegative()||c.gt(i);)r-=u,l=t.fromNumber(r,this.unsigned),c=l.mul(e);l.isZero()&&(l=t.ONE),o=o.add(l),i=i.sub(c)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,n;for(n=31;n>0&&!(e&1<<n);n--);return this.high!==0?n+33:n+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Us){var n=(this.unsigned?Us.rem_u:Us.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(n,Us.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Us){var n=Us.mul(this.low,this.high,e.low,e.high);return t.fromBits(n,Us.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,a=this.low&65535,s=e.high>>>16,u=e.high&65535,l=e.low>>>16,c=e.low&65535,f=0,d=0,h=0,p=0;return p+=a*c,h+=p>>>16,p&=65535,h+=o*c,d+=h>>>16,h&=65535,h+=a*l,d+=h>>>16,h&=65535,d+=i*c,f+=d>>>16,d&=65535,d+=o*l,f+=d>>>16,d&=65535,d+=a*u,f+=d>>>16,d&=65535,f+=r*c+i*l+o*u+a*s,f&=65535,t.fromBits(h<<16|p,f<<16|d,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return t.fromBits(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?t.fromBits(n,0,this.unsigned):t.fromBits(n>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Kv+(this.low>>>0):this.high*Kv+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var n=t.fromNumber(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),a=this,s="";;){var u=a.div(o),l=a.sub(u.mul(o)).toInt()>>>0,c=l.toString(e);if(a=u,a.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,n){var r=t.fromString(e.$numberLong);return n&&n.relaxed?r.toNumber():r},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(a2e),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(sn.prototype,"__isLong__",{value:!0});Object.defineProperty(sn.prototype,"_bsontype",{value:"Long"});var s2e=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,l2e=/^(\+|-)?(Infinity|inf)$/i,u2e=/^(\+|-)?NaN$/i,wy=6111,pP=-6176,N8=6176,c2e=34,mP=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),B8=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),F8=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f2e=/^([-+])?(\d+)?$/,d2e=31,k8=16383,h2e=30,p2e=31;function U8(t){return!isNaN(parseInt(t,10))}function m2e(t){var e=sn.fromNumber(1e9),n=sn.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new sn(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function v2e(t,e){if(!t&&!e)return{high:sn.fromNumber(0),low:sn.fromNumber(0)};var n=t.shiftRightUnsigned(32),r=new sn(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new sn(e.getLowBits(),0),a=n.multiply(i),s=n.multiply(o),u=r.multiply(i),l=r.multiply(o);return a=a.add(s.shiftRightUnsigned(32)),s=new sn(s.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),a=a.add(s.shiftRightUnsigned(32)),l=s.shiftLeft(32).add(new sn(l.getLowBits(),0)),{high:a,low:l}}function g2e(t,e){var n=t.high>>>0,r=e.high>>>0;if(n<r)return!0;if(n===r){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function jm(t,e){throw new ci('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}var b3=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(_3(e)){if(e.byteLength!==16)throw new ci("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new ci("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var n=!1,r=!1,i=!1,o=0,a=0,s=0,u=0,l=0,c=[0],f=0,d=0,h=0,p=0,_=0,y=0,m=new sn(0,0),b=new sn(0,0),w=0,S=0;if(e.length>=7e3)throw new ci(""+e+" not a valid Decimal128 string");var x=e.match(s2e),E=e.match(l2e),M=e.match(u2e);if(!x&&!E&&!M||e.length===0)throw new ci(""+e+" not a valid Decimal128 string");if(x){var O=x[2],C=x[4],T=x[5],P=x[6];C&&P===void 0&&jm(e,"missing exponent power"),C&&O===void 0&&jm(e,"missing exponent base"),C===void 0&&(T||P)&&jm(e,"missing e before exponent")}if((e[S]==="+"||e[S]==="-")&&(n=e[S++]==="-"),!U8(e[S])&&e[S]!=="."){if(e[S]==="i"||e[S]==="I")return new t(sr.from(n?B8:F8));if(e[S]==="N")return new t(sr.from(mP))}for(;U8(e[S])||e[S]===".";){if(e[S]==="."){r&&jm(e,"contains multiple periods"),r=!0,S=S+1;continue}f<34&&(e[S]!=="0"||i)&&(i||(l=a),i=!0,c[d++]=parseInt(e[S],10),f=f+1),i&&(s=s+1),r&&(u=u+1),a=a+1,S=S+1}if(r&&!a)throw new ci(""+e+" not a valid Decimal128 string");if(e[S]==="e"||e[S]==="E"){var N=e.substr(++S).match(f2e);if(!N||!N[2])return new t(sr.from(mP));_=parseInt(N[0],10),S=S+N[0].length}if(e[S])return new t(sr.from(mP));if(h=0,!f)h=0,p=0,c[0]=0,s=1,f=1,o=0;else if(p=f-1,o=s,o!==1)for(;c[l+o-1]===0;)o=o-1;for(_<=u&&u-_>16384?_=pP:_=_-u;_>wy;){if(p=p+1,p-h>c2e){var H=c.join("");if(H.match(/^0+$/)){_=wy;break}jm(e,"overflow")}_=_-1}for(;_<pP||f<s;){if(p===0&&o<f){_=pP,o=0;break}if(f<s?s=s-1:p=p-1,_<wy)_=_+1;else{var H=c.join("");if(H.match(/^0+$/)){_=wy;break}jm(e,"overflow")}}if(p-h+1<o){var B=a;r&&(l=l+1,B=B+1),n&&(l=l+1,B=B+1);var k=parseInt(e[l+p+1],10),j=0;if(k>=5&&(j=1,k===5)){for(j=c[p]%2===1?1:0,y=l+p+2;y<B;y++)if(parseInt(e[y],10)){j=1;break}}if(j){for(var $=p;$>=0;$--)if(++c[$]>9&&(c[$]=0,$===0))if(_<wy)_=_+1,c[$]=1;else return new t(sr.from(n?B8:F8))}}if(m=sn.fromNumber(0),b=sn.fromNumber(0),o===0)m=sn.fromNumber(0),b=sn.fromNumber(0);else if(p-h<17){var $=h;for(b=sn.fromNumber(c[$++]),m=new sn(0,0);$<=p;$++)b=b.multiply(sn.fromNumber(10)),b=b.add(sn.fromNumber(c[$]))}else{var $=h;for(m=sn.fromNumber(c[$++]);$<=p-17;$++)m=m.multiply(sn.fromNumber(10)),m=m.add(sn.fromNumber(c[$]));for(b=sn.fromNumber(c[$++]);$<=p;$++)b=b.multiply(sn.fromNumber(10)),b=b.add(sn.fromNumber(c[$]))}var F=v2e(m,sn.fromString("100000000000000000"));F.low=F.low.add(b),g2e(F.low,b)&&(F.high=F.high.add(sn.fromNumber(1))),w=_+N8;var R={low:sn.fromNumber(0),high:sn.fromNumber(0)};F.high.shiftRightUnsigned(49).and(sn.fromNumber(1)).equals(sn.fromNumber(1))?(R.high=R.high.or(sn.fromNumber(3).shiftLeft(61)),R.high=R.high.or(sn.fromNumber(w).and(sn.fromNumber(16383).shiftLeft(47))),R.high=R.high.or(F.high.and(sn.fromNumber(0x7fffffffffff)))):(R.high=R.high.or(sn.fromNumber(w&16383).shiftLeft(49)),R.high=R.high.or(F.high.and(sn.fromNumber(562949953421311)))),R.low=F.low,n&&(R.high=R.high.or(sn.fromString("9223372036854775808")));var L=sr.alloc(16);return S=0,L[S++]=R.low.low&255,L[S++]=R.low.low>>8&255,L[S++]=R.low.low>>16&255,L[S++]=R.low.low>>24&255,L[S++]=R.low.high&255,L[S++]=R.low.high>>8&255,L[S++]=R.low.high>>16&255,L[S++]=R.low.high>>24&255,L[S++]=R.high.low&255,L[S++]=R.high.low>>8&255,L[S++]=R.high.low>>16&255,L[S++]=R.high.low>>24&255,L[S++]=R.high.high&255,L[S++]=R.high.high>>8&255,L[S++]=R.high.high>>16&255,L[S++]=R.high.high>>24&255,new t(L)},t.prototype.toString=function(){for(var e,n=0,r=new Array(36),i=0;i<r.length;i++)r[i]=0;var o=0,a=!1,s,u={parts:[0,0,0,0]},l,c,f=[];o=0;var d=this.bytes,h=d[o++]|d[o++]<<8|d[o++]<<16|d[o++]<<24,p=d[o++]|d[o++]<<8|d[o++]<<16|d[o++]<<24,_=d[o++]|d[o++]<<8|d[o++]<<16|d[o++]<<24,y=d[o++]|d[o++]<<8|d[o++]<<16|d[o++]<<24;o=0;var m={low:new sn(h,p),high:new sn(_,y)};m.high.lessThan(sn.ZERO)&&f.push("-");var b=y>>26&d2e;if(b>>3===3){if(b===h2e)return f.join("")+"Infinity";if(b===p2e)return"NaN";e=y>>15&k8,s=8+(y>>14&1)}else s=y>>14&7,e=y>>17&k8;var w=e-N8;if(u.parts[0]=(y&16383)+((s&15)<<14),u.parts[1]=_,u.parts[2]=p,u.parts[3]=h,u.parts[0]===0&&u.parts[1]===0&&u.parts[2]===0&&u.parts[3]===0)a=!0;else for(c=3;c>=0;c--){var S=0,x=m2e(u);if(u=x.quotient,S=x.rem.low,!!S)for(l=8;l>=0;l--)r[c*9+l]=S%10,S=Math.floor(S/10)}if(a)n=1,r[o]=0;else for(n=36;!r[o];)n=n-1,o=o+1;var E=n-1+w;if(E>=34||E<=-7||w>0){if(n>34)return f.push("".concat(0)),w>0?f.push("E+".concat(w)):w<0&&f.push("E".concat(w)),f.join("");f.push("".concat(r[o++])),n=n-1,n&&f.push(".");for(var i=0;i<n;i++)f.push("".concat(r[o++]));f.push("E"),E>0?f.push("+".concat(E)):f.push("".concat(E))}else if(w>=0)for(var i=0;i<n;i++)f.push("".concat(r[o++]));else{var M=n+w;if(M>0)for(var i=0;i<M;i++)f.push("".concat(r[o++]));else f.push("0");for(f.push(".");M++<0;)f.push("0");for(var i=0;i<n-Math.max(M-1,0);i++)f.push("".concat(r[o++]))}return f.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t}();Object.defineProperty(b3.prototype,"_bsontype",{value:"Decimal128"});var WT=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},t.fromExtendedJSON=function(e,n){var r=parseFloat(e.$numberDouble);return n&&n.relaxed?r:new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},t}();Object.defineProperty(WT.prototype,"_bsontype",{value:"Double"});var VT=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t}();Object.defineProperty(VT.prototype,"_bsontype",{value:"Int32"});var w3=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(w3.prototype,"_bsontype",{value:"MaxKey"});var S3=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(S3.prototype,"_bsontype",{value:"MinKey"});var y2e=new RegExp("^[0-9a-fA-F]{24}$"),ph=null,Au=Symbol("id"),cl=function(){function t(e){if(!(this instanceof t))return new t(e);var n;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new ci("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?n=sr.from(e.toHexString(),"hex"):n=e.id}else n=e;if(n==null||typeof n=="number")this[Au]=t.generate(typeof n=="number"?n:void 0);else if(ArrayBuffer.isView(n)&&n.byteLength===12)this[Au]=n instanceof sr?n:mC(n);else if(typeof n=="string")if(n.length===12){var r=sr.from(n);if(r.byteLength===12)this[Au]=r;else throw new ci("Argument passed in must be a string of 12 bytes")}else if(n.length===24&&y2e.test(n))this[Au]=sr.from(n,"hex");else throw new ci("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new ci("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Au]},set:function(e){this[Au]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var n=t.getInc(),r=sr.alloc(12);return r.writeUInt32BE(e,0),ph===null&&(ph=Pee(5)),r[4]=ph[0],r[5]=ph[1],r[6]=ph[2],r[7]=ph[3],r[8]=ph[4],r[11]=n&255,r[10]=n>>8&255,r[9]=n>>16&255,r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(e==null)return!1;if(e instanceof t)return this[Au][11]===e[Au][11]&&this[Au].equals(e[Au]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&_3(this.id))return e===sr.prototype.toString.call(this.id,"latin1");if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return sr.from(e).equals(this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){var n=e.toHexString(),r=this.toHexString().toLowerCase();return typeof n=="string"&&n.toLowerCase()===r}return!1},t.prototype.getTimestamp=function(){var e=new Date,n=this.id.readUInt32BE(0);return e.setTime(Math.floor(n)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var n=sr.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(e,0),new t(n)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new ci("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(sr.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(cl.prototype,"generate",{value:zT(function(t){return cl.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(cl.prototype,"getInc",{value:zT(function(){return cl.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(cl.prototype,"get_inc",{value:zT(function(){return cl.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(cl,"get_inc",{value:zT(function(){return cl.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(cl.prototype,"_bsontype",{value:"ObjectID"});function _2e(t){return t.split("").sort().join("")}var Ib=function(){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this.pattern=e,this.options=_2e(n??""),this.pattern.indexOf("\0")!==-1)throw new vp("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new vp("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new vp("The regular expression option [".concat(this.options[r],"] is not supported"))}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new ci("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(e)))},t}();Object.defineProperty(Ib.prototype,"_bsontype",{value:"BSONRegExp"});var E3=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(E3.prototype,"_bsontype",{value:"Symbol"});var b2e=sn,Bee=function(t){$T(e,t);function e(n,r){var i=this;return i instanceof e?(sn.isLong(n)?i=t.call(this,n.low,n.high,!0)||this:Sw(n)&&typeof n.t<"u"&&typeof n.i<"u"?i=t.call(this,n.i,n.t,!0)||this:i=t.call(this,n,r,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(n,r)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(n){return new e(sn.fromInt(n,!0))},e.fromNumber=function(n){return new e(sn.fromNumber(n,!0))},e.fromBits=function(n,r){return new e(n,r)},e.fromString=function(n,r){return new e(sn.fromString(n,!0,r))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(n){return new e(n.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},e.MAX_VALUE=sn.MAX_UNSIGNED_VALUE,e}(b2e);function w2e(t){return Sw(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}var Fee=2147483647,kee=-2147483648,Uee=9223372036854776e3,jee=-9223372036854776e3,S2e={$oid:cl,$binary:gp,$uuid:gp,$symbol:E3,$numberInt:VT,$numberDecimal:b3,$numberDouble:WT,$numberLong:sn,$minKey:S3,$maxKey:w3,$regex:Ib,$regularExpression:Ib,$timestamp:Bee};function Hee(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=kee&&t<=Fee)return new VT(t);if(t>=jee&&t<=Uee)return sn.fromNumber(t)}return new WT(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var n=Object.keys(t).filter(function(f){return f.startsWith("$")&&t[f]!=null}),r=0;r<n.length;r++){var i=S2e[n[r]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,a=new Date;return e.legacy?typeof o=="number"?a.setTime(o):typeof o=="string"&&a.setTime(Date.parse(o)):typeof o=="string"?a.setTime(Date.parse(o)):sn.isLong(o)?a.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&a.setTime(o),a}if(t.$code!=null){var s=Object.assign({},t);return t.$scope&&(s.$scope=Hee(t.$scope)),GT.fromExtendedJSON(t)}if(o2e(t)||t.$dbPointer){var u=t.$ref?t:t.$dbPointer;if(u instanceof Ob)return u;var l=Object.keys(u).filter(function(f){return f.startsWith("$")}),c=!0;if(l.forEach(function(f){["$ref","$id","$db"].indexOf(f)===-1&&(c=!1)}),c)return Ob.fromExtendedJSON(u)}return t}function E2e(t,e){return t.map(function(n,r){e.seenObjects.push({propertyName:"index ".concat(r),obj:null});try{return qf(n,e)}finally{e.seenObjects.pop()}})}function j8(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function qf(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var n=e.seenObjects.findIndex(function(m){return m.obj===t});if(n!==-1){var r=e.seenObjects.map(function(m){return m.propertyName}),i=r.slice(0,n).map(function(m){return"".concat(m," -> ")}).join(""),o=r[n],a=" -> "+r.slice(n+1,r.length-1).map(function(m){return"".concat(m," -> ")}).join(""),s=r[r.length-1],u=" ".repeat(i.length+o.length/2),l="-".repeat(a.length+(o.length+s.length)/2-1);throw new ci(`Converting circular structure to EJSON:
`+"    ".concat(i).concat(o).concat(a).concat(s,`
`)+"    ".concat(u,"\\").concat(l,"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return E2e(t,e);if(t===void 0)return null;if(t instanceof Date||t2e(t)){var c=t.getTime(),f=c>-1&&c<2534023188e5;return e.legacy?e.relaxed&&f?{$date:t.getTime()}:{$date:j8(t)}:e.relaxed&&f?{$date:j8(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var d=t>=kee&&t<=Fee,h=t>=jee&&t<=Uee;if(d)return{$numberInt:t.toString()};if(h)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||e2e(t)){var p=t.flags;if(p===void 0){var _=t.toString().match(/[gimuy]*$/);_&&(p=_[0])}var y=new Ib(t.source,p);return y.toExtendedJSON(e)}return t!=null&&typeof t=="object"?A2e(t,e):t}var x2e={Binary:function(t){return new gp(t.value(),t.sub_type)},Code:function(t){return new GT(t.code,t.scope)},DBRef:function(t){return new Ob(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new b3(t.bytes)},Double:function(t){return new WT(t.value)},Int32:function(t){return new VT(t.value)},Long:function(t){return sn.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new w3},MinKey:function(){return new S3},ObjectID:function(t){return new cl(t)},ObjectId:function(t){return new cl(t)},BSONRegExp:function(t){return new Ib(t.pattern,t.options)},Symbol:function(t){return new E3(t.value)},Timestamp:function(t){return Bee.fromBits(t.low,t.high)}};function A2e(t,e){if(t==null||typeof t!="object")throw new vp("not an object instance");var n=t._bsontype;if(typeof n>"u"){var r={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{var o=qf(t[i],e);i==="__proto__"?Object.defineProperty(r,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):r[i]=o}finally{e.seenObjects.pop()}}return r}else if(w2e(t)){var a=t;if(typeof a.toExtendedJSON!="function"){var s=x2e[t._bsontype];if(!s)throw new ci("Unrecognized or invalid _bsontype: "+t._bsontype);a=s(a)}return n==="Code"&&a.scope?a=new GT(a.code,qf(a.scope,e)):n==="DBRef"&&a.oid&&(a=new Ob(qf(a.collection,e),qf(a.oid,e),qf(a.db,e),qf(a.fields,e))),a.toExtendedJSON(e)}else throw new vp("_bsontype must be a string, but was: "+typeof n)}var ts;(function(t){function e(o,a){var s=Object.assign({},{relaxed:!0,legacy:!1},a);return typeof s.relaxed=="boolean"&&(s.strict=!s.relaxed),typeof s.strict=="boolean"&&(s.relaxed=!s.strict),JSON.parse(o,function(u,l){if(u.indexOf("\0")!==-1)throw new vp("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(u)));return Hee(l,s)})}t.parse=e;function n(o,a,s,u){s!=null&&typeof s=="object"&&(u=s,s=0),a!=null&&typeof a=="object"&&!Array.isArray(a)&&(u=a,a=void 0,s=0);var l=Object.assign({relaxed:!0,legacy:!1},u,{seenObjects:[{propertyName:"(root)",obj:null}]}),c=qf(o,l);return JSON.stringify(c,a,s)}t.stringify=n;function r(o,a){return a=a||{},JSON.parse(n(o,a))}t.serialize=r;function i(o,a){return a=a||{},e(JSON.stringify(o),a)}t.deserialize=i})(ts||(ts={}));var H8=Ree();H8.Map?H8.Map:function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var n=0;n<e.length;n++)if(e[n]!=null){var r=e[n],i=r[0],o=r[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var n=this._values[e];return n==null?!1:(delete this._values[e],this._keys.splice(n.i,1),!0)},t.prototype.entries=function(){var e=this,n=0;return{next:function(){var r=e._keys[n++];return{value:r!==void 0?[r,e._values[r].v]:void 0,done:r===void 0}}}},t.prototype.forEach=function(e,n){n=n||this;for(var r=0;r<this._keys.length;r++){var i=this._keys[r];e.call(n,this._values[i].v,i,n)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,n=0;return{next:function(){var r=e._keys[n++];return{value:r!==void 0?r:void 0,done:r===void 0}}}},t.prototype.set=function(e,n){return this._values[e]?(this._values[e].v=n,this):(this._keys.push(e),this._values[e]={v:n,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,n=0;return{next:function(){var r=e._keys[n++];return{value:r!==void 0?e._values[r].v:void 0,done:r===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();sn.fromNumber(r2e);sn.fromNumber(i2e);var vP=new Uint8Array(8);new DataView(vP.buffer,vP.byteOffset,vP.byteLength);var C2e=1024*1024*17;sr.alloc(C2e);var T2e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},M2e=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},$ee=function(){function t(e,n){this._stages=[],e&&n&&(this._db=e,this._request=new oa.reqClass(this._db.config),this._collectionName=n)}return t.prototype.end=function(){return T2e(this,void 0,void 0,function(){var e;return M2e(this,function(n){switch(n.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return e=n.sent(),e&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(ts.parse)}]:[2,e]}})})},t.prototype.unwrap=function(){return this._stages},t.prototype.done=function(){return this._stages.map(function(e){var n,r=e.stageKey,i=e.stageValue;return n={},n[r]=JSON.parse(i),n})},t.prototype._pipe=function(e,n){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(n)}),this},t.prototype.addFields=function(e){return this._pipe("addFields",e)},t.prototype.bucket=function(e){return this._pipe("bucket",e)},t.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},t.prototype.count=function(e){return this._pipe("count",e)},t.prototype.geoNear=function(e){return e.query&&(e.query=pC.encode(e.query)),e.distanceMultiplier&&typeof e.distanceMultiplier=="number"&&(e.distanceMultiplier=e.distanceMultiplier),e.near&&(e.near=new Ma(e.near.longitude,e.near.latitude).toJSON()),this._pipe("geoNear",e)},t.prototype.group=function(e){return this._pipe("group",e)},t.prototype.limit=function(e){return this._pipe("limit",e)},t.prototype.match=function(e){return this._pipe("match",pC.encode(e))},t.prototype.project=function(e){return this._pipe("project",e)},t.prototype.lookup=function(e){return this._pipe("lookup",e)},t.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},t.prototype.sample=function(e){return this._pipe("sample",e)},t.prototype.skip=function(e){return this._pipe("skip",e)},t.prototype.sort=function(e){return this._pipe("sort",e)},t.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},t.prototype.unwind=function(e){return this._pipe("unwind",e)},t}(),O2e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),I2e=function(t){O2e(e,t);function e(n,r){return t.call(this,n,r)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(n){if(typeof n!="string"&&typeof n!="number")throw new Error("docId");return new M8(this._db,this._coll,n)},e.prototype.add=function(n,r){var i=new M8(this._db,this._coll,void 0);return i.create(n,r)},e.prototype.aggregate=function(){return new $ee(this._db,this._coll)},e}(NPe),R2e={eq:function(t){return new Qi(wn.EQ,[t])},neq:function(t){return new Qi(wn.NEQ,[t])},lt:function(t){return new Qi(wn.LT,[t])},lte:function(t){return new Qi(wn.LTE,[t])},gt:function(t){return new Qi(wn.GT,[t])},gte:function(t){return new Qi(wn.GTE,[t])},in:function(t){return new Qi(wn.IN,t)},nin:function(t){return new Qi(wn.NIN,t)},all:function(t){return new Qi(wn.ALL,t)},elemMatch:function(t){return new Qi(wn.ELEM_MATCH,[t])},exists:function(t){return new Qi(wn.EXISTS,[t])},size:function(t){return new Qi(wn.SIZE,[t])},mod:function(t){return new Qi(wn.MOD,[t])},geoNear:function(t){return new Qi(wn.GEO_NEAR,[t])},geoWithin:function(t){return new Qi(wn.GEO_WITHIN,[t])},geoIntersects:function(t){return new Qi(wn.GEO_INTERSECTS,[t])},and:function(){var t=gi(arguments[0])?arguments[0]:Array.from(arguments);return new rp(ls.AND,t)},nor:function(){var t=gi(arguments[0])?arguments[0]:Array.from(arguments);return new rp(ls.NOR,t)},or:function(){var t=gi(arguments[0])?arguments[0]:Array.from(arguments);return new rp(ls.OR,t)},not:function(){var t=gi(arguments[0])?arguments[0]:Array.from(arguments);return new rp(ls.NOT,t)},set:function(t){return new Ni(Xn.SET,[t])},remove:function(){return new Ni(Xn.REMOVE,[])},inc:function(t){return new Ni(Xn.INC,[t])},mul:function(t){return new Ni(Xn.MUL,[t])},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n;if(xd(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];n={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else gi(t[0])?n=t[0]:n=Array.from(t);return new Ni(Xn.PUSH,n)},pull:function(t){return new Ni(Xn.PULL,t)},pullAll:function(t){return new Ni(Xn.PULL_ALL,t)},pop:function(){return new Ni(Xn.POP,[])},shift:function(){return new Ni(Xn.SHIFT,[])},unshift:function(){var t=gi(arguments[0])?arguments[0]:Array.from(arguments);return new Ni(Xn.UNSHIFT,t)},addToSet:function(t){return new Ni(Xn.ADD_TO_SET,t)},rename:function(t){return new Ni(Xn.RENAME,[t])},bit:function(t){return new Ni(Xn.BIT,[t])},max:function(t){return new Ni(Xn.MAX,[t])},min:function(t){return new Ni(Xn.MIN,[t])},expr:function(t){return{$expr:t}},jsonSchema:function(t){return{$jsonSchema:t}},text:function(t){return TPe(t)?{$search:t.search}:{$search:t.search,$language:t.language,$caseSensitive:t.caseSensitive,$diacriticSensitive:t.diacriticSensitive}},aggregate:{pipeline:function(){return new $ee},abs:function(t){return new mt("abs",t)},add:function(t){return new mt("add",t)},ceil:function(t){return new mt("ceil",t)},divide:function(t){return new mt("divide",t)},exp:function(t){return new mt("exp",t)},floor:function(t){return new mt("floor",t)},ln:function(t){return new mt("ln",t)},log:function(t){return new mt("log",t)},log10:function(t){return new mt("log10",t)},mod:function(t){return new mt("mod",t)},multiply:function(t){return new mt("multiply",t)},pow:function(t){return new mt("pow",t)},sqrt:function(t){return new mt("sqrt",t)},subtract:function(t){return new mt("subtract",t)},trunc:function(t){return new mt("trunc",t)},arrayElemAt:function(t){return new mt("arrayElemAt",t)},arrayToObject:function(t){return new mt("arrayToObject",t)},concatArrays:function(t){return new mt("concatArrays",t)},filter:function(t){return new mt("filter",t)},in:function(t){return new mt("in",t)},indexOfArray:function(t){return new mt("indexOfArray",t)},isArray:function(t){return new mt("isArray",t)},map:function(t){return new mt("map",t)},range:function(t){return new mt("range",t)},reduce:function(t){return new mt("reduce",t)},reverseArray:function(t){return new mt("reverseArray",t)},size:function(t){return new mt("size",t)},slice:function(t){return new mt("slice",t)},zip:function(t){return new mt("zip",t)},and:function(t){return new mt("and",t)},not:function(t){return new mt("not",t)},or:function(t){return new mt("or",t)},cmp:function(t){return new mt("cmp",t)},eq:function(t){return new mt("eq",t)},gt:function(t){return new mt("gt",t)},gte:function(t){return new mt("gte",t)},lt:function(t){return new mt("lt",t)},lte:function(t){return new mt("lte",t)},neq:function(t){return new mt("ne",t)},cond:function(t){return new mt("cond",t)},ifNull:function(t){return new mt("ifNull",t)},switch:function(t){return new mt("switch",t)},dateFromParts:function(t){return new mt("dateFromParts",t)},dateFromString:function(t){return new mt("dateFromString",t)},dayOfMonth:function(t){return new mt("dayOfMonth",t)},dayOfWeek:function(t){return new mt("dayOfWeek",t)},dayOfYear:function(t){return new mt("dayOfYear",t)},isoDayOfWeek:function(t){return new mt("isoDayOfWeek",t)},isoWeek:function(t){return new mt("isoWeek",t)},isoWeekYear:function(t){return new mt("isoWeekYear",t)},millisecond:function(t){return new mt("millisecond",t)},minute:function(t){return new mt("minute",t)},month:function(t){return new mt("month",t)},second:function(t){return new mt("second",t)},hour:function(t){return new mt("hour",t)},week:function(t){return new mt("week",t)},year:function(t){return new mt("year",t)},literal:function(t){return new mt("literal",t)},mergeObjects:function(t){return new mt("mergeObjects",t)},objectToArray:function(t){return new mt("objectToArray",t)},allElementsTrue:function(t){return new mt("allElementsTrue",t)},anyElementTrue:function(t){return new mt("anyElementTrue",t)},setDifference:function(t){return new mt("setDifference",t)},setEquals:function(t){return new mt("setEquals",t)},setIntersection:function(t){return new mt("setIntersection",t)},setIsSubset:function(t){return new mt("setIsSubset",t)},setUnion:function(t){return new mt("setUnion",t)},concat:function(t){return new mt("concat",t)},dateToString:function(t){return new mt("dateToString",t)},indexOfBytes:function(t){return new mt("indexOfBytes",t)},indexOfCP:function(t){return new mt("indexOfCP",t)},split:function(t){return new mt("split",t)},strLenBytes:function(t){return new mt("strLenBytes",t)},strLenCP:function(t){return new mt("strLenCP",t)},strcasecmp:function(t){return new mt("strcasecmp",t)},substr:function(t){return new mt("substr",t)},substrBytes:function(t){return new mt("substrBytes",t)},substrCP:function(t){return new mt("substrCP",t)},toLower:function(t){return new mt("toLower",t)},toUpper:function(t){return new mt("toUpper",t)},meta:function(t){return new mt("meta",t)},addToSet:function(t){return new mt("addToSet",t)},avg:function(t){return new mt("avg",t)},first:function(t){return new mt("first",t)},last:function(t){return new mt("last",t)},max:function(t){return new mt("max",t)},min:function(t){return new mt("min",t)},push:function(t){return new mt("push",t)},stdDevPop:function(t){return new mt("stdDevPop",t)},stdDevSamp:function(t){return new mt("stdDevSamp",t)},sum:function(t){return new mt("sum",t)},let:function(t){return new mt("let",t)}},project:{slice:function(t){return new $8("slice",t)},elemMatch:function(t){return new $8("elemMatch",t)}}},mt=function(){function t(e,n){this["$"+e]=n}return t}(),$8=function(){function t(e,n){this["$"+e]=n}return t}(),P2e=function(){function t(e){var n=e.regexp,r=e.options;if(!n)throw new TypeError("regexp must be a string");this.$regex=n,this.$options=r}return t.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(t.prototype,"_internalType",{get:function(){return Eee},enumerable:!0,configurable:!0}),t}();function D2e(t){return new P2e(t)}var zee={INSERT_DOC_FAIL:{message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT"}},Ou=function(){return Ou=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ou.apply(this,arguments)},Sy=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},Ey=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},L2e="database.getInTransaction",z8="database.updateDocInTransaction",N2e="database.deleteDocInTransaction",B2e="database.insertDocInTransaction",G8=function(){function t(e,n,r){this._coll=n,this.id=r,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return t.prototype.create=function(e){return Sy(this,void 0,void 0,function(){var n,r,i,o;return Ey(this,function(a){switch(a.label){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,data:ts.stringify(Mb(e),{relaxed:!1})},this.id&&(n._id=this.id),[4,this._request.send(B2e,n)];case 1:if(r=a.sent(),r.code)throw r;if(i=ts.parse(r.inserted),o=ts.parse(r.ok),o==1&&i==1)return[2,Ou(Ou({},r),{ok:o,inserted:i})];throw new Error(zee.INSERT_DOC_FAIL.message)}})})},t.prototype.get=function(){return Sy(this,void 0,void 0,function(){var e,n;return Ey(this,function(r){switch(r.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(L2e,e)];case 1:if(n=r.sent(),n.code)throw n;return[2,{data:n.data!=="null"?jT.formatField(ts.parse(n.data)):ts.parse(n.data),requestId:n.requestId}]}})})},t.prototype.set=function(e){return Sy(this,void 0,void 0,function(){var n,r;return Ey(this,function(i){switch(i.label){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:ts.stringify(Mb(e),{relaxed:!1}),upsert:!0},[4,this._request.send(z8,n)];case 1:if(r=i.sent(),r.code)throw r;return[2,Ou(Ou({},r),{updated:ts.parse(r.updated),upserted:r.upserted?JSON.parse(r.upserted):null})]}})})},t.prototype.update=function(e){return Sy(this,void 0,void 0,function(){var n,r;return Ey(this,function(i){switch(i.label){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:ts.stringify(y3.encode(e),{relaxed:!1})},[4,this._request.send(z8,n)];case 1:if(r=i.sent(),r.code)throw r;return[2,Ou(Ou({},r),{updated:ts.parse(r.updated)})]}})})},t.prototype.delete=function(){return Sy(this,void 0,void 0,function(){var e,n;return Ey(this,function(r){switch(r.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(N2e,e)];case 1:if(n=r.sent(),n.code)throw n;return[2,Ou(Ou({},n),{deleted:ts.parse(n.deleted)})]}})})},t}(),F2e=function(){function t(e,n){this._coll=n,this._transaction=e}return t}(),k2e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),U2e=function(t){k2e(e,t);function e(n,r){return t.call(this,n,r)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(n){if(typeof n!="string"&&typeof n!="number")throw new Error("docId");return new G8(this._transaction,this._coll,n)},e.prototype.add=function(n){var r;n._id!==void 0&&(r=n._id);var i=new G8(this._transaction,this._coll,r);return i.create(n)},e}(F2e),hg=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},pg=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},j2e="database.startTransaction",H2e="database.commitTransaction",$2e="database.abortTransaction",Gee=function(){function t(e){this._db=e,this._request=new oa.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return t.prototype.init=function(){return hg(this,void 0,void 0,function(){var e;return pg(this,function(n){switch(n.label){case 0:return[4,this._request.send(j2e)];case 1:if(e=n.sent(),e.code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}})})},t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new U2e(this,e)},t.prototype.getTransactionId=function(){return this._id},t.prototype.getRequestMethod=function(){return this._request},t.prototype.commit=function(){return hg(this,void 0,void 0,function(){var e,n;return pg(this,function(r){switch(r.label){case 0:return e={transactionId:this._id},[4,this._request.send(H2e,e)];case 1:if(n=r.sent(),n.code)throw n;return this.commited=!0,[2,n]}})})},t.prototype.rollback=function(e){return hg(this,void 0,void 0,function(){var n,r;return pg(this,function(i){switch(i.label){case 0:return n={transactionId:this._id},[4,this._request.send($2e,n)];case 1:if(r=i.sent(),r.code)throw r;return this.aborted=!0,this.abortReason=e,[2,r]}})})},t}();function z2e(){return hg(this,void 0,void 0,function(){var t;return pg(this,function(e){switch(e.label){case 0:return t=new Gee(this),[4,t.init()];case 1:return e.sent(),[2,t]}})})}function Wee(t,e){return e===void 0&&(e=3),hg(this,void 0,void 0,function(){var n,r,i,o,a=this;return pg(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,10]),n=new Gee(this),[4,n.init()];case 1:return s.sent(),[4,t(n)];case 2:if(r=s.sent(),n.aborted===!0)throw n.abortReason;return[4,n.commit()];case 3:return s.sent(),[2,r];case 4:if(i=s.sent(),n.inited===!1)throw i;return o=function(u){return hg(a,void 0,void 0,function(){return pg(this,function(l){switch(l.label){case 0:if(!(!n.aborted&&!n.commited))return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.rollback()];case 2:return l.sent(),[3,4];case 3:return l.sent(),[3,4];case 4:throw u;case 5:throw n.aborted===!0?n.abortReason:u}})})},e<=0?[4,o(i)]:[3,6];case 5:s.sent(),s.label=6;case 6:return i&&i.code===zee.DATABASE_TRANSACTION_CONFLICT.code?[4,Wee.bind(this)(t,--e)]:[3,8];case 7:return[2,s.sent()];case 8:return[4,o(i)];case 9:return s.sent(),[3,10];case 10:return[2]}})})}var oa=function(){function t(e){this.config=e,this.Geo=IPe,this.serverDate=CPe,this.command=R2e,this.RegExp=D2e,this.startTransaction=z2e,this.runTransaction=Wee,this.logicCommand=rp,this.updateCommand=Ni,this.queryCommand=Qi}return t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new I2e(this,e)},t.prototype.createCollection=function(e){var n=new t.reqClass(this.config),r={collectionName:e};return n.send("database.addCollection",r)},t}(),L_=function(){return L_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},L_.apply(this,arguments)},G2e="database";function W2e(t){var e=this.platform,n=e.adapter,r=e.runtime;return oa.reqClass=this.request.constructor,oa.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},oa.runtime=r,this.wsClientClass&&(oa.wsClass=n.wsClass,oa.wsClientClass=this.wsClientClass),oa.ws||(oa.ws=null),new oa(L_(L_(L_({},this.config),{_fromApp:this}),t))}var Vee={name:G2e,entity:{database:W2e}};try{cloudbase.registerComponent(Vee)}catch{}function qee(t){try{t.registerComponent(Vee)}catch(e){console.warn(e)}}try{window.registerDatabase=qee}catch{}const V2e="2.24.7",q2e={version:V2e};var K2e=q2e.version;ta.registerVersion(K2e);try{jpe(ta),Ype(ta),kY(ta),qee(ta),gEe(ta),MEe(ta),kQ(ta),uee(ta),DY(ta),hee(ta),gee(ta)}catch{}try{window.cloudbase=ta}catch{}const Ss=ta.init({env:"ai-generator-1gp9p3g64d04e869"});Ss.database();async function X2e(){var t,e;try{const n=await Ss.callFunction({name:"modelProxy",data:{action:"list"}});if((t=n.result)!=null&&t.success)return n.result.data;throw new Error(((e=n.result)==null?void 0:e.message)||"")}catch(n){throw console.error(":",n),n}}async function J2e(){var t,e;try{const n=await Ss.callFunction({name:"modelProxy",data:{action:"listAdmin"}});if((t=n.result)!=null&&t.success)return n.result.data;throw new Error(((e=n.result)==null?void 0:e.message)||"")}catch(n){throw console.error(":",n),n}}async function Y2e(t){var e,n;try{const r=await Ss.callFunction({name:"modelProxy",data:{action:"add",config:t}});if((e=r.result)!=null&&e.success)return r.result.data;throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}async function Z2e(t,e){var n,r;try{const i=await Ss.callFunction({name:"modelProxy",data:{action:"update",id:t,updates:e}});if((n=i.result)!=null&&n.success)return i.result.data;throw new Error(((r=i.result)==null?void 0:r.message)||"")}catch(i){throw console.error(":",i),i}}async function Q2e(t){var e,n;try{const r=await Ss.callFunction({name:"modelProxy",data:{action:"delete",id:t}});if(!((e=r.result)!=null&&e.success))throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}async function eDe(t,e){var n,r;try{const i=await Ss.callFunction({name:"modelProxy",data:{action:"toggleStatus",id:t,status:e}});if(!((n=i.result)!=null&&n.success))throw new Error(((r=i.result)==null?void 0:r.message)||"")}catch(i){throw console.error(":",i),i}}async function tDe(t){var e,n;try{const r=await Ss.callFunction({name:"text2img",data:t});if((e=r.result)!=null&&e.success)return{taskId:r.result.taskId};throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}async function nDe(t){var e,n;try{const r=await Ss.callFunction({name:"text2img",data:{action:"progress",taskId:t}});if((e=r.result)!=null&&e.success)return r.result.data;throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}async function rDe(t){var e,n;try{const r=await Ss.callFunction({name:"img2model3d",data:t});if((e=r.result)!=null&&e.success)return{taskId:r.result.taskId};throw new Error(((n=r.result)==null?void 0:n.message)||"3D")}catch(r){throw console.error("3D:",r),r}}async function iDe(t){var e,n;try{const r=await Ss.callFunction({name:"img2model3d",data:{action:"progress",taskId:t}});if((e=r.result)!=null&&e.success)return r.result.data;throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error("3D:",r),r}}async function oDe(t){var e,n;try{const r=await Ss.callFunction({name:"createOrder",data:t});if((e=r.result)!=null&&e.success)return r.result.data;throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}async function aDe(t){var e,n;try{const r=await Ss.callFunction({name:"orderQuery",data:{orderId:t}});if((e=r.result)!=null&&e.success)return r.result.data;throw new Error(((n=r.result)==null?void 0:n.message)||"")}catch(r){throw console.error(":",r),r}}function x3(){const{models:t,selectedImageModel:e,selected3DModel:n,isLoadingModels:r,setModels:i,setSelectedImageModel:o,setSelected3DModel:a,setIsLoadingModels:s}=Jp(),u=D.useCallback(async()=>{s(!0);try{const h=await X2e();i(h);const p=h.filter(y=>y.type==="text2img"&&y.status==="active"),_=h.filter(y=>y.type==="img2model3d"&&y.status==="active");p.length>0&&!e&&o(p[0].id),_.length>0&&!n&&a(_[0].id)}catch(h){cr.error(""),console.error(":",h)}finally{s(!1)}},[i,o,a,s,e,n]);D.useEffect(()=>{u()},[u]);const l=t.filter(h=>h.type==="text2img"),c=t.filter(h=>h.type==="img2model3d"),f=t.find(h=>h.id===e),d=t.find(h=>h.id===n);return{models:t,imageModels:l,model3DList:c,selectedImageModel:e,selected3DModel:n,currentImageModel:f,current3DModel:d,isLoadingModels:r,setSelectedImageModel:o,setSelected3DModel:a,refreshModels:u}}function sDe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lDe(t,e){if(t==null)return{};var n=sDe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uDe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kee={exports:{}};/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)&&o.length){var s=n.apply(null,o);s&&r.push(s)}else if(a==="object")for(var u in o)e.call(o,u)&&o[u]&&r.push(u)}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Kee);var cDe=Kee.exports,fDe="t",dDe="zh-CN",hDe=D.createContext({classPrefix:fDe,locale:dDe}),Xee=function(){return D.useContext(hDe)};function pDe(){var t=Xee(),e=t.classPrefix;return D.useMemo(function(){return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}},[e])}function mDe(t){var e=pDe().SIZE;return typeof t>"u"?{}:t in e?{className:e[t],style:{}}:{className:"",style:{fontSize:t}}}function W8(t,e){if(!(!document||!t||typeof t!="string")&&!(document.querySelectorAll(".".concat(e,'[src="').concat(t,'"]')).length>0)){var n=document.createElement("script");n.setAttribute("class",e),n.setAttribute("src",t),document.body.appendChild(n)}}function vDe(){var t="__TDESIGN_ICON_STYLE__",e=`@keyframes t-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  .t-icon {
    display: inline-block;
    vertical-align: middle;
    width: 1em;
    height: 1em;
  }
  .t-icon::before {
    font-family: unset;
  }
  .t-icon-loading {
    animation: t-spin 1s linear infinite;
  }
  .t-icon {
    fill: currentColor;
  }
  .t-icon.t-size-s,
  i.t-size-s {
    font-size: 14px;
  }
  .t-icon.t-size-m,
  i.t-size-m {
    font-size: 16px;
  }
  .t-icon.t-size-l,
  i.t-size-l {
    font-size: 18px;
  }
  `;if(!(!document||document.getElementById(t))){var n=document.createElement("style");n.setAttribute("id",t),n.innerHTML=e,document.head.appendChild(n)}}var gDe=["name","size","url","loadDefaultIcons","className","style"];function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){uDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yDe="https://tdesign.gtimg.com/icon/0.1.4/fonts/index.js",jn=D.forwardRef(function(t,e){var n=Xee(),r=n.classPrefix,i=t.name,o=t.size,a=t.url,s=t.loadDefaultIcons,u=s===void 0?!0:s,l=t.className,c=t.style,f=lDe(t,gDe),d=mDe(o),h=d.className,p=d.style,_=D.useMemo(function(){var y=a?i:"".concat(r,"-icon-").concat(i);return cDe("".concat(r,"-icon"),y,h,l)},[r,l,i,h]);return D.useEffect(function(){vDe()},[]),D.useEffect(function(){u&&W8(yDe,"".concat(r,"-svg-js-stylesheet--unique-class"))},[r,u]),D.useEffect(function(){var y=Array.isArray(a)?a:[a];y.forEach(function(m){W8(m,"".concat(r,"-svg-js-stylesheet--unique-class"))})},[r,a]),D.createElement("svg",gP({ref:e,className:_,style:gP(gP({},c),p)},f),D.createElement("use",{xlinkHref:a?"#".concat(i):"#t-icon-".concat(i)}))});jn.displayName="Icon";const _De="_header_1dhi6_1",bDe="_logo_1dhi6_17",wDe="_logoIcon_1dhi6_23",SDe="_logoText_1dhi6_35",EDe="_headerActions_1dhi6_44",xDe="_modelStatus_1dhi6_50",ADe="_statusIndicator_1dhi6_60",CDe="_active_1dhi6_67",TDe="_inactive_1dhi6_71",MDe="_modelName_1dhi6_75",ODe="_statusTag_1dhi6_80",IDe="_success_1dhi6_90",RDe="_warning_1dhi6_95",PDe="_statusDot_1dhi6_100",DDe="_adminBtn_1dhi6_107",LDe="_userAvatar_1dhi6_127",To={header:_De,logo:bDe,logoIcon:wDe,logoText:SDe,headerActions:EDe,modelStatus:xDe,statusIndicator:ADe,active:CDe,inactive:TDe,modelName:MDe,statusTag:ODe,success:IDe,warning:RDe,statusDot:PDe,adminBtn:DDe,userAvatar:LDe},NDe=({onAdminClick:t})=>{const{currentImageModel:e,isLoadingModels:n}=x3();return ye.jsxs("header",{className:To.header,children:[ye.jsxs("div",{className:To.logo,children:[ye.jsx("div",{className:To.logoIcon,children:ye.jsx(jn,{name:"cube",size:"20px"})}),ye.jsx("span",{className:To.logoText,children:"AI Create 3D"})]}),ye.jsxs("div",{className:To.headerActions,children:[ye.jsxs("div",{className:To.modelStatus,children:[ye.jsx("span",{className:`${To.statusIndicator} ${(e==null?void 0:e.status)==="active"?To.active:To.inactive}`}),ye.jsx("span",{className:To.modelName,children:n?"...":(e==null?void 0:e.name)||""})]}),ye.jsxs("div",{className:`${To.statusTag} ${(e==null?void 0:e.status)==="active"?To.success:To.warning}`,children:[ye.jsx("span",{className:To.statusDot}),(e==null?void 0:e.status)==="active"?"API ":"API "]}),ye.jsx("button",{className:To.adminBtn,onClick:t,title:"",children:ye.jsx(jn,{name:"setting",size:"18px"})}),ye.jsx("div",{className:To.userAvatar,children:ye.jsx(jn,{name:"user",size:"16px"})})]})]})};function Jee(){const{prompt:t,negativePrompt:e,resolution:n,imageCount:r,selectedImageModel:i,selected3DModel:o,outputFormat:a,modelQuality:s,generatedImages:u,selectedImageId:l,current3DModel:c,isGeneratingImage:f,isGenerating3D:d,setGeneratedImages:h,setSelectedImageId:p,setCurrent3DModel:_,setImageProgress:y,setModel3DProgress:m,setIsGeneratingImage:b,setIsGenerating3D:w,addHistoryItem:S}=Jp(),x=D.useRef(null),E=D.useRef(null),M=D.useCallback(()=>{x.current&&(clearInterval(x.current),x.current=null)},[]),O=D.useCallback(()=>{E.current&&(clearInterval(E.current),E.current=null)},[]),C=D.useCallback(async()=>{if(!t.trim()){cr.error("");return}if(!i){cr.error("");return}b(!0),h([]),y({taskId:"",progress:0,status:"pending"});const N=cr.loading("...");try{const{taskId:H}=await tDe({prompt:t,negativePrompt:e||void 0,resolution:n,count:r,modelId:i});y({taskId:H,progress:0,status:"processing"}),x.current=setInterval(async()=>{var B;try{const k=await nDe(H);y({taskId:H,progress:k.progress,status:k.status,message:k.message}),k.status==="completed"&&k.images?(M(),h(k.images),b(!1),cr.dismiss(N),cr.success(` ${k.images.length} `),S({id:H,type:"image",title:t.slice(0,20),thumbnailUrl:(B=k.images[0])==null?void 0:B.url,modelName:"",createdAt:new Date}),k.images.length>0&&p(k.images[0].id)):k.status==="failed"&&(M(),b(!1),cr.dismiss(N),cr.error(k.message||""))}catch(k){console.error(":",k)}},2e3)}catch(H){b(!1),cr.dismiss(N),cr.error(""),console.error(":",H)}},[t,e,n,r,i,b,h,y,p,S,M]),T=D.useCallback(async()=>{const N=u.find(B=>B.id===l);if(!N){cr.error("");return}if(!o){cr.error(" 3D ");return}w(!0),_(null),m({taskId:"",progress:0,status:"pending"});const H=cr.loading(" 3D ...");try{const{taskId:B}=await rDe({imageId:N.id,imageUrl:N.url,modelId:o,format:a,quality:s});m({taskId:B,progress:0,status:"processing"}),E.current=setInterval(async()=>{try{const k=await iDe(B);m({taskId:B,progress:k.progress,status:k.status,message:k.message,estimatedTime:Math.ceil((100-k.progress)*.6)}),k.status==="completed"&&k.model?(O(),_(k.model),w(!1),cr.dismiss(H),cr.success("3D "),S({id:B,type:"3d",title:t.slice(0,20),thumbnailUrl:N.url,modelName:" 3D",createdAt:new Date})):k.status==="failed"&&(O(),w(!1),cr.dismiss(H),cr.error(k.message||"3D "))}catch(k){console.error(" 3D :",k)}},3e3)}catch(B){w(!1),cr.dismiss(H),cr.error("3D "),console.error("3D :",B)}},[u,l,o,a,s,t,w,_,m,S,O]),P=D.useCallback(N=>{p(N)},[p]);return{generatedImages:u,selectedImageId:l,current3DModel:c,isGeneratingImage:f,isGenerating3D:d,handleGenerateImages:C,handleGenerate3DModel:T,selectImage:P,stopImagePolling:M,stopModel3DPolling:O}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function BDe(t,e){if(Rn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yee(t){var e=BDe(t,"string");return Rn(e)=="symbol"?e:e+""}function me(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function FDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zi(t,e){if(t==null)return{};var n,r,i=FDe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Zee={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Zee);var kDe=Zee.exports;const et=au(kDe);var Qee=typeof global=="object"&&global&&global.Object===Object&&global,UDe=typeof self=="object"&&self&&self.Object===Object&&self,lu=Qee||UDe||Function("return this")(),fl=lu.Symbol,ete=Object.prototype,jDe=ete.hasOwnProperty,HDe=ete.toString,xy=fl?fl.toStringTag:void 0;function $De(t){var e=jDe.call(t,xy),n=t[xy];try{t[xy]=void 0;var r=!0}catch{}var i=HDe.call(t);return r&&(e?t[xy]=n:delete t[xy]),i}var zDe=Object.prototype,GDe=zDe.toString;function WDe(t){return GDe.call(t)}var VDe="[object Null]",qDe="[object Undefined]",q8=fl?fl.toStringTag:void 0;function oc(t){return t==null?t===void 0?qDe:VDe:q8&&q8 in Object(t)?$De(t):WDe(t)}function hs(t){return t!=null&&typeof t=="object"}var KDe="[object Symbol]";function qT(t){return typeof t=="symbol"||hs(t)&&oc(t)==KDe}function A3(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var go=Array.isArray,K8=fl?fl.prototype:void 0,X8=K8?K8.toString:void 0;function tte(t){if(typeof t=="string")return t;if(go(t))return A3(t,tte)+"";if(qT(t))return X8?X8.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var XDe=/\s/;function JDe(t){for(var e=t.length;e--&&XDe.test(t.charAt(e)););return e}var YDe=/^\s+/;function ZDe(t){return t&&t.slice(0,JDe(t)+1).replace(YDe,"")}function qr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var J8=NaN,QDe=/^[-+]0x[0-9a-f]+$/i,eLe=/^0b[01]+$/i,tLe=/^0o[0-7]+$/i,nLe=parseInt;function Y8(t){if(typeof t=="number")return t;if(qT(t))return J8;if(qr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ZDe(t);var n=eLe.test(t);return n||tLe.test(t)?nLe(t.slice(2),n?2:8):QDe.test(t)?J8:+t}function nte(t){return t}var rLe="[object AsyncFunction]",iLe="[object Function]",oLe="[object GeneratorFunction]",aLe="[object Proxy]";function En(t){if(!qr(t))return!1;var e=oc(t);return e==iLe||e==oLe||e==rLe||e==aLe}var yP=lu["__core-js_shared__"],Z8=function(){var t=/[^.]+$/.exec(yP&&yP.keys&&yP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sLe(t){return!!Z8&&Z8 in t}var lLe=Function.prototype,uLe=lLe.toString;function rm(t){if(t!=null){try{return uLe.call(t)}catch{}try{return t+""}catch{}}return""}var cLe=/[\\^$.*+?()[\]{}|]/g,fLe=/^\[object .+?Constructor\]$/,dLe=Function.prototype,hLe=Object.prototype,pLe=dLe.toString,mLe=hLe.hasOwnProperty,vLe=RegExp("^"+pLe.call(mLe).replace(cLe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gLe(t){if(!qr(t)||sLe(t))return!1;var e=En(t)?vLe:fLe;return e.test(rm(t))}function yLe(t,e){return t==null?void 0:t[e]}function im(t,e){var n=yLe(t,e);return gLe(n)?n:void 0}var RL=im(lu,"WeakMap"),Q8=Object.create,_Le=function(){function t(){}return function(e){if(!qr(e))return{};if(Q8)return Q8(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function bLe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function wLe(){}function rte(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var SLe=800,ELe=16,xLe=Date.now;function ALe(t){var e=0,n=0;return function(){var r=xLe(),i=ELe-(r-n);if(n=r,i>0){if(++e>=SLe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function CLe(t){return function(){return t}}var vC=function(){try{var t=im(Object,"defineProperty");return t({},"",{}),t}catch{}}(),TLe=vC?function(t,e){return vC(t,"toString",{configurable:!0,enumerable:!1,value:CLe(e),writable:!0})}:nte,ite=ALe(TLe);function MLe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function OLe(t,e,n,r){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function ILe(t){return t!==t}function RLe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function PLe(t,e,n){return e===e?RLe(t,e,n):OLe(t,ILe,n)}function C3(t,e){var n=t==null?0:t.length;return!!n&&PLe(t,e,0)>-1}var DLe=9007199254740991,LLe=/^(?:0|[1-9]\d*)$/;function KT(t,e){var n=typeof t;return e=e??DLe,!!e&&(n=="number"||n!="symbol"&&LLe.test(t))&&t>-1&&t%1==0&&t<e}function T3(t,e,n){e=="__proto__"&&vC?vC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ew(t,e){return t===e||t!==t&&e!==e}var NLe=Object.prototype,BLe=NLe.hasOwnProperty;function M3(t,e,n){var r=t[e];(!(BLe.call(t,e)&&Ew(r,n))||n===void 0&&!(e in t))&&T3(t,e,n)}function O0(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=void 0;u===void 0&&(u=t[s]),i?T3(n,s,u):M3(n,s,u)}return n}var ez=Math.max;function ote(t,e,n){return e=ez(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ez(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),bLe(t,this,s)}}function O3(t,e){return ite(ote(t,e,nte),t+"")}var FLe=9007199254740991;function I3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FLe}function xw(t){return t!=null&&I3(t.length)&&!En(t)}function kLe(t,e,n){if(!qr(n))return!1;var r=typeof e;return(r=="number"?xw(n)&&KT(e,n.length):r=="string"&&e in n)?Ew(n[e],t):!1}function ate(t){return O3(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&kLe(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var ULe=Object.prototype;function XT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ULe;return t===n}function jLe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var HLe="[object Arguments]";function tz(t){return hs(t)&&oc(t)==HLe}var ste=Object.prototype,$Le=ste.hasOwnProperty,zLe=ste.propertyIsEnumerable,$g=tz(function(){return arguments}())?tz:function(t){return hs(t)&&$Le.call(t,"callee")&&!zLe.call(t,"callee")};function GLe(){return!1}var lte=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nz=lte&&typeof module=="object"&&module&&!module.nodeType&&module,WLe=nz&&nz.exports===lte,rz=WLe?lu.Buffer:void 0,VLe=rz?rz.isBuffer:void 0,zg=VLe||GLe,qLe="[object Arguments]",KLe="[object Array]",XLe="[object Boolean]",JLe="[object Date]",YLe="[object Error]",ZLe="[object Function]",QLe="[object Map]",eNe="[object Number]",tNe="[object Object]",nNe="[object RegExp]",rNe="[object Set]",iNe="[object String]",oNe="[object WeakMap]",aNe="[object ArrayBuffer]",sNe="[object DataView]",lNe="[object Float32Array]",uNe="[object Float64Array]",cNe="[object Int8Array]",fNe="[object Int16Array]",dNe="[object Int32Array]",hNe="[object Uint8Array]",pNe="[object Uint8ClampedArray]",mNe="[object Uint16Array]",vNe="[object Uint32Array]",Nr={};Nr[lNe]=Nr[uNe]=Nr[cNe]=Nr[fNe]=Nr[dNe]=Nr[hNe]=Nr[pNe]=Nr[mNe]=Nr[vNe]=!0;Nr[qLe]=Nr[KLe]=Nr[aNe]=Nr[XLe]=Nr[sNe]=Nr[JLe]=Nr[YLe]=Nr[ZLe]=Nr[QLe]=Nr[eNe]=Nr[tNe]=Nr[nNe]=Nr[rNe]=Nr[iNe]=Nr[oNe]=!1;function gNe(t){return hs(t)&&I3(t.length)&&!!Nr[oc(t)]}function R3(t){return function(e){return t(e)}}var ute=typeof exports=="object"&&exports&&!exports.nodeType&&exports,N_=ute&&typeof module=="object"&&module&&!module.nodeType&&module,yNe=N_&&N_.exports===ute,_P=yNe&&Qee.process,Gg=function(){try{var t=N_&&N_.require&&N_.require("util").types;return t||_P&&_P.binding&&_P.binding("util")}catch{}}(),iz=Gg&&Gg.isTypedArray,JT=iz?R3(iz):gNe,_Ne=Object.prototype,bNe=_Ne.hasOwnProperty;function cte(t,e){var n=go(t),r=!n&&$g(t),i=!n&&!r&&zg(t),o=!n&&!r&&!i&&JT(t),a=n||r||i||o,s=a?jLe(t.length,String):[],u=s.length;for(var l in t)(e||bNe.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||KT(l,u)))&&s.push(l);return s}function fte(t,e){return function(n){return t(e(n))}}var wNe=fte(Object.keys,Object),SNe=Object.prototype,ENe=SNe.hasOwnProperty;function dte(t){if(!XT(t))return wNe(t);var e=[];for(var n in Object(t))ENe.call(t,n)&&n!="constructor"&&e.push(n);return e}function P3(t){return xw(t)?cte(t):dte(t)}function xNe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ANe=Object.prototype,CNe=ANe.hasOwnProperty;function TNe(t){if(!qr(t))return xNe(t);var e=XT(t),n=[];for(var r in t)r=="constructor"&&(e||!CNe.call(t,r))||n.push(r);return n}function Aw(t){return xw(t)?cte(t,!0):TNe(t)}var MNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ONe=/^\w*$/;function INe(t,e){if(go(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||qT(t)?!0:ONe.test(t)||!MNe.test(t)||e!=null&&t in Object(e)}var Rb=im(Object,"create");function RNe(){this.__data__=Rb?Rb(null):{},this.size=0}function PNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DNe="__lodash_hash_undefined__",LNe=Object.prototype,NNe=LNe.hasOwnProperty;function BNe(t){var e=this.__data__;if(Rb){var n=e[t];return n===DNe?void 0:n}return NNe.call(e,t)?e[t]:void 0}var FNe=Object.prototype,kNe=FNe.hasOwnProperty;function UNe(t){var e=this.__data__;return Rb?e[t]!==void 0:kNe.call(e,t)}var jNe="__lodash_hash_undefined__";function HNe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rb&&e===void 0?jNe:e,this}function Bp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bp.prototype.clear=RNe;Bp.prototype.delete=PNe;Bp.prototype.get=BNe;Bp.prototype.has=UNe;Bp.prototype.set=HNe;function $Ne(){this.__data__=[],this.size=0}function YT(t,e){for(var n=t.length;n--;)if(Ew(t[n][0],e))return n;return-1}var zNe=Array.prototype,GNe=zNe.splice;function WNe(t){var e=this.__data__,n=YT(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():GNe.call(e,n,1),--this.size,!0}function VNe(t){var e=this.__data__,n=YT(e,t);return n<0?void 0:e[n][1]}function qNe(t){return YT(this.__data__,t)>-1}function KNe(t,e){var n=this.__data__,r=YT(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ff(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ff.prototype.clear=$Ne;ff.prototype.delete=WNe;ff.prototype.get=VNe;ff.prototype.has=qNe;ff.prototype.set=KNe;var Pb=im(lu,"Map");function XNe(){this.size=0,this.__data__={hash:new Bp,map:new(Pb||ff),string:new Bp}}function JNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ZT(t,e){var n=t.__data__;return JNe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function YNe(t){var e=ZT(this,t).delete(t);return this.size-=e?1:0,e}function ZNe(t){return ZT(this,t).get(t)}function QNe(t){return ZT(this,t).has(t)}function eBe(t,e){var n=ZT(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}df.prototype.clear=XNe;df.prototype.delete=YNe;df.prototype.get=ZNe;df.prototype.has=QNe;df.prototype.set=eBe;var tBe="Expected a function";function D3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tBe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(D3.Cache||df),n}D3.Cache=df;var nBe=500;function rBe(t){var e=D3(t,function(r){return n.size===nBe&&n.clear(),r}),n=e.cache;return e}var iBe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oBe=/\\(\\)?/g,aBe=rBe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iBe,function(n,r,i,o){e.push(i?o.replace(oBe,"$1"):r||n)}),e});function Cw(t){return t==null?"":tte(t)}function I0(t,e){return go(t)?t:INe(t,e)?[t]:aBe(Cw(t))}function QT(t){if(typeof t=="string"||qT(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function L3(t,e){e=I0(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[QT(e[n++])];return n&&n==r?t:void 0}function Ft(t,e,n){var r=t==null?void 0:L3(t,e);return r===void 0?n:r}function N3(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var oz=fl?fl.isConcatSpreadable:void 0;function sBe(t){return go(t)||$g(t)||!!(oz&&t&&t[oz])}function hte(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=sBe),i||(i=[]);++o<a;){var s=t[o];n(s)?N3(i,s):i[i.length]=s}return i}function lBe(t){var e=t==null?0:t.length;return e?hte(t):[]}function pte(t){return ite(ote(t,void 0,lBe),t+"")}var B3=fte(Object.getPrototypeOf,Object),uBe="[object Object]",cBe=Function.prototype,fBe=Object.prototype,mte=cBe.toString,dBe=fBe.hasOwnProperty,hBe=mte.call(Object);function eM(t){if(!hs(t)||oc(t)!=uBe)return!1;var e=B3(t);if(e===null)return!0;var n=dBe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mte.call(n)==hBe}function vte(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function pBe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:vte(t,e,n)}var mBe="\\ud800-\\udfff",vBe="\\u0300-\\u036f",gBe="\\ufe20-\\ufe2f",yBe="\\u20d0-\\u20ff",_Be=vBe+gBe+yBe,bBe="\\ufe0e\\ufe0f",wBe="\\u200d",SBe=RegExp("["+wBe+mBe+_Be+bBe+"]");function gte(t){return SBe.test(t)}function EBe(t){return t.split("")}var yte="\\ud800-\\udfff",xBe="\\u0300-\\u036f",ABe="\\ufe20-\\ufe2f",CBe="\\u20d0-\\u20ff",TBe=xBe+ABe+CBe,MBe="\\ufe0e\\ufe0f",OBe="["+yte+"]",PL="["+TBe+"]",DL="\\ud83c[\\udffb-\\udfff]",IBe="(?:"+PL+"|"+DL+")",_te="[^"+yte+"]",bte="(?:\\ud83c[\\udde6-\\uddff]){2}",wte="[\\ud800-\\udbff][\\udc00-\\udfff]",RBe="\\u200d",Ste=IBe+"?",Ete="["+MBe+"]?",PBe="(?:"+RBe+"(?:"+[_te,bte,wte].join("|")+")"+Ete+Ste+")*",DBe=Ete+Ste+PBe,LBe="(?:"+[_te+PL+"?",PL,bte,wte,OBe].join("|")+")",NBe=RegExp(DL+"(?="+DL+")|"+LBe+DBe,"g");function BBe(t){return t.match(NBe)||[]}function FBe(t){return gte(t)?BBe(t):EBe(t)}function kBe(t){return function(e){e=Cw(e);var n=gte(e)?FBe(e):void 0,r=n?n[0]:e.charAt(0),i=n?pBe(n,1).join(""):e.slice(1);return r[t]()+i}}var LL=kBe("toUpperCase");function UBe(t){return LL(Cw(t).toLowerCase())}function jBe(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)n=e(n,t[i],i,t);return n}function HBe(t){return function(e){return t==null?void 0:t[e]}}var $Be={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zBe=HBe($Be),GBe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,WBe="\\u0300-\\u036f",VBe="\\ufe20-\\ufe2f",qBe="\\u20d0-\\u20ff",KBe=WBe+VBe+qBe,XBe="["+KBe+"]",JBe=RegExp(XBe,"g");function YBe(t){return t=Cw(t),t&&t.replace(GBe,zBe).replace(JBe,"")}var ZBe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function QBe(t){return t.match(ZBe)||[]}var eFe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function tFe(t){return eFe.test(t)}var xte="\\ud800-\\udfff",nFe="\\u0300-\\u036f",rFe="\\ufe20-\\ufe2f",iFe="\\u20d0-\\u20ff",oFe=nFe+rFe+iFe,Ate="\\u2700-\\u27bf",Cte="a-z\\xdf-\\xf6\\xf8-\\xff",aFe="\\xac\\xb1\\xd7\\xf7",sFe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",lFe="\\u2000-\\u206f",uFe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tte="A-Z\\xc0-\\xd6\\xd8-\\xde",cFe="\\ufe0e\\ufe0f",Mte=aFe+sFe+lFe+uFe,Ote="[']",az="["+Mte+"]",fFe="["+oFe+"]",Ite="\\d+",dFe="["+Ate+"]",Rte="["+Cte+"]",Pte="[^"+xte+Mte+Ite+Ate+Cte+Tte+"]",hFe="\\ud83c[\\udffb-\\udfff]",pFe="(?:"+fFe+"|"+hFe+")",mFe="[^"+xte+"]",Dte="(?:\\ud83c[\\udde6-\\uddff]){2}",Lte="[\\ud800-\\udbff][\\udc00-\\udfff]",wv="["+Tte+"]",vFe="\\u200d",sz="(?:"+Rte+"|"+Pte+")",gFe="(?:"+wv+"|"+Pte+")",lz="(?:"+Ote+"(?:d|ll|m|re|s|t|ve))?",uz="(?:"+Ote+"(?:D|LL|M|RE|S|T|VE))?",Nte=pFe+"?",Bte="["+cFe+"]?",yFe="(?:"+vFe+"(?:"+[mFe,Dte,Lte].join("|")+")"+Bte+Nte+")*",_Fe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bFe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wFe=Bte+Nte+yFe,SFe="(?:"+[dFe,Dte,Lte].join("|")+")"+wFe,EFe=RegExp([wv+"?"+Rte+"+"+lz+"(?="+[az,wv,"$"].join("|")+")",gFe+"+"+uz+"(?="+[az,wv+sz,"$"].join("|")+")",wv+"?"+sz+"+"+lz,wv+"+"+uz,bFe,_Fe,Ite,SFe].join("|"),"g");function xFe(t){return t.match(EFe)||[]}function AFe(t,e,n){return t=Cw(t),e=e,e===void 0?tFe(t)?xFe(t):QBe(t):t.match(e)||[]}var CFe="[']",TFe=RegExp(CFe,"g");function MFe(t){return function(e){return jBe(AFe(YBe(e).replace(TFe,"")),t,"")}}var Fte=MFe(function(t,e,n){return e=e.toLowerCase(),t+(n?UBe(e):e)});function OFe(){if(!arguments.length)return[];var t=arguments[0];return go(t)?t:[t]}function IFe(){this.__data__=new ff,this.size=0}function RFe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function PFe(t){return this.__data__.get(t)}function DFe(t){return this.__data__.has(t)}var LFe=200;function NFe(t,e){var n=this.__data__;if(n instanceof ff){var r=n.__data__;if(!Pb||r.length<LFe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new df(r)}return n.set(t,e),this.size=n.size,this}function $u(t){var e=this.__data__=new ff(t);this.size=e.size}$u.prototype.clear=IFe;$u.prototype.delete=RFe;$u.prototype.get=PFe;$u.prototype.has=DFe;$u.prototype.set=NFe;function BFe(t,e){return t&&O0(e,P3(e),t)}function FFe(t,e){return t&&O0(e,Aw(e),t)}var kte=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cz=kte&&typeof module=="object"&&module&&!module.nodeType&&module,kFe=cz&&cz.exports===kte,fz=kFe?lu.Buffer:void 0,dz=fz?fz.allocUnsafe:void 0;function Ute(t,e){if(e)return t.slice();var n=t.length,r=dz?dz(n):new t.constructor(n);return t.copy(r),r}function jte(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Hte(){return[]}var UFe=Object.prototype,jFe=UFe.propertyIsEnumerable,hz=Object.getOwnPropertySymbols,F3=hz?function(t){return t==null?[]:(t=Object(t),jte(hz(t),function(e){return jFe.call(t,e)}))}:Hte;function HFe(t,e){return O0(t,F3(t),e)}var $Fe=Object.getOwnPropertySymbols,$te=$Fe?function(t){for(var e=[];t;)N3(e,F3(t)),t=B3(t);return e}:Hte;function zFe(t,e){return O0(t,$te(t),e)}function zte(t,e,n){var r=e(t);return go(t)?r:N3(r,n(t))}function NL(t){return zte(t,P3,F3)}function Gte(t){return zte(t,Aw,$te)}var BL=im(lu,"DataView"),FL=im(lu,"Promise"),mg=im(lu,"Set"),pz="[object Map]",GFe="[object Object]",mz="[object Promise]",vz="[object Set]",gz="[object WeakMap]",yz="[object DataView]",WFe=rm(BL),VFe=rm(Pb),qFe=rm(FL),KFe=rm(mg),XFe=rm(RL),Qs=oc;(BL&&Qs(new BL(new ArrayBuffer(1)))!=yz||Pb&&Qs(new Pb)!=pz||FL&&Qs(FL.resolve())!=mz||mg&&Qs(new mg)!=vz||RL&&Qs(new RL)!=gz)&&(Qs=function(t){var e=oc(t),n=e==GFe?t.constructor:void 0,r=n?rm(n):"";if(r)switch(r){case WFe:return yz;case VFe:return pz;case qFe:return mz;case KFe:return vz;case XFe:return gz}return e});var JFe=Object.prototype,YFe=JFe.hasOwnProperty;function ZFe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&YFe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var gC=lu.Uint8Array;function k3(t){var e=new t.constructor(t.byteLength);return new gC(e).set(new gC(t)),e}function QFe(t,e){var n=e?k3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var e3e=/\w*$/;function t3e(t){var e=new t.constructor(t.source,e3e.exec(t));return e.lastIndex=t.lastIndex,e}var _z=fl?fl.prototype:void 0,bz=_z?_z.valueOf:void 0;function n3e(t){return bz?Object(bz.call(t)):{}}function Wte(t,e){var n=e?k3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var r3e="[object Boolean]",i3e="[object Date]",o3e="[object Map]",a3e="[object Number]",s3e="[object RegExp]",l3e="[object Set]",u3e="[object String]",c3e="[object Symbol]",f3e="[object ArrayBuffer]",d3e="[object DataView]",h3e="[object Float32Array]",p3e="[object Float64Array]",m3e="[object Int8Array]",v3e="[object Int16Array]",g3e="[object Int32Array]",y3e="[object Uint8Array]",_3e="[object Uint8ClampedArray]",b3e="[object Uint16Array]",w3e="[object Uint32Array]";function S3e(t,e,n){var r=t.constructor;switch(e){case f3e:return k3(t);case r3e:case i3e:return new r(+t);case d3e:return QFe(t,n);case h3e:case p3e:case m3e:case v3e:case g3e:case y3e:case _3e:case b3e:case w3e:return Wte(t,n);case o3e:return new r;case a3e:case u3e:return new r(t);case s3e:return t3e(t);case l3e:return new r;case c3e:return n3e(t)}}function Vte(t){return typeof t.constructor=="function"&&!XT(t)?_Le(B3(t)):{}}var E3e="[object Map]";function x3e(t){return hs(t)&&Qs(t)==E3e}var wz=Gg&&Gg.isMap,A3e=wz?R3(wz):x3e,C3e="[object Set]";function T3e(t){return hs(t)&&Qs(t)==C3e}var Sz=Gg&&Gg.isSet,M3e=Sz?R3(Sz):T3e,O3e=1,I3e=2,R3e=4,qte="[object Arguments]",P3e="[object Array]",D3e="[object Boolean]",L3e="[object Date]",N3e="[object Error]",Kte="[object Function]",B3e="[object GeneratorFunction]",F3e="[object Map]",k3e="[object Number]",Xte="[object Object]",U3e="[object RegExp]",j3e="[object Set]",H3e="[object String]",$3e="[object Symbol]",z3e="[object WeakMap]",G3e="[object ArrayBuffer]",W3e="[object DataView]",V3e="[object Float32Array]",q3e="[object Float64Array]",K3e="[object Int8Array]",X3e="[object Int16Array]",J3e="[object Int32Array]",Y3e="[object Uint8Array]",Z3e="[object Uint8ClampedArray]",Q3e="[object Uint16Array]",eke="[object Uint32Array]",xr={};xr[qte]=xr[P3e]=xr[G3e]=xr[W3e]=xr[D3e]=xr[L3e]=xr[V3e]=xr[q3e]=xr[K3e]=xr[X3e]=xr[J3e]=xr[F3e]=xr[k3e]=xr[Xte]=xr[U3e]=xr[j3e]=xr[H3e]=xr[$3e]=xr[Y3e]=xr[Z3e]=xr[Q3e]=xr[eke]=!0;xr[N3e]=xr[Kte]=xr[z3e]=!1;function B_(t,e,n,r,i,o){var a,s=e&O3e,u=e&I3e,l=e&R3e;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!qr(t))return t;var c=go(t);if(c){if(a=ZFe(t),!s)return rte(t,a)}else{var f=Qs(t),d=f==Kte||f==B3e;if(zg(t))return Ute(t,s);if(f==Xte||f==qte||d&&!i){if(a=u||d?{}:Vte(t),!s)return u?zFe(t,FFe(a,t)):HFe(t,BFe(a,t))}else{if(!xr[f])return i?t:{};a=S3e(t,f,s)}}o||(o=new $u);var h=o.get(t);if(h)return h;o.set(t,a),M3e(t)?t.forEach(function(y){a.add(B_(y,e,n,y,t,o))}):A3e(t)&&t.forEach(function(y,m){a.set(m,B_(y,e,n,m,t,o))});var p=l?u?Gte:NL:u?Aw:P3,_=c?void 0:p(t);return MLe(_||t,function(y,m){_&&(m=y,y=t[m]),M3(a,m,B_(y,e,n,m,t,o))}),a}var tke=1,nke=4;function U3(t){return B_(t,tke|nke)}var rke="__lodash_hash_undefined__";function ike(t){return this.__data__.set(t,rke),this}function oke(t){return this.__data__.has(t)}function Fp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new df;++e<n;)this.add(t[e])}Fp.prototype.add=Fp.prototype.push=ike;Fp.prototype.has=oke;function ake(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Db(t,e){return t.has(e)}var ske=1,lke=2;function Jte(t,e,n,r,i,o){var a=n&ske,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var f=-1,d=!0,h=n&lke?new Fp:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],_=e[f];if(r)var y=a?r(_,p,f,e,t,o):r(p,_,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(h){if(!ake(e,function(m,b){if(!Db(h,b)&&(p===m||i(p,m,n,r,o)))return h.push(b)})){d=!1;break}}else if(!(p===_||i(p,_,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}function uke(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function j3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cke=1,fke=2,dke="[object Boolean]",hke="[object Date]",pke="[object Error]",mke="[object Map]",vke="[object Number]",gke="[object RegExp]",yke="[object Set]",_ke="[object String]",bke="[object Symbol]",wke="[object ArrayBuffer]",Ske="[object DataView]",Ez=fl?fl.prototype:void 0,bP=Ez?Ez.valueOf:void 0;function Eke(t,e,n,r,i,o,a){switch(n){case Ske:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wke:return!(t.byteLength!=e.byteLength||!o(new gC(t),new gC(e)));case dke:case hke:case vke:return Ew(+t,+e);case pke:return t.name==e.name&&t.message==e.message;case gke:case _ke:return t==e+"";case mke:var s=uke;case yke:var u=r&cke;if(s||(s=j3),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=fke,a.set(t,e);var c=Jte(s(t),s(e),r,i,o,a);return a.delete(t),c;case bke:if(bP)return bP.call(t)==bP.call(e)}return!1}var xke=1,Ake=Object.prototype,Cke=Ake.hasOwnProperty;function Tke(t,e,n,r,i,o){var a=n&xke,s=NL(t),u=s.length,l=NL(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var d=s[f];if(!(a?d in e:Cke.call(e,d)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var _=!0;o.set(t,e),o.set(e,t);for(var y=a;++f<u;){d=s[f];var m=t[d],b=e[d];if(r)var w=a?r(b,m,d,e,t,o):r(m,b,d,t,e,o);if(!(w===void 0?m===b||i(m,b,n,r,o):w)){_=!1;break}y||(y=d=="constructor")}if(_&&!y){var S=t.constructor,x=e.constructor;S!=x&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(_=!1)}return o.delete(t),o.delete(e),_}var Mke=1,xz="[object Arguments]",Az="[object Array]",US="[object Object]",Oke=Object.prototype,Cz=Oke.hasOwnProperty;function Ike(t,e,n,r,i,o){var a=go(t),s=go(e),u=a?Az:Qs(t),l=s?Az:Qs(e);u=u==xz?US:u,l=l==xz?US:l;var c=u==US,f=l==US,d=u==l;if(d&&zg(t)){if(!zg(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new $u),a||JT(t)?Jte(t,e,n,r,i,o):Eke(t,e,u,n,r,i,o);if(!(n&Mke)){var h=c&&Cz.call(t,"__wrapped__"),p=f&&Cz.call(e,"__wrapped__");if(h||p){var _=h?t.value():t,y=p?e.value():e;return o||(o=new $u),i(_,y,n,r,o)}}return d?(o||(o=new $u),Tke(t,e,n,r,i,o)):!1}function H3(t,e,n,r,i){return t===e?!0:t==null||e==null||!hs(t)&&!hs(e)?t!==t&&e!==e:Ike(t,e,n,r,H3,i)}function Rke(t,e){return t!=null&&e in Object(t)}function Yte(t,e,n){e=I0(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=QT(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&I3(i)&&KT(a,i)&&(go(t)||$g(t)))}function Pke(t,e){return t!=null&&Yte(t,e,Rke)}function Dke(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[++i];if(n(o[u],u,o)===!1)break}return e}}var Lke=Dke(),wP=function(){return lu.Date.now()},Nke="Expected a function",Bke=Math.max,Fke=Math.min;function Tw(t,e,n){var r,i,o,a,s,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Nke);e=Y8(e)||0,qr(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Bke(Y8(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(E){var M=r,O=i;return r=i=void 0,l=E,a=t.apply(O,M),a}function p(E){return l=E,s=setTimeout(m,e),c?h(E):a}function _(E){var M=E-u,O=E-l,C=e-M;return f?Fke(C,o-O):C}function y(E){var M=E-u,O=E-l;return u===void 0||M>=e||M<0||f&&O>=o}function m(){var E=wP();if(y(E))return b(E);s=setTimeout(m,_(E))}function b(E){return s=void 0,d&&r?h(E):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function S(){return s===void 0?a:b(wP())}function x(){var E=wP(),M=y(E);if(r=arguments,i=this,u=E,M){if(s===void 0)return p(u);if(f)return clearTimeout(s),s=setTimeout(m,e),h(u)}return s===void 0&&(s=setTimeout(m,e)),a}return x.cancel=w,x.flush=S,x}function kL(t,e,n){(n!==void 0&&!Ew(t[e],n)||n===void 0&&!(e in t))&&T3(t,e,n)}function $3(t){return hs(t)&&xw(t)}function UL(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function kke(t){return O0(t,Aw(t))}function Uke(t,e,n,r,i,o,a){var s=UL(t,n),u=UL(e,n),l=a.get(u);if(l){kL(t,n,l);return}var c=o?o(s,u,n+"",t,e,a):void 0,f=c===void 0;if(f){var d=go(u),h=!d&&zg(u),p=!d&&!h&&JT(u);c=u,d||h||p?go(s)?c=s:$3(s)?c=rte(s):h?(f=!1,c=Ute(u,!0)):p?(f=!1,c=Wte(u,!0)):c=[]:eM(u)||$g(u)?(c=s,$g(s)?c=kke(s):(!qr(s)||En(s))&&(c=Vte(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),kL(t,n,c)}function z3(t,e,n,r,i){t!==e&&Lke(e,function(o,a){if(i||(i=new $u),qr(o))Uke(t,e,a,n,z3,r,i);else{var s=r?r(UL(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),kL(t,a,s)}},Aw)}var jke=ate(function(t,e,n,r){z3(t,e,n,r)});function Zte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Hke=200;function $ke(t,e,n,r){var i=-1,o=C3,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;r?(o=Zte,a=!1):e.length>=Hke&&(o=Db,a=!1,e=new Fp(e));e:for(;++i<s;){var c=t[i],f=c;if(c=r||c!==0?c:0,a&&f===f){for(var d=l;d--;)if(e[d]===f)continue e;u.push(c)}else o(e,f,r)||u.push(c)}return u}function Qte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zke=Object.prototype,Gke=zke.hasOwnProperty;function Wke(t,e){return t!=null&&Gke.call(t,e)}function ene(t,e){return t!=null&&Yte(t,e,Wke)}var Vke="[object String]";function _i(t){return typeof t=="string"||!go(t)&&hs(t)&&oc(t)==Vke}var qke=Math.min;function Kke(t,e,n){for(var r=C3,i=t[0].length,o=t.length,a=o,s=Array(o),u=1/0,l=[];a--;){var c=t[a];u=qke(c.length,u),s[a]=i>=120&&c.length>=120?new Fp(a&&c):void 0}c=t[0];var f=-1,d=s[0];e:for(;++f<i&&l.length<u;){var h=c[f],p=h;if(h=h!==0?h:0,!(d?Db(d,p):r(l,p))){for(a=o;--a;){var _=s[a];if(!(_?Db(_,p):r(t[a],p)))continue e}d&&d.push(p),l.push(h)}}return l}function Xke(t){return $3(t)?t:[]}var tne=O3(function(t){var e=A3(t,Xke);return e.length&&e[0]===t[0]?Kke(e):[]});function Jke(t,e){return e.length<2?t:L3(t,vte(e,0,-1))}var Yke="[object Boolean]";function Zke(t){return t===!0||t===!1||hs(t)&&oc(t)==Yke}var Qke="[object Map]",eUe="[object Set]",tUe=Object.prototype,nUe=tUe.hasOwnProperty;function kp(t){if(t==null)return!0;if(xw(t)&&(go(t)||typeof t=="string"||typeof t.splice=="function"||zg(t)||JT(t)||$g(t)))return!t.length;var e=Qs(t);if(e==Qke||e==eUe)return!t.size;if(XT(t))return!dte(t).length;for(var n in t)if(nUe.call(t,n))return!1;return!0}function Hc(t,e){return H3(t,e)}function rUe(t,e,n){n=typeof n=="function"?n:void 0;var r=n?n(t,e):void 0;return r===void 0?H3(t,e,void 0,n):!!r}var iUe="[object Number]";function ca(t){return typeof t=="number"||hs(t)&&oc(t)==iUe}function oUe(t){return ca(t)&&t!=+t}function Lb(t){return t===void 0}var tM=ate(function(t,e,n){z3(t,e,n)}),aUe=Object.prototype,sUe=aUe.hasOwnProperty;function nne(t,e){e=I0(e,t);var n=-1,r=e.length;if(!r)return!0;for(var i=t==null||typeof t!="object"&&typeof t!="function";++n<r;){var o=e[n];if(typeof o=="string"){if(o==="__proto__"&&!sUe.call(t,"__proto__"))return!1;if(o==="constructor"&&n+1<r&&typeof e[n+1]=="string"&&e[n+1]==="prototype"){if(i&&n===0)continue;return!1}}}var a=Jke(t,e);return a==null||delete a[QT(Qte(e))]}function lUe(t){return eM(t)?void 0:t}var uUe=1,cUe=2,fUe=4,dUe=pte(function(t,e){var n={};if(t==null)return n;var r=!1;e=A3(e,function(o){return o=I0(o,t),r||(r=o.length>1),o}),O0(t,Gte(t),n),r&&(n=B_(n,uUe|cUe|fUe,lUe));for(var i=e.length;i--;)nne(n,e[i]);return n});function rne(t,e,n,r){if(!qr(t))return t;e=I0(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var u=QT(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var c=s[u];l=void 0,l===void 0&&(l=qr(c)?c:KT(e[i+1])?[]:{})}M3(s,u,l),s=s[u]}return t}function hUe(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=L3(t,a);n(s,a)&&rne(o,I0(a,t),s)}return o}function pUe(t,e){return hUe(t,e,function(n,r){return Pke(t,r)})}var Nb=pte(function(t,e){return t==null?{}:pUe(t,e)});function Ad(t,e,n){return t==null?t:rne(t,e,n)}var mUe=1/0,vUe=mg&&1/j3(new mg([,-0]))[1]==mUe?function(t){return new mg(t)}:wLe,gUe=200;function Tz(t,e,n){var r=-1,i=C3,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Zte;else if(o>=gUe){var l=vUe(t);if(l)return j3(l);a=!1,i=Db,u=new Fp}else u=s;e:for(;++r<o;){var c=t[r],f=c;if(c=n||c!==0?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function Bb(t,e){return t==null?!0:nne(t,e)}function yUe(t,e,n){var r=t.length;if(r<2)return r?Tz(t[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=$ke(o[i]||a,t[s],e,n));return Tz(hte(o),e,n)}var ine=O3(function(t){var e=Qte(t);return e=typeof e=="function"?e:void 0,yUe(jte(t,$3),void 0,e)});/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var _Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var one={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bn,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",u="hour",l="day",c="week",f="month",d="quarter",h="year",p="date",_="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var k=["th","st","nd","rd"],j=B%100;return"["+B+(k[(j-20)%10]||k[j]||k[0])+"]"}},w=function(B,k,j){var $=String(B);return!$||$.length>=k?B:""+Array(k+1-$.length).join(j)+B},S={s:w,z:function(B){var k=-B.utcOffset(),j=Math.abs(k),$=Math.floor(j/60),F=j%60;return(k<=0?"+":"-")+w($,2,"0")+":"+w(F,2,"0")},m:function B(k,j){if(k.date()<j.date())return-B(j,k);var $=12*(j.year()-k.year())+(j.month()-k.month()),F=k.clone().add($,f),R=j-F<0,L=k.clone().add($+(R?-1:1),f);return+(-($+(j-F)/(R?F-L:L-F))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:f,y:h,w:c,d:l,D:p,h:u,m:s,s:a,ms:o,Q:d}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},x="en",E={};E[x]=b;var M="$isDayjsObject",O=function(B){return B instanceof N||!(!B||!B[M])},C=function B(k,j,$){var F;if(!k)return x;if(typeof k=="string"){var R=k.toLowerCase();E[R]&&(F=R),j&&(E[R]=j,F=R);var L=k.split("-");if(!F&&L.length>1)return B(L[0])}else{var W=k.name;E[W]=k,F=W}return!$&&F&&(x=F),F||!$&&x},T=function(B,k){if(O(B))return B.clone();var j=typeof k=="object"?k:{};return j.date=B,j.args=arguments,new N(j)},P=S;P.l=C,P.i=O,P.w=function(B,k){return T(B,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var N=function(){function B(j){this.$L=C(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[M]=!0}var k=B.prototype;return k.parse=function(j){this.$d=function($){var F=$.date,R=$.utc;if(F===null)return new Date(NaN);if(P.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var L=F.match(y);if(L){var W=L[2]-1||0,Z=(L[7]||"0").substring(0,3);return R?new Date(Date.UTC(L[1],W,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)):new Date(L[1],W,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)}}return new Date(F)}(j),this.init()},k.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},k.$utils=function(){return P},k.isValid=function(){return this.$d.toString()!==_},k.isSame=function(j,$){var F=T(j);return this.startOf($)<=F&&F<=this.endOf($)},k.isAfter=function(j,$){return T(j)<this.startOf($)},k.isBefore=function(j,$){return this.endOf($)<T(j)},k.$g=function(j,$,F){return P.u(j)?this[$]:this.set(F,j)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(j,$){var F=this,R=!!P.u($)||$,L=P.p(j),W=function(xe,he){var we=P.w(F.$u?Date.UTC(F.$y,he,xe):new Date(F.$y,he,xe),F);return R?we:we.endOf(l)},Z=function(xe,he){return P.w(F.toDate()[xe].apply(F.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(he)),F)},ee=this.$W,oe=this.$M,pe=this.$D,ie="set"+(this.$u?"UTC":"");switch(L){case h:return R?W(1,0):W(31,11);case f:return R?W(1,oe):W(0,oe+1);case c:var ce=this.$locale().weekStart||0,ve=(ee<ce?ee+7:ee)-ce;return W(R?pe-ve:pe+(6-ve),oe);case l:case p:return Z(ie+"Hours",0);case u:return Z(ie+"Minutes",1);case s:return Z(ie+"Seconds",2);case a:return Z(ie+"Milliseconds",3);default:return this.clone()}},k.endOf=function(j){return this.startOf(j,!1)},k.$set=function(j,$){var F,R=P.p(j),L="set"+(this.$u?"UTC":""),W=(F={},F[l]=L+"Date",F[p]=L+"Date",F[f]=L+"Month",F[h]=L+"FullYear",F[u]=L+"Hours",F[s]=L+"Minutes",F[a]=L+"Seconds",F[o]=L+"Milliseconds",F)[R],Z=R===l?this.$D+($-this.$W):$;if(R===f||R===h){var ee=this.clone().set(p,1);ee.$d[W](Z),ee.init(),this.$d=ee.set(p,Math.min(this.$D,ee.daysInMonth())).$d}else W&&this.$d[W](Z);return this.init(),this},k.set=function(j,$){return this.clone().$set(j,$)},k.get=function(j){return this[P.p(j)]()},k.add=function(j,$){var F,R=this;j=Number(j);var L=P.p($),W=function(oe){var pe=T(R);return P.w(pe.date(pe.date()+Math.round(oe*j)),R)};if(L===f)return this.set(f,this.$M+j);if(L===h)return this.set(h,this.$y+j);if(L===l)return W(1);if(L===c)return W(7);var Z=(F={},F[s]=r,F[u]=i,F[a]=n,F)[L]||1,ee=this.$d.getTime()+j*Z;return P.w(ee,this)},k.subtract=function(j,$){return this.add(-1*j,$)},k.format=function(j){var $=this,F=this.$locale();if(!this.isValid())return F.invalidDate||_;var R=j||"YYYY-MM-DDTHH:mm:ssZ",L=P.z(this),W=this.$H,Z=this.$m,ee=this.$M,oe=F.weekdays,pe=F.months,ie=F.meridiem,ce=function(he,we,ne,Me){return he&&(he[we]||he($,R))||ne[we].slice(0,Me)},ve=function(he){return P.s(W%12||12,he,"0")},xe=ie||function(he,we,ne){var Me=he<12?"AM":"PM";return ne?Me.toLowerCase():Me};return R.replace(m,function(he,we){return we||function(ne){switch(ne){case"YY":return String($.$y).slice(-2);case"YYYY":return P.s($.$y,4,"0");case"M":return ee+1;case"MM":return P.s(ee+1,2,"0");case"MMM":return ce(F.monthsShort,ee,pe,3);case"MMMM":return ce(pe,ee);case"D":return $.$D;case"DD":return P.s($.$D,2,"0");case"d":return String($.$W);case"dd":return ce(F.weekdaysMin,$.$W,oe,2);case"ddd":return ce(F.weekdaysShort,$.$W,oe,3);case"dddd":return oe[$.$W];case"H":return String(W);case"HH":return P.s(W,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return xe(W,Z,!0);case"A":return xe(W,Z,!1);case"m":return String(Z);case"mm":return P.s(Z,2,"0");case"s":return String($.$s);case"ss":return P.s($.$s,2,"0");case"SSS":return P.s($.$ms,3,"0");case"Z":return L}return null}(he)||L.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(j,$,F){var R,L=this,W=P.p($),Z=T(j),ee=(Z.utcOffset()-this.utcOffset())*r,oe=this-Z,pe=function(){return P.m(L,Z)};switch(W){case h:R=pe()/12;break;case f:R=pe();break;case d:R=pe()/3;break;case c:R=(oe-ee)/6048e5;break;case l:R=(oe-ee)/864e5;break;case u:R=oe/i;break;case s:R=oe/r;break;case a:R=oe/n;break;default:R=oe}return F?R:P.a(R)},k.daysInMonth=function(){return this.endOf(f).$D},k.$locale=function(){return E[this.$L]},k.locale=function(j,$){if(!j)return this.$L;var F=this.clone(),R=C(j,$,!0);return R&&(F.$L=R),F},k.clone=function(){return P.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},B}(),H=N.prototype;return T.prototype=H,[["$ms",o],["$s",a],["$m",s],["$H",u],["$W",l],["$M",f],["$y",h],["$D",p]].forEach(function(B){H[B[1]]=function(k){return this.$g(k,B[0],B[1])}}),T.extend=function(B,k){return B.$i||(B(k,N,T),B.$i=!0),T},T.locale=C,T.isDayjs=O,T.unix=function(B){return T(1e3*B)},T.en=E[x],T.Ls=E,T.p={},T})})(one);var bUe=one.exports;const wUe=au(bUe);/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var SUe={exports:{}};(function(t,e){(function(n,r){t.exports=r(wUe)})(_Ue,function(n){function r(a){return a&&Rn(a)=="object"&&"default"in a?a:{default:a}}var i=r(n),o={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(s,u){return u==="W"?s+"":s+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(s,u){var l=100*s+u;return l<600?"":l<900?"":l<1100?"":l<1300?"":l<1800?"":""}};return i.default.locale(o,null,!0),o})})(SUe);var EUe={autoComplete:{empty:""},pagination:{itemsPerPage:"{size} /",jumpTo:"",page:"",total:" {count} "},cascader:{empty:"",loadingText:"",placeholder:""},calendar:{yearSelection:"{year} ",monthSelection:"{month} ",yearRadio:"",monthRadio:"",hideWeekend:"",showWeekend:"",today:"",thisMonth:"",week:",,,,,,",cellMonth:"1 ,2 ,3 ,4 ,5 ,6 ,7 ,8 ,9 ,10 ,11 ,12 "},transfer:{title:"{checked} / {total} ",empty:"",placeholder:""},timePicker:{dayjsLocale:"zh-cn",now:"",confirm:"",anteMeridiem:"",postMeridiem:"",placeholder:""},dialog:{confirm:"",cancel:""},drawer:{confirm:"",cancel:""},popconfirm:{confirm:{content:""},cancel:{content:""}},table:{empty:"",loadingText:"",loadingMoreText:"",filterInputPlaceholder:"",sortAscendingOperationText:"",sortCancelOperationText:"",sortDescendingOperationText:"",clearFilterResultButtonText:"",columnConfigButtonText:"",columnConfigTitleText:"",columnConfigDescriptionText:"",confirmText:"",cancelText:"",resetText:"",selectAllText:"",searchResultText:"{result} {count} "},select:{empty:"",loadingText:"",placeholder:""},tree:{empty:""},treeSelect:{empty:"",loadingText:"",placeholder:""},datePicker:{dayjsLocale:"zh-cn",placeholder:{date:"",month:"",year:"",quarter:"",week:""},weekdays:["","","","","","",""],months:["1 ","2 ","3 ","4 ","5 ","6 ","7 ","8 ","9 ","10 ","11 ","12 "],quarters:["","","",""],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"",weekAbbreviation:"",yearAriaLabel:"",monthAriaLabel:"",confirm:"",selectTime:"",selectDate:"",nextYear:"",preYear:"",nextMonth:"",preMonth:"",preDecade:"",nextDecade:"",now:""},upload:{sizeLimitMessage:" {sizeLimit}",cancelUploadText:"",triggerUploadText:{fileInput:"",image:"",normal:"",reupload:"",continueUpload:"",delete:"",uploading:""},dragger:{dragDropText:"",draggingText:"",clickAndDragText:""},file:{fileNameText:"",fileSizeText:"",fileStatusText:"",fileOperationText:"",fileOperationDateText:""},progress:{uploadingText:"",waitingText:"",failText:"",successText:""}},form:{errorMessage:{date:"${name}",url:"${name}",required:"${name}",whitespace:"${name}",max:"${name} ${validate} ",min:"${name} ${validate} ",len:"${name} ${validate}",enum:"${name}${validate}",idcard:"${name}",telnumber:"${name}",pattern:"${name}",validator:"${name}",boolean:"${name}",number:"${name}"},colonText:""},input:{placeholder:""},list:{loadingText:"",loadingMoreText:""},alert:{expandText:"",collapseText:""},anchor:{copySuccessText:"",copyText:""},colorPicker:{swatchColorTitle:"",recentColorTitle:"",clearConfirmText:"",singleColor:"",gradientColor:""},guide:{finishButtonProps:{content:"",theme:"primary"},nextButtonProps:{content:"",theme:"primary"},skipButtonProps:{content:"",theme:"default"},prevButtonProps:{content:"",theme:"default"}},image:{errorText:"",loadingText:""},imageViewer:{errorText:"",mirrorTipText:"",rotateTipText:"",originalSizeTipText:"",previewText:""},typography:{expandText:"",collapseText:"",copiedText:""},rate:{rateText:["","","","",""]},empty:{titleText:{maintenance:"",success:"",fail:"",empty:"",networkError:""}},descriptions:{colonText:""},chat:{placeholder:"...",stopBtnText:"",refreshTipText:"",copyTipText:"",likeTipText:"",dislikeTipText:"",copyCodeBtnText:"",copyCodeSuccessText:"",clearHistoryBtnText:"",copyTextSuccess:"",copyTextFail:"",confirmClearHistory:"",loadingText:"...",loadingEndText:"",uploadImageText:"",uploadAttachmentText:"",shareTipText:""},qrcode:{expiredText:"",refreshText:"",scannedText:""}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var xUe={classPrefix:"t",animation:{include:["ripple","expand","fade"],exclude:[]},attach:null,calendar:{firstDayOfWeek:1,fillWithZero:!0,controllerConfig:void 0},icon:{},input:{autocomplete:""},dialog:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,confirmBtnTheme:{default:"primary",info:"primary",warning:"primary",danger:"primary",success:"primary"}},message:{},popconfirm:{confirmBtnTheme:{default:"primary",warning:"primary",danger:"primary"}},table:{expandIcon:void 0,sortIcon:void 0,filterIcon:void 0,treeExpandAndFoldIcon:void 0,hideSortTips:!1,size:"medium"},select:{clearIcon:void 0,filterable:!1},drawer:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,size:"small"},tree:{folderIcon:void 0},datePicker:{firstDayOfWeek:1},steps:{checkIcon:void 0,errorIcon:void 0},tag:{closeIcon:void 0},form:{requiredMark:void 0},empty:{titleText:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0},image:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0}}};function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fx=function(t){return t.ripple="ripple",t.expand="expand",t.fade="fade",t}(Fx||{}),CUe="t",TUe={include:["ripple","expand","fade"],exclude:[]},G3=AUe({animation:TUe,classPrefix:CUe},tM({},EUe,xUe)),MUe={globalConfig:G3},W3=D.createContext(MUe);/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var ln=function(){return D.useContext(W3).globalConfig};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function mr(t,e){return D.useMemo(function(){var n=Object.assign({},t);return Object.keys(e).forEach(function(r){n[r]===void 0&&(n[r]=e[r])}),n},[t,e])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var jS=new Set,Hi={warn:function(e,n){console.warn("TDesign ".concat(e," Warn: ").concat(n))},warnOnce:function(e,n){var r="TDesign ".concat(e," Warn: ").concat(n);jS.has(r)||(jS.add(r),console.warn(r))},error:function(e,n){console.error("TDesign ".concat(e," Error: ").concat(n))},errorOnce:function(e,n){var r="TDesign ".concat(e," Error: ").concat(n);jS.has(r)||(jS.add(r),console.error(r))},info:function(e,n){console.info("TDesign ".concat(e," Info: ").concat(n))}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wg(t,e,n){var r=null;return typeof t=="function"?r=t(e):t===!0?r=n:t!==null&&(r=t??n),r}function yC(t,e){if(En(t))return t(e);if(!t||["string","number","boolean"].includes(Rn(t)))return t;try{return Q.cloneElement(t,OUe({},e))}catch{return Hi.warn("parseContentTNode","".concat(t," is not a valid ReactNode")),null}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function V3(t,e){if(t){if(typeof t=="string")return jL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jL(t,e):void 0}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function ane(t){if(Array.isArray(t))return t}function IUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function De(t,e){return ane(t)||IUe(t,e)||V3(t,e)||sne()}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var RUe=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function q3(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):" ".concat(t.className," ").indexOf(" ".concat(e," "))>-1}var PUe=function(e,n){if(e){for(var r=e.className,i=(n||"").split(" "),o=0,a=i.length;o<a;o++){var s=i[o];s&&(e.classList?e.classList.add(s):q3(e,s)||(r+=" ".concat(s)))}e.classList||(e.className=r)}},DUe=function(e,n){if(!(!e||!n)){for(var r=n.split(" "),i=" ".concat(e.className," "),o=0,a=r.length;o<a;o++){var s=r[o];s&&(e.classList?e.classList.remove(s):q3(e,s)&&(i=i.replace(" ".concat(s," ")," ")))}e.classList||(e.className=RUe(i))}},LUe=function(e,n){if(dl){var r=n||document.documentElement;return getComputedStyle(r).getPropertyValue(e)}},dl=!!(typeof window<"u"&&window.document&&window.document.createElement),lne=function(e){var n=typeof e=="function"?e():e;return n?_i(n)?document.querySelector(n):n instanceof HTMLElement?n:document.body:document.body};function Iz(){return dl?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Vg=dl?D.useLayoutEffect:D.useEffect;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function NUe(t,e){if(!dl)return null;var n;return typeof t=="string"&&(n=document.querySelector(t)),typeof t=="function"&&(n=t(e)),Rn(t)==="object"&&t instanceof window.HTMLElement&&(n=t),n&&n.nodeType===1?n:document.body}var rM=D.forwardRef(function(t,e){var n=t.attach,r=t.children,i=t.triggerNode,o=t.style,a=ln(),s=a.classPrefix,u=D.useState(!1),l=De(u,2),c=l[0],f=l[1],d=D.useMemo(function(){if(!dl)return null;var h=document.createElement("div");return h.className="".concat(s,"-portal-wrapper"),Rn(o)==="object"&&Object.assign(h.style,o),h},[s]);return Vg(function(){var h;if(c){var p=NUe(n,i);return p==null||(h=p.appendChild)===null||h===void 0||h.call(p,d),function(){var _;p==null||(_=p.removeChild)===null||_===void 0||_.call(p,d)}}},[d,n,i,c]),D.useEffect(function(){c||f(!0)},[]),D.useImperativeHandle(e,function(){return d}),dl&&c?cw.createPortal(r,d):null});rM.displayName="Portal";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var BUe={delay:0,fullscreen:!1,indicator:!0,inheritColor:!1,loading:!0,preventScrollThrough:!0,showOverlay:!0,size:"medium"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function _C(t,e){var n=Object.keys(e);n.forEach(function(r){t.style[r]=e[r]})}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function FUe(t){if(Array.isArray(t))return jL(t)}function une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xn(t){return FUe(t)||une(t)||V3(t)||kUe()}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var UUe=["from","to","direction"];function jUe(t){if(_i(t))return t;if(go(t))return t[0]&&t[0][0]==="#"&&t.unshift("90deg"),"linear-gradient( ".concat(t.join(",")," )");var e=t.from,n=t.to,r=t.direction,i=r===void 0?"to right":r,o=zi(t,UUe),a=Object.keys(o);if(a.length){a=a.sort(function(u,l){var c=parseFloat(u.substr(0,u.length-1))-parseFloat(l.substr(0,l.length-1));return c});var s=a.map(function(u){return"".concat(o[u]," ").concat(u)});return"linear-gradient(".concat(i,", ").concat(s.join(","),")")}return"linear-gradient(".concat(i,", ").concat(e,", ").concat(n,")")}function qg(){if(typeof navigator>"u"||!navigator)return Number.MAX_SAFE_INTEGER;var t=navigator,e=t.userAgent,n=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(n){var i=/MSIE (\d+\.\d+);/,o=e.match(i);if(!o)return-1;var a=parseFloat(o[1]);return a<7?6:a}return r?11:Number.MAX_SAFE_INTEGER}function bC(t,e){var n=ca(e);if(!t||t.length===0)return n?{length:0,characters:t}:0;for(var r=0,i=0;i<t.length;i++){var o=0;if(t.charCodeAt(i)>127?o=2:o=1,n&&r+o>e)return{length:r,characters:t.slice(0,i)};r+=o}return n?{length:r,characters:t}:r}function HUe(t){return xn(t??"").length}function $Ue(t,e,n){return xn("").slice().length===e?"":xn(t??"").slice(0,e).join("")}function Rz(t){return ca(t)?"".concat(t,"px"):t}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function K3(){var t=D.useState(),e=De(t,2),n=e[0],r=e[1];return D.useCallback(function(i){i&&r(i)},[]),[n,r]}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zUe(t){var e,n,r,i={};if(!(!t||typeof window>"u")){var o=(e=(n=window).getComputedStyle)===null||e===void 0?void 0:e.call(n,t),a=(o==null?void 0:o.color)||"",s=(o==null?void 0:o.fontSize)||"12px",u=(r=window)===null||r===void 0||(r=r.navigator)===null||r===void 0?void 0:r.userAgent,l=/Safari/.test(u)&&!/Chrome/.test(u),c=/(?=.*iPhone)[?=.*MicroMessenger]/.test(u)&&!/Chrome/.test(u),f=/(?=.*iPad)[?=.*MicroMessenger]/.test(u)&&!/Chrome/.test(u);if((l||c||f)&&(i={transformOrigin:"0px 0px",transform:"scale(".concat(parseInt(s,10)/12,")")}),a&&qg()>11){var d=a.match(/[\d.]+/g),h=d?"rgba(".concat(d[0],", ").concat(d[1],", ").concat(d[2],", 0)"):"";_C(t,HS(HS({},i),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(h," 0deg, ").concat(a," 360deg)")}))}else _C(t,HS(HS({},i),{},{background:""}))}}var GUe=function(){var e=ln(),n=e.classPrefix,r=K3(),i=De(r,2),o=i[0],a=i[1],s="".concat(n,"-loading__gradient");return D.useEffect(function(){var u=o;zUe(u)},[o]),Q.createElement("svg",{className:et(s,"".concat(n,"-icon-loading")),viewBox:"0 0 12 12",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("foreignObject",{x:"0",y:"0",width:"12",height:"12"},Q.createElement("div",{className:"".concat(s,"-conic"),ref:a})))};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cne=function(e){var n=mr(e,BUe),r=n.attach,i=n.indicator,o=n.text,a=n.loading,s=n.size,u=n.delay,l=n.fullscreen,c=n.preventScrollThrough,f=n.showOverlay,d=n.content,h=n.children,p=n.inheritColor,_=n.zIndex,y=n.className,m=n.style,b=D.useState(function(){return u?!1:a}),w=De(b,2),S=w[0],x=w[1],E=ln(),M=E.classPrefix,O="".concat(M,"-loading"),C="".concat(M,"-loading--center"),T="".concat(M,"-loading--inherit-color"),P="".concat(M,"-loading--full"),N="".concat(M,"-loading__fullscreen"),H="".concat(M,"-loading--lock"),B="".concat(M,"-loading__overlay"),k="".concat(M,"-loading__parent"),j="".concat(M,"-loading__text");D.useEffect(function(){var W;return u&&a?W=setTimeout(function(){x(a)},u):x(a),function(){clearTimeout(W)}},[u,a]);var $=D.useMemo(function(){var W={};return _!==void 0&&(W.zIndex=_),["small","medium","large"].includes(s)||(W.fontSize=s),W},[s,_]),F={large:"".concat(M,"-size-l"),small:"".concat(M,"-size-s"),medium:"".concat(M,"-size-m")},R=et(C,F[s],me({},T,p),y);D.useEffect(function(){return c&&l&&dl&&a&&PUe(document.body,H),function(){DUe(document.body,H)}},[a,c,l,H]);var L=function(){var Z=Q.createElement(GUe,null);return i&&typeof i!="boolean"&&(Z=i),Q.createElement(Q.Fragment,null,i?Z:null,o?Q.createElement("div",{className:j},o):null)};return l?S?Q.createElement("div",{className:et(O,N,C,B),style:Hm(Hm({},$),m)},Q.createElement("div",{className:R},L())):null:d||h?Q.createElement("div",{className:k,style:m},d||h,S?Q.createElement("div",{className:et(O,R,P,me({},B,f)),style:$},L()):null):r?Q.createElement(rM,{attach:r},S?Q.createElement("div",{className:et(O,R,P,me({},B,f)),style:Hm(Hm({},$),m)},L()):null):S?Q.createElement("div",{className:et(O,R),style:Hm(Hm({},$),m)},L()):null};cne.displayName="Loading";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Lz(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function yp(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(u){Lz(o,r,i,a,s,"next",u)}function s(u){Lz(o,r,i,a,s,"throw",u)}a(void 0)})}}var X3={exports:{}},fne={exports:{}};(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(fne);(function(t){var e=fne.exports.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(R,L,W){R[L]=W.value},u=typeof Symbol=="function"?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function d(R,L,W){return Object.defineProperty(R,L,{value:W,enumerable:!0,configurable:!0,writable:!0}),R[L]}try{d({},"")}catch{d=function(W,Z,ee){return W[Z]=ee}}function h(R,L,W,Z){var ee=L&&L.prototype instanceof S?L:S,oe=Object.create(ee.prototype),pe=new $(Z||[]);return s(oe,"_invoke",{value:H(R,W,pe)}),oe}function p(R,L,W){try{return{type:"normal",arg:R.call(L,W)}}catch(Z){return{type:"throw",arg:Z}}}i.wrap=h;var _="suspendedStart",y="suspendedYield",m="executing",b="completed",w={};function S(){}function x(){}function E(){}var M={};d(M,l,function(){return this});var O=Object.getPrototypeOf,C=O&&O(O(F([])));C&&C!==o&&a.call(C,l)&&(M=C);var T=E.prototype=S.prototype=Object.create(M);function P(R){["next","throw","return"].forEach(function(L){d(R,L,function(W){return this._invoke(L,W)})})}function N(R,L){function W(ee,oe,pe,ie){var ce=p(R[ee],R,oe);if(ce.type!=="throw"){var ve=ce.arg,xe=ve.value;return xe&&e(xe)=="object"&&a.call(xe,"__await")?L.resolve(xe.__await).then(function(he){W("next",he,pe,ie)},function(he){W("throw",he,pe,ie)}):L.resolve(xe).then(function(he){ve.value=he,pe(ve)},function(he){return W("throw",he,pe,ie)})}ie(ce.arg)}var Z;s(this,"_invoke",{value:function(oe,pe){function ie(){return new L(function(ce,ve){W(oe,pe,ce,ve)})}return Z=Z?Z.then(ie,ie):ie()}})}function H(R,L,W){var Z=_;return function(ee,oe){if(Z===m)throw Error("Generator is already running");if(Z===b){if(ee==="throw")throw oe;return{value:r,done:!0}}for(W.method=ee,W.arg=oe;;){var pe=W.delegate;if(pe){var ie=B(pe,W);if(ie){if(ie===w)continue;return ie}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(Z===_)throw Z=b,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);Z=m;var ce=p(R,L,W);if(ce.type==="normal"){if(Z=W.done?b:y,ce.arg===w)continue;return{value:ce.arg,done:W.done}}ce.type==="throw"&&(Z=b,W.method="throw",W.arg=ce.arg)}}}function B(R,L){var W=L.method,Z=R.iterator[W];if(Z===r)return L.delegate=null,W==="throw"&&R.iterator.return&&(L.method="return",L.arg=r,B(R,L),L.method==="throw")||W!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+W+"' method")),w;var ee=p(Z,R.iterator,L.arg);if(ee.type==="throw")return L.method="throw",L.arg=ee.arg,L.delegate=null,w;var oe=ee.arg;return oe?oe.done?(L[R.resultName]=oe.value,L.next=R.nextLoc,L.method!=="return"&&(L.method="next",L.arg=r),L.delegate=null,w):oe:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,w)}function k(R){var L={tryLoc:R[0]};1 in R&&(L.catchLoc=R[1]),2 in R&&(L.finallyLoc=R[2],L.afterLoc=R[3]),this.tryEntries.push(L)}function j(R){var L=R.completion||{};L.type="normal",delete L.arg,R.completion=L}function $(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(k,this),this.reset(!0)}function F(R){if(R||R===""){var L=R[l];if(L)return L.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var W=-1,Z=function ee(){for(;++W<R.length;)if(a.call(R,W))return ee.value=R[W],ee.done=!1,ee;return ee.value=r,ee.done=!0,ee};return Z.next=Z}}throw new TypeError(e(R)+" is not iterable")}return x.prototype=E,s(T,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:x,configurable:!0}),x.displayName=d(E,f,"GeneratorFunction"),i.isGeneratorFunction=function(R){var L=typeof R=="function"&&R.constructor;return!!L&&(L===x||(L.displayName||L.name)==="GeneratorFunction")},i.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,E):(R.__proto__=E,d(R,f,"GeneratorFunction")),R.prototype=Object.create(T),R},i.awrap=function(R){return{__await:R}},P(N.prototype),d(N.prototype,c,function(){return this}),i.AsyncIterator=N,i.async=function(R,L,W,Z,ee){ee===void 0&&(ee=Promise);var oe=new N(h(R,L,W,Z),ee);return i.isGeneratorFunction(L)?oe:oe.next().then(function(pe){return pe.done?pe.value:oe.next()})},P(T),d(T,f,"Generator"),d(T,l,function(){return this}),d(T,"toString",function(){return"[object Generator]"}),i.keys=function(R){var L=Object(R),W=[];for(var Z in L)W.push(Z);return W.reverse(),function ee(){for(;W.length;){var oe=W.pop();if(oe in L)return ee.value=oe,ee.done=!1,ee}return ee.done=!0,ee}},i.values=F,$.prototype={constructor:$,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(j),!L)for(var W in this)W.charAt(0)==="t"&&a.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=r)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var W=this;function Z(ve,xe){return pe.type="throw",pe.arg=L,W.next=ve,xe&&(W.method="next",W.arg=r),!!xe}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var oe=this.tryEntries[ee],pe=oe.completion;if(oe.tryLoc==="root")return Z("end");if(oe.tryLoc<=this.prev){var ie=a.call(oe,"catchLoc"),ce=a.call(oe,"finallyLoc");if(ie&&ce){if(this.prev<oe.catchLoc)return Z(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return Z(oe.finallyLoc)}else if(ie){if(this.prev<oe.catchLoc)return Z(oe.catchLoc,!0)}else{if(!ce)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return Z(oe.finallyLoc)}}}},abrupt:function(L,W){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ee=this.tryEntries[Z];if(ee.tryLoc<=this.prev&&a.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var oe=ee;break}}oe&&(L==="break"||L==="continue")&&oe.tryLoc<=W&&W<=oe.finallyLoc&&(oe=null);var pe=oe?oe.completion:{};return pe.type=L,pe.arg=W,oe?(this.method="next",this.next=oe.finallyLoc,w):this.complete(pe)},complete:function(L,W){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&W&&(this.next=W),w},finish:function(L){for(var W=this.tryEntries.length-1;W>=0;--W){var Z=this.tryEntries[W];if(Z.finallyLoc===L)return this.complete(Z.completion,Z.afterLoc),j(Z),w}},catch:function(L){for(var W=this.tryEntries.length-1;W>=0;--W){var Z=this.tryEntries[W];if(Z.tryLoc===L){var ee=Z.completion;if(ee.type==="throw"){var oe=ee.arg;j(Z)}return oe}}throw Error("illegal catch attempt")},delegateYield:function(L,W,Z){return this.delegate={iterator:F(L),resultName:W,nextLoc:Z},this.method==="next"&&(this.arg=r),w}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(X3);X3.exports;var kx=X3.exports(),Ra=kx;try{regeneratorRuntime=kx}catch{(typeof globalThis>"u"?"undefined":Rn(globalThis))==="object"?globalThis.regeneratorRuntime=kx:Function("r","regeneratorRuntime = r")(kx)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mw=WUe({},Bce),VUe=Mw.version,qUe=Mw.render;Mw.unmountComponentAtNode;var J3,Bz=Number((VUe||"").split(".")[0]);try{Bz>=18&&Bz<19&&(J3=Mw.createRoot)}catch{}function Fz(t){var e=Mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Rn(e)==="object"&&(e.usingClientEntryPoint=t)}var kz="__td_react_root__";function KUe(t,e){Fz(!0);var n=e[kz]||J3(e);Fz(!1),n.render(t),e[kz]=n}function SP(t,e){qUe(t,e)}function iM(t,e){if(J3){KUe(t,e);return}SP==null||SP(t,e)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dne=function(e,n){return jke(e,n,function(r,i){if(Array.isArray(r))return i})},hne=G3,JUe=function(e){return dne(XUe({},hne),e)},pne=function(e){hne=e};function om(t){var e=t.children,n=t.globalConfig,r=t.notSet,i=U3(G3),o=dne(i,n);return D.useEffect(function(){r||pne(o)},[o,r]),Q.createElement(W3.Provider,{value:{globalConfig:o}},e)}om.getGlobalConfig=JUe;om.setGlobalConfig=pne;om.displayName="ConfigProvider";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Y3=function(e){var n;return Q.createElement(Q.Fragment,null,e!=null&&(n=e.globalConfig)!==null&&n!==void 0&&n.isContextEffectPlugin?Q.createElement(om,YUe({notSet:!0},e),e==null?void 0:e.children):e==null?void 0:e.children)};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var R0=cne;function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(null,arguments)}function mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HL(t,e){return HL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},HL(t,e)}function vne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,HL(t,e)}function ZUe(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function QUe(t,e){t.classList?t.classList.add(e):ZUe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Hz(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e4e(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Hz(t.className,e):t.setAttribute("class",Hz(t.className&&t.className.baseVal||"",e))}const $z={disabled:!1},gne=Q.createContext(null);var yne=function(e){return e.scrollTop},a_="unmounted",Nh="exited",Bh="entering",Sv="entered",$L="exiting",hf=function(t){vne(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?s?(u=Nh,o.appearStatus=Bh):u=Sv:r.unmountOnExit||r.mountOnEnter?u=a_:u=Nh,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===a_?{status:Nh}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Bh&&a!==Sv&&(o=Bh):(a===Bh||a===Sv)&&(o=$L)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Bh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Zy.findDOMNode(this);a&&yne(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nh&&this.setState({status:a_})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,u=this.props.nodeRef?[s]:[Zy.findDOMNode(this),s],l=u[0],c=u[1],f=this.getTimeouts(),d=s?f.appear:f.enter;if(!i&&!a||$z.disabled){this.safeSetState({status:Sv},function(){o.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Bh},function(){o.props.onEntering(l,c),o.onTransitionEnd(d,function(){o.safeSetState({status:Sv},function(){o.props.onEntered(l,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Zy.findDOMNode(this);if(!o||$z.disabled){this.safeSetState({status:Nh},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:$L},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Nh},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Zy.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===a_)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=mne(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Q.createElement(gne.Provider,{value:null},typeof a=="function"?a(i,s):Q.cloneElement(Q.Children.only(a),s))},e}(Q.Component);hf.contextType=gne;hf.propTypes={};function $m(){}hf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$m,onEntering:$m,onEntered:$m,onExit:$m,onExiting:$m,onExited:$m};hf.UNMOUNTED=a_;hf.EXITED=Nh;hf.ENTERING=Bh;hf.ENTERED=Sv;hf.EXITING=$L;var t4e=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return QUe(e,r)})},EP=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return e4e(e,r)})},_p=function(t){vne(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,u){var l=r.resolveArguments(s,u),c=l[0],f=l[1];r.removeClasses(c,"exit"),r.addClass(c,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,u)},r.onEntering=function(s,u){var l=r.resolveArguments(s,u),c=l[0],f=l[1],d=f?"appear":"enter";r.addClass(c,d,"active"),r.props.onEntering&&r.props.onEntering(s,u)},r.onEntered=function(s,u){var l=r.resolveArguments(s,u),c=l[0],f=l[1],d=f?"appear":"enter";r.removeClasses(c,d),r.addClass(c,d,"done"),r.props.onEntered&&r.props.onEntered(s,u)},r.onExit=function(s){var u=r.resolveArguments(s),l=u[0];r.removeClasses(l,"appear"),r.removeClasses(l,"enter"),r.addClass(l,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var u=r.resolveArguments(s),l=u[0];r.addClass(l,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var u=r.resolveArguments(s),l=u[0];r.removeClasses(l,"exit"),r.addClass(l,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,u){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,u]},r.getClassNames=function(s){var u=r.props.classNames,l=typeof u=="string",c=l&&u?u+"-":"",f=l?""+c+s:u[s],d=l?f+"-active":u[s+"Active"],h=l?f+"-done":u[s+"Done"];return{baseClassName:f,activeClassName:d,doneClassName:h}},r}var n=e.prototype;return n.addClass=function(i,o,a){var s=this.getClassNames(o)[a+"ClassName"],u=this.getClassNames("enter"),l=u.doneClassName;o==="appear"&&a==="done"&&l&&(s+=" "+l),a==="active"&&i&&yne(i),s&&(this.appliedClasses[o][a]=s,t4e(i,s))},n.removeClasses=function(i,o){var a=this.appliedClasses[o],s=a.base,u=a.active,l=a.done;this.appliedClasses[o]={},s&&EP(i,s),u&&EP(i,u),l&&EP(i,l)},n.render=function(){var i=this.props;i.classNames;var o=mne(i,["classNames"]);return Q.createElement(hf,rl({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Q.Component);_p.defaultProps={classNames:""};_p.propTypes={};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function _ne(){var t=ln(),e=t.animation,n=Fx.expand,r=Fx.ripple,i=Fx.fade,o=D.useCallback(function(a){var s,u;return e&&!((s=e.exclude)!==null&&s!==void 0&&s.includes(a))&&((u=e.include)===null||u===void 0?void 0:u.includes(a))},[e]);return{keepExpand:o(n),keepRipple:o(r),keepFade:o(i)}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var n4e="body",bne=function(e,n){var r=ln(),i=D.useMemo(function(){var o;return n||(r==null||(o=r.attach)===null||o===void 0?void 0:o[e])||(r==null?void 0:r.attach)||n4e},[e,n,r==null?void 0:r.attach]);return i};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Uo=function(){};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Mr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=Reflect.has(e,n),a=e[n],s=i["default".concat(LL(n))]||e["default".concat(LL(n))],u=D.useState(s),l=De(u,2),c=l[0],f=l[1];return o?[a,r||Uo]:[c,function(d){f(d);for(var h=arguments.length,p=new Array(h>1?h-1:0),_=1;_<h;_++)p[_-1]=arguments[_];r==null||r.apply(void 0,[d].concat(p))}]};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var wne=function(e){var n=D.useRef(e);return n.current=e,n};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Wz={debounceTime:0,config:{attributes:!0,childList:!0,characterData:!0,subtree:!0}};function Sne(t,e,n){var r,i=D.useRef(null),o=D.useRef(0),a=wne(e),s={debounceTime:(r=n==null?void 0:n.debounceTime)!==null&&r!==void 0?r:Wz.debounceTime,config:Gz(Gz({},Wz.config),n==null?void 0:n.config)};Hc(s,i.current)||(o.current+=1),i.current=s,D.useEffect(function(){if(!(!t||!(t!=null&&t.nodeType))){var u=null;try{var l=i.current,c=l.debounceTime,f=l.config,d=function(){a.current.apply(a,arguments)};u=new MutationObserver(c>0?Tw(d,c):d),u.observe(t,f)}catch(h){console.error(h)}return function(){u&&(u.disconnect(),u=null)}}},[t,o.current])}var r4e=typeof Element<"u",i4e=typeof Map=="function",o4e=typeof Set=="function",a4e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ux(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ux(t[r],e[r]))return!1;return!0}var o;if(i4e&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Ux(r.value[1],e.get(r.value[0])))return!1;return!0}if(o4e&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(a4e&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(r4e&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Ux(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var s4e=function(e,n){try{return Ux(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const l4e=au(s4e);var Ha="top",hl="bottom",pl="right",$a="left",Z3="auto",Ow=[Ha,hl,pl,$a],Kg="start",Fb="end",u4e="clippingParents",Ene="viewport",Ay="popper",c4e="reference",Vz=Ow.reduce(function(t,e){return t.concat([e+"-"+Kg,e+"-"+Fb])},[]),xne=[].concat(Ow,[Z3]).reduce(function(t,e){return t.concat([e,e+"-"+Kg,e+"-"+Fb])},[]),f4e="beforeRead",d4e="read",h4e="afterRead",p4e="beforeMain",m4e="main",v4e="afterMain",g4e="beforeWrite",y4e="write",_4e="afterWrite",b4e=[f4e,d4e,h4e,p4e,m4e,v4e,g4e,y4e,_4e];function Ju(t){return t?(t.nodeName||"").toLowerCase():null}function ps(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Up(t){var e=ps(t).Element;return t instanceof e||t instanceof Element}function al(t){var e=ps(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Q3(t){if(typeof ShadowRoot>"u")return!1;var e=ps(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function w4e(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!al(o)||!Ju(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function S4e(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,l){return u[l]="",u},{});!al(i)||!Ju(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const E4e={name:"applyStyles",enabled:!0,phase:"write",fn:w4e,effect:S4e,requires:["computeStyles"]};function zu(t){return t.split("-")[0]}var bp=Math.max,wC=Math.min,Xg=Math.round;function zL(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ane(){return!/^((?!chrome|android).)*safari/i.test(zL())}function Jg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&al(t)&&(i=t.offsetWidth>0&&Xg(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Xg(r.height)/t.offsetHeight||1);var a=Up(t)?ps(t):window,s=a.visualViewport,u=!Ane()&&n,l=(r.left+(u&&s?s.offsetLeft:0))/i,c=(r.top+(u&&s?s.offsetTop:0))/o,f=r.width/i,d=r.height/o;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l,x:l,y:c}}function ek(t){var e=Jg(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Cne(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Q3(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function rf(t){return ps(t).getComputedStyle(t)}function x4e(t){return["table","td","th"].indexOf(Ju(t))>=0}function qd(t){return((Up(t)?t.ownerDocument:t.document)||window.document).documentElement}function oM(t){return Ju(t)==="html"?t:t.assignedSlot||t.parentNode||(Q3(t)?t.host:null)||qd(t)}function qz(t){return!al(t)||rf(t).position==="fixed"?null:t.offsetParent}function A4e(t){var e=/firefox/i.test(zL()),n=/Trident/i.test(zL());if(n&&al(t)){var r=rf(t);if(r.position==="fixed")return null}var i=oM(t);for(Q3(i)&&(i=i.host);al(i)&&["html","body"].indexOf(Ju(i))<0;){var o=rf(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Iw(t){for(var e=ps(t),n=qz(t);n&&x4e(n)&&rf(n).position==="static";)n=qz(n);return n&&(Ju(n)==="html"||Ju(n)==="body"&&rf(n).position==="static")?e:n||A4e(t)||e}function tk(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function F_(t,e,n){return bp(t,wC(e,n))}function C4e(t,e,n){var r=F_(t,e,n);return r>n?n:r}function Tne(){return{top:0,right:0,bottom:0,left:0}}function Mne(t){return Object.assign({},Tne(),t)}function One(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var T4e=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Mne(typeof e!="number"?e:One(e,Ow))};function M4e(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=zu(n.placement),u=tk(s),l=[$a,pl].indexOf(s)>=0,c=l?"height":"width";if(!(!o||!a)){var f=T4e(i.padding,n),d=ek(o),h=u==="y"?Ha:$a,p=u==="y"?hl:pl,_=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],y=a[u]-n.rects.reference[u],m=Iw(o),b=m?u==="y"?m.clientHeight||0:m.clientWidth||0:0,w=_/2-y/2,S=f[h],x=b-d[c]-f[p],E=b/2-d[c]/2+w,M=F_(S,E,x),O=u;n.modifiersData[r]=(e={},e[O]=M,e.centerOffset=M-E,e)}}function O4e(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Cne(e.elements.popper,i)&&(e.elements.arrow=i))}const I4e={name:"arrow",enabled:!0,phase:"main",fn:M4e,effect:O4e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yg(t){return t.split("-")[1]}var R4e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function P4e(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Xg(n*i)/i||0,y:Xg(r*i)/i||0}}function Kz(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,_=p===void 0?0:p,y=typeof c=="function"?c({x:h,y:_}):{x:h,y:_};h=y.x,_=y.y;var m=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),w=$a,S=Ha,x=window;if(l){var E=Iw(n),M="clientHeight",O="clientWidth";if(E===ps(n)&&(E=qd(n),rf(E).position!=="static"&&s==="absolute"&&(M="scrollHeight",O="scrollWidth")),E=E,i===Ha||(i===$a||i===pl)&&o===Fb){S=hl;var C=f&&E===x&&x.visualViewport?x.visualViewport.height:E[M];_-=C-r.height,_*=u?1:-1}if(i===$a||(i===Ha||i===hl)&&o===Fb){w=pl;var T=f&&E===x&&x.visualViewport?x.visualViewport.width:E[O];h-=T-r.width,h*=u?1:-1}}var P=Object.assign({position:s},l&&R4e),N=c===!0?P4e({x:h,y:_},ps(n)):{x:h,y:_};if(h=N.x,_=N.y,u){var H;return Object.assign({},P,(H={},H[S]=b?"0":"",H[w]=m?"0":"",H.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+_+"px)":"translate3d("+h+"px, "+_+"px, 0)",H))}return Object.assign({},P,(e={},e[S]=b?_+"px":"",e[w]=m?h+"px":"",e.transform="",e))}function D4e(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,l={placement:zu(e.placement),variation:Yg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Kz(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Kz(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const L4e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:D4e,data:{}};var $S={passive:!0};function N4e(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=ps(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,$S)}),s&&u.addEventListener("resize",n.update,$S),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,$S)}),s&&u.removeEventListener("resize",n.update,$S)}}const B4e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N4e,data:{}};var F4e={left:"right",right:"left",bottom:"top",top:"bottom"};function jx(t){return t.replace(/left|right|bottom|top/g,function(e){return F4e[e]})}var k4e={start:"end",end:"start"};function Xz(t){return t.replace(/start|end/g,function(e){return k4e[e]})}function nk(t){var e=ps(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function rk(t){return Jg(qd(t)).left+nk(t).scrollLeft}function U4e(t,e){var n=ps(t),r=qd(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=Ane();(l||!l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+rk(t),y:u}}function j4e(t){var e,n=qd(t),r=nk(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=bp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=bp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+rk(t),u=-r.scrollTop;return rf(i||n).direction==="rtl"&&(s+=bp(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function ik(t){var e=rf(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ine(t){return["html","body","#document"].indexOf(Ju(t))>=0?t.ownerDocument.body:al(t)&&ik(t)?t:Ine(oM(t))}function k_(t,e){var n;e===void 0&&(e=[]);var r=Ine(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ps(r),a=i?[o].concat(o.visualViewport||[],ik(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(k_(oM(a)))}function GL(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function H4e(t,e){var n=Jg(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jz(t,e,n){return e===Ene?GL(U4e(t,n)):Up(e)?H4e(e,n):GL(j4e(qd(t)))}function $4e(t){var e=k_(oM(t)),n=["absolute","fixed"].indexOf(rf(t).position)>=0,r=n&&al(t)?Iw(t):t;return Up(r)?e.filter(function(i){return Up(i)&&Cne(i,r)&&Ju(i)!=="body"}):[]}function z4e(t,e,n,r){var i=e==="clippingParents"?$4e(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,l){var c=Jz(t,l,r);return u.top=bp(c.top,u.top),u.right=wC(c.right,u.right),u.bottom=wC(c.bottom,u.bottom),u.left=bp(c.left,u.left),u},Jz(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Rne(t){var e=t.reference,n=t.element,r=t.placement,i=r?zu(r):null,o=r?Yg(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case Ha:u={x:a,y:e.y-n.height};break;case hl:u={x:a,y:e.y+e.height};break;case pl:u={x:e.x+e.width,y:s};break;case $a:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?tk(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case Kg:u[l]=u[l]-(e[c]/2-n[c]/2);break;case Fb:u[l]=u[l]+(e[c]/2-n[c]/2);break}}return u}function kb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?u4e:s,l=n.rootBoundary,c=l===void 0?Ene:l,f=n.elementContext,d=f===void 0?Ay:f,h=n.altBoundary,p=h===void 0?!1:h,_=n.padding,y=_===void 0?0:_,m=Mne(typeof y!="number"?y:One(y,Ow)),b=d===Ay?c4e:Ay,w=t.rects.popper,S=t.elements[p?b:d],x=z4e(Up(S)?S:S.contextElement||qd(t.elements.popper),u,c,a),E=Jg(t.elements.reference),M=Rne({reference:E,element:w,placement:i}),O=GL(Object.assign({},w,M)),C=d===Ay?O:E,T={top:x.top-C.top+m.top,bottom:C.bottom-x.bottom+m.bottom,left:x.left-C.left+m.left,right:C.right-x.right+m.right},P=t.modifiersData.offset;if(d===Ay&&P){var N=P[i];Object.keys(T).forEach(function(H){var B=[pl,hl].indexOf(H)>=0?1:-1,k=[Ha,hl].indexOf(H)>=0?"y":"x";T[H]+=N[k]*B})}return T}function G4e(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?xne:u,c=Yg(r),f=c?s?Vz:Vz.filter(function(p){return Yg(p)===c}):Ow,d=f.filter(function(p){return l.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,_){return p[_]=kb(t,{placement:_,boundary:i,rootBoundary:o,padding:a})[zu(_)],p},{});return Object.keys(h).sort(function(p,_){return h[p]-h[_]})}function W4e(t){if(zu(t)===Z3)return[];var e=jx(t);return[Xz(t),e,Xz(e)]}function V4e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,_=n.allowedAutoPlacements,y=e.options.placement,m=zu(y),b=m===y,w=u||(b||!p?[jx(y)]:W4e(y)),S=[y].concat(w).reduce(function(oe,pe){return oe.concat(zu(pe)===Z3?G4e(e,{placement:pe,boundary:c,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:_}):pe)},[]),x=e.rects.reference,E=e.rects.popper,M=new Map,O=!0,C=S[0],T=0;T<S.length;T++){var P=S[T],N=zu(P),H=Yg(P)===Kg,B=[Ha,hl].indexOf(N)>=0,k=B?"width":"height",j=kb(e,{placement:P,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),$=B?H?pl:$a:H?hl:Ha;x[k]>E[k]&&($=jx($));var F=jx($),R=[];if(o&&R.push(j[N]<=0),s&&R.push(j[$]<=0,j[F]<=0),R.every(function(oe){return oe})){C=P,O=!1;break}M.set(P,R)}if(O)for(var L=p?3:1,W=function(pe){var ie=S.find(function(ce){var ve=M.get(ce);if(ve)return ve.slice(0,pe).every(function(xe){return xe})});if(ie)return C=ie,"break"},Z=L;Z>0;Z--){var ee=W(Z);if(ee==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const q4e={name:"flip",enabled:!0,phase:"main",fn:V4e,requiresIfExists:["offset"],data:{_skip:!1}};function Yz(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Zz(t){return[Ha,pl,hl,$a].some(function(e){return t[e]>=0})}function K4e(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=kb(e,{elementContext:"reference"}),s=kb(e,{altBoundary:!0}),u=Yz(a,r),l=Yz(s,i,o),c=Zz(u),f=Zz(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const X4e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:K4e};function J4e(t,e,n){var r=zu(t),i=[$a,Ha].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[$a,pl].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Y4e(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=xne.reduce(function(c,f){return c[f]=J4e(f,e.rects,o),c},{}),s=a[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}const Z4e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Y4e};function Q4e(t){var e=t.state,n=t.name;e.modifiersData[n]=Rne({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const eje={name:"popperOffsets",enabled:!0,phase:"read",fn:Q4e,data:{}};function tje(t){return t==="x"?"y":"x"}function nje(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,_=p===void 0?0:p,y=kb(e,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),m=zu(e.placement),b=Yg(e.placement),w=!b,S=tk(m),x=tje(S),E=e.modifiersData.popperOffsets,M=e.rects.reference,O=e.rects.popper,C=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,T=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(E){if(o){var H,B=S==="y"?Ha:$a,k=S==="y"?hl:pl,j=S==="y"?"height":"width",$=E[S],F=$+y[B],R=$-y[k],L=h?-O[j]/2:0,W=b===Kg?M[j]:O[j],Z=b===Kg?-O[j]:-M[j],ee=e.elements.arrow,oe=h&&ee?ek(ee):{width:0,height:0},pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Tne(),ie=pe[B],ce=pe[k],ve=F_(0,M[j],oe[j]),xe=w?M[j]/2-L-ve-ie-T.mainAxis:W-ve-ie-T.mainAxis,he=w?-M[j]/2+L+ve+ce+T.mainAxis:Z+ve+ce+T.mainAxis,we=e.elements.arrow&&Iw(e.elements.arrow),ne=we?S==="y"?we.clientTop||0:we.clientLeft||0:0,Me=(H=P==null?void 0:P[S])!=null?H:0,Ce=$+xe-Me-ne,K=$+he-Me,U=F_(h?wC(F,Ce):F,$,h?bp(R,K):R);E[S]=U,N[S]=U-$}if(s){var G,te=S==="x"?Ha:$a,q=S==="x"?hl:pl,V=E[x],ae=x==="y"?"height":"width",Ae=V+y[te],Oe=V-y[q],Te=[Ha,$a].indexOf(m)!==-1,Ue=(G=P==null?void 0:P[x])!=null?G:0,Be=Te?Ae:V-M[ae]-O[ae]-Ue+T.altAxis,Qe=Te?V+M[ae]+O[ae]-Ue-T.altAxis:Oe,Ze=h&&Te?C4e(Be,V,Qe):F_(h?Be:Ae,V,h?Qe:Oe);E[x]=Ze,N[x]=Ze-V}e.modifiersData[r]=N}}const rje={name:"preventOverflow",enabled:!0,phase:"main",fn:nje,requiresIfExists:["offset"]};function ije(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function oje(t){return t===ps(t)||!al(t)?nk(t):ije(t)}function aje(t){var e=t.getBoundingClientRect(),n=Xg(e.width)/t.offsetWidth||1,r=Xg(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sje(t,e,n){n===void 0&&(n=!1);var r=al(e),i=al(e)&&aje(e),o=qd(e),a=Jg(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Ju(e)!=="body"||ik(o))&&(s=oje(e)),al(e)?(u=Jg(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=rk(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function lje(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function uje(t){var e=lje(t);return b4e.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function cje(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function fje(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Qz={placement:"bottom",modifiers:[],strategy:"absolute"};function eG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dje(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Qz:i;return function(s,u,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qz,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},f=[],d=!1,h={state:c,setOptions:function(m){var b=typeof m=="function"?m(c.options):m;_(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:Up(s)?k_(s):s.contextElement?k_(s.contextElement):[],popper:k_(u)};var w=uje(fje([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(S){return S.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var m=c.elements,b=m.reference,w=m.popper;if(eG(b,w)){c.rects={reference:sje(b,Iw(w),c.options.strategy==="fixed"),popper:ek(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var x=c.orderedModifiers[S],E=x.fn,M=x.options,O=M===void 0?{}:M,C=x.name;typeof E=="function"&&(c=E({state:c,options:O,name:C,instance:h})||c)}}}},update:cje(function(){return new Promise(function(y){h.forceUpdate(),y(c)})}),destroy:function(){_(),d=!0}};if(!eG(s,u))return h;h.setOptions(l).then(function(y){!d&&l.onFirstUpdate&&l.onFirstUpdate(y)});function p(){c.orderedModifiers.forEach(function(y){var m=y.name,b=y.options,w=b===void 0?{}:b,S=y.effect;if(typeof S=="function"){var x=S({state:c,name:m,instance:h,options:w}),E=function(){};f.push(x||E)}})}function _(){f.forEach(function(y){return y()}),f=[]}return h}}var hje=[B4e,eje,L4e,E4e,Z4e,q4e,rje,I4e,X4e],pje=dje({defaultModifiers:hje});/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var mje=[],tG=function(e){return e.reduce(function(n,r){var i=De(r,2),o=i[0],a=i[1];return n[o]=a,n},{})},vje=function(e,n){var r,i,o,a,s,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=D.useRef(null),c={onFirstUpdate:u.onFirstUpdate,placement:u.placement||"bottom",strategy:u.strategy||"absolute",modifiers:u.modifiers||mje},f=D.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=De(f,2),h=d[0],p=d[1],_=D.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var S=w.state,x=Object.keys(S.elements);cw.flushSync(function(){p({styles:tG(x.map(function(E){return[E,S.styles[E]||{}]})),attributes:tG(x.map(function(E){return[E,S.attributes[E]]}))})})},requires:["computeStyles"]}},[]),y=D.useMemo(function(){var b={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(xn(c.modifiers),[_,{name:"applyStyles",enabled:!1}])};return l4e(l.current,b)?l.current||b:(l.current=b,b)},[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,_]),m=D.useRef(null);return Vg(function(){m.current&&m.current.setOptions(y)},[y]),Vg(function(){if(!(e==null||n==null)){var b=u.createPopper||pje,w=b(e,n,y);return m.current=w,function(){w.destroy(),m.current=null}}},[e,n,u.createPopper]),{attributes:h.attributes,styles:h.styles,state:(r=m.current)===null||r===void 0?void 0:r.state,destroy:(i=m.current)===null||i===void 0?void 0:i.destroy,forceUpdate:(o=m.current)===null||o===void 0?void 0:o.forceUpdate,update:(a=m.current)===null||a===void 0?void 0:a.update,setOptions:(s=m.current)===null||s===void 0?void 0:s.setOptions}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function gje(){var t=D.useState(Iz),e=De(t,2),n=e[0],r=e[1];return D.useEffect(function(){function i(){r(Iz())}var o=Tw(i,400);return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o),o.cancel()}},[]),n}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var yje={destroyOnClose:!1,hideEmptyPopup:!1,placement:"top",showArrow:!1,trigger:"hover"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var yr=function(){return dl&&document.addEventListener?function(t,e,n,r){t&&e&&n&&t.addEventListener(e,n,r??!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on".concat(e),n)}}(),ur=function(){return dl&&document.removeEventListener?function(t,e,n,r){t&&e&&t.removeEventListener(e,n,r??!1)}:function(t,e,n){t&&e&&t.detachEvent("on".concat(e),n)}}(),Pne={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=Symbol.for("react.element"),ak=Symbol.for("react.portal"),aM=Symbol.for("react.fragment"),sM=Symbol.for("react.strict_mode"),lM=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),_je=Symbol.for("react.server_context"),fM=Symbol.for("react.forward_ref"),dM=Symbol.for("react.suspense"),hM=Symbol.for("react.suspense_list"),pM=Symbol.for("react.memo"),mM=Symbol.for("react.lazy"),bje=Symbol.for("react.offscreen"),Dne;Dne=Symbol.for("react.module.reference");function _l(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ok:switch(t=t.type,t){case aM:case lM:case sM:case dM:case hM:return t;default:switch(t=t&&t.$$typeof,t){case _je:case cM:case fM:case mM:case pM:case uM:return t;default:return e}}case ak:return e}}}vr.ContextConsumer=cM;vr.ContextProvider=uM;vr.Element=ok;vr.ForwardRef=fM;vr.Fragment=aM;vr.Lazy=mM;vr.Memo=pM;vr.Portal=ak;vr.Profiler=lM;vr.StrictMode=sM;vr.Suspense=dM;vr.SuspenseList=hM;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(t){return _l(t)===cM};vr.isContextProvider=function(t){return _l(t)===uM};vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ok};vr.isForwardRef=function(t){return _l(t)===fM};vr.isFragment=function(t){return _l(t)===aM};vr.isLazy=function(t){return _l(t)===mM};vr.isMemo=function(t){return _l(t)===pM};vr.isPortal=function(t){return _l(t)===ak};vr.isProfiler=function(t){return _l(t)===lM};vr.isStrictMode=function(t){return _l(t)===sM};vr.isSuspense=function(t){return _l(t)===dM};vr.isSuspenseList=function(t){return _l(t)===hM};vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aM||t===lM||t===sM||t===dM||t===hM||t===bje||typeof t=="object"&&t!==null&&(t.$$typeof===mM||t.$$typeof===pM||t.$$typeof===uM||t.$$typeof===cM||t.$$typeof===fM||t.$$typeof===Dne||t.getModuleId!==void 0)};vr.typeOf=_l;Pne.exports=vr;var xP=Pne.exports;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var wje=Symbol.for("react.element"),Sje=Symbol.for("react.transitional.element"),Eje=Symbol.for("react.fragment");function xje(t){return t&&Rn(t)==="object"&&(t.$$typeof===wje||t.$$typeof===Sje)&&t.type===Eje}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Aje=function(e){var n,r;if(!e)return!1;if(sk(e)&&e.props.propertyIsEnumerable("ref"))return!0;var i=xP.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==xP.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==xP.ForwardRef)};function Cje(t){return t.current&&Rn(t.current)==="object"&&"currentElement"in t.current?t.current.currentElement:t.current}function sk(t){return D.isValidElement(t)&&!xje(t)}var Tje=function(e){return sk(e)&&Aje(e)},Mje=function(e){if(e&&sk(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function Lne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=0,o=e;i<o.length;i++){var a=o[i];typeof a=="function"?a(r):a&&(a.current=r)}}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Oje="Escape",vc=function(e,n){var r,i=e.target,o=i==null||(r=i.closest)===null||r===void 0?void 0:r.call(i,"[disabled]");return!!(o&&n.contains(o))};function Ije(t){var e=t.triggerElement,n=t.content,r=t.disabled,i=t.trigger,o=t.visible,a=t.onVisibleChange,s=t.delay,u=ln(),l=u.classPrefix,c=typeof e=="string",f=D.useRef(null),d=D.useRef(!1),h=D.useRef(null),p=D.useMemo(function(){return r?!1:n===0?!0:!!n},[r,n]),_=D.useMemo(function(){return Array.isArray(s)?s:[s,s]},[s]),y=De(_,2),m=y[0],b=m===void 0?0:m,w=y[1],S=w===void 0?0:w;function x(N){var H=N.delay,B=N.callback;clearTimeout(h.current),H?h.current=setTimeout(B,H):B()}var E=D.useCallback(function(){if(!dl)return null;if(c)return document.querySelector(e);var N=Cje(f);return N instanceof Element?N:null},[c,e]),M=function(H){var B;if(!vc(H,E())&&!(i!=="hover"||d.current)){var k=H.relatedTarget,j=k==null||(B=k.closest)===null||B===void 0?void 0:B.call(k,".".concat(l,"-popup"));j||x({delay:S,callback:function(){return a(!1,{e:H,trigger:"trigger-element-hover"})}})}},O=function(){d.current=!0},C=function(){requestAnimationFrame(function(){d.current=!1})};D.useEffect(function(){return clearTimeout(h.current)},[]),D.useEffect(function(){if(p){var N=E();if(N){var H=function(Z){vc(Z,N)||i==="click"&&x({delay:o?b:S,callback:function(){return a(!o,{e:Z,trigger:"trigger-element-click"})}})},B=function(Z){vc(Z,N)||i==="mousedown"&&x({delay:o?b:S,callback:function(){return a(!o,{e:Z,trigger:"trigger-element-mousedown"})}})},k=function(Z){vc(Z,N)||i==="hover"&&x({delay:b,callback:function(){return a(!0,{e:Z,trigger:"trigger-element-hover"})}})},j=function(Z){vc(Z,N)||i==="focus"&&x({delay:b,callback:function(){return a(!0,{e:Z,trigger:"trigger-element-focus"})}})},$=function(Z){vc(Z,N)||i==="focus"&&x({delay:S,callback:function(){return a(!1,{e:Z,trigger:"trigger-element-blur"})}})},F=function(Z){vc(Z,N)||i==="context-menu"&&(Z.preventDefault(),x({delay:b,callback:function(){return a(!0,{e:Z,trigger:"context-menu"})}}))},R=function(Z){vc(Z,N)||(i==="hover"||i==="mousedown")&&x({delay:b,callback:function(){return a(!0,{e:Z,trigger:"trigger-element-hover"})}})},L=function(Z){vc(Z,N)||(Z==null?void 0:Z.key)===Oje&&x({delay:S,callback:function(){return a(!1,{e:Z,trigger:"keydown-esc"})}})};return yr(N,"click",H),yr(N,"mousedown",B),yr(N,"mouseenter",k),yr(N,"mouseleave",M),yr(N,"focus",j),yr(N,"blur",$),yr(N,"contextmenu",F),yr(N,"touchstart",R,{passive:!0}),yr(N,"keydown",L),function(){ur(N,"click",H),ur(N,"mousedown",B),ur(N,"mouseenter",k),ur(N,"mouseleave",M),ur(N,"focus",j),ur(N,"blur",$),ur(N,"contextmenu",F),ur(N,"touchstart",R,{passive:!0}),ur(N,"keydown",L)}}}},[l,p,b,S,i,o,a]),D.useEffect(function(){if(p){var N=function(B){var k,j;!o||(k=E())!==null&&k!==void 0&&(j=k.contains)!==null&&j!==void 0&&j.call(k,B.target)||d.current||a(!1,{e:B,trigger:"document"})};return yr(document,"mousedown",N),yr(document,"touchend",N,{passive:!0}),function(){requestAnimationFrame(function(){ur(document,"mousedown",N),ur(document,"touchend",N,{passive:!0})})}}},[l,p,o,a,E]),D.useEffect(function(){var N=E();return o?N==null||N.classList.add("".concat(l,"-popup-open")):N==null||N.classList.remove("".concat(l,"-popup-open")),function(){N==null||N.classList.remove("".concat(l,"-popup-open"))}},[o,l,E]);function T(N){if(!c){if(Tje(N)){var H=Mje(N),B=Lne(f,H);return Q.cloneElement(N,{ref:B})}return Q.createElement("span",{ref:f,className:"".concat(l,"-trigger")},N)}}function P(){return{onMouseLeave:M,onMouseDown:O,onMouseUp:C,onTouchStart:O,onTouchEnd:C}}return{triggerElementIsString:c,getTriggerElement:E,getTriggerNode:T,getPopupProps:P}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Rje=function(e){var n=e.classPrefix,r=e.expandAnimation,i=e.fadeAnimation;if(!i)return{};var o=r?"".concat(n,"-popup--animation-expand"):"".concat(n,"-popup--animation");return{classNames:{appear:"".concat(o,"-enter ").concat(o,"-enter-active"),appearActive:"".concat(o,"-enter-active"),appearDone:"".concat(o,"-enter-active ").concat(o,"-enter-to"),enter:"".concat(o,"-enter ").concat(o,"-enter-active"),enterActive:"".concat(o,"-enter-active"),enterDone:"".concat(o,"-enter-active ").concat(o,"-enter-to"),exit:"".concat(o,"-leave ").concat(o,"-leave-active"),exitActive:"".concat(o,"-leave-active"),exitDone:"".concat(o,"-leave-active ").concat(o,"-leave-to")}}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function nG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Pje=180,zS=8,AP=8,Nne=D.forwardRef(function(t,e){var n=mr(t,yje),r=n.trigger,i=n.content,o=n.placement,a=n.attach,s=n.showArrow,u=n.destroyOnClose,l=n.overlayClassName,c=n.overlayInnerClassName,f=n.overlayStyle,d=n.overlayInnerStyle,h=n.triggerElement,p=n.children,_=p===void 0?h:p,y=n.disabled,m=n.popperOptions,b=n.zIndex,w=n.onScroll,S=n.onScrollToBottom,x=n.expandAnimation,E=n.delay,M=n.hideEmptyPopup,O=n.updateScrollTop,C=ln(),T=C.classPrefix,P=bne("popup",a),N=_ne(),H=N.keepExpand,B=N.keepFade,k=gje(),j=k.height,$=k.width,F=Mr(n,"visible",n.onVisibleChange),R=De(F,2),L=R[0],W=R[1],Z=D.useState(!1),ee=De(Z,2),oe=ee[0],pe=ee[1],ie=D.useState(null),ce=De(ie,2),ve=ce[0],xe=ce[1],he=D.useState({}),we=De(he,2),ne=we[0],Me=we[1],Ce=D.useRef(null),K=D.useRef(null),U=D.useRef(null),G=D.useRef(null);D.useEffect(function(){!i&&M&&requestAnimationFrame(function(){return xe(null)})},[i,M]);var te=D.useMemo(function(){return M&&!i?!1:L||ve},[M,i,L,ve]),q=D.useMemo(function(){return o.replace(/-(left|top)$/,"-start").replace(/-(right|bottom)$/,"-end")},[o]),V=Ije({triggerElement:h,content:i,disabled:y,trigger:r,visible:L,delay:E,onVisibleChange:W}),ae=V.triggerElementIsString,Ae=V.getTriggerElement,Oe=V.getTriggerNode,Te=V.getPopupProps,Ue=Ae(),Be=D.useMemo(function(){var Ee,de=m==null||(Ee=m.modifiers)===null||Ee===void 0?void 0:Ee.find(function($e){return $e.name==="arrow"});return de&&de.enabled!==!1},[m]);G.current=vje(Ue,ve,Il({placement:q},m));var Qe=G.current,Ze=Qe.styles,at=Qe.attributes,ke=En(_)?Oe(_({visible:L})):Oe(_),Tt=D.useRef(null);Sne(Ue,function(){var Ee=LUe("display",Ue)==="none";L&&!Ee&&(clearTimeout(Tt.current),Tt.current=setTimeout(function(){var de,$e;return(de=G.current)===null||de===void 0||($e=de.update)===null||$e===void 0?void 0:$e.call(de)},0))}),D.useEffect(function(){return function(){return clearTimeout(Tt.current)}},[]);var Mt=function(){if(!Ue||!ve||!s)return{};var de=Ue.getBoundingClientRect(),$e=ve.getBoundingClientRect(),tt=function(ot,lt,bt){return ot>=lt&&ot<=bt};if(o.startsWith("top")||o.startsWith("bottom")){var Pt=Math.abs(de.left+de.width/2-$e.left),vt=ve.offsetWidth||ve.clientWidth,$t=vt-zS/2,rn=zS+zS/2;return tt(Pt,0,vt)?{left:"".concat(Math.max(rn,Math.min($t,Pt))-zS/2,"px"),marginLeft:0}:{}}var mn=de.top+de.height/2-$e.top,Lt=ve.offsetHeight||ve.clientHeight,cn=Lt-AP,kt=AP;return tt(mn,0,Lt)?{top:"".concat(Math.max(kt,Math.min(cn,mn))-AP/2,"px"),marginTop:0}:{}},wt=function(){if(L&&ve&&s){var de=Mt();Me(de)}};D.useEffect(function(){L&&requestAnimationFrame(function(){var Ee,de;(Ee=G.current)===null||Ee===void 0||(de=Ee.update)===null||de===void 0||de.call(Ee)})},[L,i,j,$]),D.useEffect(function(){L&&ve&&(O==null||O(U.current),requestAnimationFrame(function(){wt()}))},[L,ve,O]);function ft(){pe(!1),!u&&ve&&(ve.style.display="none")}function qe(){pe(!0),!u&&ve&&(ve.style.display="block")}function le(Ee){w==null||w({e:Ee});var de=Tw(function($t){return S==null?void 0:S({e:$t})},100),$e=Ee.target,tt=$e.scrollTop,Pt=$e.clientHeight,vt=$e.scrollHeight;Pt+Math.floor(tt)===vt&&de(Ee)}function Ie(Ee){return Ue&&Ce.current&&typeof Ee=="function"?Il({},Ee(Ue,Ce.current)):Il({},Ee)}var He=te&&Q.createElement(_p,{appear:!0,in:L,timeout:Pje,nodeRef:K,unmountOnExit:u,onEnter:qe,onExited:ft},Q.createElement(rM,{ref:K,triggerNode:Ue,attach:P,style:{position:"absolute",top:0,left:0,width:"100%"}},Q.createElement(_p,Il({appear:!0,timeout:0,in:L,nodeRef:Ce},Rje({classPrefix:T,fadeAnimation:B,expandAnimation:x&&H})),Q.createElement("div",Il(Il({ref:function(de){de&&(Ce.current=de,xe(de))},style:Il(Il({},Ze.popper),{},{zIndex:b},Ie(f)),className:et("".concat(T,"-popup"),l)},at.popper),{},{onClick:function(de){var $e;return($e=n.onOverlayClick)===null||$e===void 0?void 0:$e.call(n,{e:de})}},Te()),Q.createElement("div",{ref:U,className:et("".concat(T,"-popup__content"),me({},"".concat(T,"-popup__content--arrow"),s),c),style:Ie(d),onScroll:le},i,s&&Q.createElement("div",Il({style:Il(Il({},Ze.arrow),ne),className:"".concat(T,"-popup__arrow")},Be&&{"data-popper-arrow":""})))))));function Ve(){var Ee=G.current;if(!(!Ee||!L)){try{var de=Ue==null?void 0:Ue.getRootNode();if(de&&de instanceof ShadowRoot)Ee.state&&(Ee.state.elements.reference=Ue),Ee.update();else{for(var $e=Ue==null?void 0:Ue.getBoundingClientRect(),tt=Ue;tt&&tt!==document.body;)tt=tt.parentElement;var Pt=tt!==document.body||$e&&$e.width===0&&$e.height===0;Pt?W(!1,{trigger:"document"}):(Ee.state&&(Ee.state.elements.reference=Ue),Ee.update())}}catch{Ee.update()}wt()}}return D.useImperativeHandle(e,function(){return{getPopupElement:function(){return Ce.current},getPortalElement:function(){return K.current},getPopupContentElement:function(){return U.current},setVisible:function(de){return W(de,{trigger:"document"})},getPopper:function(){var de=G.current;return de?{state:de.state,update:de.update,forceUpdate:de.forceUpdate,destroy:de.destroy,setOptions:de.setOptions}:null},getOverlay:function(){return K.current},getOverlayState:function(){return{hover:oe}},update:function(){return Ve()}}}),Q.createElement(Q.Fragment,null,ae?null:ke,He)});Nne.displayName="Popup";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var vM=Nne;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var CP=200,Dje="rgba(0, 0, 0, 0)",Lje="rgba(0, 0, 0, 0.35)",Nje=function(e,n){var r;if(e!=null&&(r=e.dataset)!==null&&r!==void 0&&r.ripple){var i=e.dataset.ripple;return i}var o=getComputedStyle(e).getPropertyValue("--ripple-color");return o||Lje};function Bne(t,e){var n=ln(),r=n.classPrefix,i=_ne(),o=i.keepRipple,a=D.useMemo(function(){if(!dl)return null;var u=document.createElement("div");return u.className="".concat(r,"-ripple"),u},[r]),s=D.useCallback(function(u){var l=Nje(t);if(!(u.button!==0||!t||!o)&&!(t.classList.contains("".concat(r,"-is-active"))||t.classList.contains("".concat(r,"-is-disabled"))||t.classList.contains("".concat(r,"-is-checked"))||t.classList.contains("".concat(r,"-is-loading")))){var c=getComputedStyle(t),f=parseInt(c.borderWidth,10),d=f>0?f:0,h=t.offsetWidth,p=t.offsetHeight;a.parentNode===null&&(_C(a,{position:"absolute",left:"".concat(0-d,"px"),top:"".concat(0-d,"px"),width:"".concat(h,"px"),height:"".concat(p,"px"),borderRadius:c.borderRadius,pointerEvents:"none",overflow:"hidden"}),t.appendChild(a));var _=document.createElement("div");_.className="".concat(r,"-ripple__inner"),_C(_,{marginTop:"0",marginLeft:"0",right:"".concat(h,"px"),width:"".concat(h+20,"px"),height:"100%",transition:"transform ".concat(CP,"ms cubic-bezier(.38, 0, .24, 1), background ").concat(CP*2,"ms linear"),transform:"skewX(-8deg)",pointerEvents:"none",position:"absolute",zIndex:0,backgroundColor:l,opacity:"0.9"});for(var y=new WeakMap,m=t.children.length,b=0;b<m;++b){var w=t.children[b];w.style.zIndex===""&&w!==a&&(w.style.zIndex="1",y.set(w,!0))}var S=t.style.position?t.style.position:getComputedStyle(t).position;(S===""||S==="static")&&(t.style.position="relative"),a.insertBefore(_,a.firstChild),setTimeout(function(){_.style.transform="translateX(".concat(h,"px)")},0);var x=function(){_.style.backgroundColor=Dje,t&&(t.removeEventListener("pointerup",x,!1),t.removeEventListener("pointerleave",x,!1),setTimeout(function(){_.remove(),a.children.length===0&&a.remove()},CP*2+100))};t.addEventListener("pointerup",x,!1),t.addEventListener("pointerleave",x,!1)}},[r,t,e,a,o]);D.useEffect(function(){if(t)return t.addEventListener("pointerdown",s,!1),function(){t.removeEventListener("pointerdown",s,!1)}},[s,e,t])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Bje={block:!1,disabled:!1,form:void 0,ghost:!1,loading:!1,shape:"rectangle",size:"medium",type:"button",variant:"base"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Fje=["type","theme","variant","icon","disabled","loading","size","block","ghost","shape","children","content","className","suffix","href","tag","onClick"];function rG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fne=D.forwardRef(function(t,e){var n=mr(t,Bje),r=n.type,i=n.theme,o=n.variant,a=n.icon,s=n.disabled,u=n.loading,l=n.size,c=n.block,f=n.ghost,d=n.shape,h=n.children,p=n.content,_=n.className,y=n.suffix,m=n.href,b=n.tag,w=n.onClick,S=zi(n,Fje),x=ln(),E=x.classPrefix,M=K3(),O=De(M,2),C=O[0],T=O[1];Bne((e==null?void 0:e.current)||C);var P=p??h,N=a;u&&(N=Q.createElement(R0,{loading:u,inheritColor:!0}));var H=D.useMemo(function(){return i||(o==="base"?"primary":"default")},[i,o]),B=D.useMemo(function(){return!b&&m&&!s?"a":!b&&s?"div":b||"button"},[b,m,s]);return Q.createElement(B,iG(iG({},S),{},{href:m,type:r,ref:e||T,disabled:s||u,className:et(_,["".concat(E,"-button"),"".concat(E,"-button--theme-").concat(H),"".concat(E,"-button--variant-").concat(o)],me(me(me(me(me(me(me({},"".concat(E,"-button--shape-").concat(d),d!=="rectangle"),"".concat(E,"-button--ghost"),f),"".concat(E,"-is-loading"),u),"".concat(E,"-is-disabled"),s),"".concat(E,"-size-s"),l==="small"),"".concat(E,"-size-l"),l==="large"),"".concat(E,"-size-full-width"),c)),onClick:!s&&!u?w:void 0}),Q.createElement(Q.Fragment,null,N,P&&Q.createElement("span",{className:"".concat(E,"-button__text")},P),y&&Q.createElement("span",{className:"".concat(E,"-button__suffix")},Wg(y))))});Fne.displayName="Button";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var si=Fne;function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kje(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kne(t,e){if(t==null)return{};var n=kje(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Une={exports:{}};/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)&&o.length){var s=n.apply(null,o);s&&r.push(s)}else if(a==="object")for(var u in o)e.call(o,u)&&o[u]&&r.push(u)}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Une);var Uje=Une.exports,jje="t",Hje="zh-CN",$je=D.createContext({classPrefix:jje,locale:Hje}),zje=function(){return D.useContext($je)};function Gje(){var t=zje(),e=t.classPrefix;return D.useMemo(function(){return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}},[e])}function Wje(t){var e=Gje().SIZE;return typeof t>"u"?{}:t in e?{className:e[t],style:{}}:{className:"",style:{fontSize:t}}}function Vje(){var t="__TDESIGN_ICON_STYLE__",e=`@keyframes t-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  .t-icon {
    display: inline-block;
    vertical-align: middle;
    width: 1em;
    height: 1em;
  }
  .t-icon::before {
    font-family: unset;
  }
  .t-icon-loading {
    animation: t-spin 1s linear infinite;
  }
  .t-icon.t-size-s,
  i.t-size-s {
    font-size: 14px;
  }
  .t-icon.t-size-m,
  i.t-size-m {
    font-size: 16px;
  }
  .t-icon.t-size-l,
  i.t-size-l {
    font-size: 18px;
  }
  `;if(!(!document||document.getElementById(t))){var n=document.createElement("style");n.setAttribute("id",t),n.innerHTML=e,document.head.appendChild(n)}}function qje(t){if(Array.isArray(t))return t}function Kje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function oG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xje(t,e){if(t){if(typeof t=="string")return oG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oG(t,e)}}function Jje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yje(t,e){return qje(t)||Kje(t,e)||Xje(t,e)||Jje()}var Zje=["strokeColor","strokeWidth","fillColor"],Qje=["icon","id","className","size","style"];function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e5e(t,e,n){var r,i,o=n.strokeColor,a=o===void 0?"currentColor":o,s=n.strokeWidth,u=s===void 0?2:s,l=n.fillColor,c=l===void 0?"transparent":l,f=kne(n,Zje),d;n.fillColor?d=Array.isArray(c)?c[0]:c:d="currentColor";var h={strokeWidth:u,strokeColor1:Array.isArray(a)?a[0]:a,strokeColor2:Array.isArray(a)?(r=a[1])!==null&&r!==void 0?r:a[0]:a,fillColor1:Array.isArray(c)?c[0]:c,fillColor2:Array.isArray(c)?(i=c[1])!==null&&i!==void 0?i:c[0]:c,filledColor:d};return D.createElement(t.tag,vg(vg({key:e},t.attrs),f),(t.children||[]).map(function(p,_){return jne(p,h,_)}))}function jne(t,e,n){var r={};if(t.attrs)for(var i=0,o=Object.entries(t.attrs);i<o.length;i++){var a=Yje(o[i],2),s=a[0],u=a[1];if(typeof u=="string"&&u.startsWith("props.")){var l=u.split(".")[1];r[s]=e[l]}else r[s]=u}return D.createElement(t.tag,vg({key:n},r),(t.children||[]).map(function(c,f){return jne(c,e,f)}))}var Ur=D.forwardRef(function(t,e){var n=t.icon,r=t.id,i=t.className,o=t.size,a=t.style,s=kne(t,Qje),u=Wje(o),l=u.className,c=u.style,f=Uje("t-icon","t-icon-".concat(r),i,l);return D.useEffect(function(){Vje()},[]),e5e(n,"".concat(r),vg({ref:e,className:f,style:vg(vg({fill:"none"},a),c)},s))});function sG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"add"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M12 5L12 19M19 12L5 12",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Hne=D.forwardRef(function(t,e){return D.createElement(Ur,lG(lG({},t),{},{id:"add",ref:e,icon:t5e}))});Hne.displayName="AddIcon";function uG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var n5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"browse-off"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M13.1758 8.17578C14.4396 8.56376 15.4368 9.56096 15.8247 10.8247M21.2858 15.2856C22.0085 14.2983 22.5776 13.1913 22.9578 12C21.4771 7.36017 17.131 4 12.0001 4C11.3698 4 10.7513 4.05072 10.1484 4.1483M5.80747 5.80786C3.57225 7.23888 1.86478 9.42193 1.04199 12.0001C2.52275 16.6399 6.86881 20.0001 11.9997 20.0001C14.2796 20.0001 16.4045 19.3367 18.1919 18.1923L5.80747 5.80786ZM8 12.0003C8 10.8957 8.44771 9.89573 9.17157 9.17188L14.8284 14.8287C14.1046 15.5526 13.1046 16.0003 12 16.0003C9.79086 16.0003 8 14.2094 8 12.0003Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{id:"stroke2",stroke:"props.strokeColor2",d:"M20.9996 21L3 3",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},$ne=D.forwardRef(function(t,e){return D.createElement(Ur,cG(cG({},t),{},{id:"browse-off",ref:e,icon:n5e}))});$ne.displayName="BrowseOffIcon";function fG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var r5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"browse",clipPath:"url(#clip0_543_7945)"},children:[{tag:"path",attrs:{id:"fill1",fill:"props.fillColor1",d:"M11.9997 4C6.86881 4 2.52275 7.36017 1.04199 12C2.52275 16.6398 6.86881 20 11.9997 20C17.1306 20 21.4766 16.6398 22.9574 12C21.4766 7.36017 17.1306 4 11.9997 4Z"}},{tag:"path",attrs:{id:"fill2",fill:"props.fillColor2",d:"M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z"}},{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M11.9997 4C6.86881 4 2.52275 7.36017 1.04199 12C2.52275 16.6398 6.86881 20 11.9997 20C17.1306 20 21.4766 16.6398 22.9574 12C21.4766 7.36017 17.1306 4 11.9997 4Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{id:"stroke2",stroke:"props.strokeColor2",d:"M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},zne=D.forwardRef(function(t,e){return D.createElement(Ur,dG(dG({},t),{},{id:"browse",ref:e,icon:r5e}))});zne.displayName="BrowseIcon";function hG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"props.filledColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM7.49985 10.5858L10.4999 13.5858L16.4999 7.58578L17.9141 8.99999L10.4999 16.4142L6.08564 12L7.49985 10.5858Z"}}]},Rw=D.forwardRef(function(t,e){return D.createElement(Ur,pG(pG({},t),{},{id:"check-circle-filled",ref:e,icon:i5e}))});Rw.displayName="CheckCircleFilledIcon";function mG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"check"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M19.5708 7.37842L10.3785 16.5708L5.42871 11.6211",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Gne=D.forwardRef(function(t,e){return D.createElement(Ur,vG(vG({},t),{},{id:"check",ref:e,icon:o5e}))});Gne.displayName="CheckIcon";function gG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var a5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-down"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M17.5 9.5L12 15L6.5 9.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},lk=D.forwardRef(function(t,e){return D.createElement(Ur,yG(yG({},t),{},{id:"chevron-down",ref:e,icon:a5e}))});lk.displayName="ChevronDownIcon";function _G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_G(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_G(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var s5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-left.double"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M10.5 7.5L6 12L10.5 16.5M17 7.5L12.5 12L17 16.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Wne=D.forwardRef(function(t,e){return D.createElement(Ur,bG(bG({},t),{},{id:"chevron-left-double",ref:e,icon:s5e}))});Wne.displayName="ChevronLeftDoubleIcon";function wG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-left"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M14.5 17.5L9 12L14.5 6.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Vne=D.forwardRef(function(t,e){return D.createElement(Ur,SG(SG({},t),{},{id:"chevron-left",ref:e,icon:l5e}))});Vne.displayName="ChevronLeftIcon";function EG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var u5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-right-circle"},children:[{tag:"path",attrs:{id:"fill1",fill:"props.fillColor1",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"}},{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{id:"stroke2",stroke:"props.strokeColor2",d:"M10.5 16L14.5 12L10.5 8",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},qne=D.forwardRef(function(t,e){return D.createElement(Ur,xG(xG({},t),{},{id:"chevron-right-circle",ref:e,icon:u5e}))});qne.displayName="ChevronRightCircleIcon";function AG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var c5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-right.double"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M13.5 16.5L18 12L13.5 7.5M7 16.5L11.5 12L7 7.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Kne=D.forwardRef(function(t,e){return D.createElement(Ur,CG(CG({},t),{},{id:"chevron-right-double",ref:e,icon:c5e}))});Kne.displayName="ChevronRightDoubleIcon";function TG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-right"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M9.5 17.5L15 12L9.5 6.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Xne=D.forwardRef(function(t,e){return D.createElement(Ur,MG(MG({},t),{},{id:"chevron-right",ref:e,icon:f5e}))});Xne.displayName="ChevronRightIcon";function OG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var d5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"chevron-up"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M17.5 14.5L12 9L6.5 14.5",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Jne=D.forwardRef(function(t,e){return D.createElement(Ur,IG(IG({},t),{},{id:"chevron-up",ref:e,icon:d5e}))});Jne.displayName="ChevronUpIcon";function RG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var h5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"props.filledColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM8.81753 7.40346L11.9999 10.5858L15.1815 7.40414L16.5957 8.81835L13.4141 12L16.5957 15.1816L15.1815 16.5958L11.9999 13.4142L8.81753 16.5965L7.40332 15.1823L10.5856 12L7.40332 8.81767L8.81753 7.40346Z"}}]},Pw=D.forwardRef(function(t,e){return D.createElement(Ur,PG(PG({},t),{},{id:"close-circle-filled",ref:e,icon:h5e}))});Pw.displayName="CloseCircleFilledIcon";function DG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var p5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"close"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M16.9503 7.05029L12.0005 12M12.0005 12L7.05078 16.9498M12.0005 12L16.9503 16.9498M12.0005 12L7.05078 7.05029",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Dw=D.forwardRef(function(t,e){return D.createElement(Ur,LG(LG({},t),{},{id:"close",ref:e,icon:p5e}))});Dw.displayName="CloseIcon";function NG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var m5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"edit-1"},children:[{tag:"path",attrs:{id:"fill1",fill:"props.fillColor1",d:"M3.0001 20.9999L7.5 20.9999L17.5 11L13 6.5L3.0001 16.5L3.0001 20.9999Z"}},{tag:"path",attrs:{id:"fill2",fill:"props.fillColor2",d:"M21.5 7L17 2.5L13 6.5L17.5 11L21.5 7Z"}},{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M12.9999 6.5L3 16.5L3 20.9999L7.4999 20.9999L17.4999 11M12.9999 6.5L17.4999 11M12.9999 6.5L16.9999 2.5L21.4999 7L17.4999 11",strokeWidth:"props.strokeWidth"}}]}]},Yne=D.forwardRef(function(t,e){return D.createElement(Ur,BG(BG({},t),{},{id:"edit-1",ref:e,icon:m5e}))});Yne.displayName="Edit1Icon";function FG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var v5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"ellipsis"},children:[{tag:"g",attrs:{id:"stroke1"},children:[{tag:"path",attrs:{stroke:"props.strokeColor1",d:"M4 11.5H5V12.5H4V11.5Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{stroke:"props.strokeColor1",d:"M11.5 11.5H12.5V12.5H11.5V11.5Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{stroke:"props.strokeColor1",d:"M19 11.5H20V12.5H19V11.5Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]}]},Zne=D.forwardRef(function(t,e){return D.createElement(Ur,kG(kG({},t),{},{id:"ellipsis",ref:e,icon:v5e}))});Zne.displayName="EllipsisIcon";function UG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"props.filledColor",d:"M12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1ZM11.0001 14H13.0001V6.49998H11.0001V14ZM13.004 15.5H11.0001V17.5039H13.004V15.5Z"}}]},gM=D.forwardRef(function(t,e){return D.createElement(Ur,jG(jG({},t),{},{id:"error-circle-filled",ref:e,icon:g5e}))});gM.displayName="ErrorCircleFilledIcon";function HG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var y5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"error"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M12 3L12 15.5M12 20H12.0039V20.0039H12V20Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},Qne=D.forwardRef(function(t,e){return D.createElement(Ur,$G($G({},t),{},{id:"error",ref:e,icon:y5e}))});Qne.displayName="ErrorIcon";function zG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"filter"},children:[{tag:"path",attrs:{id:"fill1",fill:"props.fillColor1",d:"M19.5 4H4.5L10.5 12.5V20H13.5V12.5L19.5 4Z",fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M19.5 4H4.5L10.5 12.5V20H13.5V12.5L19.5 4Z",fillRule:"evenodd",strokeLinecap:"square",strokeWidth:"props.strokeWidth",clipRule:"evenodd"}}]}]},ere=D.forwardRef(function(t,e){return D.createElement(Ur,GG(GG({},t),{},{id:"filter",ref:e,icon:_5e}))});ere.displayName="FilterIcon";function WG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var b5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"props.filledColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM11.8265 11.8902C12.2582 11.3593 12.8004 10.9159 13.2365 10.5723C13.7034 10.2045 14.0002 9.63718 14.0002 9C14.0002 7.89543 13.1048 7 12.0002 7C11.131 7 10.3888 7.5551 10.1138 8.33325L9.78055 9.27609L7.89487 8.6096L8.22811 7.66676C8.77675 6.11451 10.2571 5 12.0002 5C14.2094 5 16.0002 6.79086 16.0002 9C16.0002 10.2759 15.4018 11.4125 14.4742 12.1433C14.0426 12.4834 13.6573 12.8088 13.3783 13.1519C13.1038 13.4896 13.0002 13.762 13.0002 14V15.25H11.0002V14C11.0002 13.1334 11.3905 12.4265 11.8265 11.8902ZM11.0001 18.2539V16.25H13.004V18.2539H11.0001Z"}}]},tre=D.forwardRef(function(t,e){return D.createElement(Ur,VG(VG({},t),{},{id:"help-circle-filled",ref:e,icon:b5e}))});tre.displayName="HelpCircleFilledIcon";function qG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var w5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"props.filledColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM10.996 8.50002V6.49611H12.9999V8.50002H10.996ZM12.9999 10L12.9999 17.5H10.9999V10L12.9999 10Z"}}]},yM=D.forwardRef(function(t,e){return D.createElement(Ur,KG(KG({},t),{},{id:"info-circle-filled",ref:e,icon:w5e}))});yM.displayName="InfoCircleFilledIcon";function XG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var S5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"page-first"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M7.5 18V6M16.25 17.25L11 12L16.25 6.75",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},nre=D.forwardRef(function(t,e){return D.createElement(Ur,JG(JG({},t),{},{id:"page-first",ref:e,icon:S5e}))});nre.displayName="PageFirstIcon";function YG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"page-last"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M16.5 18V6M7.75 17.25L13 12L7.75 6.75",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},rre=D.forwardRef(function(t,e){return D.createElement(Ur,ZG(ZG({},t),{},{id:"page-last",ref:e,icon:E5e}))});rre.displayName="PageLastIcon";function QG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QG(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var x5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"remove"},children:[{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M19 12L5 12",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},ire=D.forwardRef(function(t,e){return D.createElement(Ur,e9(e9({},t),{},{id:"remove",ref:e,icon:x5e}))});ire.displayName="RemoveIcon";function t9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var A5e={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{id:"setting"},children:[{tag:"path",attrs:{id:"fill1",fill:"props.fillColor1",d:"M20.6604 7L12.0001 2L3.33984 7V17L12.0001 22L20.6604 17V7ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z",fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{id:"fill2",fill:"props.fillColor2",d:"M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z"}},{tag:"path",attrs:{id:"stroke1",stroke:"props.strokeColor1",d:"M12.0001 2L20.6604 7V17L12.0001 22L3.33984 17V7L12.0001 2Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}},{tag:"path",attrs:{id:"stroke2",stroke:"props.strokeColor2",d:"M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",strokeLinecap:"square",strokeWidth:"props.strokeWidth"}}]}]},ore=D.forwardRef(function(t,e){return D.createElement(Ur,n9(n9({},t),{},{id:"setting",ref:e,icon:A5e}))});ore.displayName="SettingIcon";var are={exports:{}},gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=typeof Symbol=="function"&&Symbol.for,uk=ao?Symbol.for("react.element"):60103,ck=ao?Symbol.for("react.portal"):60106,_M=ao?Symbol.for("react.fragment"):60107,bM=ao?Symbol.for("react.strict_mode"):60108,wM=ao?Symbol.for("react.profiler"):60114,SM=ao?Symbol.for("react.provider"):60109,EM=ao?Symbol.for("react.context"):60110,fk=ao?Symbol.for("react.async_mode"):60111,xM=ao?Symbol.for("react.concurrent_mode"):60111,AM=ao?Symbol.for("react.forward_ref"):60112,CM=ao?Symbol.for("react.suspense"):60113,C5e=ao?Symbol.for("react.suspense_list"):60120,TM=ao?Symbol.for("react.memo"):60115,MM=ao?Symbol.for("react.lazy"):60116,T5e=ao?Symbol.for("react.block"):60121,M5e=ao?Symbol.for("react.fundamental"):60117,O5e=ao?Symbol.for("react.responder"):60118,I5e=ao?Symbol.for("react.scope"):60119;function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uk:switch(t=t.type,t){case fk:case xM:case _M:case wM:case bM:case CM:return t;default:switch(t=t&&t.$$typeof,t){case EM:case AM:case MM:case TM:case SM:return t;default:return e}}case ck:return e}}}function sre(t){return Es(t)===xM}gr.AsyncMode=fk;gr.ConcurrentMode=xM;gr.ContextConsumer=EM;gr.ContextProvider=SM;gr.Element=uk;gr.ForwardRef=AM;gr.Fragment=_M;gr.Lazy=MM;gr.Memo=TM;gr.Portal=ck;gr.Profiler=wM;gr.StrictMode=bM;gr.Suspense=CM;gr.isAsyncMode=function(t){return sre(t)||Es(t)===fk};gr.isConcurrentMode=sre;gr.isContextConsumer=function(t){return Es(t)===EM};gr.isContextProvider=function(t){return Es(t)===SM};gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uk};gr.isForwardRef=function(t){return Es(t)===AM};gr.isFragment=function(t){return Es(t)===_M};gr.isLazy=function(t){return Es(t)===MM};gr.isMemo=function(t){return Es(t)===TM};gr.isPortal=function(t){return Es(t)===ck};gr.isProfiler=function(t){return Es(t)===wM};gr.isStrictMode=function(t){return Es(t)===bM};gr.isSuspense=function(t){return Es(t)===CM};gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_M||t===xM||t===wM||t===bM||t===CM||t===C5e||typeof t=="object"&&t!==null&&(t.$$typeof===MM||t.$$typeof===TM||t.$$typeof===SM||t.$$typeof===EM||t.$$typeof===AM||t.$$typeof===M5e||t.$$typeof===O5e||t.$$typeof===I5e||t.$$typeof===T5e)};gr.typeOf=Es;are.exports=gr;var R5e=are.exports,dk=R5e,P5e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D5e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L5e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hk={};hk[dk.ForwardRef]=L5e;hk[dk.Memo]=lre;function r9(t){return dk.isMemo(t)?lre:hk[t.$$typeof]||P5e}var N5e=Object.defineProperty,B5e=Object.getOwnPropertyNames,i9=Object.getOwnPropertySymbols,F5e=Object.getOwnPropertyDescriptor,k5e=Object.getPrototypeOf,o9=Object.prototype;function ure(t,e,n){if(typeof e!="string"){if(o9){var r=k5e(e);r&&r!==o9&&ure(t,r,n)}var i=B5e(e);i9&&(i=i.concat(i9(e)));for(var o=r9(t),a=r9(e),s=0;s<i.length;++s){var u=i[s];if(!D5e[u]&&!(n&&n[u])&&!(a&&a[u])&&!(o&&o[u])){var l=F5e(e,u);try{N5e(t,u,l)}catch{}}}}return t}var U5e=ure;const j5e=au(U5e);/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function P0(t,e){return j5e(D.forwardRef(t),e)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function so(t){var e=ln(),n=e.icon,r={};return Object.keys(t).forEach(function(i){r[i]=(n==null?void 0:n[i])||t[i]}),r}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function H5e(t){return t===0?0:t===1?1:2}function a9(t){if(_i(t)){for(var e=t,n,r={},i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(o.length>0){var s=o[0],u=o[1];typeof s=="number"?(n=s,u&&Rn(u)==="object"?r=u:r.count=n):Rn(s)==="object"&&s!==null&&(r=s)}if(e.includes("|")){var l=e.split("|").map(function(p){return p.trim()});if(typeof n=="number"){var c=H5e(n);c<l.length?e=l[c]:e=l[l.length-1]}else{var f=De(l,1),d=f[0];e=d}}if(r&&Object.keys(r).length>0){var h=/\{\s*([\w-]+)\s*\}/g;e=e.replace(h,function(p,_){return Object.prototype.hasOwnProperty.call(r,_)?String(r[_]):p})}return e}return""}function s9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ha(t,e){var n=Q.useContext(W3),r=n.globalConfig;function i(a){var s=/\{\s*([\w-]+)\s*\}/g,u=arguments.length<=1?void 0:arguments[1];if(Array.isArray(a))return a.map(function(c,f){var d=c.replace(s,function(h,p){return u?String(u[f][p]):""});return d});if(typeof a=="function")return a(u);var l=arguments.length<=2?void 0:arguments[2];return l?a9(a,u,l):a9(a,u)}var o=Q.useMemo(function(){var a={},s=r[t],u=t&&r?s:{};return l9(l9({},typeof a=="function"?a():a),u||{})},[t,e,r]);return[o,i]}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var $5e={align:"left",allowInputOverMax:!1,autoWidth:!1,autocomplete:void 0,autofocus:!1,borderless:!1,allowInput:!0,clearable:!1,placeholder:void 0,readonly:!1,readOnly:!1,showClearIconOnEmpty:!1,showLimitNumber:!1,size:"medium",spellCheck:!1,status:"default",type:"text",defaultValue:""};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var z5e=["separate","children","className"];function u9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cre=D.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=t.separate,o=t.children,a=t.className,s=zi(t,z5e);return Q.createElement("div",G5e({ref:e,className:et("".concat(r,"-input-group"),a,me({},"".concat(r,"-input-group--separate"),i))},s),o)});cre.displayName="InputGroup";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function W5e(t){var e=function(s){var u=t.allowInputOverMax,l=t.maxlength,c=t.maxcharacter;if(!(l||c)||u||!s)return s;if(l)return $Ue(s,l);if(c){var f=bC(s,c);if(Rn(f)==="object")return f.characters}},n=D.useMemo(function(){var a=t.maxlength,s=t.maxcharacter,u=t.value;if(typeof u=="number")return String(u);if(a&&s&&Hi.warn("Input","Pick one of maxlength and maxcharacter please."),a){var l=u!=null&&u.length?HUe(u):0;return"".concat(l,"/").concat(a)}return s?"".concat(bC(u||""),"/").concat(s):""},[t.maxcharacter,t.maxlength,t.value]),r=D.useMemo(function(){if(n){var a=n.split("/"),s=De(a,2),u=s[0],l=s[1];return Number(u)>Number(l)?"error":""}return""},[n]),i=D.useMemo(function(){return t.status||r},[t.status,r]),o=function(){var s;(s=t.onValidate)===null||s===void 0||s.call(t,{error:r?"exceed-maximum":void 0})};return D.useEffect(function(){o()},[r]),{tStatus:i,limitNumber:n,getValueByLimitNumber:e}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var V5e=["type","autoWidth","borderless","placeholder","disabled","status","size","className","inputClass","style","prefixIcon","suffixIcon","clearable","tips","align","maxlength","maxcharacter","showClearIconOnEmpty","autofocus","autocomplete","label","suffix","showInput","keepWrapperWidth","showLimitNumber","allowInput","allowInputOverMax","name","readOnly","readonly","format","onClick","onClear","onEnter","onKeydown","onKeyup","onKeypress","onFocus","onBlur","onPaste","onMouseenter","onMouseleave","onWheel","onCompositionstart","onCompositionend","onValidate","onChange"];function c9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f9=function(e,n,r){var i=Wg(r),o=r?"".concat(e,"-input__").concat(n,"-icon"):"";return i?Q.createElement("span",{className:"".concat(e,"-input__").concat(n," ").concat(o)},i):null},fre=P0(function(t,e){var n,r=ha("input"),i=De(r,2),o=i[0],a=i[1],s=so({BrowseIcon:zne,BrowseOffIcon:$ne,CloseCircleFilledIcon:Pw}),u=s.BrowseIcon,l=s.BrowseOffIcon,c=s.CloseCircleFilledIcon,f=mr(t,$5e),d=f.type,h=f.autoWidth,p=f.borderless,_=f.placeholder,y=_===void 0?a(o.placeholder):_,m=f.disabled,b=f.status,w=f.size,S=f.className,x=f.inputClass,E=f.style,M=f.prefixIcon,O=f.suffixIcon,C=f.clearable,T=f.tips,P=f.align,N=f.maxlength,H=f.maxcharacter,B=f.showClearIconOnEmpty,k=f.autofocus,j=f.autocomplete,$=f.label,F=f.suffix,R=f.showInput,L=R===void 0?!0:R,W=f.keepWrapperWidth,Z=f.showLimitNumber,ee=f.allowInput,oe=f.allowInputOverMax,pe=f.name,ie=f.readOnly,ce=f.readonly,ve=f.format,xe=f.onClick,he=f.onClear,we=f.onEnter,ne=f.onKeydown,Me=f.onKeyup,Ce=f.onKeypress,K=f.onFocus,U=f.onBlur,G=f.onPaste,te=f.onMouseenter,q=f.onMouseleave,V=f.onWheel,ae=f.onCompositionstart,Ae=f.onCompositionend,Oe=f.onValidate,Te=f.onChange,Ue=zi(f,V5e),Be=ie||ce,Qe=Mr(f,"value",Te),Ze=De(Qe,2),at=Ze[0],ke=Ze[1],Tt=W5e({value:at===void 0?void 0:String(at),status:b,maxlength:N,maxcharacter:H,allowInputOverMax:oe,onValidate:Oe}),Mt=Tt.limitNumber,wt=Tt.getValueByLimitNumber,ft=Tt.tStatus,qe=ln(),le=qe.classPrefix,Ie=qe.input,He=D.useRef(!1),Ve=D.useRef(null),Ee=D.useRef(null),de=D.useRef(null),$e=D.useState(!1),tt=De($e,2),Pt=tt[0],vt=tt[1],$t=D.useState(!1),rn=De($t,2),mn=rn[0],Lt=rn[1],cn=D.useState(d),kt=De(cn,2),Ke=kt[0],ot=kt[1],lt=D.useState(""),bt=De(lt,2),Dt=bt[0],st=bt[1],Vt=Be||!ee,Ht=at&&!m,Y=(Ie==null?void 0:Ie.clearTrigger)==="always",re=(C&&Ht||B)&&Pt||Ht&&Y,_e=f9(le,"prefix",Wg(M)),J=O;re&&(J=Q.createElement(c,{className:"".concat(le,"-input__suffix-clear"),onClick:Ot})),d==="password"&&typeof O>"u"&&(Ke==="password"?J=Q.createElement(l,{className:"".concat(le,"-input__suffix-clear"),onClick:Ye}):Ke==="text"&&(J=Q.createElement(u,{className:"".concat(le,"-input__suffix-clear"),onClick:Ye})));var se=f9(le,"suffix",Wg(J)),fe=En($)?$():$,Se=En(F)?F():F,be=Mt&&Z?Q.createElement("div",{className:et("".concat(le,"-input__limit-number"),me({},"".concat(le,"-is-disabled"),m))},Mt):null,Le=function(){if(!(!h||!Ve.current)){var dt=Ee.current.offsetWidth,St=Ee.current.getBoundingClientRect(),Kt=St.width,jt=Kt<dt?dt+1:Kt;Ve.current.style.width="".concat(jt,"px")}};Vg(function(){requestAnimationFrame(function(){Le()})},[h,at,y,Ve,Dt]),D.useEffect(function(){var pt=null;if(!(typeof window.ResizeObserver>"u"||!Ve.current))return pt=new window.ResizeObserver(function(){Le()}),pt.observe(Ve.current),function(){var dt,St;(dt=(St=pt).disconnect)===null||dt===void 0||dt.call(St),pt=null}},[Ve]),D.useEffect(function(){ot(d)},[d]),D.useEffect(function(){if(at){var pt=wt(at);pt.length!==at.length&&!oe&&(ke==null||ke(pt,{trigger:"initial"}))}},[]);var Ne=He.current?Dt:at??"",ze=ve&&!mn?ve(Ne):Ne,je=Q.createElement("input",{ref:Ve,placeholder:y,type:Ke,className:et("".concat(le,"-input__inner"),me({},"".concat(le,"-input--soft-hidden"),!L)),value:ze,readOnly:Vt,disabled:m,autoComplete:j??(o.autocomplete||void 0),autoFocus:k,onChange:nt,onKeyDown:ct,onKeyUp:it,onKeyPress:ut,onCompositionStart:rt,onCompositionEnd:Je,onFocus:Wt,onBlur:xt,onPaste:yt,name:pe}),_t=Q.createElement("div",{className:et(x,"".concat(le,"-input"),(n={},me(me(me(me(me(me(me(me(me(me(n,"".concat(le,"-is-readonly"),Be),"".concat(le,"-is-disabled"),m),"".concat(le,"-is-focused"),mn),"".concat(le,"-size-s"),w==="small"),"".concat(le,"-size-l"),w==="large"),"".concat(le,"-align-").concat(P),P),"".concat(le,"-is-").concat(ft),ft&&ft!=="default"),"".concat(le,"-input--prefix"),M||fe),"".concat(le,"-input--suffix"),se||Se),"".concat(le,"-input--borderless"),p),me(n,"".concat(le,"-input--focused"),mn))),onMouseEnter:Zt,onMouseLeave:Cn,onWheel:function(dt){return V==null?void 0:V({e:dt})},onClick:function(dt){var St;(St=Ve.current)===null||St===void 0||St.focus(),xe==null||xe({e:dt})}},_e,fe?Q.createElement("div",{className:"".concat(le,"-input__prefix")},fe):null,je,h&&Q.createElement("span",{ref:Ee,className:"".concat(le,"-input__input-pre")},Ne||y),Se||be?Q.createElement("div",{className:"".concat(le,"-input__suffix")},Se,be):null,se);function Ye(){var pt;if(!m){var dt=Ve.current,St=((pt=Ve.current)===null||pt===void 0?void 0:pt.selectionStart)||0,Kt=Ke==="password"?"text":"password";ot(Kt),requestAnimationFrame(function(){dt==null||dt.setSelectionRange(St,St)})}}function nt(pt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"input",St=pt.currentTarget.value;He.current?st(St):(f.type!=="number"&&(St=wt(St)),st(St),ke(St,{e:pt,trigger:dt}))}function Ot(pt){ke==null||ke("",{e:pt,trigger:"clear"}),he==null||he({e:pt})}function ct(pt){var dt=pt.key,St=pt.currentTarget.value;dt==="Enter"&&(we==null||we(St,{e:pt})),ne==null||ne(St,{e:pt})}function it(pt){var dt=pt.currentTarget.value;Me==null||Me(dt,{e:pt})}function ut(pt){var dt=pt.currentTarget.value;Ce==null||Ce(dt,{e:pt})}function rt(pt){He.current=!0;var dt=pt.currentTarget.value;ae==null||ae(dt,{e:pt})}function Je(pt){var dt=pt.currentTarget.value;He.current&&(He.current=!1,nt(pt)),Ae==null||Ae(dt,{e:pt})}function Wt(pt){var dt=pt.currentTarget.value;K==null||K(dt,{e:pt}),!Vt&&Lt(!0)}function xt(pt){var dt=pt.currentTarget.value;U==null||U(dt,{e:pt}),!Vt&&Lt(!1)}function yt(pt){var dt=pt.clipboardData,St=dt==null?void 0:dt.getData("text/plain");G==null||G({e:pt,pasteValue:St})}function Zt(pt){!ie&&vt(!0),te==null||te({e:pt})}function Cn(pt){!ie&&vt(!1),q==null||q({e:pt})}return D.useImperativeHandle(e,function(){return{currentElement:de.current,inputElement:Ve.current,focus:function(){var dt;return(dt=Ve.current)===null||dt===void 0?void 0:dt.focus()},blur:function(){var dt;return(dt=Ve.current)===null||dt===void 0?void 0:dt.blur()},select:function(){var dt;return(dt=Ve.current)===null||dt===void 0?void 0:dt.select()}}}),Q.createElement("div",q5e({ref:de,style:E,className:et("".concat(le,"-input__wrap"),S,me({},"".concat(le,"-input--auto-width"),h&&!W))},Ue),_t,T&&Q.createElement("div",{className:et("".concat(le,"-input__tips"),"".concat(le,"-input__tips--").concat(ft||"default"))},T))},{Group:cre});fre.displayName="Input";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var hd=fre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var K5e=["prepend","append","children","className","style"];function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dre=D.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=t.prepend,o=t.append,a=t.children,s=t.className,u=t.style,l=zi(t,K5e),c=function(h,p,_){if(typeof _>"u")return null;var y,m=_i(_)||ca(_);return typeof _=="function"?y=Q.createElement(_,null):y=m?Q.createElement("span",{className:"".concat(p,"-input-adornment__text")},_):_,y&&Q.createElement("span",{className:"".concat(p,"-input-adornment__").concat(h)},y)},f=function(){return Q.Children.map(a,function(h){if(!h)return null;if(Q.isValidElement(h)){var p=h.props;return Q.cloneElement(h,TP(TP(TP({},l),p),{},{onChange:function(){for(var y,m,b,w,S=arguments.length,x=new Array(S),E=0;E<S;E++)x[E]=arguments[E];l==null||(y=l.onChange)===null||y===void 0||(m=y.call)===null||m===void 0||m.call.apply(m,[y,null].concat(x)),p==null||(b=p.onChange)===null||b===void 0||(w=b.call)===null||w===void 0||w.call.apply(w,[b,null].concat(x))}}))}return h})};return Q.createElement("div",{ref:e,style:u,className:et("".concat(r,"-input-adornment"),s)},c("prepend",r,i),f(),c("append",r,o))});dre.displayName="InputAdornment";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function h9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J5e(t,e){for(var n=X5e({},t),r=0;r<e.length;r++){var i=e[r];delete n[i]}return n}function Y5e(t,e){for(var n=t.offsetTop,r=t.offsetParent;r&&r!==e;)n+=r.offsetTop,r=r.offsetParent;return n}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Z5e=["allowUncheck","type","disabled","name","value","onChange","indeterminate","children","label","className","style","onClick"];function p9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pk=Q.createContext(null),SC=D.forwardRef(function(t,e){var n=D.useContext(pk),r=n?n.inject(t):t,i=r.allowUncheck,o=i===void 0?!1:i,a=r.type,s=r.disabled,u=r.name,l=r.value,c=r.onChange,f=r.indeterminate,d=r.children,h=r.label,p=r.className,_=r.style,y=r.onClick,m=zi(r,Z5e),b=ln(),w=b.classPrefix,S=c,x=Mr(r,"checked",S),E=De(x,2),M=E[0],O=E[1],C=et("".concat(w,"-").concat(a),p,me(me(me({},"".concat(w,"-is-checked"),M),"".concat(w,"-is-disabled"),s),"".concat(w,"-is-indeterminate"),f)),T=r.readOnly||r.readonly,P=s||T,N=Q.createElement("input",{readOnly:T,type:a==="radio-button"?"radio":a,className:"".concat(w,"-").concat(a,"__former"),checked:M,disabled:s,name:u,tabIndex:-1,value:Zke(l)?Number(l):l,"data-value":typeof l=="string"?"'".concat(l,"'"):l,"data-allow-uncheck":o||void 0,onClick:function($){$.stopPropagation(),(a==="radio-button"||a==="radio")&&o&&M&&O(!$.currentTarget.checked,{e:$})},onChange:function($){P||O($.currentTarget.checked,{e:$})}}),H=!!(d||h),B=function($){r.stopLabelTrigger&&$.preventDefault()},k=function($){P||y==null||y({e:$})};return Q.createElement("label",m9(m9({ref:e,tabIndex:s?void 0:0,className:C,title:r.title,style:_},J5e(m,["checkAll","stopLabelTrigger","readonly"])),{},{onClick:k}),N,Q.createElement("span",{className:"".concat(w,"-").concat(a,"__input")}),H&&Q.createElement("span",{key:"label",className:"".concat(w,"-").concat(a,"__label"),onClick:B},d||h))});SC.displayName="Check";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function mk(t,e,n,r){if(typeof window>"u")return null;if(!window||!window.IntersectionObserver)return n(),null;var i=null;try{i=new window.IntersectionObserver(function(o){var a=o[0];a.isIntersecting&&(n(),i.unobserve(t))},{rootMargin:"0px 0px ".concat(r,"px 0px"),root:e}),i.observe(t)}catch(o){console.error(o),n()}return i}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function vk(){var t=ln(),e=t.classPrefix;return D.useMemo(function(){var n={SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}};return{SIZE:n.SIZE,STATUS:n.STATUS,sizeClassNames:n.SIZE,statusClassNames:n.STATUS,classPrefix:e}},[e])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var v9={allowUncheck:!1,defaultChecked:!1,disabled:void 0,readonly:void 0,readOnly:void 0,value:void 0},Q5e={allowUncheck:!1,disabled:void 0,readonly:void 0,readOnly:void 0,size:"medium",variant:"outline",theme:"radio"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var e6e=/^Space$/i,t6e=/^Enter$/i,g9=/^(Enter|Space)$/i;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function n6e(t,e){var n=function(i){if(g9.test(i.key)||g9.test(i.code)){var o=i.target.querySelector("input");if(!o)return;var a=o.dataset||{};if(o.checked&&a.allowUncheck)e(void 0,{e:i});else{var s=isNaN(Number(a.value))?a.value:Number(a.value);s=typeof s=="string"&&{true:!0,false:!1}[s]||s,s=typeof s=="string"&&s[0]==="'"?s.replace(/'/g,""):s,e(s,{e:i})}}};D.useEffect(function(){return yr(t.current,"keydown",n),function(){ur(t.current,"keydown",n)}},[])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hre=function(e){var n=ln(),r=n.classPrefix,i=mr(e,Q5e),o=i.disabled,a=i.children,s=i.onChange,u=i.size,l=i.variant,c=i.options,f=c===void 0?[]:c,d=i.className,h=i.style,p=i.theme,_=i.readOnly||i.readonly,y=Mr(i,"value",s),m=De(y,2),b=m[0],w=m[1],S=D.useState(null),x=De(S,2),E=x[0],M=x[1],O=D.useRef(null),C=D.useRef(null);n6e(O,w);var T=".".concat(r,"-radio-button.").concat(r,"-is-checked"),P=vk(),N=P.SIZE,H={inject:function(F){if(typeof F.checked<"u")return F;var R=F.value;return _9(_9({},F),{},{name:i.name,allowUncheck:F.allowUncheck||i.allowUncheck,checked:b===F.value,disabled:F.disabled||o,readonly:F.readOnly||F.readonly||_,onChange:function(W,Z){var ee=Z.e;typeof F.onChange=="function"&&F.onChange(W,{e:ee}),w(W?R:void 0,{e:ee,name:i.name})}})}},B=function(){var F,R;if(l.includes("filled")){var L=(F=(R=O.current).querySelector)===null||F===void 0?void 0:F.call(R,T);if(!L){M(null);return}var W=L.offsetWidth,Z=L.offsetHeight,ee=L.offsetLeft,oe=L.offsetTop;M({width:"".concat(W,"px"),height:"".concat(Z,"px"),left:"".concat(ee,"px"),top:"".concat(oe,"px")})}};Sne(O.current,function($){var F=$.some(function(R){var L=R.target;if(R.type==="attributes"&&R.attributeName==="class"){var W;return(W=L.classList)===null||W===void 0?void 0:W.contains("".concat(r,"-radio-button"))}return!1});F&&B()},{config:{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1,subtree:!0}}),D.useEffect(function(){if(B(),!!O.current){var $=mk(O.current,null,B,0);return C.current=$,function(){var F;(F=C.current)===null||F===void 0||F.disconnect(),C.current=null}}},[]);var k=function(){return!l.includes("filled")||!E?null:Q.createElement("div",{style:E,className:"".concat(r,"-radio-group__bg-block")})},j=function(){var F=p==="button"?EC.Button:EC;return f.map(function(R,L){var W,Z,ee;return typeof R=="string"||typeof R=="number"?(W=R,Z=R):(W=R.label,Z=R.value,ee=R.disabled),Q.createElement(F,{value:Z,key:L,disabled:ee},W)})};return Q.createElement(pk.Provider,{value:H},Q.createElement("div",{ref:O,style:h,className:et("".concat(r,"-radio-group"),N[u],d,me(me(me({},"".concat(r,"-radio-group__outline"),l==="outline"),"".concat(r,"-radio-group--filled"),l.includes("filled")),"".concat(r,"-radio-group--primary-filled"),l==="primary-filled"))},a||j(),k()))};hre.displayName="RadioGroup";function b9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pre=P0(function(t,e){return Q.createElement(SC,w9({ref:e,type:"radio"},mr(t,v9)))},{Group:hre,Button:D.forwardRef(function(t,e){return Q.createElement(SC,w9({ref:e,type:"radio-button"},mr(t,v9)))})});pre.displayName="Radio";var EC=pre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var mre=EC;EC.Group;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var r6e={checkAll:!1,defaultChecked:!1,disabled:void 0,indeterminate:!1,readonly:!1,readOnly:!1},i6e={max:void 0,defaultValue:[]};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var o6e=["onChange","disabled","className","style","children","max","options"];function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E9=function(e){switch(Rn(e)){case"number":return e;case"string":return e;case"object":{var n=e;return n.value}default:return}},vre=function(e){var n=ln(),r=n.classPrefix,i=mr(e,i6e),o=i.onChange,a=i.disabled,s=i.className,u=i.style,l=i.children,c=i.max,f=i.options,d=f===void 0?[]:f,h=zi(i,o6e),p=h.readOnly||h.readonly,_=Array.isArray(d)&&d.length>0?d:Q.Children.map(l,function(F){var R;return(F==null||(R=F.type)===null||R===void 0?void 0:R.displayName)===Ev.displayName&&F.props})||[],y=_.filter(function(F){return Rn(F)!=="object"||!F.checkAll});y.forEach(function(F){E9(F)});var m=D.useMemo(function(){var F=[],R=[];return y.forEach(function(L){var W=Rn(L)==="object"&&(L.disabled||L.readOnly||L.readonly),Z=E9(L);W||a||p?R.push(Z):F.push(Z)}),{enabledValues:F,disabledValues:R}},[y,a,p]),b=m.enabledValues,w=m.disabledValues,S=Mr(e,"value",o),x=De(S,2),E=x[0],M=x[1],O=D.useState(c),C=De(O,2),T=C[0],P=C[1],N=D.useCallback(function(){return Array.isArray(E)?new Set([].concat(E)):new Set([])},[E]),H=D.useMemo(function(){return N()},[N]),B=D.useMemo(function(){var F=[].concat(xn(b),xn(w)),R=F.filter(function(L){return H.has(L)}).length;return R>0&&R<F.length},[H,b,w]),k=D.useMemo(function(){var F=b.filter(function(R){return H.has(R)});return b.length>0&&F.length===b.length},[H,b]);D.useEffect(function(){ca(c)&&(c<H.size?console.warn("[TDesign] max should be less than the length of value, change is invalid"):P(c))},[c,H]);var j={inject:function(R){if(typeof R.checked<"u")return R;var L=R.value;return zm(zm({},R),{},{checked:R.checkAll?k:H.has(L),indeterminate:R.checkAll?B:R.indeterminate,disabled:R.disabled||a||H.size>=T&&!H.has(L),readOnly:R.readonly||p,onChange:function(Z,ee){var oe=ee.e;typeof R.onChange=="function"&&R.onChange(Z,{e:oe});var pe=N();if(R.checkAll){var ie=b.filter(function(xe){return pe.has(xe)}),ce=b.length>0&&ie.length===b.length;ce?b.forEach(function(xe){pe.has(xe)&&pe.delete(xe)}):b.forEach(function(xe){pe.has(xe)||pe.add(xe)})}else if(Z){if(pe.size>=T&&ca(c))return;pe.add(L)}else pe.delete(L);var ve=y.find(function(xe){return xe.value===L});M(Array.from(pe),{e:oe,current:R.checkAll?void 0:L,type:Z?"check":"uncheck",option:R.checkAll?void 0:ve})}})}},$=Array.isArray(d)&&d.length!==0;return Q.createElement("div",{className:et("".concat(r,"-checkbox-group"),s),style:u},Q.createElement(pk.Provider,{value:j},$?d.map(function(F,R){switch(Rn(F)){case"string":return Q.createElement(Ev,{key:R,label:F,value:F},F);case"number":return Q.createElement(Ev,{key:R,label:F,value:F},String(F));case"object":{var L=F;return L.checkAll?Q.createElement(Ev,zm(zm({},L),{},{key:"checkAll_".concat(R),indeterminate:B})):Q.createElement(Ev,zm(zm({},L),{},{key:R,disabled:L.disabled||a,readOnly:L.readOnly||L.readonly||p}))}default:return null}}):l))};vre.displayName="CheckboxGroup";function x9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gre=P0(function(t,e){return Q.createElement(SC,a6e({ref:e,type:"checkbox"},mr(t,r6e)))},{Group:vre});gre.displayName="Checkbox";var Ev=gre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Ub=Ev;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function $c(t){return new Array(t).fill(0).join("")}function yre(t){if(!t)return!0;if(ca(t))return!Number.isNaN(t);var e=/^[0-9|e|E|-]+\.*[0-9|e|E|-]*$/.test(t);if(!e)return!1;for(var n=0,r=0,i=0,o=0,a=t.length;o<a;o++)if(t[o]==="."&&(i+=1,i>1)||/(e|E)+/.test(t[o])&&(n+=1,n>1)||t[o]==="-"&&(r+=1,r>2))return!1;return!0}function os(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t.indexOf(".")!==-1?(Hi.error("InputNumber","num is not a integer number."),t):!t||t==="0"&&e?"":t==="0"?t:(e?t.replace(/0+$/,""):t.replace(/^0+/,""))||"0"}function MP(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=os(t,n),i=os(e,n),o=r.length>i.length,a=o?r:i,s=o?i:r,u=[],l=[],c=n?0:a.length-s.length,f=n?s.length:a.length,d=f-1;d>=0;d--){var h=d-c,p=Number(a[d])+(Number(s[h])||0)+(l[d]||0);p>=10&&(l[d-1]=1),u.unshift(String(p%10))}return l[-1]&&u.unshift("1"),n?u.concat(a.slice(f,a.length)).join(""):u.join("")}function Zg(t,e){var n=t.split("."),r=De(n,2),i=r[0],o=i===void 0?"0":i,a=r[1],s=a===void 0?"0":a,u=e.split("."),l=De(u,2),c=l[0],f=c===void 0?"0":c,d=l[1],h=d===void 0?"0":d,p=MP(o,f);if(s==="0"&&h==="0")return p;var _=os(s,!0),y=os(h,!0),m=MP(_,y,!0),b=m.length;return b>_.length&&b>y.length?[os(MP(p,"1")),os(m.slice(1),!0)].filter(function(w){return w}).join("."):[os(p),os(m,!0)].filter(function(w){return w}).join(".")}function _re(t,e){var n=os(t),r=os(e);if(n.length===r.length){for(var i=0,o=n.length;i<o;i++){if(n[i]>r[i])return 1;if(n[i]<r[i])return-1}return 0}return n.length>r.length?1:-1}function bre(t,e){for(var n=t&&t!=="0"?t.replace(/0+$/,""):"0",r=e&&e!=="0"?e.replace(/0+$/,""):"0",i=Math.max(n.length,r.length),o=0,a=i;o<a;o++){if((n[o]||0)>(r[o]||0))return 1;if((n[o]||0)<(r[o]||0))return-1}return 0}function WL(t){var e=t.split("e"),n=De(e,2),r=n[0],i=n[1];if(!i)return t;var o=t.split("."),a=De(o,2),s=a[0],u=a[1],l=u===void 0?"":u,c=Number(i),f=l.split("e"),d=De(f,1),h=d[0];if(c>h.length){var p=$c(c-h.length);return r.replace(/(^0+|\.)/g,"")+p}var _=s.replace(/^0+/,"")+h.slice(0,c),y=h.slice(c);return y?[_,y].join("."):_}function s6e(t,e){var n=WL(t).split("."),r=De(n,2),i=r[0],o=r[1],a=WL(e).split("."),s=De(a,2),u=s[0],l=s[1],c=_re(i.replace("-",""),u.replace("-","")),f=i.includes("-"),d=u.includes("-");return f&&!d?-1:!f&&d?1:f&&d?c===0?0:c>0?-1:1:c===0?bre(o,l):c}function A9(t){return[-1/0,1/0].includes(Number(t))}function C9(t){return Number(t)<Number.MAX_SAFE_INTEGER&&Number(t)>Number.MIN_SAFE_INTEGER}function jp(t,e,n){var r=C9(t)&&C9(e)&&!n,i=A9(t)||A9(e);return r||i?Number(t)===Number(e)?0:Number(t)>Number(e)?1:-1:s6e(String(t),String(e))}function Cy(t,e,n){if(t===e)return"0";for(var r=n||{},i=r.decimal,o=r.stayZero,a=os(t),s=os(e),u=_re(a,s)>0,l=u?a:s,c=u?s:a,f=[],d=[],h=i?0:l.length-c.length,p=i?c.length:l.length,_=p-1;_>=0;_--){var y=_-h,m=Number(l[_])-(Number(c[y])||0)-(d[_]||0);m<0&&(d[_-1]=1,m+=10),f.unshift(String(m))}if(i)return f.concat(l.slice(p,l.length)).join("");var b=f.join("");return o||(b=b.replace(/^0+/,"")),os(u?b:"-".concat(b))}function xC(t,e){if(t===e)return"0";var n=jp(t,e,!0)>0,r=n?t:e,i=n?e:t,o=r.split("."),a=De(o,2),s=a[0],u=a[1],l=u===void 0?"0":u,c=i.split("."),f=De(c,2),d=f[0],h=f[1],p=h===void 0?"0":h,_=Cy(s,d);if(l==="0"&&p==="0")return n?_:"-".concat(_);var y="",m=l;l.length<p.length&&(m="".concat(l).concat($c(p.length-l.length))),bre(m,p)>=0?y=Cy(m,p,{decimal:!0}):(l.length<p.length||l==="0"?(y=Cy("1".concat(m),p,{stayZero:!0}),y=$c(p.length-y.length)+y):y=Cy(l,p,{decimal:!0}),_=Cy(_,"1"));var b=y?[_,y].join("."):_;return n?b:"-".concat(b)}function l6e(t,e){var n=t[0]==="-",r=e[0]==="-";if(n&&!r){var i=Zg(t.slice(1),e);return"-".concat(i)}return n&&r?xC(e.slice(1),t.slice(1)):!n&&r?Zg(t,e.slice(1)):xC(t,e)}function u6e(t,e){var n=t[0]==="-",r=e[0]==="-";if(n&&!r)return xC(e,t.slice(1));if(n&&r){var i=Zg(e.slice(1),t.slice(1));return"-".concat(i)}return!n&&r?xC(t,e.slice(1)):Zg(t,e)}function T9(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n)return t.toFixed(e);var r=t.toString().split("."),i=De(r,2),o=i[0],a=i[1];if(e===0)return o;if(a){var s=a.slice(0,e);return a.length<e&&(s+=$c(e-a.length)),[o,s].join(".")}return[o,$c(e)].join(".")}function c6e(t,e){if(qr(e)){var n;return T9(t,e.places,(n=e.enableRound)!==null&&n!==void 0?n:!0)}return T9(t,e,!0)}function jb(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Number.isNaN(Number(t)))return"";if(!r)return c6e(Number(t),n);var i=qr(n)?n.places:n,o=qr(n)&&(e=n.enableRound)!==null&&e!==void 0?e:!0;if(!_i(t))return String(t);var a=t.split("."),s=De(a,2),u=s[0],l=s[1];if(!l)return i>0&&o?[t,$c(i)].join("."):t;if(i===0)return o&&Number(l[0])>=5?Zg(u,"1"):u;var c=l.slice(0,i);if(l.length<i)c+=$c(i-l.length);else if(o){var f,d=(f=c.match(/^0+/))===null||f===void 0?void 0:f[0].length,h=c.match(/^9+/),p=Number(l[i])>=5;c=p?Zg(c,"1"):c,d&&p&&d+c.length>=i&&(c="".concat($c(i-c.length)).concat(c)),h&&c.length>i&&(u=(Number(u)+1).toString(),c=$c(i))}return[u,c].join(".")}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function f6e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t&&t!==0?!0:n&&_i(t)?jp(t,e,n)<0:t<e}function d6e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t&&t!==0?!0:n&&_i(t)?jp(t,e,n)>0:t>e}function h6e(t,e){if(t!==""){var n=e.max,r=e.min,i=e.lastValue,o=e.largeNumber;return yre(t)?o&&(_i(n)||n===1/0)&&(_i(r)||r===-1/0)?jp(n,t,o)<0?n:jp(r,t,o)>0?r:t:Math.max(Number(r),Math.min(Number(n),Number(t))):i}}function AC(t,e){var n,r;if(!t||!e)return(t||0)+(e||0);var i=((n=t.toString().split(".")[1])===null||n===void 0?void 0:n.length)||0,o=((r=e.toString().split(".")[1])===null||r===void 0?void 0:r.length)||0;if(!i&&!o)return t+e;var a=t,s=e,u=Math.abs(i-o),l=Math.pow(10,Math.max(i,o));if(u>0){var c=Math.pow(10,u);i>o?(a=Number(t.toString().replace(".","")),s=Number(e.toString().replace(".",""))*c):(a=Number(t.toString().replace(".",""))*c,s=Number(e.toString().replace(".","")))}else a=Number(t.toString().replace(".","")),s=Number(e.toString().replace(".",""));return(a+s)/l}function CC(t,e){var n,r;if(!t||!e)return(t||0)-(e||0);var i=((n=t.toString().split(".")[1])===null||n===void 0?void 0:n.length)||0,o=((r=e.toString().split(".")[1])===null||r===void 0?void 0:r.length)||0,a=Math.pow(10,Math.max(i,o)),s=i>=o?i:o;return Number(((t*a-e*a)/a).toFixed(s))}function p6e(t,e){return t<0&&e>0?CC(e,Math.abs(t)):t<0&&e<0?AC(Math.abs(t),Math.abs(e))*-1:t>0&&e<0?CC(t,Math.abs(e)):AC(t,e)}function m6e(t,e){return t<0&&e>0?AC(Math.abs(t),e)*-1:t<0&&e<0?CC(Math.abs(e),Math.abs(t)):t>0&&e<0?AC(t,Math.abs(e)):CC(t,e)}function v6e(t){var e=t.op,n=t.step,r=t.lastValue,i=t.max,o=t.min,a=t.largeNumber;if(Number(n)<=0)return Hi.error("InputNumber","step must be larger than 0."),r;var s=ca(n)?String(n):n,u;return e==="add"?a&&_i(r)?u=u6e(String(r),String(s)):u=p6e(Number(r||0),Number(n)):e==="reduce"&&(a&&_i(r)?u=l6e(String(r),String(s)):u=m6e(Number(r||0),Number(n))),Lb(r)&&(u=h6e(u,{max:i,min:o,lastValue:r,largeNumber:a})),a?u:Number(u)}function OP(t){var e=t.largeNumber,n=t.value,r=t.max,i=t.min;if(!(Lb(n)||Lb(e))){e&&ca(n)&&Hi.warn("InputNumber","largeNumber value must be a string.");var o;return jp(n,r,e)>0?o="exceed-maximum":jp(n,i,e)<0?o="below-minimum":o=void 0,o}}var g6e=["-",".","e","E","+"];function y6e(t,e){var n,r;if(["",null,void 0].includes(t))return!0;if(t.slice(0,2)==="00"||t.match(/\s/g)||((n=t.match(/\./g))===null||n===void 0?void 0:n.length)>1||((r=t.match(/e/g))===null||r===void 0?void 0:r.length)>1)return!1;var i=t.slice(1),o=i.match(/(\+|-)/g);if(o&&(!/e(\+|-)/i.test(i)||o.length>1))return!1;var a=e&&yre(t)||!Number.isNaN(Number(t));return!(!a&&!g6e.includes(t.slice(-1))||/e/i.test(t)&&(!/\de/i.test(t)||/e\./.test(t)))}function _6e(t,e){return parseFloat(t)!==e&&!Number.isNaN(Number(t))}function IP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(["",null,void 0].includes(t)||!/\d+/.test(t))){var n=e.decimalPlaces,r=e.largeNumber,i=e.isToFixed,o=t.replace(/[.|+|\-|e]$/,"");return r&&(o=WL(o)),n!==void 0&&(o=jb(o,n,r)),r||i?o:parseFloat(o)}}function b6e(t){var e=/^[-+]?\d{1,3}(,\d{3})*(\.(\d*))?$/;return e.test(t)?t.replace(/,/g,""):t}function w6e(t){var e=vk(),n=e.SIZE,r=e.STATUS,i=ln(),o=i.classPrefix,a=Mr(t,"value",t.onChange),s=De(a,2),u=s[0],l=s[1],c=D.useState(""),f=De(c,2),d=f[0],h=f[1],p=D.useState(),_=De(p,2),y=_[0],m=_[1],b=D.useRef(null),w=t.max,S=t.min,x=t.largeNumber,E=t.decimalPlaces,M=t.allowInputOverLimit,O=t.onValidate,C=t.readOnly||t.readonly,T=t.disabled||!d6e(u,t.min,t.largeNumber),P=t.disabled||!f6e(u,t.max,t.largeNumber),N=et("".concat(o,"-input-number"),n[t.size],me(me(me(me({},r.disabled,t.disabled),"".concat(o,"-is-controls-right"),t.theme==="column"),"".concat(o,"-input-number--").concat(t.theme),t.theme),"".concat(o,"-input-number--auto-width"),t.autoWidth)),H=et("".concat(o,"-input-number__decrease"),me({},r.disabled,T)),B=et("".concat(o,"-input-number__increase"),me({},r.disabled,P)),k=function(we){var ne,Me;if(!we&&we!==0)return"";var Ce=we||we===0?String(we):"";if(!((ne=(Me=b.current.currentElement).contains)!==null&&ne!==void 0&&ne.call(Me,document.activeElement))){var K=IP(Ce,{decimalPlaces:E,largeNumber:x,isToFixed:!0});Ce=K||K===0?String(K):"",t.format&&(Ce=String(t.format(we,{fixedNumber:Ce})))}return Ce};D.useEffect(function(){var he=[void 0,null].includes(u)?"":String(u);if(!x&&!Number.isNaN(d)){parseFloat(d)!==u&&h(k(he));var we=Number(jb(he,E,x));E!==void 0&&![void 0,null].includes(u)&&Number(we)!==Number(u)&&l(we,{type:"props",e:void 0})}if(x){var ne=k(he);h(ne),E!==void 0&&jb(he,E,x)!==u&&l(ne,{type:"props",e:void 0})}},[u]),D.useEffect(function(){if(![void 0,"",null].includes(u)){var he=OP({value:u,max:w,min:S,largeNumber:x});m(he),O==null||O({error:he})}},[u,w,S,x,O]);var j=function(we){var ne=v6e({op:we,step:t.step,max:t.max,min:t.min,lastValue:u,largeNumber:t.largeNumber}),Me=t.largeNumber,Ce=t.max,K=t.min,U=OP({value:ne,largeNumber:Me,max:Ce,min:K});return{overLimit:U,newValue:ne}},$=function(we){if(!(T||C)){var ne=j("reduce");ne.overLimit&&!M||l(ne.newValue,{type:"reduce",e:we})}},F=function(we){if(!(P||C)){var ne=j("add");ne.overLimit&&!M||l(ne.newValue,{type:"add",e:we})}},R=function(we,ne){var Me=ne.e,Ce=b6e(we);if(y6e(Ce,x)){if(h(Ce),x){l(Ce,{type:"input",e:Me});return}if(_6e(String(Ce),Number(u))){var K=Ce===""?void 0:Number(Ce);l(K,{type:"input",e:Me})}}},L=function(we,ne){var Me;if(!t.allowInputOverLimit&&we!==void 0){var Ce=OP({value:u,largeNumber:x,max:w,min:S});if(Ce==="below-minimum"){l(S,{type:"blur",e:ne.e});return}if(Ce==="exceed-maximum"){l(w,{type:"blur",e:ne.e});return}}var K=IP(we,{decimalPlaces:E,largeNumber:x});h(k(K)),K!==u&&(h(u),l(K,{type:"blur",e:ne.e})),(Me=t.onBlur)===null||Me===void 0||Me.call(t,K,ne)},W=function(we,ne){var Me;h(u),(Me=t.onFocus)===null||Me===void 0||Me.call(t,u,ne)},Z=function(we,ne){var Me,Ce=ne.e,K={ArrowUp:F,ArrowDown:$};K[Ce.key]!==void 0&&K[Ce.key](Ce),(Me=t.onKeydown)===null||Me===void 0||Me.call(t,we,ne)},ee=function(we,ne){var Me;(Me=t.onKeyup)===null||Me===void 0||Me.call(t,we,ne)},oe=function(we,ne){var Me;(Me=t.onKeypress)===null||Me===void 0||Me.call(t,we,ne)},pe=function(we,ne){var Me;h(k(we));var Ce=IP(we,{decimalPlaces:t.decimalPlaces,largeNumber:t.largeNumber});Ce!==we&&String(Ce)!==we&&l(Ce,{type:"enter",e:ne.e}),(Me=t.onEnter)===null||Me===void 0||Me.call(t,Ce,ne)},ie=function(we){var ne=we.e;l(void 0,{type:"clear",e:ne}),h("")},ce=function(){b.current.focus()},ve=function(){b.current.blur()},xe={onBlur:L,onFocus:W,onKeydown:Z,onKeyup:ee,onKeypress:oe,onEnter:pe,onClick:ce,onClear:ie};return{classPrefix:o,wrapClasses:N,reduceClasses:H,addClasses:B,inputRef:b,listeners:xe,isError:y,setIsError:m,userInput:d,setUserInput:h,tValue:u,focus:ce,blur:ve,onChange:l,handleReduce:$,handleAdd:F,onInnerInputChange:R}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var S6e={allowInputOverLimit:!0,autoWidth:!1,decimalPlaces:void 0,disabled:void 0,largeNumber:!1,max:1/0,min:-1/0,placeholder:void 0,readonly:void 0,readOnly:void 0,size:"medium",status:"default",step:1,theme:"row"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6e(t,e){var n=so({ChevronDownIcon:lk,RemoveIcon:ire,ChevronUpIcon:Jne,AddIcon:Hne}),r=n.ChevronDownIcon,i=n.RemoveIcon,o=n.ChevronUpIcon,a=n.AddIcon,s=mr(t,S6e),u=w6e(s),l=u.classPrefix,c=u.wrapClasses,f=u.addClasses,d=u.reduceClasses,h=u.listeners,p=u.isError,_=u.inputRef,y=u.userInput,m=u.handleAdd,b=u.handleReduce,w=u.onInnerInputChange,S=D.useRef(null),x=p?"error":s.status,E=s.theme==="column"?Q.createElement(o,{size:s.size}):Q.createElement(a,{size:s.size}),M=s.theme==="column"?Q.createElement(r,{size:s.size}):Q.createElement(i,{size:s.size});return D.useImperativeHandle(e,function(){return{currentElement:S.current,inputElement:_.current}}),Q.createElement("div",{className:et(c,s.className),style:s.style,ref:S},s.theme!=="normal"&&Q.createElement(si,{className:d,disabled:s.disabled,onClick:b,variant:"outline",shape:"square",icon:M}),Q.createElement(hd,O9(O9({ref:_,autocomplete:"off",disabled:s.disabled,readOnly:s.readOnly||s.readonly,placeholder:s.placeholder,autoWidth:s.autoWidth,align:s.align||(s.theme==="row"?"center":void 0),status:x,label:s.label,suffix:s.suffix,value:y,onChange:w,size:s.size},h),s.inputProps||{})),s.theme!=="normal"&&Q.createElement(si,{className:f,disabled:s.disabled,onClick:m,variant:"outline",shape:"square",icon:E}),s.tips&&Q.createElement("div",{className:et("".concat(l,"-input__tips"),"".concat(l,"-input__tips--").concat(x))},s.tips))}var gk=D.forwardRef(E6e);gk.displayName="InputNumber";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var x6e=gk;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Hx(t){var e=D.useRef(t);e.current=t;var n=D.useRef(null);return n.current||(n.current=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.current.apply(this,i)}),n.current}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function yk(){var t=ln(),e=t.classPrefix,n="".concat(e,"-message"),r="".concat(n,"__list"),i=function(u){return"".concat(e,"-is-").concat(u)},o=function(u){return"".concat(n,"__").concat(u)},a=function(u){return"".concat(n,"-placement--").concat(u)};return{tdMessagePrefix:n,tdMessageListClass:r,tdClassIsGenerator:i,tdMessageClassGenerator:o,tdMessagePlacementClassGenerator:a}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function A6e(t){var e=t.closeBtn,n=t.onCloseBtnClick,r=yk(),i=r.tdMessageClassGenerator,o=so({CloseIcon:Dw}),a=o.CloseIcon,s=e;if(typeof e=="function"&&(s=e()),!s)return null;if(typeof s=="string"||typeof s=="number")return Q.createElement("span",{className:i("close"),onClick:function(c){return n==null?void 0:n({e:c})}},e);if(Q.isValidElement(s)){var u=s.props.onClick;return Q.cloneElement(s,{className:et(s.props.className,i("close")),onClick:function(c){u==null||u(c),n==null||n({e:c})}})}return Q.createElement(a,{className:i("close"),onClick:function(c){return n==null?void 0:n({e:c})}})}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function C6e(t){var e=t.theme,n=t.onCloseBtnClick,r=so({CheckCircleFilledIcon:Rw,ErrorCircleFilledIcon:gM,HelpCircleFilledIcon:tre,InfoCircleFilledIcon:yM}),i=r.CheckCircleFilledIcon,o=r.ErrorCircleFilledIcon,a=r.HelpCircleFilledIcon,s=r.InfoCircleFilledIcon,u={info:s,success:i,warning:o,error:o,question:a,loading:R0},l=u[e];return e==="loading"?Q.createElement(l,{loading:!0}):l?Q.createElement(l,{onClick:function(f){return n==null?void 0:n({e:f})}}):null}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Fs="32px",VL={center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:Fs,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:Fs,left:"50%",transform:"translateX(-50%)"},right:{right:Fs,top:"50%",transform:"translateY(-50%)"},top:{top:Fs,left:"50%",transform:"translateX(-50%)"},"top-left":{left:Fs,top:Fs},"top-right":{right:Fs,top:Fs},"bottom-left":{left:Fs,bottom:Fs},"bottom-right":{right:Fs,bottom:Fs}},wre=Object.keys(VL),Sre={duration:200,easing:"linear"};function Ere(t,e){for(var n=Object.keys(e),r=0;r<n.length;r+=1){var i=n[r];t.style[i]=e[i]}}function T6e(t,e,n){return wre.includes(t)?["top-left","left","bottom-left"].includes(t)?[{opacity:0,marginLeft:"-".concat(e,"px")},{opacity:1,marginLeft:"0"}]:["top-right","right","bottom-right"].includes(t)?[{opacity:0,marginRight:"-".concat(e,"px")},{opacity:1,marginRight:"0"}]:["top","center"].includes(t)?[{opacity:0,marginTop:"-".concat(n,"px")},{opacity:1,marginTop:"0"}]:["bottom"].includes(t)?[{opacity:0,transform:"translate3d(0, ".concat(n,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]:null:null}function M6e(t,e){if(!wre.includes(t))return null;if(["bottom-left","bottom","bottom-right"].includes(t)){var n="".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:n}]}var r="-".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:r}]}function O6e(t,e){var n;if(t){var r=(t==null?void 0:t.offsetWidth)||0,i=(t==null?void 0:t.offsetHeight)||0,o=T6e(e,r,i);if(o){var a=o[o.length-1];Ere(t,a),(n=t.animate)===null||n===void 0||n.call(t,o,Sre)}}}function I9(t,e,n){if(t){var r=t.offsetHeight||0,i=M6e(e,r);if(!i){n();return}var o=i[i.length-1];Ere(t,o);var a=t.animate&&t.animate(i,Sre);a?a.onfinish=function(){t.style.display="none",n()}:(t.style.display="none",n())}}var I6e=["placement"],R6e=D.forwardRef(function(t,e){var n=t.placement,r=zi(t,I6e),i=yk(),o=i.tdMessagePrefix,a=i.tdClassIsGenerator,s=r.theme,u=s===void 0?"info":s,l=r.className,c=r.children,f=r.style,d=r.icon,h=d===void 0?!0:d,p=r.content,_=r.closeBtn,y=r.onCloseBtnClick,m=y===void 0?Uo:y,b=r.onDurationEnd,w=b===void 0?Uo:b,S=r.onClose,x=S===void 0?Uo:S,E=r.duration,M=D.useState(!1),O=De(M,2),C=O[0],T=O[1],P=Hx(x),N=Hx(w),H=Hx(m);function B(k){H(k),P({trigger:"close-click"})}return D.useEffect(function(){e&&"current"in e&&e.current&&n&&O6e(e.current,n)},[]),D.useEffect(function(){if(!C&&E>0){var k=setTimeout(function(){N(),P({trigger:"duration-end"})},E);return function(){clearTimeout(k)}}},[E,C,P,N]),Q.createElement("div",{ref:e,key:"message",style:f,className:et(l,"".concat(o),a(u),_?a("closable"):""),onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)}},h===!0?Q.createElement(C6e,{theme:u}):h,p||c,Q.createElement(A6e,{closeBtn:_,onCloseBtnClick:B}))});/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var P6e={closeBtn:void 0,duration:3e3,icon:!0,theme:"info"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function R9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var D6e={top:32},xre=gg(gg({},P6e),{},{duration:3e3,placement:"top"}),Are=function(e){var n=gg({},e);for(var r in n)typeof n[r]>"u"&&delete n[r];return(typeof n.duration!="number"||n.duration<0)&&delete n.duration,gg(gg({},xre),n)},L6e=function(e){xre=gg({},Are(e))};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function P9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var D9=1,yg=new Map,Cre=function(e){var n=e.placement,r=e.children,i=D.useRef(null),o={};Object.keys(VL[n]).forEach(function(l){o[Fte(l)]=VL[n][l]}),n.includes("top")&&(o.top="".concat(D6e.top,"px"));var a=yk(),s=a.tdMessagePlacementClassGenerator,u=a.tdMessageListClass;return Q.createElement("div",{ref:i,className:et(u,s(n)),style:o},r)};function N6e(t){return yg.has(t)||yg.set(t,new Map),yg.get(t)}function B6e(t,e){var n=om.getGlobalConfig(),r=document.createElement("div");return e.appendChild(r),iM(Q.createElement(Y3,{globalConfig:n},Q.createElement(Cre,{placement:t})),r),r}function L9(t){var e=om.getGlobalConfig();iM(Q.createElement(Y3,{globalConfig:e},Q.createElement(Cre,{placement:t.placement},t.messages.map(function(n){return Q.createElement(R6e,td(td({key:n.key,ref:n.ref},n.config),{},{theme:n.theme}))}))),t.container)}function Tre(t,e){if(!(t.messages.length>0)){var n=t.container,r=t.placement;iM(null,n),n.parentNode&&n.parentNode.removeChild(n);var i=yg.get(e);i&&(i.delete(r),i.size===0&&yg.delete(e))}}function F6e(t,e){var n=e.attach,r=e.placement,i=r===void 0?"top":r,o=lne(n),a=N6e(o),s=a.get(i);if(!s){var u=B6e(i,o);s={container:u,messages:[],placement:i},a.set(i,s)}var l=td({},e.style);if(Array.isArray(e.offset)&&e.offset.length===2){var c=De(e.offset,2),f=c[0],d=c[1];l=td(td({left:f,top:d},l),{},{position:"relative"})}D9+=1;var h=D9,p=D.createRef(),_={key:h,ref:p,theme:t,content:e.content,config:td(td({},e),{},{style:l,placement:i,onClose:function(b){y(b)}}),close:function(){var b=s.messages.indexOf(_);b!==-1&&I9(p.current,i,function(){y()})}};function y(m){var b=s.messages.indexOf(_);b!==-1&&I9(p.current,i,function(){if(s.messages.splice(b,1),L9(s),Tre(s,o),m){var w;(w=e.onClose)===null||w===void 0||w.call(e,m)}})}return s.messages.push(_),L9(s),_}function k6e(t){return Object.prototype.toString.call(t)==="[object Object]"&&"content"in t}var am=function(e,n,r){var i={};return k6e(n)?i=td({duration:r},n):i={content:n,duration:r},Promise.resolve(F6e(e,Are(i)))},ac=function(e,n,r){return am(e,n,r)};ac.info=function(t,e){return am("info",t,e)};ac.error=function(t,e){return am("error",t,e)};ac.warning=function(t,e){return am("warning",t,e)};ac.success=function(t,e){return am("success",t,e)};ac.question=function(t,e){return am("question",t,e)};ac.loading=function(t,e){return am("loading",t,e)};ac.config=function(t){return L6e(t)};ac.close=function(t){t.then(function(e){return e.close()})};ac.closeAll=function(){yg.forEach(function(t,e){t.forEach(function(n){n.messages.length&&(n.messages.splice(0,n.messages.length),Tre(n,e))})})};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Tf=ac;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var U6e={container:function(){return window},offsetBottom:0,offsetTop:0},_k={exports:{}},s_={exports:{}};(function(){var t,e,n,r,i,o;typeof performance<"u"&&performance!==null&&performance.now?s_.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(s_.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var a;return a=e(),a[0]*1e9+a[1]},r=t(),o=process.uptime()*1e9,i=r-o):Date.now?(s_.exports=function(){return Date.now()-n},n=Date.now()):(s_.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(bn);var j6e=s_.exports,H6e=j6e,Kc=typeof window>"u"?bn:window,GS=["moz","webkit"],_g="AnimationFrame",Qg=Kc["request"+_g],Hb=Kc["cancel"+_g]||Kc["cancelRequest"+_g];for(var Ty=0;!Qg&&Ty<GS.length;Ty++)Qg=Kc[GS[Ty]+"Request"+_g],Hb=Kc[GS[Ty]+"Cancel"+_g]||Kc[GS[Ty]+"CancelRequest"+_g];if(!Qg||!Hb){var RP=0,N9=0,mh=[],$6e=1e3/60;Qg=function(t){if(mh.length===0){var e=H6e(),n=Math.max(0,$6e-(e-RP));RP=n+e,setTimeout(function(){var r=mh.slice(0);mh.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(RP)}catch(o){setTimeout(function(){throw o},0)}},Math.round(n))}return mh.push({handle:++N9,callback:t,cancelled:!1}),N9},Hb=function(t){for(var e=0;e<mh.length;e++)mh[e].handle===t&&(mh[e].cancelled=!0)}}_k.exports=function(t){return Qg.call(Kc,t)};_k.exports.cancel=function(){Hb.apply(Kc,arguments)};_k.exports.polyfill=function(t){t||(t=Kc),t.requestAnimationFrame=Qg,t.cancelAnimationFrame=Hb};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var B9=function(e){var n=e.clientWidth,r=n===void 0?0:n,i=e.scrollWidth,o=i===void 0?0:i;return o>r},z6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"body";return _i(e)?e?document.querySelector(e):window:typeof e=="function"?e():e||window};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Mre=D.forwardRef(function(t,e){var n=mr(t,U6e),r=n.children,i=n.content,o=n.zIndex,a=n.container,s=n.offsetBottom,u=n.offsetTop,l=n.className,c=n.style,f=n.onFixedChange,d=ln(),h=d.classPrefix,p=D.useRef(null),_=D.useRef(null),y=D.useRef(null),m=D.useRef(null),b=D.useRef(!1),w=D.useCallback(function(){b.current||window.requestAnimationFrame(function(){var S,x,E,M=(S=(x=_.current)===null||x===void 0?void 0:x.getBoundingClientRect())!==null&&S!==void 0?S:{top:0},O=M.top,C=O===void 0?0:O,T=M.width,P=T===void 0?0:T,N=M.height,H=N===void 0?0:N,B=0;m.current instanceof HTMLElement&&(B=m.current.getBoundingClientRect().top);var k=C-B,j=((E=m.current)===null||E===void 0?void 0:E[m.current instanceof Window?"innerHeight":"clientHeight"])-H,$=B+j-(s??0),F;if(k<=u?F=B+u:C>=$?F=$:F=!1,p.current){var R=F!==!1,L=_.current.contains(y.current),W=L;R?(p.current.className="".concat(h,"-affix"),p.current.style.top="".concat(F,"px"),p.current.style.width="".concat(P,"px"),p.current.style.height="".concat(H,"px"),o&&(p.current.style.zIndex="".concat(o)),L||(y.current.style.width="".concat(P,"px"),y.current.style.height="".concat(H,"px"),_.current.appendChild(y.current),L=!0)):(p.current.removeAttribute("class"),p.current.removeAttribute("style"),L&&(y.current.remove(),L=!1)),W!==L&&En(f)&&f(R,{top:+F})}b.current=!1}),b.current=!0},[h,s,u,f,o]);return D.useImperativeHandle(e,function(){return{handleScroll:w}}),D.useEffect(function(){y.current=document.createElement("div")},[]),D.useEffect(function(){if(m.current=z6e(a),m.current)return w(),m.current.addEventListener("scroll",w),window.addEventListener("resize",w),function(){m.current.removeEventListener("scroll",w),window.removeEventListener("resize",w)}},[a,w]),Q.createElement("div",{ref:_,className:l,style:c},Q.createElement("div",{ref:p},r||i))});Mre.displayName="Affix";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var WS=Mre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function G6e(t,e){var n=D.useRef(null),r=D.useState(!e),i=De(r,2),o=i[0],a=i[1],s=function(){if(!(!e||!t.current||n.current)){a(!1);var l=mk(t.current,null,function(){a(!0)},10);return n.current=l,function(){var c;!e||!t.current||((c=n.current)===null||c===void 0||c.unobserve(t.current),n.current=null)}}};return D.useEffect(s,[e,t]),{showElement:o}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var W6e=(typeof window>"u"?!1:window.requestAnimationFrame)||function(t){return setTimeout(t,16.6)},Ore=function(e,n){var r=n.enable,i=r===void 0?!0:r,o=n.data,a=n.scroll,s=D.useRef(o),u=D.useRef(0),l=D.useState([]),c=De(l,2),f=c[0],d=c[1],h=D.useState(0),p=De(h,2),_=p[0],y=p[1],m=D.useState(0),b=De(m,2),w=b[0],S=b[1],x=D.useRef([]),E=D.useState([]),M=De(E,2),O=M[0],C=M[1],T=D.useMemo(function(){var pe,ie;return a?{bufferSize:a.bufferSize||10,isFixedRowHeight:(pe=a.isFixedRowHeight)!==null&&pe!==void 0?pe:!1,rowHeight:a.rowHeight||47,threshold:a.threshold||100,type:a.type,fixedRows:(ie=a.fixedRows)!==null&&ie!==void 0?ie:[0,0]}:{}},[a]),P=D.useMemo(function(){return i&&T.type==="virtual"},[i,T]),N=D.useMemo(function(){return P&&T.threshold<o.length},[P,T.threshold,o.length]),H=Math.min(T.bufferSize*3,o.length),B=D.useState(function(){return[0,H]}),k=De(B,2),j=k[0],$=k[1],F=function(ie){for(var ce=[],ve=0,xe=o.length;ve<xe;ve++)ce[ve]=(ce[ve-1]||0)+(ie[ve]||T.rowHeight);return ce},R=function(ie,ce){for(var ve,xe,he=-1,we=0,ne=ie.length;we<ne;we++)if(ie[we]>=ce){he=we;break}for(var Me=ie.length,Ce=u.current||e.current.getBoundingClientRect().height,K=ce+Ce,U=he,G=ie.length;U<G;U++)if(ie[U]>=K){Me=U;break}if(!(he<0)){var te=Math.max(he-T.bufferSize,0),q=Math.min(Me+T.bufferSize,ie.length),V=T.fixedRows,ae=De(V,2),Ae=ae[0],Oe=ae[1],Te=(ve=o[0])===null||ve===void 0?void 0:ve.__VIRTUAL_FAKE_DATA,Ue=Me-H<=0,Be=Te&&!Ue?1:0,Qe=Ae?o.slice(Be,Ae+Be):[];Ae&&te<Ae&&(Qe=Qe.slice(0,te));var Ze=(xe=o[o.length-1])===null||xe===void 0?void 0:xe.__VIRTUAL_FAKE_DATA,at=Me===ie.length,ke=Ze&&!at?1:0,Tt=Oe?o.slice(o.length-Oe-ke):[],Mt=q-o.length+1+(Oe??0);if(Oe&&Mt>0&&(Tt=Tt.slice(Mt)),j.join()!==[te,q].join()&&te>=0){var wt=Qe.concat(o.slice(te,q)).concat(Tt);d(wt);var ft=ie[te-1],qe=ft>0?ft:0,le=ie[Math.min(te,Ae)-1]||0;y(qe-le),$([te,q])}}},L=function(ie){if(!(!N||!ie||T.isFixedRowHeight||!(e!=null&&e.current))){var ce=ie.ref.offsetHeight,ve=ie.data.__VIRTUAL_SCROLL_INDEX,xe=O;if(xe[ve]!==ce){xe[ve]=ce,C(xe);var he=F(xe);x.current=he;var we=he.length-1;S(he[we]-u.current),R(he,e.current.scrollTop)}}},W=function(){N&&R(x.current,e.current.scrollTop)},Z=function(ie){ie.forEach(function(ce,ve){Reflect.set(ce,"__VIRTUAL_SCROLL_INDEX",ve)})},ee=function(ie){var ce,ve=ie.index,xe=ie.top,he=xe===void 0?0:xe,we=ie.behavior,ne=x.current[ve]-he;(ce=e.current)===null||ce===void 0||ce.scrollTo({top:ne,behavior:we||"auto"})},oe=function(ie){ee(ie),T.isFixedRowHeight||W6e(function(){var ce,ve=(ce=ie.time)!==null&&ce!==void 0?ce:60,xe=setTimeout(function(){ee(ie),clearTimeout(xe)},ve)})};return D.useEffect(function(){if(P){if(!N){if(!o.length)return;d(o),s.current=o,x.current=F(O);return}Z(o);var pe=!Hc(s.current,o),ie=x.current;if((ie==null?void 0:ie.length)===(o==null?void 0:o.length)&&!pe){var ce=ie.length-1;S(ie[ce]),R(ie,e.current.scrollTop)}else{var ve;s.current=o,S(o.length*T.rowHeight);for(var xe=((ve=e.current)===null||ve===void 0?void 0:ve.scrollTop)||0,he=Math.floor(xe/T.rowHeight),we=0;we<(ie==null?void 0:ie.length);we++)if(ie[we]>=xe){he=we;break}var ne=Math.max(he-T.bufferSize,0),Me=Math.min(ne+H,o.length),Ce=o.slice(ne,Me),K=ne*T.rowHeight;if((ie==null?void 0:ie.length)>0&&ne>0){var U=ie[Math.min(ne-1,ie.length-1)]||0;K=Math.max(0,U)}d(Ce),y(K)}var G=setTimeout(function(){if(e.current){var te=e.current.getBoundingClientRect().height;u.current=te;var q=F(O);x.current=q,clearTimeout(G)}},1)}},[e,o,T,N,j,O]),{visibleData:f,translateY:_,scrollHeight:w,isVirtualScroll:N,handleScroll:W,handleRowMounted:L,scrollToElement:oe}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function TC(t,e,n,r){var i=Ft(t,e);return i===void 0&&Hi.error("Table","rowKey is wrong, can not get unique identifier of row."),[i,n||r].join("_")}function Ire(t,e,n,r){var i=D.useState(function(){return new Map}),o=De(i,2),a=o[0],s=o[1],u=function(f,d,h){var p=f.rowIndex,_=f.colIndex;if(!(!d.rowspan&&!d.colspan)){for(var y=p+(d.rowspan||1),m=_+(d.colspan||1),b=p;b<y;b++)for(var w=_;w<m;w++)if(b!==p||w!==_){if(!t[b]||!e[w])return;var S=TC(t[b],n,e[w].colKey,w),x=h.get(S)||{};x.skipped=!0,h.set(S,x)}}},l=function(f,d,h){if(!(!f||!h)){for(var p=new Map,_=0,y=f.length;_<y;_++)for(var m=f[_],b=0,w=d.length;b<w;b++){var S=d[b],x={row:m,col:S,rowIndex:_,colIndex:b},E=TC(m,n,S.colKey,b),M=p.get(E)||{},O=h(x)||{};(O.rowspan||O.colspan||M.rowspan||M.colspan)&&(O.rowspan&&(M.rowspan=O.rowspan),O.colspan&&(M.colspan=O.colspan),p.set(E,M)),u==null||u(x,M,p)}return p}};return D.useEffect(function(){if(r){a.clear();var c=l(t,e,r);s(c)}},[t,e,r]),{skipSpansMap:a,getSkipSpansMap:l}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var V6e={destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",duration:0};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var q6e=["theme","showArrow","destroyOnClose","overlayClassName","children","duration","placement","onVisibleChange"];function F9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bk=D.forwardRef(function(t,e){var n=mr(t,V6e),r=n.theme,i=n.showArrow,o=n.destroyOnClose,a=n.overlayClassName,s=n.children,u=n.duration,l=n.placement,c=n.onVisibleChange,f=zi(n,q6e),d=ln(),h=d.classPrefix,p=D.useState(!1),_=De(p,2),y=_[0],m=_[1],b=D.useRef(null),w=D.useRef(null),S=et("".concat(h,"-tooltip"),me({},"".concat(h,"-tooltip--").concat(r),r),a);function x(E,M){var O=M.e,C=M.trigger;m(!1),c==null||c(E,{e:O,trigger:C})}return D.useEffect(function(){if(u!==0&&!y){var E,M;(E=b.current)===null||E===void 0||(M=E.setVisible)===null||M===void 0||M.call(E,!0),w.current=window.setTimeout(function(){var O,C;(O=b.current)===null||O===void 0||(C=O.setVisible)===null||C===void 0||C.call(O,!1),m(!0)},u)}return function(){window.clearTimeout(w.current)}},[u,y]),D.useImperativeHandle(e,function(){return k9({},b.current||{})}),Q.createElement(vM,k9({ref:b,destroyOnClose:o,showArrow:i,overlayClassName:S,onVisibleChange:x,placement:l},f),s)});bk.displayName="Tooltip";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Rre=bk;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var qL=function(e,n,r){var i=Hx(e),o=D.useCallback(Tw(i,n,r),[i,n,r]);return D.useEffect(function(){return o.cancel},[o]),o};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OM(t){var e=t.classPrefix,n=D.useRef(null),r=D.useState(!1),i=De(r,2),o=i[0],a=i[1],s=et(["".concat(e,"-table__ellipsis"),"".concat(e,"-text-ellipsis")]),u=["".concat(e,"-table__ellipsis-content"),t.overlayClassName],l=function(){n.current&&a(B9(n.current))},c=function(){a(B9(n.current))},f=qL(function(m){m.type==="mouseleave"?c():l()},80),d=t.content||t.children,h=Q.createElement("div",{ref:n,className:s,onMouseEnter:f,onMouseLeave:f},d),p=null,_=t.tooltipProps;if(o){var y=j9({content:t.popupContent||d,destroyOnClose:!0,zIndex:t.zIndex,attach:t.attach,placement:t.placement,overlayClassName:_!=null&&_.overlayClassName?u.concat(_.overlayClassName):u},t.tooltipProps||{});p=Q.createElement(Rre,j9({},y),h)}else p=h;return p}OM.displayName="Ellipsis";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function K6e(){var t=6;if(typeof navigator>"u"||!navigator||/(Chrome|Safari)/i.test(navigator.userAgent))return t;var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),/Firefox/.test(navigator.userAgent)&&(n-=4),qg()<=11&&(n=12),n}function X6e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;return t===document.body?window.innerWidth-document.documentElement.clientWidth:t.offsetWidth-t.clientWidth}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function xv(t,e){var n=D.useRef(!0),r=D.useRef(e);D.useEffect(function(){var i=rUe(r.current,e,function(o,a){if(typeof o=="function"&&typeof a=="function")return o.toString()===a.toString()});(n.current||!i)&&t(),n.current=!1,r.current=e},[t,e])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function J6e(t){var e=D.useRef(null);return D.useEffect(function(){e.current=t},[t]),e.current}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function wk(t,e){if(t){for(var n=t instanceof Array?t:[t],r={},i=0;i<n.length;i++){var o=n[i];if(o){var a=En(o)?o(e):o;r=a instanceof Array?wk(a,e):Object.assign(r,a)}}return r}}function Sk(t,e,n){for(var r=t instanceof Array?t:[t],i=e.row,o=e.rowIndex,a=[],s=0,u=r.length;s<u;s++){var l=r[s],c=En(l)?l(e):l;if(qr(c)&&!(c instanceof Array)){c[o]&&(c=c[o]);var f=Ft(i,n||"id");c[f]&&(c=c[f])}else c instanceof Array&&(c=Sk(c,e,n));a=a.concat(c)}return a}function KL(t,e){for(var n=t instanceof Array?t:[t],r=[],i=0,o=n.length;i<o;i++){var a=n[i];En(a)?r.push(a(e)):r.push(a)}return r}function Pre(t,e){if(!(!t||!e)){var n=t==null?void 0:t.find(function(s){return s.colKey===e});if(n)return n;for(var r=0,i=t.length;r<i;r++){var o;if((o=t[r])!==null&&o!==void 0&&(o=o.children)!==null&&o!==void 0&&o.length){var a;return Pre((a=t[r])===null||a===void 0?void 0:a.children,e)}}}}function VS(t,e){return Rn(t)==="object"?t:Rn(e)==="object"?e:{}}var Dre=function(){return typeof window>"u"||qg()<11||typeof window.ResizeObserver>"u"},H9=function(e,n){if(!Dre()){var r=new window.ResizeObserver(function(){n==null||n()});return r.observe(e),function(){var i,o;r==null||(i=r.unobserve)===null||i===void 0||i.call(r,e),r==null||(o=r.disconnect)===null||o===void 0||o.call(r)}}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function $9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ek(t,e,n,r){var i=n==null?void 0:n.get(t.colKey||e);if(!i)return{};var o=me(me(me(me({},r.left,t.fixed==="left"),r.right,t.fixed==="right"),r.lastLeft,t.fixed==="left"&&i.lastLeftFixedCol),r.firstRight,t.fixed==="right"&&i.firstRightFixedCol),a={left:t.fixed==="left"?"".concat(i.left,"px"):void 0,right:t.fixed==="right"?"".concat(i.right,"px"):void 0};return{style:a,classes:o}}function Y6e(t,e,n,r,i,o){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!r||!r.length)return{style:void 0,classes:void 0};var s=e<r[0],u=e>n-1-r[1],l=n-r[1],c=(i==null?void 0:i.get(t))||{},f=me(me(me(me({},o.top,s),o.bottom,u),o.firstBottom,e===l),o.withoutBorderBottom,e===l-1),d={top:s?"".concat(c.top-a,"px"):void 0,bottom:u?"".concat(c.bottom+a,"px"):void 0};return{style:d,classes:f}}function Z6e(t,e,n){var r,i=t.columns,o=t.tableLayout,a=t.tableContentWidth,s=t.fixedRows,u=t.firstFullRow,l=t.lastFullRow,c=t.maxHeight,f=t.headerAffixedTop,d=t.bordered,h=J6e(e),p=D.useState([]),_=De(p,2),y=_[0],m=_[1],b=D.useRef(null),w=D.useState(!1),S=De(w,2),x=S[0],E=S[1],M=D.useState(!1),O=De(M,2),C=O[0],T=O[1],P=D.useRef(null),N=D.useState(6),H=De(N,2),B=H[0],k=H[1],j=D.useState(function(){return new Map}),$=De(j,2),F=$[0],R=$[1],L=D.useState({left:!1,right:!1}),W=De(L,2),Z=W[0],ee=W[1],oe=D.useState({left:0,top:0}),pe=De(oe,2),ie=pe[0],ce=pe[1],ve=D.useRef(0),xe=D.useRef(0),he=D.useRef({}),we=D.useState(!1),ne=De(we,2),Me=ne[0],Ce=ne[1],K=D.useState(!1),U=De(K,2),G=U[0],te=U[1],q=D.useState(!1),V=De(q,2),ae=V[0],Ae=V[1],Oe=t.resizable,Te=D.useMemo(function(){var kt;return!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom||((kt=t.scroll)===null||kt===void 0?void 0:kt.type)==="virtual")},[t.footerAffixedBottom,t.headerAffixedTop,t.horizontalScrollAffixedBottom,(r=t.scroll)===null||r===void 0?void 0:r.type]);function Ue(kt){P.current=kt}function Be(kt){for(var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,bt=arguments.length>4?arguments[4]:void 0,Dt=0,st=kt.length;Dt<st;Dt++){var Vt,Ht=kt[Dt];["left","right"].includes(Ht.fixed)&&Ce(!0),Ht.fixed==="right"&&te(!0),Ht.fixed==="left"&&Ae(!0);var Y=Ht.colKey||Dt,re={col:Ht,parent:bt,index:Dt};Ke.set(Y,re),(Vt=Ht.children)!==null&&Vt!==void 0&&Vt.length&&Be(Ht.children,Ke,ot,lt+1,re),ot[lt]?ot[lt].push(re):ot[lt]=[re]}return{newColumnsMap:Ke,levelNodes:ot}}var Qe=function(Ke,ot){for(var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=0,Dt=Ke.length;bt<Dt;bt++){var st,Vt=Ke[bt];if(Vt.fixed==="right")return;for(var Ht=ot.get(Vt.colKey||bt),Y=bt-1;Y>=0&&Ke[Y].fixed!=="left";)Y-=1;var re=Ke[Y],_e=bt===0&&(lt==null?void 0:lt.left)||0,J=ot.get((re==null?void 0:re.colKey)||bt-1);Ht.left=((J==null?void 0:J.left)||_e)+((J==null?void 0:J.width)||0),(st=Vt.children)!==null&&st!==void 0&&st.length&&Qe(Vt.children,ot,Ht)}},Ze=function(Ke,ot){for(var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=Ke.length-1;bt>=0;bt--){var Dt,st=Ke[bt];if(st.fixed==="left")return;for(var Vt=ot.get(st.colKey||bt),Ht=bt+1;Ht<Ke.length&&Ke[Ht].fixed!=="right";)Ht+=1;var Y=Ke[Ht],re=bt===Ke.length-1&&(lt==null?void 0:lt.right)||0,_e=ot.get((Y==null?void 0:Y.colKey)||bt+1);Vt.right=((_e==null?void 0:_e.right)||re)+((_e==null?void 0:_e.width)||0),(Dt=st.children)!==null&&Dt!==void 0&&Dt.length&&Ze(st.children,ot,Vt)}},at=function(Ke,ot){if(Ke){for(var lt=0,bt=Ke.length;lt<bt;lt++)for(var Dt=Ke[lt].children,st=0,Vt=Dt.length;st<Vt;st++){var Ht,Y=Dt[st],re=Y.dataset.colkey;re||Hi.warn("TDesign Table","".concat(Y.innerText," missing colKey. colKey is required for fixed column feature."));var _e=ot.get(re||st);if(_e!=null&&(Ht=_e.col)!==null&&Ht!==void 0&&Ht.fixed){var J;ot.set(re,Gm(Gm({},_e),{},{width:Y==null||(J=Y.getBoundingClientRect)===null||J===void 0?void 0:J.call(Y).width}))}}Qe(i,ot),Ze(i,ot)}},ke=function(Ke,ot,lt,bt){for(var Dt=s||[],st=De(Dt,2),Vt=st[0],Ht=st[1],Y=t.data,re=t.rowKey,_e=re===void 0?"id":re,J=0;J<Vt;J++){var se,fe=Ke[J],Se=Ft(Y[J],_e),be=ot.get(Se)||{},Le=Ft(Y[J-1],_e),Ne=ot.get(Le)||{},ze=0;if(J===0){var je;ze=(lt==null||(je=lt.getBoundingClientRect)===null||je===void 0?void 0:je.call(lt).height)||0}be.top=(Ne.top||ze)+(Ne.height||0),ot.set(Se,Gm(Gm({},be),{},{height:fe==null||(se=fe.getBoundingClientRect)===null||se===void 0?void 0:se.call(fe).height}))}for(var _t=Y.length-1;_t>=Y.length-Ht;_t--){var Ye,nt=Ke[_t]||Ke[0],Ot=Ft(Y[_t],_e),ct=ot.get(Ot)||{},it=Ft(Y[_t+1],_e),ut=ot.get(it)||{},rt=0;if(_t===Y.length-1){var Je;rt=(bt==null||(Je=bt.getBoundingClientRect)===null||Je===void 0?void 0:Je.call(bt).height)||0}ct.bottom=(ut.bottom||rt)+(ut.height||0),ot.set(Ot,Gm(Gm({},ct),{},{height:nt==null||(Ye=nt.getBoundingClientRect)===null||Ye===void 0?void 0:Ye.call(nt).height}))}},Tt=function(Ke,ot){if(F.clear(),!!Ke){var lt=Ke.querySelector("thead");lt&&at(lt.children,ot);var bt=Ke.querySelector("tbody"),Dt=Ke.querySelector("tfoot");bt&&ke(bt.children,ot,lt,Dt),R(ot)}},Mt,wt=function(Ke,ot){if(!(!Me||!Ke)){var lt=Ke.scrollLeft;if(!(Mt===lt&&(!ot||!ot.skipScrollLimit))){Mt=lt;var bt=Ke.clientWidth+lt<Ke.scrollWidth,Dt=lt>0;Z.left===Dt&&Z.right===bt||ee({left:Dt&&ae,right:bt&&G})}}},ft=function(Ke){for(var ot=0;ot<Ke.length;ot++)for(var lt=Ke[ot],bt=0,Dt=lt.length;bt<Dt;bt++){var st=lt[bt],Vt=lt[bt+1],Ht=st.parent,Y=!Ht||(Ht==null?void 0:Ht.lastLeftFixedCol);Y&&st.col.fixed==="left"&&(Vt==null?void 0:Vt.col.fixed)!=="left"&&(st.lastLeftFixedCol=!0);var re=lt[bt-1],_e=!Ht||(Ht==null?void 0:Ht.firstRightFixedCol);_e&&st.col.fixed==="right"&&(re==null?void 0:re.col.fixed)!=="right"&&(st.firstRightFixedCol=!0)}},qe=function(){var Ke=Be(i),ot=Ke.newColumnsMap,lt=Ke.levelNodes;ft(lt),(Me||s!=null&&s.length)&&Tt(b.current,ot)},le=D.useCallback(function(){var kt,Ke=b==null?void 0:b.current;if(Ke){var ot=Ke.scrollHeight>Ke.clientHeight;E(ot),T(Ke.scrollWidth>Ke.clientWidth);var lt=Ke==null||(kt=Ke.getBoundingClientRect)===null||kt===void 0?void 0:kt.call(Ke);ce({top:lt==null?void 0:lt.top,left:lt==null?void 0:lt.left})}},[]),Ie=function(Ke){xe.current!==Ke&&(xe.current=Ke)},He=function(){var Ke,ot,lt,bt=(Ke=b.current)===null||Ke===void 0||(ot=Ke.getBoundingClientRect)===null||ot===void 0?void 0:ot.call(Ke);if(bt){var Dt=x?B:0;ve.current=bt.width-Dt-(t.bordered?1:0);var st=P==null||(lt=P.current)===null||lt===void 0?void 0:lt.getBoundingClientRect();st!=null&&st.width&&Ie(st==null?void 0:st.width)}},Ve=function(){var Ke,ot,lt,bt,Dt,st,Vt,Ht;(Ke=n.paginationAffixRef.current)===null||Ke===void 0||(ot=Ke.handleScroll)===null||ot===void 0||ot.call(Ke),(lt=n.horizontalScrollAffixRef.current)===null||lt===void 0||(bt=lt.handleScroll)===null||bt===void 0||bt.call(lt),(Dt=n.headerTopAffixRef.current)===null||Dt===void 0||(st=Dt.handleScroll)===null||st===void 0||st.call(Dt),(Vt=n.footerBottomAffixRef.current)===null||Vt===void 0||(Ht=Vt.handleScroll)===null||Ht===void 0||Ht.call(Vt)},Ee=function(Ke){for(var ot={},lt=0,bt=Ke==null?void 0:Ke.length;lt<bt;lt++)for(var Dt=Ke[lt].children,st=0,Vt=Dt.length;st<Vt;st++){var Ht=Dt[st],Y=Ht.dataset.colkey;ot[Y]=Ht.getBoundingClientRect().width}return ot},de=function(Ke){if(Ke instanceof HTMLCollection){if(Oe)return;he.current=Ee(Ke)}else he.current=he.current||{},Object.entries(Ke).forEach(function(ot){var lt=De(ot,2),bt=lt[0],Dt=lt[1];he.current[bt]=Dt});return he.current},$e=function(){var Ke;if(!Te){var ot=(Ke=b.current)===null||Ke===void 0?void 0:Ke.querySelector("thead");ot&&de(ot.children)}},tt=function(Ke){var ot,lt,bt;(ot=t.onScrollX)===null||ot===void 0||ot.call(t,{e:Ke}),(lt=t.onScrollY)===null||lt===void 0||lt.call(t,{e:Ke}),(bt=t.onScroll)===null||bt===void 0||bt.call(t,{e:Ke})},Pt=function(Ke){if(Ke==="calculate"){var ot,lt=(ot=b.current)===null||ot===void 0||(ot=ot.querySelector("thead"))===null||ot===void 0?void 0:ot.children;return Ee(lt)}return he.current||{}},vt=function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],lt=Ke.map(function(J){return J.colKey}),bt=(ot??[]).map(function(J){return J.colKey});if(lt.length<bt.length){var Dt=ine(bt,lt),st=Pt("calculate"),Vt=0;Dt.forEach(function(J){Vt+=st[J]});var Ht=Nb(st,bt);if(!Object.values(Ht).length)return;var Y=Object.values(Ht).reduce(function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,se=arguments.length>1?arguments[1]:void 0;return J+se}),re=b.current.clientWidth,_e=Y-Vt;Ie(Math.max(re,_e))}};xv(qe,[y,i,d,o,a,x,C,Me,s,u,l,b]),xv(function(){Me&&wt(b.current)},[Me,i,b]);var $t=qL(function(){le()},30);D.useEffect(function(){if(b.current)return H9(b.current,$t)},[$t]),xv(le,[c,y,i,d,b]),xv(function(){vt(e,h)},[e]),xv(function(){$e(),Ve()},[d,i,o,s,f,a,Te,b]);var rn=function(){$e(),le(),He(),Ve(),(Me||x)&&(qe(),wt(b.current,{skipScrollLimit:!0}))},mn=qL(function(){rn()},30);function Lt(kt){if(!Dre()&&(ur(window,"resize",mn),!!xe.current))return H9(kt,function(){rn()})}D.useEffect(function(){var kt=K6e();k(kt);var Ke=Me||x||!Te||!y.length,ot=typeof window<"u",lt=ot&&typeof window.ResizeObserver<"u";return He(),$e(),(Ke&&qg()<11||!lt)&&yr(window,"resize",mn),function(){(Ke&&qg()<11||!lt)&&typeof window<"u"&&ur(window,"resize",mn)}},[Me]);var cn=function(){qe(),le()};return{tableWidth:ve,tableElmWidth:xe,thWidthList:he,isFixedHeader:x,isWidthOverflow:C,tableContentRef:b,isFixedColumn:Me,showColumnShadow:Z,rowAndColFixedPosition:F,virtualScrollHeaderPos:ie,scrollbarWidth:B,setData:m,refreshTable:rn,setTableElmWidth:Ie,emitScrollEvent:tt,updateThWidthListHandler:$e,updateColumnFixedShadow:wt,setUseFixedTableElmRef:Ue,getThWidthList:Pt,updateThWidthList:de,addTableResizeObserver:Lt,updateTableAfterColumnResize:cn}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e){var n=t.col,r=t.row,i=t.rowIndex;if(n.colKey==="serial-number"){var o=(e==null?void 0:e.pagination)||{},a=o.current,s=o.pageSize,u=o.defaultCurrent,l=o.defaultPageSize,c=a||u,f=s||l;return f&&c?f*(c-1)+i+1:i+1}if(En(n.cell))return n.cell(t);if(En(n.render))return n.render(Iu(Iu({},t),{},{type:"cell"}));var d=n.cell||n.render||Ft(r,n.colKey);return[void 0,"",null].includes(d)&&e!=null&&e.cellEmptyContent?e.cellEmptyContent:d}function Q6e(t,e){var n=e.cellNode,r=e.tableElm,i=e.columnLength,o=e.classPrefix,a=e.overlayClassName,s=t.col,u=t.colIndex,l=En(s.ellipsis)?s.ellipsis(t):void 0;Rn(s.ellipsis)==="object"&&"content"in s.ellipsis&&En(s.ellipsis.content)&&(l=s.ellipsis.content(t));var c={};Rn(s.ellipsis)==="object"&&(c="props"in s.ellipsis?s.ellipsis.props:s.ellipsis||void 0);var f=r,d=u===0?"top-left":"top";return d=u===i-1?"top-right":d,Q.createElement(OM,{placement:d,attach:f?function(){return f}:void 0,popupContent:l,tooltipProps:c,overlayClassName:a,classPrefix:o},n)}var Nre=function(e){var n=e.cellParams,r=e.tableClassNames,i=e.tableRef,o=e.columnLength,a=e.classPrefix,s=e.overlayClassName,u=e.pagination,l=n.col,c=n.colIndex,f=n.rowIndex,d=e.cellSpans,h=e.dataLength,p=e.rowAndColFixedPosition,_=e.cellEmptyContent,y=e.rowspanAndColspan,m=e.onClick,b=r.tableColFixedClasses,w=r.tdEllipsisClass,S=r.tableBaseClass,x=r.tdAlignClasses,E=r.tableDraggableClasses,M=Lre(n,{cellEmptyContent:_,pagination:u}),O=Ek(l,c,p,b),C=KL(l.className,Iu(Iu({},n),{},{type:"td"})),T=[O.classes,C,me(me(me(me(me({},w,l.ellipsis),S.tdLastRow,f+d.rowspan===h),S.tdFirstCol,c===0&&y),x[l.align],l.align&&l.align!=="left"),E.handle,l.colKey==="drag")],P=En(l.attrs)?l.attrs(Iu(Iu({},n),{},{type:"td"})):l.attrs,N=Iu(Iu({},P),{},{rowSpan:d.rowspan,colSpan:d.colspan});return Q.createElement("td",Iu(Iu({key:l.colKey||c,className:et(T)||void 0,style:O.style},N),{},{onClick:m}),l.ellipsis?Q6e(n,{cellNode:M,tableElm:i.current,columnLength:o,classPrefix:a,overlayClassName:s}):M)};Nre.displayName="Cell";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function bl(){var t=ln(),e=t.classPrefix,n=D.useMemo(function(){return{classPrefix:e,tableBaseClass:{table:"".concat(e,"-table"),columnResizableTable:"".concat(e,"-table--column-resizable"),body:"".concat(e,"-table__body"),overflowVisible:"".concat(e,"-table--overflow-visible"),content:"".concat(e,"-table__content"),topContent:"".concat(e,"-table__top-content"),bottomContent:"".concat(e,"-table__bottom-content"),paginationWrap:"".concat(e,"-table__pagination-wrap"),tdLastRow:"".concat(e,"-table__td-last-row"),tdFirstCol:"".concat(e,"-table__td-first-col"),thCellInner:"".concat(e,"-table__th-cell-inner"),tableRowEdit:"".concat(e,"-table--row-edit"),cellEditable:"".concat(e,"-table__cell--editable"),cellEditWrap:"".concat(e,"-table__cell-wrap"),bordered:"".concat(e,"-table--bordered"),striped:"".concat(e,"-table--striped"),hover:"".concat(e,"-table--hoverable"),loading:"".concat(e,"-table--loading"),rowspanAndColspan:"".concat(e,"-table--rowspan-colspan"),empty:"".concat(e,"-table__empty"),emptyRow:"".concat(e,"-table__empty-row"),headerFixed:"".concat(e,"-table--header-fixed"),columnFixed:"".concat(e,"-table--column-fixed"),widthOverflow:"".concat(e,"-table--width-overflow"),multipleHeader:"".concat(e,"-table--multiple-header"),footerAffixed:"".concat(e,"-table--footer-affixed"),horizontalBarAffixed:"".concat(e,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(e,"-table--affixed-header"),affixedHeaderElm:"".concat(e,"-table__affixed-header-elm"),affixedFooterElm:"".concat(e,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(e,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(e,"-table__scroll-bar-divider"),fullHeight:"".concat(e,"-table--full-height"),resizeLine:"".concat(e,"-table__resize-line"),obviousScrollbar:"".concat(e,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(e,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(e,"-align-left"),right:"".concat(e,"-align-right"),center:"".concat(e,"-align-center")},tableHeaderClasses:{header:"".concat(e,"-table__header"),thBordered:"".concat(e,"-table__header-th--bordered"),fixed:"".concat(e,"-table__header--fixed"),multipleHeader:"".concat(e,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(e,"-table__footer"),fixed:"".concat(e,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(e,"-vertical-align-top"),middle:"".concat(e,"-vertical-align-middle"),bottom:"".concat(e,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(e,"-table__row--fixed-top"),bottom:"".concat(e,"-table__row--fixed-bottom"),firstBottom:"".concat(e,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(e,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(e,"-table__cell--fixed-left"),right:"".concat(e,"-table__cell--fixed-right"),lastLeft:"".concat(e,"-table__cell--fixed-left-last"),firstRight:"".concat(e,"-table__cell--fixed-right-first"),leftShadow:"".concat(e,"-table__content--scrollable-to-left"),rightShadow:"".concat(e,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(e,"-table--layout-auto"),fixed:"".concat(e,"-table--layout-fixed")},tdEllipsisClass:"".concat(e,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(e,"-table__row--full"),innerFullRow:"".concat(e,"-table__row-full-inner"),innerFullElement:"".concat(e,"-table__row-full-element"),firstFullRow:"".concat(e,"-table__first-full-row"),lastFullRow:"".concat(e,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(e,"-table__expand-box"),iconCell:"".concat(e,"-table__expandable-icon-cell"),rowExpanded:"".concat(e,"-table__row--expanded"),rowFolded:"".concat(e,"-table__row--folded"),row:"".concat(e,"-table__expanded-row"),rowInner:"".concat(e,"-table__expanded-row-inner"),expanded:"".concat(e,"-table__row--expanded"),collapsed:"".concat(e,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(e,"-table__cell--sortable"),sortColumn:"".concat(e,"-table__sort-column"),title:"".concat(e,"-table__cell--title"),trigger:"".concat(e,"-table__cell--sort-trigger"),doubleIcon:"".concat(e,"-table__double-icons"),sortIcon:"".concat(e,"-table__sort-icon"),iconDirection:{asc:"".concat(e,"-table-sort-asc"),desc:"".concat(e,"-table-sort-desc")},iconActive:"".concat(e,"-table__sort-icon--active"),iconDefault:"".concat(e,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(e,"-table__row--selected"),disabled:"".concat(e,"-table__row--disabled"),checkCell:"".concat(e,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(e,"-table__cell--filterable"),popup:"".concat(e,"-table__filter-pop"),icon:"".concat(e,"-table__filter-icon"),popupContent:"".concat(e,"-table__filter-pop-content"),result:"".concat(e,"-table__filter-result"),inner:"".concat(e,"-table__row-filter-inner"),bottomButtons:"".concat(e,"-table__filter--bottom-buttons"),contentInner:"".concat(e,"-table__filter-pop-content-inner"),iconWrap:"".concat(e,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(e,"-table__async-loading"),isFocusClass:"".concat(e,"-is-focus"),isLoadingClass:"".concat(e,"-is-loading"),isLoadMoreClass:"".concat(e,"-is-load-more"),tableTreeClasses:{col:"".concat(e,"-table__tree-col"),inlineCol:"".concat(e,"-table__tree-col--inline"),icon:"".concat(e,"-table__tree-op-icon"),leafNode:"".concat(e,"-table__tree-leaf-node")},tableDraggableClasses:{rowDraggable:"".concat(e,"-table--row-draggable"),rowHandlerDraggable:"".concat(e,"-table--row-handler-draggable"),colDraggable:"".concat(e,"-table--col-draggable"),handle:"".concat(e,"-table__handle-draggable"),ghost:"".concat(e,"-table__ele--draggable-ghost"),chosen:"".concat(e,"-table__ele--draggable-chosen"),dragging:"".concat(e,"-table__ele--draggable-dragging"),dragSortTh:"".concat(e,"-table__th--drag-sort")},virtualScrollClasses:{cursor:"".concat(e,"-table__virtual-scroll-cursor"),header:"".concat(e,"-table__virtual-scroll-header")},positiveRotate90:"".concat(e,"-positive-rotate-90"),negativeRotate180:"".concat(e,"-negative-rotate-180")}},[e]);return n}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function eHe(t,e,n){var r=D.useMemo(function(){return Math.max(n.rowHeight||48,48)},[n.rowHeight]),i=D.useState(function(){return n.rowIndex===-1}),o=De(i,2),a=o[0],s=o[1],u=D.useMemo(function(){return(n==null?void 0:n.type)==="lazy"&&!a},[a,n==null?void 0:n.type]),l=(typeof window>"u"?!1:window.requestAnimationFrame)||function(f){return setTimeout(f,16.6)},c=function(){a||l(function(){s(!0)})};return D.useEffect(function(){if((n==null?void 0:n.type)==="lazy"){var f=setTimeout(function(){var d=Math.max(10,n.bufferSize||10),h=r*d;e&&mk(e.current,t,c,h),clearTimeout(f)});return function(){clearTimeout(f)}}},[e,t,n.bufferSize,n==null?void 0:n.type,r]),{hasLazyLoadHolder:u,tRowHeight:r}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function G9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tHe=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"];function Bre(t){var e,n=t.row,r=t.rowKey,i=t.rowIndex,o=t.rowClassName,a=t.rowAttributes,s=t.dataLength,u=t.fixedRows,l=t.scroll,c=t.tableContentRef,f=t.rowAndColFixedPosition,d=t.virtualConfig,h=t.onRowMounted,p=D.useRef(null),_=bl(),y=Y6e(Ft(n,r||"id"),i,s,u,f,_.tableRowFixedClasses,d.isVirtualScroll?d.translateY:0),m=D.useMemo(function(){return wk(a,{row:n,rowIndex:i,type:"body"})||{}},[n,a,i]),b=D.useMemo(function(){var C=Sk(o,{row:n,rowIndex:i,rowKey:r,type:"body"},r||"id");return[y==null?void 0:y.classes,C]},[n,o,i,r,y==null?void 0:y.classes]),w=D.useMemo(function(){return Si(Si({},l),{},{rowIndex:i})},[l,i]),S=eHe(c.current,p,w),x=S.hasLazyLoadHolder,E=S.tRowHeight;D.useEffect(function(){d.isVirtualScroll&&p.current&&(h==null||h({ref:p.current,data:n}))},[d.isVirtualScroll,p,n]);var M=(e=t.columns)===null||e===void 0?void 0:e.map(function(C,T){var P,N={},H={row:n,col:C,rowIndex:i,colIndex:T},B=null;if((P=t.skipSpansMap)!==null&&P!==void 0&&P.size){var k,j,$=TC(n,t.rowKey,C.colKey,T);if(B=t.skipSpansMap.get($)||{},((k=B)===null||k===void 0?void 0:k.rowspan)>1&&(N.rowspan=B.rowspan),((j=B)===null||j===void 0?void 0:j.colspan)>1&&(N.colspan=B.colspan),B.skipped)return null}var F=function(L){var W,Z=Si(Si({},H),{},{e:L});C.stopPropagation&&L.stopPropagation(),(W=t.onCellClick)===null||W===void 0||W.call(t,Z)};return Q.createElement(Nre,{key:H.col.colKey,cellParams:H,dataLength:s,rowAndColFixedPosition:f,columnLength:t.columns.length,cellSpans:N,cellEmptyContent:t.cellEmptyContent,tableClassNames:_,rowspanAndColspan:t.rowspanAndColspan,onClick:F,tableRef:t.tableRef,classPrefix:t.classPrefix,overlayClassName:t.ellipsisOverlayClassName,pagination:t.pagination})}),O={row:n,index:i};return Q.createElement("tr",Si(Si({ref:p},m),{},{style:y==null?void 0:y.style,className:et(b)||void 0,onClick:function(T){var P;return(P=t.onRowClick)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onDoubleClick:function(T){var P;return(P=t.onRowDblclick)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onMouseDown:function(T){var P;return(P=t.onRowMousedown)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onMouseEnter:function(T){var P;return(P=t.onRowMouseenter)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onMouseLeave:function(T){var P;return(P=t.onRowMouseleave)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onMouseUp:function(T){var P;return(P=t.onRowMouseup)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))},onMouseOver:function(T){var P;return(P=t.onRowMouseover)===null||P===void 0?void 0:P.call(t,Si(Si({},O),{},{e:T}))}}),x?[Q.createElement("td",{key:i,style:{height:"".concat(E,"px"),border:"none"}})]:M)}Bre.displayName="TR";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nHe=["rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],rHe=["classPrefix","ellipsisOverlayClassName","rowAndColFixedPosition","scroll","tableRef","tableContentRef","trs","bufferSize","isVirtual","rowHeight","scrollType"];function Fre(t){var e=t.data,n=t.columns,r=t.rowKey,i=t.firstFullRow,o=t.lastFullRow,a=t.virtualConfig,s=t.allTableClasses,u=a.isVirtualScroll,l=u?a.visibleData:e,c=ha("table"),f=De(c,2),d=f[0],h=f[1],p=Ire(e,n,r,t.rowspanAndColspan),_=p.skipSpansMap,y=!!(t.rowspanAndColspan&&!_.size),m=s.tableFullRowClasses,b=s.tableBaseClass,w=D.useMemo(function(){return[b.body]},[b.body]),S=D.useMemo(function(){return i||o},[i,o]),x=!(e!=null&&e.length)&&!t.loading&&!S,E=function(H){return Q.createElement("tr",{className:et([b.emptyRow,me({},m.base,t.isWidthOverflow)])},Q.createElement("td",{colSpan:H.length},Q.createElement("div",{className:et([b.empty,me({},m.innerFullRow,t.isWidthOverflow)]),style:t.isWidthOverflow?{width:"".concat(t.tableWidth.current,"px")}:{}},t.empty||h(d.empty))))},M=function(H){var B={"first-full-row":i,"last-full-row":o}[H];if(!B)return null;var k={};if(u){var j={"first-full-row":0,"last-full-row":e.length-1}[H],$=l.some(function(W){return W.__VIRTUAL_SCROLL_INDEX===j});if(!$)return null;k.ref=function(W){W&&(t==null||t.handleRowMounted({ref:W,data:e[j]}))}}var F=t.isWidthOverflow&&n.find(function(W){return W.fixed==="left"}),R=Fte(H),L=[m.base,m[R]];return Q.createElement("tr",vh({key:H,className:et(L)},k),Q.createElement("td",{colSpan:n.length},Q.createElement("div",{className:et(me({},m.innerFullRow,F))||void 0,style:F?{width:"".concat(t.tableWidth.current,"px")}:{}},Q.createElement("div",{className:m.innerFullElement},B))))},O=function(H,B){var k,j={row:H,index:B,columns:n,tableWidth:t.tableWidth.current,isWidthOverflow:t.isWidthOverflow};return(k=t.renderExpandedRow)===null||k===void 0?void 0:k.call(t,j)},C=function(){if(y)return null;var H=[],B=M("first-full-row");B&&H.push(B),l==null||l.forEach(function(j,$){if(!j.__VIRTUAL_FAKE_DATA){var F=function(){var ee=j.__VIRTUAL_SCROLL_INDEX;return u&&i&&ee?ee-1:ee??$},R=vh(vh(vh({},Nb(t,tHe)),{},{rowKey:t.rowKey||"id",row:j,columns:n,rowIndex:F(),dataLength:e.length,skipSpansMap:_,virtualConfig:a,classPrefix:t.classPrefix,ellipsisOverlayClassName:t.ellipsisOverlayClassName},Nb(t,rHe)),{},{pagination:t.pagination});t.onCellClick&&(R.onCellClick=t.onCellClick);var L=Q.createElement(Bre,vh(vh({key:Ft(j,t.rowKey||"id")||$},R),{},{onRowMounted:t.handleRowMounted}));H.push(L);var W=O(j,$);W&&H.push(W)}});var k=M("last-full-row");return k&&H.push(k),H},T="translateY(".concat(a.translateY,"px)"),P=u?{transform:T,msTransform:T,MozTransform:T,WebkitTransform:T}:void 0;return Q.createElement("tbody",{className:et(w)||void 0,style:vh({},P)},x?E(n):C())}Fre.displayName="TBody";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q9(t){var e=t.footData,n=t.columns,r=t.rowKey,i=t.footerSummary,o=t.virtualScroll,a=D.useRef(null),s=bl(),u=Ire(e,n,r,t.rowspanAndColspanInFooter),l=u.skipSpansMap,c=function(p){var _=p.col,y=p.row;return En(_.foot)?_.foot(p):_.foot||Ft(y,_.colKey)},f=[s.tableFooterClasses.footer,me({},s.tableFooterClasses.fixed,t.isFixedHeader)];if(!n)return null;var d=e==null?void 0:e.map(function(h,p){var _=wk(t.rowAttributes,{row:h,rowIndex:p,type:"foot"}),y=Sk(t.rowClassName,{row:h,rowIndex:p,type:"foot"},t.rowKey||"id");return Q.createElement("tr",PP(PP({key:p},_),{},{className:et(y)||void 0}),n.map(function(m,b){var w,S={},x=null;if(l.size){var E,M,O=TC(h,r,m.colKey,b);if(x=l.get(O)||{},((E=x)===null||E===void 0?void 0:E.rowspan)>1&&(S.rowspan=x.rowspan),((M=x)===null||M===void 0?void 0:M.colspan)>1&&(S.colspan=x.colspan),x.skipped)return null}var C=Ek(m,b,t.rowAndColFixedPosition,s.tableColFixedClasses),T=PP({},C.style);return(w=t.thWidthList)!==null&&w!==void 0&&w[m.colKey]&&(T.width="".concat(t.thWidthList[m.colKey]||0,"px")),Q.createElement("td",{key:m.colKey,rowSpan:S.rowspan,colSpan:S.colspan,className:et(C.classes)||void 0,style:T},c({row:h,rowIndex:p,col:m,colIndex:b}))}))});return!i&&(!t.footData||!t.footData.length)?null:Q.createElement("tfoot",{ref:a,className:et(f)||void 0,style:{visibility:o?"hidden":"visible"}},i&&Q.createElement("tr",{className:s.tableFullRowClasses.base},Q.createElement("td",{colSpan:n.length},Q.createElement("div",{className:s.tableFullRowClasses.innerFullElement},i))),d)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function kre(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=n,i=0,o=t.length;i<o;i++){var a,s=t[i];if(e.set(s,n),s!=null&&(a=s.children)!==null&&a!==void 0&&a.length){var u=kre(s.children,e,n+1);u>r&&(r=u)}}return r}function Ure(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e,r=(t==null?void 0:t.children)||[],i=0,o=r.length;i<o;i++){var a=r[i];a.children?n=Ure(a,n):n+=1}return n}function iHe(t){var e=new Map,n=kre(t,e),r=new Map,i=function(s,u){for(var l=0,c=s.length;l<c;l++){var f,d=s[l],h=d.children?1:n-e.get(d)+1,p=d.children?Ure(d):1,_={};h>1&&(_.rowspan=h),p>1&&(_.colspan=p),r.set(d,_),d!=null&&(f=d.children)!==null&&f!==void 0&&f.length?i(d.children,u):u.push(d)}},o=[];return i(t,o),{rowspanAndColspanMap:r,leafColumns:o}}function oHe(t){var e=function(i,o){for(var a,s=[],u=[],l=0,c=i.length;l<c;l++){var f,d=i[l],h=[d];s=s.concat(h),d!=null&&(f=d.children)!==null&&f!==void 0&&f.length&&(u=u.concat(d.children))}return(a=u)!==null&&a!==void 0&&a.length&&e(u,o),o.push(s),s},n=[];return e(t,n),n=n.reverse(),n}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xk(t,e){var n={col:t,colIndex:e};return En(t.title)?t.title(n):En(t.render)?t.render(X9(X9({},n),{},{row:{},rowIndex:-1,type:"title"})):t.title}function jre(t){var e=t.columns,n=bl(),r=n.tableSortClasses,i=n.tableFilterClasses,o=D.useMemo(function(){return iHe(e)},[e]),a=D.useMemo(function(){return oHe(e)},[e]),s=D.useMemo(function(){return a.length>1},[a]),u=function(c,f,d,h,p,_){var y=De(c,3),m=y[0],b=y[1],w=y[2],S=me(me({},r.sortable,!!b),i.filterable,!!w),x=En(h)?h({col:f,colIndex:d}):void 0,E=h!==void 0?!!h:!!f.ellipsis;return Q.createElement("div",{className:et(S)},Q.createElement("div",{className:r.title},E?Q.createElement(OM,{placement:"bottom",attach:p?function(){return p}:void 0,popupContent:x,tooltipProps:Rn(h)==="object"?h:void 0,classPrefix:_==null?void 0:_.classPrefix,overlayClassName:_==null?void 0:_.ellipsisOverlayClassName},m):Q.createElement("div",null,m),!!(b||w)&&Q.createElement("div",{className:i.iconWrap},b,w)))};return{thList:a,isMultipleHeader:s,spansAndLeafNodes:o,renderTitleWidthIcon:u}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9(t){var e=t.columnResizeParams,n=t.classPrefix,r=t.showColumnShadow,i=D.useRef(null),o=bl(),a=o.tableHeaderClasses,s=o.tableBaseClass,u=[a.header,me(me(me({},a.fixed,!!(t.maxHeight||t.height)),s.bordered,t.bordered&&t.isMultipleHeader),a.multipleHeader,t.isMultipleHeader)],l=D.useMemo(function(){for(var d={},h=t.thList[0],p=0,_=h.length;p<_;p++){var y=h[p];if(y.colspan>1)for(var m=p+1;m<p+y.colspan;m++)h[m]&&(d[h[m].colKey]=!0)}return d},[t.thList]),c=function(h){for(var p=h;p;){var _;if(p=p.parentNode,(_=p)!==null&&_!==void 0&&(_=_.classList)!==null&&_!==void 0&&_.contains("".concat(t.classPrefix,"-table")))break}return p},f=function(h,p){var _=new Map,y=t.spansAndLeafNodes.rowspanAndColspanMap;return t.thList.map(function(m,b){var w=m.map(function(S,x){var E;if(l[S.colKey])return null;var M=y.get(S);if(x===0&&M.rowspan>1)for(var O=b+1;O<b+M.rowspan;O++)_.set(t.thList[O][0],!0);var C=Ek(S,x,h,o.tableColFixedClasses),T={col:S,colIndex:x,row:{},rowIndex:-1},P=r.left&&S.fixed==="left",N=r.right&&S.fixed==="right",H=t.thDraggable&&!(P||N),B=KL(S.className,gc(gc({},T),{},{type:"th"})),k=KL(S.thClassName,T),j=[C.classes,B,k,me(me(me(me({},a.thBordered,_.get(S)),"".concat(n,"-table__th-").concat(S.colKey),S.colKey),o.tdAlignClasses[S.align],S.align&&S.align!=="left"),o.tableDraggableClasses.dragSortTh,H)],$=!((E=S.children)!==null&&E!==void 0&&E.length),F=$&&p!==null&&p!==void 0&&p[S.colKey]?"".concat(p==null?void 0:p[S.colKey],"px"):void 0,R=gc(gc({},C.style||{}),{},{width:F}),L=xk(S,x);if(!S.colKey)return null;var W=t.resizable||!H?{onMouseDown:function(ie){if(t.resizable){var ce;e==null||(ce=e.onColumnMousedown)===null||ce===void 0||ce.call(e,ie,S,x)}if(!H)var ve=setTimeout(function(){var xe,he=i.current.querySelectorAll("th");(xe=he[x])===null||xe===void 0||xe.removeAttribute("draggable"),clearTimeout(ve)},10)},onMouseMove:function(ie){var ce;t.resizable&&(e==null||(ce=e.onColumnMouseover)===null||ce===void 0||ce.call(e,ie,S))}}:{},Z=En(S.ellipsisTitle)?S.ellipsisTitle({col:S,colIndex:x}):void 0,ee=S.ellipsisTitle!==void 0?!!S.ellipsisTitle:!!S.ellipsis,oe=(En(S.attrs)?S.attrs(gc(gc({},T),{},{type:"th"})):S.attrs)||{};return S.colspan>1&&(oe.colSpan=S.colspan),Q.createElement("th",gc(gc(gc({key:S.colKey,"data-colkey":S.colKey,className:et(j),style:R},{rowSpan:M.rowspan,colSpan:M.colspan}),oe),W),Q.createElement("div",{className:s.thCellInner},ee?Q.createElement(OM,{placement:"bottom",attach:i.current?function(){return c(i.current)}:void 0,popupContent:Z,tooltipProps:Rn(S.ellipsisTitle)==="object"?S.ellipsisTitle:void 0,overlayClassName:t.ellipsisOverlayClassName,classPrefix:t.classPrefix},L):L))});return Q.createElement("tr",{key:b},w)})};return Q.createElement("thead",{ref:i,className:et(u)},f(t.rowAndColFixedPosition,t.thWidthList))}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var aHe={bordered:!1,columns:[],data:[],disableDataPage:!1,empty:"",footData:[],footerAffixedBottom:!1,headerAffixedTop:!1,hover:!1,lazyLoad:!1,loading:void 0,resizable:!1,rowKey:"id",showHeader:!0,size:"medium",stripe:!1,tableLayout:"fixed",verticalAlign:"middle"},sHe={columnControllerVisible:void 0,columns:[],expandIcon:!0,defaultExpandedRowKeys:[],multipleSort:!1,reserveSelectedRowOnPaginate:!0,defaultSelectedRowKeys:[],showSortColumnBgColor:!1,sortOnRowDraggable:!1};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function lHe(t,e){var n=e.showElement,r=D.useRef(null),i=D.useRef(null),o=D.useRef(null),a=D.useRef(null),s=D.useRef(null),u=D.useState(!0),l=De(u,2),c=l[0],f=l[1],d=D.useState(!0),h=De(d,2),p=h[0],_=h[1],y=D.useState(!0),m=De(y,2),b=m[0],w=m[1],S=D.useMemo(function(){return t.scroll&&t.scroll.type==="virtual"&&(t.scroll.threshold||100)<t.data.length},[t.data.length,t.scroll]),x=D.useMemo(function(){return!!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom)},[t.footerAffixedBottom,t.headerAffixedTop,t.horizontalScrollAffixedBottom]),E=0,M=function(xe){if(!(!x&&!S)){var he=xe;if(!he&&r.current&&(E=0,he=r.current),!!he){var we=he.scrollLeft;if(E!==we){E=we;for(var ne=[r.current,i.current,o.current,a.current],Me=0,Ce=ne.length;Me<Ce;Me++)ne[Me]&&xe!==ne[Me]&&(ne[Me].scrollLeft=we)}}}},O=function(xe,he,we){return he.top+we<xe.top&&xe.top>xe.height},C=function(xe){return typeof xe=="boolean"?0:xe.offsetTop||0},T=function(){var xe,he,we;if(!(!x&&!S)){var ne=(xe=r.current)===null||xe===void 0?void 0:xe.getBoundingClientRect();if(ne){var Me=(he=r.current)===null||he===void 0||(he=he.querySelector("thead"))===null||he===void 0?void 0:he.getBoundingClientRect(),Ce=(Me==null?void 0:Me.height)||0,K=(we=o.current)===null||we===void 0?void 0:we.getBoundingClientRect();if((t.headerAffixedTop||S)&&i.current){var U=C(t.headerAffixProps||t.headerAffixedTop),G=(K==null?void 0:K.height)||0,te=Math.abs(ne.top)<ne.height-Ce-U-G;S&&(te=ne.top>-1*Me.height),f(te)}if(t.footerAffixedBottom&&o.current){var q=O(K,ne,Ce);_(q)}else if(t.horizontalScrollAffixedBottom&&a.current){var V=a.current.getBoundingClientRect(),ae=O(V,ne,Ce);_(ae)}if(t.paginationAffixedBottom&&s.current){var Ae=s.current.getBoundingClientRect(),Oe=O(Ae,ne,Ce);w(Oe)}}}},P=function(){T()},N=function(){M(o.current)},H=function(){M(i.current)},B=function(){M(a.current)},k=function(){M(r.current)},j=function(){yr(o.current,"scroll",N)},$=function(){ur(o.current,"scroll",N)},F=function(){yr(i.current,"scroll",H)},R=function(){ur(i.current,"scroll",H)},L=function(){yr(a.current,"scroll",B)},W=function(){ur(a.current,"scroll",B)},Z=function(){yr(r.current,"scroll",k)},ee=function(){ur(r.current,"scroll",k)},oe=function(){i.current&&(yr(i.current,"mouseenter",F),yr(i.current,"mouseleave",R)),t.footerAffixedBottom&&o.current&&(yr(o.current,"mouseenter",j),yr(o.current,"mouseleave",$)),t.horizontalScrollAffixedBottom&&a.current&&(yr(a.current,"mouseenter",L),yr(a.current,"mouseleave",W)),(x||S)&&r.current&&(yr(r.current,"mouseenter",Z),yr(r.current,"mouseleave",ee))},pe=function(){i.current&&(ur(i.current,"mouseenter",F),ur(i.current,"mouseleave",R)),o.current&&(ur(o.current,"mouseenter",j),ur(o.current,"mouseleave",$)),r.current&&(ur(r.current,"mouseenter",Z),ur(r.current,"mouseleave",ee)),a.current&&(ur(a.current,"mouseenter",L),ur(a.current,"mouseleave",W))},ie=function(){if(!(typeof document>"u")&&!(!x&&!t.paginationAffixedBottom))var xe=setTimeout(function(){x||t.paginationAffixedBottom?yr(document,"scroll",P):ur(document,"scroll",P),clearTimeout(xe)})};D.useEffect(function(){var ve=setTimeout(function(){oe(),M(),T(),clearTimeout(ve)});return pe},[i,o,a,r,n]),D.useEffect(function(){return ie(),function(){ur(document,"scroll",P)}},[x]),D.useEffect(function(){oe(),M()},[t.data,t.columns,t.headerAffixedTop,t.footerAffixedBottom,t.horizontalScrollAffixedBottom,t.lazyLoad]);var ce=function(xe){r.current=xe,ie()};return{showAffixHeader:c,showAffixFooter:p,showAffixPagination:b,affixHeaderRef:i,affixFooterRef:o,horizontalScrollbarRef:a,paginationRef:s,onHorizontalScroll:M,setTableContentRef:ce,updateAffixHeaderOrFooter:T}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var uHe=80,cHe=600,Q9=8,fHe=2,eW,tW;function dHe(t){var e=t.isWidthOverflow,n=t.tableContentRef,r=t.showColumnShadow,i=t.getThWidthList,o=t.updateThWidthList,a=t.setTableElmWidth,s=t.updateTableAfterColumnResize,u=t.onColumnResizeChange,l=D.useRef(null),c=D.useRef({}),f=D.useState([]),d=De(f,2),h=d[0],p=d[1];D.useEffect(function(){var k=typeof document<"u";eW=k?document.onselectstart:null,tW=k?document.ondragstart:null},[]);var _=function(j,$,F){for(var R=$;j[R]&&j[R].resizable===!1;)F==="next"?R+=1:R-=1;return j[R]},y=function(j,$){j&&(p(j),j.forEach(function(F,R){var L=_(j,R-1,"prev"),W=_(j,R+1,"next"),Z=$?c.current[$.colKey].prev:W,ee=$?c.current[$.colKey].next:L,oe=R===0?Z:L,pe=R===j.length-1?ee:W;c.current[F.colKey]={prev:oe,next:pe,current:{prevSibling:_(j,R-1,"prev"),nextSibling:_(j,R+1,"next")}},y(F.children,F)}))},m={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:"next",resizeLineStyle:{}},b=D.useState({display:"none",left:"10px",height:"10px",bottom:"0"}),w=De(b,2),S=w[0],x=w[1],E=function(j){return j.fixed==="right"&&r.right},M=function(j,$){var F,R=(F=$.resizable)!==null&&F!==void 0?F:!0;if(!(!l.current||m.isDragging||!j.target)){var L=j.target.closest("th");if(L){var W=L.getAttribute("data-colkey");if(h.find(function(ve){return ve.colKey===W})){var Z=L.getBoundingClientRect(),ee=Z.right-j.pageX<=Q9,oe=j.pageX-Z.left<=Q9,pe=E($);if(ee||pe){if(R){L.style.cursor=ee||pe&&oe?"col-resize":"";var ie=ee&&!pe||pe&&oe;m.draggingCol=ie?L:L.nextElementSibling,m.effectCol="next";return}}else if(oe){var ce=L.previousElementSibling;if(ce&&R){L.style.cursor="col-resize",m.draggingCol=ce,m.effectCol="prev";return}}L.style.cursor="",m.draggingCol=null,m.effectCol=null}}}},O=function(j){var $,F,R=ca(j==null?void 0:j.minWidth)?j.minWidth:parseInt((j==null?void 0:j.minWidth)||"0",10);return{minColWidth:Math.max((j==null||($=j.resize)===null||$===void 0?void 0:$.minWidth)||uHe,R),maxColWidth:(j==null||(F=j.resize)===null||F===void 0?void 0:F.maxWidth)||cHe}},C=function(j,$,F,R){var L=F.right-R.left,W=F.left-R.left,Z=m.effectCol==="next"?j:$,ee=O(Z),oe=ee.minColWidth,pe=ee.maxColWidth;return{resizeLinePos:L,minResizeLineLeft:W+oe,maxResizeLineLeft:W+pe}},T=function(j,$,F,R,L){var W=R.left-L.left,Z=j.dataset.colkey===$.colKey?$:F,ee=R.left-L.left,oe=O(Z),pe=oe.minColWidth,ie=oe.maxColWidth;return{resizeLinePos:W,minResizeLineLeft:ee+(R.width-ie),maxResizeLineLeft:ee+(R.width-pe)}},P=function(j){var $=0;return h.forEach(function(F){$+=j[F.colKey]}),$},N=function(j,$,F,R){var L=!0;if($){var W=O($),Z=W.minColWidth,ee=W.maxColWidth,oe=j[$.colKey]+F;L=oe<Z||oe>ee}return!(L||e||R===h.length-1)},H=function(j,$,F){var R,L,W;if(!(j.button===fHe||!m.draggingCol)){var Z=m.draggingCol,ee=Z.getBoundingClientRect(),oe=(R=n.current)===null||R===void 0?void 0:R.getBoundingClientRect(),pe=(L=c.current[$.colKey])===null||L===void 0?void 0:L.next,ie=(W=c.current[$.colKey])===null||W===void 0?void 0:W.prev,ce=E($)?T(Z,$,pe,ee,oe):C($,ie,ee,oe),ve=ce.resizeLinePos,xe=ce.minResizeLineLeft,he=ce.maxResizeLineLeft;if(m.isDragging=!0,m.draggingStart=j.pageX||0,l!=null&&l.current){var we=Wm({},S);we.display="block",we.height="".concat(oe.bottom-ee.top,"px"),we.left="".concat(ve,"px");var ne=n.current.parentElement.getBoundingClientRect();we.bottom="".concat(ne.bottom-oe.bottom,"px"),x(we),m.resizeLineStyle=we}var Me=function(U){if(m.isDragging){var G=ve+U.x-m.draggingStart,te=Wm(Wm({},m.resizeLineStyle),{},{left:"".concat(Math.min(Math.max(G,xe),he),"px")});m.resizeLineStyle=te,x(te)}},Ce=function(){var U,G;if(m.isDragging){var te=ve-(parseFloat(String(((U=m.resizeLineStyle)===null||U===void 0?void 0:U.left)||""))||0),q=i("calculate"),V=(G=c.current[$.colKey])===null||G===void 0?void 0:G.current,ae=m.effectCol==="next"?V.prevSibling:V.nextSibling,Ae=Wm({},q),Oe=P(Ae),Te=$.resizable!==!1?$:ae,Ue=m.effectCol==="next"?V.nextSibling:$,Be=N(Ae,Ue,te,F);m.effectCol==="next"?E($)?Z.dataset.colkey!==$.colKey?Ae[pe.colKey]+=te:Ae[Te.colKey]+=te:(Ae[Te.colKey]-=te,Be&&(Ae[pe.colKey]+=te)):m.effectCol==="prev"&&(Be&&(Ae[Te.colKey]+=te),ie&&(Ae[ie.colKey]-=te)),o(Ae);var Qe=P(Ae);pe!=null&&pe.colKey?a(Math.round(Qe)):a(Math.max(Oe,Math.round(Qe))),s(),m.isDragging=!1,m.draggingCol=null,m.effectCol=null,m.resizeLineStyle=null,Z.style.cursor="",x(Wm(Wm({},S),{},{display:"none",left:void 0})),ur(document,"mouseup",Ce),ur(document,"mousemove",Me),document.onselectstart=eW,document.ondragstart=tW,u==null||u({columnsWidth:Ae})}};yr(document,"mouseup",Ce),yr(document,"mousemove",Me),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},B=function(j){var $=i("calculate"),F=0;j.forEach(function(L){F+=$[L]||0});var R=Object.values($).reduce(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1?arguments[1]:void 0;return L+W});a(R-F)};return{resizeLineRef:l,resizeLineStyle:S,onColumnMouseover:M,onColumnMousedown:H,setEffectColMap:y,updateTableWidthOnColumnChange:B}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function hHe(t){var e=ln(),n=e.classPrefix;return Q.createElement("svg",{style:t.style,className:et("".concat(n,"-fake-arrow"),me({},"".concat(n,"-fake-arrow--active"),(t==null?void 0:t.isActive)&&!(t!=null&&t.disabled)),t==null?void 0:t.className),width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black",strokeOpacity:"0.9",strokeWidth:"1.3"}))}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var pHe={allowInput:!1,autoWidth:!1,autofocus:!1,borderless:!1,clearable:!1,loading:!1,minCollapsedNum:0,multiple:!1,readonly:!1,readOnly:!1,reserveKeyword:!1,status:"default"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var mHe=typeof window<"u"?Q.useInsertionEffect||Q.useLayoutEffect:Uo;function vHe(){throw new Error("INVALID_USEEVENTCALLBACK_INVOCATION: the callback from useEventCallback cannot be invoked before the component has mounted.")}function gHe(t){var e=Q.useRef(vHe);mHe(function(){e.current=t},[t]);var n=Q.useRef(null);return n.current||(n.current=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.current.apply(this,i)}),n.current}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function yHe(t){var e=t.sortOnDraggable,n=t.onDragSort,r=t.onDragOverCheck,i=D.useState(-1),o=De(i,2),a=o[0],s=o[1],u=D.useState(null),l=De(u,2),c=l[0],f=l[1],d=D.useState(null),h=De(d,2);h[0];var p=h[1],_=D.useState({nodeX:0,nodeWidth:0,mouseX:0}),y=De(_,2),m=y[0],b=y[1],w=gHe(n),S=D.useCallback(function(C,T,P){var N;if(C.preventDefault(),!(a===T||a===-1)&&!(r!=null&&r.targetClassNameRegExp&&!(r!=null&&r.targetClassNameRegExp.test((N=C.target)===null||N===void 0?void 0:N.className)))){if(r!=null&&r.x){if(!m.nodeWidth)return;var H=C.target.getBoundingClientRect(),B=H.x,k=H.width,j=B+k/2,$=C.clientX||0,F=$-(m.mouseX-m.nodeX),R=F+m.nodeWidth,L=!1;if(F>B&&F<B+k?L=F<j:L=R>j,!L)return}w({currentIndex:a,current:c,target:P,targetIndex:T}),s(T)}},[a,r==null?void 0:r.targetClassNameRegExp,r==null?void 0:r.x,c,m.nodeWidth,m.mouseX,m.nodeX,w]);if(!e)return{};function x(C,T,P){if(s(T),f(P),r){var N=C.target.getBoundingClientRect(),H=N.x,B=N.width;b({nodeX:H,nodeWidth:B,mouseX:C.clientX||0})}}function E(){p(!0)}function M(){p(!1),s(-1),f(null)}function O(C,T){return e?{draggable:!0,onDragStart:function(N){x(N,C,T)},onDragOver:function(N){S(N,C,T)},onDrop:function(){E()},onDragEnd:function(){M()}}:{}}return{onDragStart:x,onDragOver:S,onDrop:E,onDragEnd:M,getDragProps:O,dragging:a!==-1}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var _He={autoWidth:!1,borderless:!1,clearable:!1,dragSort:!1,excessTagsDisplayType:"break-line",defaultInputValue:"",minCollapsedNum:0,placeholder:void 0,readonly:!1,readOnly:!1,size:"medium",defaultValue:[]};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function bHe(t){var e=t.disabled,n=t.onMouseenter,r=t.onMouseleave,i=t.readOnly||t.readonly,o=D.useState(!1),a=De(o,2),s=a[0],u=a[1],l=function(d){i||e||(u(!0),n==null||n(d))},c=function(d){i||e||(u(!1),r==null||r(d))};return{isHover:s,addHover:l,cancelHover:c}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function MC(t){"@babel/helpers - typeof";return MC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MC(t)}var wHe=/^\s+/,SHe=/\s+$/;function nn(t,e){if(t=t||"",e=e||{},t instanceof nn)return t;if(!(this instanceof nn))return new nn(t,e);var n=EHe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}nn.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,a,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=Hre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=rW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=rW(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=nW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=nW(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return iW(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return THe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round($r(this._r,255)*100)+"%",g:Math.round($r(this._g,255)*100)+"%",b:Math.round($r(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round($r(this._r,255)*100)+"%, "+Math.round($r(this._g,255)*100)+"%, "+Math.round($r(this._b,255)*100)+"%)":"rgba("+Math.round($r(this._r,255)*100)+"%, "+Math.round($r(this._g,255)*100)+"%, "+Math.round($r(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:UHe[iW(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+oW(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=nn(e);r="#"+oW(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return nn(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(RHe,arguments)},brighten:function(){return this._applyModification(PHe,arguments)},darken:function(){return this._applyModification(DHe,arguments)},desaturate:function(){return this._applyModification(MHe,arguments)},saturate:function(){return this._applyModification(OHe,arguments)},greyscale:function(){return this._applyModification(IHe,arguments)},spin:function(){return this._applyModification(LHe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(FHe,arguments)},complement:function(){return this._applyCombination(NHe,arguments)},monochromatic:function(){return this._applyCombination(kHe,arguments)},splitcomplement:function(){return this._applyCombination(BHe,arguments)},triad:function(){return this._applyCombination(aW,[3])},tetrad:function(){return this._applyCombination(aW,[4])}};nn.fromRatio=function(t,e){if(MC(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=l_(t[r]));t=n}return nn(t,e)};function EHe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=zHe(t)),MC(t)=="object"&&(yc(t.r)&&yc(t.g)&&yc(t.b)?(e=xHe(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):yc(t.h)&&yc(t.s)&&yc(t.v)?(r=l_(t.s),i=l_(t.v),e=CHe(t.h,r,i),a=!0,s="hsv"):yc(t.h)&&yc(t.s)&&yc(t.l)&&(r=l_(t.s),o=l_(t.l),e=AHe(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Hre(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function xHe(t,e,n){return{r:$r(t,255)*255,g:$r(e,255)*255,b:$r(n,255)*255}}function nW(t,e,n){t=$r(t,255),e=$r(e,255),n=$r(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4;break}o/=6}return{h:o,s:a,l:s}}function AHe(t,e,n){var r,i,o;t=$r(t,360),e=$r(e,100),n=$r(n,100);function a(l,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?l+(c-l)*6*f:f<1/2?c:f<2/3?l+(c-l)*(2/3-f)*6:l}if(e===0)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function rW(t,e,n){t=$r(t,255),e=$r(e,255),n=$r(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=r,u=r-i;if(a=r===0?0:u/r,r==i)o=0;else{switch(r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4;break}o/=6}return{h:o,s:a,v:s}}function CHe(t,e,n){t=$r(t,360)*6,e=$r(e,100),n=$r(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6,l=[n,a,o,o,s,n][u],c=[s,n,n,a,o,o][u],f=[o,o,s,n,n,a][u];return{r:l*255,g:c*255,b:f*255}}function iW(t,e,n,r){var i=[Ql(Math.round(t).toString(16)),Ql(Math.round(e).toString(16)),Ql(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function THe(t,e,n,r,i){var o=[Ql(Math.round(t).toString(16)),Ql(Math.round(e).toString(16)),Ql(Math.round(n).toString(16)),Ql($re(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function oW(t,e,n,r){var i=[Ql($re(r)),Ql(Math.round(t).toString(16)),Ql(Math.round(e).toString(16)),Ql(Math.round(n).toString(16))];return i.join("")}nn.equals=function(t,e){return!t||!e?!1:nn(t).toRgbString()==nn(e).toRgbString()};nn.random=function(){return nn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function MHe(t,e){e=e===0?0:e||10;var n=nn(t).toHsl();return n.s-=e/100,n.s=IM(n.s),nn(n)}function OHe(t,e){e=e===0?0:e||10;var n=nn(t).toHsl();return n.s+=e/100,n.s=IM(n.s),nn(n)}function IHe(t){return nn(t).desaturate(100)}function RHe(t,e){e=e===0?0:e||10;var n=nn(t).toHsl();return n.l+=e/100,n.l=IM(n.l),nn(n)}function PHe(t,e){e=e===0?0:e||10;var n=nn(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),nn(n)}function DHe(t,e){e=e===0?0:e||10;var n=nn(t).toHsl();return n.l-=e/100,n.l=IM(n.l),nn(n)}function LHe(t,e){var n=nn(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,nn(n)}function NHe(t){var e=nn(t).toHsl();return e.h=(e.h+180)%360,nn(e)}function aW(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=nn(t).toHsl(),r=[nn(t)],i=360/e,o=1;o<e;o++)r.push(nn({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function BHe(t){var e=nn(t).toHsl(),n=e.h;return[nn(t),nn({h:(n+72)%360,s:e.s,l:e.l}),nn({h:(n+216)%360,s:e.s,l:e.l})]}function FHe(t,e,n){e=e||6,n=n||30;var r=nn(t).toHsl(),i=360/n,o=[nn(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(nn(r));return o}function kHe(t,e){e=e||6;for(var n=nn(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(nn({h:r,s:i,v:o})),o=(o+s)%1;return a}nn.mix=function(t,e,n){n=n===0?0:n||50;var r=nn(t).toRgb(),i=nn(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return nn(a)};nn.readability=function(t,e){var n=nn(t),r=nn(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};nn.isReadable=function(t,e,n){var r=nn.readability(t,e),i,o;switch(o=!1,i=GHe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};nn.mostReadable=function(t,e,n){var r=null,i=0,o,a,s,u;n=n||{},a=n.includeFallbackColors,s=n.level,u=n.size;for(var l=0;l<e.length;l++)o=nn.readability(t,e[l]),o>i&&(i=o,r=nn(e[l]));return nn.isReadable(t,r,{level:s,size:u})||!a?r:(n.includeFallbackColors=!1,nn.mostReadable(t,["#fff","#000"],n))};var XL=nn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},UHe=nn.hexNames=jHe(XL);function jHe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Hre(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function $r(t,e){HHe(t)&&(t="100%");var n=$He(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function IM(t){return Math.min(1,Math.max(0,t))}function Za(t){return parseInt(t,16)}function HHe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function $He(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ql(t){return t.length==1?"0"+t:""+t}function l_(t){return t<=1&&(t=t*100+"%"),t}function $re(t){return Math.round(parseFloat(t)*255).toString(16)}function sW(t){return Za(t)/255}var Ul=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function yc(t){return!!Ul.CSS_UNIT.exec(t)}function zHe(t){t=t.replace(wHe,"").replace(SHe,"").toLowerCase();var e=!1;if(XL[t])t=XL[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ul.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ul.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ul.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ul.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ul.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ul.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ul.hex8.exec(t))?{r:Za(n[1]),g:Za(n[2]),b:Za(n[3]),a:sW(n[4]),format:e?"name":"hex8"}:(n=Ul.hex6.exec(t))?{r:Za(n[1]),g:Za(n[2]),b:Za(n[3]),format:e?"name":"hex"}:(n=Ul.hex4.exec(t))?{r:Za(n[1]+""+n[1]),g:Za(n[2]+""+n[2]),b:Za(n[3]+""+n[3]),a:sW(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ul.hex3.exec(t))?{r:Za(n[1]+""+n[1]),g:Za(n[2]+""+n[2]),b:Za(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function GHe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var WHe={closable:!1,disabled:!1,icon:void 0,shape:"square",size:"medium",theme:"default",variant:"dark"},VHe={disabled:!1,size:"medium"},qHe={multiple:!1,defaultValue:[]};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var KHe=["theme","size","shape","variant","closable","maxWidth","icon","content","onClick","onClose","className","style","disabled","children","color","title"];function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zre=function(e,n){var r=mr(e,WHe),i=r.theme,o=r.size,a=r.shape,s=r.variant,u=r.closable,l=r.maxWidth,c=r.icon,f=r.content,d=r.onClick,h=d===void 0?Uo:d,p=r.onClose,_=p===void 0?Uo:p,y=r.className,m=r.style,b=r.disabled,w=r.children,S=r.color,x=r.title,E=zi(r,KHe),M=ln(),O=M.classPrefix,C=M.tag,T="".concat(O,"-tag"),P=so({CloseIcon:Dw}),N=P.CloseIcon,H={large:"".concat(O,"-size-l"),small:"".concat(O,"-size-s")},B=et(T,"".concat(T,"--").concat(i),"".concat(T,"--").concat(s),me(me(me({},"".concat(T,"--").concat(a),a!=="square"),"".concat(T,"--ellipsis"),!!l),"".concat(T,"--disabled"),b),H[o],y),k=function(){var Z=C!=null&&C.closeIcon?C.closeIcon:Q.createElement(N,null);if(Q.isValidElement(Z)){var ee,oe=Z;return Q.cloneElement(oe,{onClick:function(ie){var ce,ve;b||((ce=oe.props)===null||ce===void 0||(ve=ce.onClick)===null||ve===void 0||ve.call(ce,ie),_({e:ie}))},className:et((ee=oe.props)===null||ee===void 0?void 0:ee.className,"".concat(T,"__icon-close"))})}},j=D.useMemo(function(){if(Reflect.has(r,"title"))return x;if(w&&typeof w=="string")return w;if(f&&typeof f=="string")return f},[w,f,r,x]),$=j?{title:j}:void 0,F=D.useMemo(function(){if(!S)return m;var W=nn(S).getLuminance(),Z={};if(Z.color=W>.5?"black":"white",(s==="outline"||s==="light-outline")&&(Z.borderColor=S),s!=="outline"){var ee=function(){var pe=nn(S).toRgb(),ie=pe.r,ce=pe.g,ve=pe.b;return"rgba(".concat(ie,", ").concat(ce,", ").concat(ve,", 0.1)")};Z.backgroundColor=s==="dark"?S:ee()}return s!=="dark"&&(Z.color=S),qS(qS({},Z),m)},[S,s,m]),R=D.useMemo(function(){return l?{maxWidth:isNaN(Number(l))?String(l):"".concat(l,"px")}:{}},[l]),L=Q.createElement("div",qS({ref:n,className:B,onClick:function(Z){b||h({e:Z})},style:F},E),Q.createElement(Q.Fragment,null,c,Q.createElement("span",qS({className:l?"".concat(T,"--text"):void 0,style:R},$),w??f),u&&!b&&Q.createElement(k,null)));return L},Gre=D.forwardRef(zre);Gre.displayName="Tag";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var XHe=["value","content","onClick","disabled","children","size","checkedProps","uncheckedProps","onChange","className"];function uW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ak=D.forwardRef(function(t,e){var n=mr(t,VHe),r=n.value,i=n.content,o=n.onClick,a=o===void 0?Uo:o,s=n.disabled,u=n.children,l=n.size,c=n.checkedProps,f=n.uncheckedProps,d=n.onChange,h=n.className,p=zi(n,XHe),_=Mr(n,"checked",d),y=De(_,2),m=y[0],b=y[1],w=ln(),S=w.classPrefix,x="".concat(S,"-tag"),E=D.useMemo(function(){return["".concat(x),"".concat(x,"--check"),me(me(me(me({},"".concat(x,"--checked"),m),"".concat(x,"--disabled"),s),"".concat(S,"-size-s"),l==="small"),"".concat(S,"-size-l"),l==="large"),h]},[m,s,S,x,l,h]),M=D.useMemo(function(){var N=KS({theme:"primary"},c),H=KS({},f);return m?N:H},[m,c,f]),O=function(H){var B=H.e;s||(a==null||a({e:B}),b(!m,{e:B,value:r}))},C=function(H){var B,k=H.code||((B=H.key)===null||B===void 0?void 0:B.trim()),j=e6e.test(k)||t6e.test(k);j&&(H.preventDefault(),b(!m,{e:H,value:r}))},T=function(H){H.currentTarget.addEventListener("keydown",C)},P=function(H){H.currentTarget.removeEventListener("keydown",C)};return Q.createElement(Gre,KS(KS({ref:e,className:et(E),disabled:n.disabled,tabIndex:n.disabled?void 0:0,onFocus:T,onBlur:P},M),{},{onClick:O},p),i||u)});Ak.displayName="CheckTag";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Wre=function(e){var n=mr(e,qHe),r=n.options,i=n.onChange,o=ln(),a=o.classPrefix,s="".concat(a,"-check-tag-group"),u=Mr(n,"value",i),l=De(u,2),c=l[0],f=l[1],d=function(p,_){var y=_.value;if(p)n.multiple?f(c.concat(y),{e:_.e,type:"check",value:y}):f([y],{e:_.e,type:"check",value:y});else{var m=[];n.multiple&&(m=c.filter(function(b){return b!==y})),f(m,{e:_.e,type:"uncheck",value:y})}};return Q.createElement("div",{className:s},r==null?void 0:r.map(function(h){var p,_;return Q.createElement(Ak,{key:h.value,value:h.value,"data-value":h.value,checkedProps:n.checkedProps,uncheckedProps:n.uncheckedProps,checked:c.includes(h.value),onChange:d,disabled:h.disabled,size:h.size},(p=(_=h.content)!==null&&_!==void 0?_:h.children)!==null&&p!==void 0?p:h.label)}))};Wre.displayName="CheckTagGroup";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var e0=P0(zre,{CheckTag:Ak,CheckTagGroup:Wre});e0.displayName="Tag";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function cW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JHe(t){var e=ln(),n=e.classPrefix,r=t.onRemove,i=t.max,o=t.minCollapsedNum,a=t.size,s=t.disabled,u=t.tagProps,l=t.tag,c=t.collapsedItems,f=t.getDragProps,d=t.readOnly||t.readonly,h=Mr(t,"value",t.onChange),p=De(h,2),_=p[0],y=p[1],m=D.useState(),b=De(m,2);b[0];var w=b[1],S=function(P){var N=xn(_),H=N.splice(P.index,1),B=De(H,1),k=B[0];y(N,_c(_c({trigger:"tag-remove"},P),{},{item:k})),r==null||r(_c(_c({},P),{},{item:k,trigger:"tag-remove",value:N}))},x=function(P){y([],{trigger:"clear",e:P.e})},E=function(P,N){var H,B=P?String(P).trim():"",k=_,j=i&&(_==null?void 0:_.length)>=i;B&&!j&&(k=_ instanceof Array?_.concat(String(B)):[B],y(k,{trigger:"enter",index:k.length-1,item:B,e:N.e})),t==null||(H=t.onEnter)===null||H===void 0||H.call(t,k,_c(_c({},N),{},{inputValue:P}))},M=function(P){!_||!_.length||w(P)},O=function(P,N){var H=N.e;if(!(!_||!_.length||d)&&!P&&["Backspace","NumpadDelete"].includes(H.key)){var B=_.length-1,k=_[B],j="backspace",$=_.slice(0,-1);y($,{e:H,index:B,item:k,trigger:j}),r==null||r({e:H,index:B,item:k,trigger:j,value:$})}},C=function(P){var N=P.displayNode,H=P.label,B=o?_.slice(0,o):_,k=N?[Q.createElement(D.Fragment,{key:"display-node"},N)]:B==null?void 0:B.map(function(L,W){var Z=En(l)?l({value:L}):l;return Q.createElement(e0,_c(_c({key:W,size:a,disabled:s,onClose:function(oe){return S({e:oe.e,index:W})},closable:!d&&!s},f==null?void 0:f(W,L)),u),Z??L)});if(H&&(k==null||k.unshift(Q.createElement("div",{className:"".concat(n,"-tag-input__prefix"),key:"label"},H))),B.length!==_.length){var j=_.length-B.length,$=Array.isArray(t==null?void 0:t.options)?t.options:_,F={value:_,count:_.length-o,collapsedTags:_.slice(o,_.length),collapsedSelectedItems:$.slice(o,_.length),onClose:S},R=En(c)?c(F):c;k.push(Q.createElement(D.Fragment,{key:"more"},R??Q.createElement(e0,_c({size:a},u),"+",j)))}return k};return{tagValue:_,clearAll:x,onClose:S,onInnerEnter:E,onInputBackspaceKeyDown:O,onInputBackspaceKeyUp:M,renderLabel:C}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var XS=null;function YHe(t){var e=t.excessTagsDisplayType,n=e===void 0?"scroll":e,r=t.disabled,i=t.readOnly||t.readonly,o=D.useRef(null),a=D.useState(0),s=De(a,2),u=s[0],l=s[1],c=D.useState(),f=De(c,2),d=f[0],h=f[1],p=function(C){var T=C.children[0];h(T)},_=function(){d&&l(d.scrollWidth-d.clientWidth)},y=function(C){En(d==null?void 0:d.scroll)&&d.scroll({left:C,behavior:"smooth"})},m=function(){_(),y(u)},b=function(){y(0)},w=function(C){var T=C.e;if(!(i||r)&&d)if(T.deltaX>0){var P=Math.min(d.scrollLeft+120,u);y(P)}else{var N=Math.max(d.scrollLeft-120,0);y(N)}},S=function(){n==="scroll"&&(XS=setTimeout(function(){m(),clearTimeout(XS)},100))},x=function(){n==="scroll"&&(y(0),clearTimeout(XS))},E=function(){clearTimeout(XS)},M=function(C){C&&p(C)};return D.useEffect(function(){var O;return M(o==null||(O=o.current)===null||O===void 0?void 0:O.currentElement),E},[]),{initScroll:M,clearScroll:E,tagInputRef:o,scrollElement:d,scrollDistance:u,scrollTo:y,scrollToRight:m,scrollToLeft:b,updateScrollElement:p,updateScrollDistance:_,onWheel:w,scrollToRightOnEnter:S,scrollToLeftOnLeave:x}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function fW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Vre=D.forwardRef(function(t,e){var n=mr(t,_He),r=ln(),i=r.classPrefix,o=so({CloseCircleFilledIcon:Pw}),a=o.CloseCircleFilledIcon,s=n.excessTagsDisplayType,u=n.autoWidth,l=n.borderless,c=n.disabled,f=n.clearable,d=n.placeholder,h=n.valueDisplay,p=n.label,_=n.inputProps,y=n.size,m=n.tips,b=n.status,w=n.suffixIcon,S=n.suffix,x=n.prefixIcon,E=n.maxRows,M=n.onClick,O=n.onPaste,C=n.onFocus,T=n.onBlur,P=n.readOnly||n.readonly,N=Mr(n,"inputValue",n.onInputChange),H=De(N,2),B=H[0],k=H[1],j=bHe(n),$=j.isHover,F=j.addHover,R=j.cancelHover,L=yHe(Rl(Rl({},n),{},{sortOnDraggable:n.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(i,"-tag"))}})),W=L.getDragProps,Z=D.useRef(!1),ee=YHe(n),oe=ee.scrollToRight,pe=ee.onWheel,ie=ee.scrollToRightOnEnter,ce=ee.scrollToLeftOnLeave,ve=ee.tagInputRef,xe=JHe(Rl(Rl({},n),{},{getDragProps:W})),he=xe.tagValue,we=xe.onClose,ne=xe.onInnerEnter,Me=xe.onInputBackspaceKeyUp,Ce=xe.clearAll,K=xe.renderLabel,U=xe.onInputBackspaceKeyDown,G="".concat(i,"-tag-input"),te="".concat(i,"-tag-input__with-suffix-icon"),q="".concat(i,"-tag-input__suffix-clear"),V="".concat(i,"-tag-input--break-line"),ae=he!=null&&he.length?"":d,Ae=!!(!P&&!c&&f&&$&&(he!=null&&he.length));D.useImperativeHandle(e,function(){return Rl({},ve.current||{})});var Oe=function(le,Ie){var He;Z.current=!0,_==null||(He=_.onCompositionstart)===null||He===void 0||He.call(_,le,Ie)},Te=function(le,Ie){var He;Z.current=!1,_==null||(He=_.onCompositionend)===null||He===void 0||He.call(_,le,Ie)},Ue=function(le,Ie){k("",{e:Ie.e,trigger:"enter"}),!Z.current&&ne(le,Ie),oe()},Be=function(le){if(!n.disabled&&!n.readonly){var Ie,He;(Ie=ve.current)===null||Ie===void 0||(Ie=Ie.inputElement)===null||Ie===void 0||(He=Ie.focus)===null||He===void 0||He.call(Ie)}M==null||M(le)},Qe=function(le){var Ie;Ce({e:le}),k("",{e:le,trigger:"clear"}),(Ie=n.onClear)===null||Ie===void 0||Ie.call(n,{e:le})},Ze=function(le,Ie){var He;U(le,Ie),_==null||(He=_.onKeydown)===null||He===void 0||He.call(_,le,Ie)},at=function(le,Ie){var He;Me(le),_==null||(He=_.onKeyup)===null||He===void 0||He.call(_,le,Ie)},ke=Ae?Q.createElement(a,{className:q,onClick:Qe}):w,Tt=D.useMemo(function(){return En(h)?h({value:he,onClose:function(le){return we({index:le})}}):h},[h]),Mt=!(Array.isArray(he)&&he.length),wt=[G,me(me(me(me(me(me({},V,s==="break-line"),te,!!ke),"".concat(i,"-is-empty"),Mt),"".concat(i,"-tag-input--with-tag"),!Mt),"".concat(i,"-tag-input--max-rows"),s==="break-line"&&E),"".concat(i,"-tag-input--drag-sort"),n.dragSort&&!c&&!P),n.className],ft=E?{"--max-rows":E,"--tag-input-size":y}:{};return Q.createElement(hd,Rl(Rl({ref:ve,value:B,onChange:function(le,Ie){k(le,Rl(Rl({},Ie),{},{trigger:"input"}))},autoWidth:!0,onWheel:pe,size:y,borderless:l,readOnly:P,disabled:c,label:K({displayNode:Tt,label:p}),className:et(wt),style:Rl(Rl({},n.style),ft),tips:m,status:b,placeholder:ae,suffix:S,prefixIcon:x,suffixIcon:ke,showInput:!(_!=null&&_.readonly)||!he||!(he!=null&&he.length),keepWrapperWidth:!u,onPaste:O,onClick:Be,onEnter:Ue,onMouseenter:function(le){F(le),ie()},onMouseleave:function(le){R(le),ce()},onFocus:function(le,Ie){C==null||C(he,{e:Ie.e,inputValue:le})},onBlur:function(le,Ie){B&&k("",{e:Ie.e,trigger:"blur"}),T==null||T(he,{e:Ie.e,inputValue:le})},onCompositionstart:Oe,onCompositionend:Te},_),{},{onKeydown:Ze,onKeyup:at}))});Vre.displayName="TagInput";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var ZHe=Vre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function dW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var QHe={label:"label",key:"key",children:"children"};function e$e(t){var e=t.value,n=t.readOnly||t.readonly,r=ln(),i=r.classPrefix,o=Mr(t,"inputValue",t.onInputChange),a=De(o,2),s=a[0],u=a[1],l=D.useRef(null),c=D.useRef(null),f=bc(bc({},QHe),t.keys),d=function(){return e instanceof Array?e.map(function(b){return qr(b)?b[f.label]:b}):["",null,void 0].includes(e)?[]:qr(e)?[e[f.label]]:[e]},h=d(),p=!h||!h.length?t.placeholder:"",_=function(b,w){var S;if(w.trigger==="tag-remove"){var x;(x=w.e)===null||x===void 0||x.stopPropagation()}(S=t.onTagChange)===null||S===void 0||S.call(t,b,w)},y=function(b){var w,S=function(M,O){c.current&&clearTimeout(c.current),c.current=setTimeout(function(){if(c.current){if(!b.popupVisible)b.onInnerBlur(O);else if(!t.panel){var C;(C=t.onBlur)===null||C===void 0||C.call(t,M,{e:O.e,inputValue:s,tagInputValue:h})}}c.current=null},150)},x=function(M,O){var C;c.current&&(clearTimeout(c.current),c.current=null),(C=t.onFocus)===null||C===void 0||C.call(t,t.value,bc(bc({},O),{},{tagInputValue:M}))};return Q.createElement(ZHe,bc(bc(bc({ref:l},b.commonInputProps),{},{autoWidth:t.autoWidth,readOnly:n,minCollapsedNum:t.minCollapsedNum,collapsedItems:t.collapsedItems,tag:t.tag,valueDisplay:t.valueDisplay,placeholder:p,options:t.options,value:h,inputValue:b.popupVisible&&b.allowInput?s:"",onChange:_,onInputChange:function(M,O){(O==null?void 0:O.trigger)==="enter"||(O==null?void 0:O.trigger)==="blur"||u(M,{trigger:O.trigger,e:O.e})},tagProps:t.tagProps,onClear:b.onInnerClear,onFocus:x,onBlur:S},t.tagInputProps),{},{inputProps:bc(bc({},t.inputProps),{},{readOnly:!t.allowInput||n,readonly:!t.allowInput||n,inputClass:et((w=t.tagInputProps)===null||w===void 0?void 0:w.className,me(me({},"".concat(i,"-input--focused"),b.popupVisible),"".concat(i,"-is-focused"),b.popupVisible))})}))};return{tags:h,tPlaceholder:p,tagInputRef:l,multipleInputValue:s,renderSelectMultiple:y}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function t$e(t){var e=ln(),n=e.classPrefix,r=function(o){var a,s,u;return!o||!(o instanceof Element)?!1:!!(o!=null&&(a=o.closest)!==null&&a!==void 0&&a.call(o,".".concat(n,"-input__suffix-clear"))||o!=null&&(s=o.closest)!==null&&s!==void 0&&s.call(o,".".concat(n,"-tag-input__suffix-clear"))||o!=null&&(u=o.closest)!==null&&u!==void 0&&u.call(o,".".concat(n,"-range-input__suffix-clear")))};return function(i,o){var a;r(o==null||(a=o.e)===null||a===void 0?void 0:a.target)&&i||t(i,o)}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function hW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var r$e=1e3;function i$e(t,e){var n=t.popupProps,r=t.autoWidth,i=t.disabled,o=t.onPopupVisibleChange,a=t.allowInput,s=t.readOnly||t.readonly,u=Mr(t,"popupVisible",o),l=De(u,2),c=l[0],f=l[1],d=D.useRef(!1),h=function(m,b){if(!(!m||!b)){var w=b.style.display;b.style.display="";var S=b.offsetWidth-b.scrollWidth,x=b.offsetWidth-S>m.offsetWidth?b.scrollWidth:m.offsetWidth-S;w==="none"&&(b.style.display="none");var E={};return n&&Rn(n.overlayInnerStyle)==="object"&&!n.overlayInnerStyle.width&&(E=n.overlayInnerStyle),n$e({width:"".concat(Math.min(x,r$e),"px")},E)}},p=t$e(function(y,m){if(d.current=!1,!(i||s)){var b=m.trigger==="trigger-element-click"&&a?!0:y;if(t.popupVisible!==b&&(f(b,m),!b)){var w;e==null||(w=e.afterHidePopup)===null||w===void 0||w.call(e,m),d.current=!0}}}),_=D.useMemo(function(){var y={},m=(n==null?void 0:n.overlayInnerStyle)||{};return En(m)||qr(m)&&m.width?y=m:r||(y=h),y},[r,n==null?void 0:n.overlayInnerStyle]);return{tOverlayInnerStyle:_,innerPopupVisible:c,skipNextBlur:d,onInnerPopupVisibleChange:p}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function pW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o$e=["status","clearable","disabled","label","placeholder","readonly","suffix","suffixIcon","onPaste","onEnter","onMouseenter","onMouseleave","size","prefixIcon"],a$e={label:"label"};function s$e(t,e){var n=e||a$e;return qr(t)?t[n.label]:t}function l$e(t){var e=t.value,n=t.keys,r=t.loading,i=ln(),o=i.classPrefix,a=D.useRef(null),s=D.useRef(null),u=Mr(t,"inputValue",t.onInputChange),l=De(u,2),c=l[0],f=l[1],d=Pl(Pl({},Nb(t,o$e)),{},{suffixIcon:r?Q.createElement(R0,{loading:!0,size:"small"}):t.suffixIcon}),h=function(m){var b,w;m==null||(b=m.e)===null||b===void 0||b.stopPropagation(),(w=t.onClear)===null||w===void 0||w.call(t,m),f("",{trigger:"clear"})},p=function(m,b){t.allowInput&&f(m,Pl(Pl({},b),{},{trigger:"input"}))},_=function(m,b){var w,S=t.multiple?null:t.valueDisplay,x=m&&t.allowInput?c:s$e(e,n),E=function(C,T){s.current&&clearTimeout(s.current),s.current=setTimeout(function(){if(s.current){if(!m)b(T);else if(!t.panel){var P;(P=t.onBlur)===null||P===void 0||P.call(t,C,{e:T.e,inputValue:C})}}s.current=null},150)},M=function(C,T){var P;s.current&&(clearTimeout(s.current),s.current=null),(P=t.onFocus)===null||P===void 0||P.call(t,e,Pl(Pl({},T),{},{inputValue:C}))};return Q.createElement(hd,Pl(Pl(Pl({ref:a},d),{},{autoWidth:t.autoWidth,allowInput:t.allowInput,placeholder:S?"":t.placeholder,value:S?" ":x,label:(t.label||S)&&Q.createElement(Q.Fragment,null,t.label,S),onChange:p,onClear:h,onFocus:M,onEnter:function(C,T){var P;(P=t.onEnter)===null||P===void 0||P.call(t,e,Pl(Pl({},T),{},{inputValue:C}))},onBlur:E},t.inputProps),{},{inputClass:et((w=t.inputProps)===null||w===void 0?void 0:w.className,me(me({},"".concat(o,"-input--focused"),m),"".concat(o,"-is-focused"),m))}))};return{inputRef:a,commonInputProps:d,singleInputValue:c,onInnerClear:h,renderSelectSingle:_}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function mW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var qre=Q.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=mr(t,pHe),o=i.multiple,a=i.value,s=i.popupVisible,u=i.popupProps,l=i.borderless,c=i.disabled,f=D.useRef(null),d=D.useRef(null),h=l$e(i),p=h.commonInputProps,_=h.inputRef,y=h.singleInputValue,m=h.onInnerClear,b=h.renderSelectSingle,w=e$e(i),S=w.tagInputRef,x=w.tags,E=w.multipleInputValue,M=w.renderSelectMultiple,O=i$e(i,{afterHidePopup:k}),C=O.tOverlayInnerStyle,T=O.innerPopupVisible,P=O.onInnerPopupVisibleChange,N=O.skipNextBlur,H=et([i.className,"".concat(r,"-select-input"),me(me(me(me({},"".concat(r,"-select-input--borderless"),l),"".concat(r,"-select-input--multiple"),o),"".concat(r,"-select-input--popup-visible"),s??T),"".concat(r,"-select-input--empty"),a instanceof Array?!a.length:!a)]);D.useImperativeHandle(e,function(){return gh(gh(gh({},f.current||{}),_.current||{}),S.current||{})});var B={visible:s??T};function k($){var F;if(!N.current){var R=i.multiple?E:y,L=gh({e:$.e,inputValue:R},i.multiple&&{tagInputValue:x});(F=i.onBlur)===null||F===void 0||F.call(i,i.value,L)}}var j=Q.createElement("div",{className:H,style:i.style},Q.createElement(vM,gh(gh(gh({ref:f,trigger:(u==null?void 0:u.trigger)||"click",placement:"bottom-left",content:i.panel,hideEmptyPopup:!0,onVisibleChange:P,updateScrollTop:i.updateScrollTop},B),u),{},{disabled:c,overlayInnerStyle:C}),o?M({commonInputProps:p,popupVisible:B.visible,allowInput:i.allowInput,onInnerClear:m,onInnerBlur:k}):b(B.visible,k)));return i.tips?Q.createElement("div",{ref:d,className:"".concat(r,"-select-input__wrap")},j,i.tips&&Q.createElement("div",{className:"".concat(r,"-input__tips ").concat(r,"-input__tips--").concat(i.status||"normal")},i.tips)):j});qre.displayName="SelectInput";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var u$e=qre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var c$e={autoWidth:!1,autofocus:!1,borderless:!1,clearable:!1,creatable:!1,loading:!1,max:0,minCollapsedNum:0,multiple:!1,placeholder:void 0,readonly:!1,readOnly:!1,reserveKeyword:!1,showArrow:!0,size:"medium",status:"default",valueType:"value"},f$e={divider:!0};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var t0=function(e){var n=mr(e,f$e),r=n.children,i=n.label,o=n.divider,a=n.className,s=n.style,u=ln(),l=u.classPrefix;return Q.createElement("li",{className:et("".concat(l,"-select-option-group"),me({},"".concat(l,"-select-option-group__divider"),o),a),style:s},(i??!1)&&Q.createElement("div",{className:"".concat(l,"-select-option-group__header")},i),r)};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var vW="select",$b=function(e){var n=e.disabled,r=e.label,i=e.title,o=e.selectedValue,a=e.checkAll,s=e.multiple,u=e.size,l=e.max,c=e.keys,f=e.value,d=e.onSelect,h=e.children,p=e.content,_=e.restData,y=e.style,m=e.className,b=e.isVirtual,w=e.isKeyboardHovered,S=r||f,x=n||s&&Array.isArray(o)&&l&&o.length>=l,E=!(Array.isArray(o)&&o.length===e.optionLength),M,O,C=D.useState(E),T=De(C,2),P=T[0],N=T[1],H=D.useMemo(function(){var oe=Reflect.has(e,"title");return oe?i:typeof S=="string"?S:null},[i,S]),B=ln(),k=B.classPrefix,j=K3(),$=De(j,2),F=$[0],R=$[1];Bne(F),D.useEffect(function(){if(b&&F){var oe;(oe=e.onRowMounted)===null||oe===void 0||oe.call(e,{ref:F,data:e})}},[b,F]);var L=Yu(c),W=L.valueKey;s||(M=ca(o)||_i(o)?f===o:f===Ft(o,W)),s&&Array.isArray(o)&&(M=o.some(function(oe){return ca(oe)||_i(oe)?oe===f:Ft(oe,W)===f}),e.checkAll&&(M=o.length===e.optionLength,O=o.length>0&&!M));var Z=function(pe){if(!x&&!a&&d(f,{label:String(S),selected:M,event:pe,restData:_}),a){var ie;(ie=e.onCheckAllChange)===null||ie===void 0||ie.call(e,P,pe),N(!P)}},ee=function(){var pe=h||p||S;return s?Q.createElement("label",{className:et("".concat(k,"-checkbox"),me(me(me({},"".concat(k,"-is-indeterminate"),O),"".concat(k,"-is-disabled"),x),"".concat(k,"-is-checked"),M)),title:H},Q.createElement("input",{type:"checkbox",className:et("".concat(k,"-checkbox__former")),value:"",disabled:x&&!M,onClick:function(ce){ce.stopPropagation(),ce.nativeEvent.stopImmediatePropagation()}}),Q.createElement("span",{className:et("".concat(k,"-checkbox__input"))}),Q.createElement("span",{className:et("".concat(k,"-checkbox__label"))},pe)):Q.createElement("span",{title:H},pe)};return Q.createElement("li",{className:et(m,"".concat(k,"-").concat(vW,"-option"),me(me(me(me(me({},"".concat(k,"-is-disabled"),x),"".concat(k,"-is-selected"),M),"".concat(k,"-size-s"),u==="small"),"".concat(k,"-size-l"),u==="large"),"".concat(k,"-").concat(vW,"-option__hover"),w)),key:f,onClick:Z,ref:R,style:y},ee())};function gW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jh(t){return!!t&&"group"in t&&"children"in t}var d$e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return e.forEach(function(r){Jh(r)?r.children&&n.push.apply(n,xn(r.children)):n.push(r)}),n};function h$e(t,e,n,r,i,o){var a=D.useState({}),s=De(a,2),u=s[0],l=s[1],c=D.useState([]),f=De(c,2),d=f[0],h=f[1],p=D.useState([]),_=De(p,2),y=_[0],m=_[1],b=D.useState([]),w=De(b,2),S=w[0],x=w[1],E=D.useState([]),M=De(E,2),O=M[0],C=M[1],T=D.useMemo(function(){return Yu(t)},[t]),P=T.valueKey,N=T.labelKey;return D.useEffect(function(){m(d$e(d))},[d]),D.useEffect(function(){var H=e,B=Q.Children.toArray(n),k=B.filter(function(R){return R.type===$b||R.type===t0}),j=B.length>0&&k.length===B.length;if(!(o&&d.length&&j)){if(j){var $=function(L){if(Q.isValidElement(L)){if(L.type===t0){var W;return Vm(Vm({},L.props),{},{group:L.props.label,children:(W=L.props.children)===null||W===void 0?void 0:W.map(function(Z){return $(Z)})})}return Vm(Vm({},L.props),{},{label:L.props.label||L.props.children})}return{label:L}};H=B==null?void 0:B.map(function(R){return $(R)})}if(t){var F;H=(F=H)===null||F===void 0?void 0:F.map(function(R){return Vm(Vm({},R),{},{value:Ft(R,P),label:Ft(R,N)})})}h(H),x(H),l(p$e(n,e,t)||{})}},[e,t,n,o]),D.useEffect(function(){C(function(H){var B=function($){return r==="value"?u[$]||H.find(function(F){return Ft(F,P)===$})||me(me({},P,$),N,$):Rn($)==="object"&&$!==null?$:[]};if(Array.isArray(i))return i.map(B);if(i!=null){var k=B(i);return k?[k]:[]}return[]})},[i,t,r,u,P,N,C]),{currentOptions:d,setCurrentOptions:h,tmpPropOptions:S,setTmpPropOptions:x,valueToOption:u,setValueToOption:l,selectedOptions:O,setSelectedOptions:C,flattenedOptions:y}}function yW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yu=function(e){var n=(e==null?void 0:e.value)||"value",r=(e==null?void 0:e.label)||"label",i=(e==null?void 0:e.disabled)||"disabled";return{valueKey:n,labelKey:r,disabledKey:i}},JS=function(e,n,r){var i=Yu(r),o=i.valueKey,a=i.labelKey,s=e.props,u=s.value,l=s.label,c=s.children;n[u]=Xv(Xv({},e.props),{},me(me({},o,u),a,l||c||u))},p$e=function(e,n,r){var i=Yu(r),o=i.valueKey,a=i.labelKey,s={};if(Array.isArray(n))return n.forEach(function(c){if(Jh(c)){var f;(f=c.children)===null||f===void 0||f.forEach(function(d){s[Ft(d,o)]=Xv(Xv({},d),{},{value:Ft(d,o),label:Ft(d,a)})})}else s[Ft(c,o)]=Xv(Xv({},c),{},{value:Ft(c,o),label:Ft(c,a)})}),s;if(eM(e)){if(e.type===$b)return JS(e,s,r),s;if(e.type===t0){var u=e.props.children;if(Array.isArray(u))return u.forEach(function(c){JS(c,s,r)}),s}}if(Array.isArray(e)){var l=function(f){if(f.type===$b&&JS(f,s,r),f.type===t0){var d=f.props.children;Array.isArray(d)&&d.forEach(function(h){JS(h,s,r)})}Array.isArray(f)&&f.forEach(function(h){l(h)})};e.forEach(function(c){return l(c)})}return s},OC=function(e,n,r,i,o,a){var s=Yu(o),u=s.valueKey;if(e=Array.isArray(e)?e:[],Array.isArray(e)){var l=xn(e),c=i==="object";if(r)l=l.filter(function(d){return c?eM(n)?Ft(d,u)!==Ft(n,u):Ft(d,u)!==n:d!==n});else{var f=c?a:n;l.push(f)}return l}},YS=function(e,n,r,i,o,a){var s=Yu(i),u=s.valueKey,l=r==="object",c=Object.values(o),f=[],d,h;if(n){var p,_,y;f=l?e:c==null||(p=c.filter)===null||p===void 0?void 0:p.call(c,function(w){var S;return(S=e.includes)===null||S===void 0?void 0:S.call(e,w[u])}),h=l?f:(_=f)===null||_===void 0?void 0:_.map(function(w){return w[u]}),d=l?e.find(function(w){return w[u]===a}):(y=f)===null||y===void 0?void 0:y.find(function(w){return w[u]===a})}else{var m,b;f=l?[e]:(c==null||(m=c.filter)===null||m===void 0?void 0:m.call(c,function(w){return e===w[u]}))||[],h=f,d=l?e:(b=f)===null||b===void 0?void 0:b.find(function(w){return w[u]===a})}return{currentSelectedOptions:f,currentOption:d,allSelectedValue:h}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function m$e(t){var e=t.max,n=t.multiple,r=t.keys,i=t.value,o=t.valueType,a=t.handleChange,s=t.innerPopupVisible,u=t.handlePopupVisibleChange,l=t.displayOptions,c=t.onCheckAllChange,f=t.selectInputRef,d=t.toggleIsScrolling,h=ln(),p=h.classPrefix,_=D.useRef(!1),y=D.useState(-1),m=De(y,2),b=m[0],w=m[1],S=D.useMemo(function(){return o==="object"},[o]),x=D.useMemo(function(){return Yu(r)},[r]),E=x.valueKey,M=x.disabledKey;D.useEffect(function(){if(!s)w(-1);else if(n)w(-1);else{var T=l.findIndex(function(P){return P.value===i});w(T>=0?T:-1)}},[s,l]),D.useEffect(function(){Array.isArray(i)&&(_.current=i.length===l.filter(function(T){return!((T.disabled||T.checkAll)&&!i.includes(T.value))}).length)},[i,l]);var O=function(P){var N=f.current.getPopupContentElement(),H=".".concat(p,"-select-option"),B=".".concat(p,"-select-option__hover"),k=N.querySelector(B);if(k){d(!0);var j=N.querySelector(H).clientHeight*P;N.scrollTo({top:j,behavior:"smooth"})}},C=function(P,N){var H,B,k=N.e,j=l.length,$=b;switch(k.code){case"ArrowUp":k.preventDefault(),b===-1?$=0:b===0||b>j-1?$=j-1:$-=1,(H=l[$])!==null&&H!==void 0&&H[M]&&($-=1),w($),O($);break;case"ArrowDown":k.preventDefault(),b===-1||b>=j-1?$=0:$+=1,(B=l[$])!==null&&B!==void 0&&B.disabled&&($+=1),w($),O($);break;case"Enter":{if(!s){u(!0,{e:k});break}if(b===-1)return;if(l[b].checkAll){c(!_.current,k);return}var F=l[b],R=S?F:F[E];if(!n)a(R,{trigger:"check",e:k}),u(!1,{e:k}),w(-1),O(0);else{var L=i.indexOf(R),W=L>-1,Z=OC(i,R,W,o,r,F);if(e>0&&Z.length>e)return;a(Z,{trigger:W?"uncheck":"check",e:k})}break}case"Escape":u(!1,{e:k}),w(-1),O(0)}};return{hoverIndex:b,handleKeyDown:C}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var v$e=function(e){var n=e.popupContentRef,r=e.scroll,i=e.options,o=e.size,a=(r==null?void 0:r.threshold)||100,s=r==null?void 0:r.type,u=D.useMemo(function(){return s==="virtual"},[s]),l=D.useMemo(function(){return u&&(i==null?void 0:i.length)>a},[u,i==null?void 0:i.length,a]),c=D.useMemo(function(){var T={small:20,medium:28,large:36},P=T[o]||28;return{type:"virtual",isFixedRowHeight:(r==null?void 0:r.isFixedRowHeight)||!1,rowHeight:(r==null?void 0:r.rowHeight)||P,bufferSize:(r==null?void 0:r.bufferSize)||20,threshold:a}},[r,a,o]),f=Ore(n,{enable:u,data:i||[],scroll:c}),d=f.visibleData,h=d===void 0?null:d,p=f.handleScroll,_=p===void 0?null:p,y=f.scrollHeight,m=y===void 0?null:y,b=f.translateY,w=b===void 0?null:b,S=f.handleRowMounted,x=S===void 0?null:S,E=-1,M=D.useCallback(function(T){if(l){var P=T.target,N=P.scrollTop;Math.abs(E-N)>5?(_(),E=N):E=-1}},[l,_]);D.useEffect(function(){var T=n==null?void 0:n.current;if(l){var P;T==null||(P=T.addEventListener)===null||P===void 0||P.call(T,"scroll",M)}return function(){if(l){var N;T==null||(N=T.removeEventListener)===null||N===void 0||N.call(T,"scroll",M)}}},[l,M,n.current]);var O={position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(m,"px)"),MsTransform:"translate(0, ".concat(m,"px)"),MozTransform:"translate(0, ".concat(m,"px)"),WebkitTransform:"translate(0, ".concat(m,"px)")},C={transform:"translate(0, ".concat(w,"px)"),MsTransform:"translate(0, ".concat(w,"px)"),MozTransform:"translate(0, ".concat(w,"px)"),WebkitTransform:"translate(0, ".concat(w,"px)")};return{scrollHeight:m,translateY:w,visibleData:h,handleRowMounted:x,isVirtual:l,cursorStyle:O,panelStyle:C}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var g$e=["group","divider"],y$e=["value","label","disabled","children"];function _W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _$e=Q.forwardRef(function(t,e){var n=t.value,r=t.size,i=t.max,o=t.multiple,a=t.showPopup,s=t.setShowPopup,u=t.empty,l=t.loadingText,c=t.loading,f=t.valueType,d=t.children,h=t.keys,p=t.panelTopContent,_=t.panelBottomContent,y=t.onChange,m=t.onCheckAllChange,b=t.getPopupInstance,w=t.options,S=t.scroll,x=t.hoverIndex,E=ln(),M=E.classPrefix,O=ha("select"),C=De(O,2),T=C[0],P=C[1],N=P(T.empty),H=D.useRef(null);H.current=b();var B=v$e({popupContentRef:H,scroll:S,options:w,size:r}),k=B.visibleData,j=B.handleRowMounted,$=B.isVirtual,F=B.panelStyle,R=B.cursorStyle,L=D.useMemo(function(){return f==="object"},[f]),W=D.useMemo(function(){return Yu(h)},[h]),Z=W.valueKey,ee=W.labelKey,oe=D.useMemo(function(){var he={};return w==null||w.forEach(function(we){we.group?we.children.forEach(function(ne){ne.checkAll||(he[ne.value]=ne)}):we.checkAll||(he[we.value]=we)}),Object.values(he)},[w]),pe=function(we,ne){var Me=ne.label,Ce=ne.selected,K=ne.event,U=ne.restData,G=Mf(Mf({},L?Mf({},U):{}),{},me(me({},ee,Me),Z,we));if(o){var te=OC(n,we,Ce,f,h,G);y(te,{label:Me,value:we,e:K,trigger:Ce?"uncheck":"check"})}else{var q=f==="object"?G:we;Hc(n,q)||y(q,{label:Me,value:q,e:K,trigger:"check"}),s(!a)}},ie=D.Children.map(d,function(he){if(D.isValidElement(he)){var we={size:r,max:i,multiple:o,selectedValue:n,onSelect:pe};return D.cloneElement(he,Mf({},we))}return he}),ce=Array.isArray(ie)&&!ie.length||w&&w.length===0,ve=function(we){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(we){var Me=ne;return Q.createElement("ul",{className:"".concat(M,"-select__list")},we.map(function(Ce,K){var U=Ce.group,G=Ce.divider,te=zi(Ce,g$e);if(U){var q=Q.createElement(t0,Mf({label:U,divider:G,key:K},te),ve(te.children,Me));return Me+=te.children.length,q}var V=Ce.value,ae=Ce.label,Ae=Ce.disabled,Oe=Ce.children,Te=zi(Ce,y$e),Ue=Ce.content,Be=Object.values(h||{}).includes("content"),Qe=x===Me;Me+=1;var Ze=Q.createElement($b,Mf(Mf(Mf({key:K,max:i,label:ae,value:V,onSelect:pe,selectedValue:n,optionLength:oe.length,multiple:o,size:r,disabled:Ae,restData:Te,keys:h,isKeyboardHovered:Qe,onCheckAllChange:m,onRowMounted:j},$?{isVirtual:$,bufferSize:S==null?void 0:S.bufferSize,scrollType:S==null?void 0:S.type}:{}),Te),{},{content:Be?null:Ue}),Oe);return Ze}))}return Q.createElement("ul",{className:"".concat(M,"-select__list")},ie)},xe=function(we,ne){return Q.createElement("div",{ref:e,className:et("".concat(M,"-select__dropdown-inner"),me(me(me({},"".concat(M,"-select__dropdown-inner--size-s"),r==="small"),"".concat(M,"-select__dropdown-inner--size-l"),r==="large"),"".concat(M,"-select__dropdown-inner--size-m"),r==="medium")),style:ne},c&&Q.createElement("div",{className:"".concat(M,"-select__loading-tips")},l),!c&&ce&&Q.createElement("div",{className:"".concat(M,"-select__empty")},u||Q.createElement("p",null,N)),!c&&!ce&&ve(we))};return $?Q.createElement(Q.Fragment,null,p,Q.createElement("div",null,Q.createElement("div",{style:R}),xe(k,F)),_):!d&&!w?null:Q.createElement(Q.Fragment,null,p,xe(w),_)});/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var b$e=["overlayClassName","onScroll","onScrollToBottom"];function bW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Kre=P0(function(t,e){var n=mr(t,c$e),r=ha("select"),i=De(r,2),o=i[0],a=i[1],s=a(o.loadingText),u=n.borderless,l=n.autoWidth,c=n.creatable,f=n.loadingText,d=f===void 0?s:f,h=n.max,p=n.popupProps,_=n.reserveKeyword,y=n.className,m=n.style,b=n.disabled,w=n.size,S=n.multiple,x=n.placeholder,E=n.clearable,M=n.prefixIcon,O=n.options,C=n.filterable,T=n.loading,P=n.empty,N=n.valueType,H=n.keys,B=n.children,k=n.collapsedItems,j=n.minCollapsedNum,$=n.valueDisplay,F=n.showArrow,R=n.inputProps,L=n.panelBottomContent,W=n.panelTopContent,Z=n.selectInputProps,ee=n.tagInputProps,oe=n.tagProps,pe=n.scroll,ie=n.suffixIcon,ce=n.label,ve=n.filter,xe=n.onFocus,he=n.onBlur,we=n.onClear,ne=we===void 0?Uo:we,Me=n.onCreate,Ce=n.onRemove,K=n.onSearch,U=n.onEnter,G=n.onPopupVisibleChange,te=n.readOnly||n.readonly,q=Mr(n,"value",n.onChange),V=De(q,2),ae=V[0],Ae=V[1],Oe=D.useMemo(function(){return Yu(H)},[H]),Te=Oe.valueKey,Ue=Oe.labelKey,Be=Oe.disabledKey,Qe=D.useRef(null),Ze=ln(),at=Ze.classPrefix,ke=p||{},Tt=ke.overlayClassName,Mt=ke.onScroll,wt=ke.onScrollToBottom,ft=zi(ke,b$e),qe=D.useState(!1),le=De(qe,2),Ie=le[0],He=le[1],Ve="".concat(at,"-select"),Ee=Mr(n,"inputValue",n.onInputChange),de=De(Ee,2),$e=de[0],tt=de[1],Pt=Mr(n,"popupVisible",G),vt=De(Pt,2),$t=vt[0],rn=vt[1],mn=function(it,ut){b||(it?He(!1):tt("",{trigger:"blur"}),rn(it,ut))},Lt=h$e(H,O,B,N,ae,_),cn=Lt.currentOptions,kt=Lt.setCurrentOptions,Ke=Lt.tmpPropOptions,ot=Lt.valueToOption,lt=Lt.selectedOptions,bt=Lt.flattenedOptions,Dt=D.useCallback(function(ct,it){var ut=function(jt){return jt.checkAll&&jt.disabled};if(!(!S||cn.some(function(Kt){return!Jh(Kt)&&ut(Kt)}))){var rt=N==="object",Je=[];cn.forEach(function(Kt){if(Jh(Kt)){var jt;(jt=Kt.children)===null||jt===void 0||jt.forEach(function(fn){!fn.checkAll&&!fn.disabled&&Je.push(fn)})}else!Kt.checkAll&&!Kt.disabled&&Je.push(Kt)});var Wt=Array.isArray(ae)?ae:[],xt=[],yt=function(jt){return jt.checkAll||!jt.disabled?!1:rt?Wt.some(function(fn){return Ft(fn,Te)===jt[Te]}):Wt.includes(jt[Te])};cn.forEach(function(Kt){if(Jh(Kt)){var jt;(jt=Kt.children)===null||jt===void 0||jt.forEach(function(fn){yt(fn)&&xt.push(fn)})}else yt(Kt)&&xt.push(Kt)});var Zt;if(ct){var Cn=Je.map(function(Kt){return rt?Kt:Kt[Te]}),pt=xt.map(function(Kt){return rt?Kt:Kt[Te]});Zt=[].concat(xn(pt),xn(Cn))}else Zt=xt.map(function(Kt){return rt?Kt:Kt[Te]});var dt=YS(Zt,S,N,H,ot),St=dt.currentSelectedOptions;Ae==null||Ae(Zt,{e:it,trigger:ct?"check":"uncheck",selectedOptions:St})}},[cn,H,S,ae,Te,ot,N,Ae]),st=D.useMemo(function(){return S?lt.map(function(ct){return Ft(ct||{},Ue)||""}):Ft(lt[0]||{},Ue)||void 0},[S,lt,Ue]),Vt=function(it,ut){var rt=function(jt,fn,qn,Bt){var It=OC(ae,ae[jt],!0,N,H),yn=YS(It,S,N,H,ot),an=yn.currentSelectedOptions;Ae(It,{e:qn,trigger:fn,selectedOptions:an}),Ce==null||Ce({value:ae[jt],data:{label:Bt,value:ae[jt]},e:qn})},Je=ut.trigger,Wt=ut.index,xt=ut.item,yt=ut.e;if(yt==null||yt.stopPropagation(),Je==="backspace"){for(var Zt=-1,Cn=Wt;Cn>=0;){var pt=lt[Cn];if(!Jh(pt)&&!pt.disabled){Zt=Cn;break}Cn-=1}if(Zt>=0){var dt=Ft(lt[Zt],Yu(H).labelKey);rt(Zt,Je,yt,dt)}return}if(Je==="tag-remove"){var St;yt==null||(St=yt.stopPropagation)===null||St===void 0||St.call(yt),rt(Wt,Je,yt,xt)}},Ht=function(it,ut){var rt=S?ut.value:it;S&&!_&&$e&&tt("",{e:ut.e,trigger:"change"}),c&&En(Me)&&O.filter(function(Cn){return Cn.value===rt}).length===0&&Me(rt);var Je=YS(it,S,N,H,ot,rt),Wt=Je.currentSelectedOptions,xt=Je.currentOption;if(Ae==null||Ae(it,{e:ut.e,trigger:ut.trigger,selectedOptions:Wt,option:xt}),S&&(ut==null?void 0:ut.trigger)==="uncheck"&&En(Ce)){var yt=ut==null?void 0:ut.value,Zt=O==null?void 0:O.find(function(Cn){return Cn.value===yt});Ce({value:yt,data:Zt,e:ut.e})}},Y=m$e({displayOptions:bt,keys:H,innerPopupVisible:$t,max:h,multiple:S,selectInputRef:Qe,value:ae,valueType:N,handlePopupVisibleChange:mn,handleChange:Ht,onCheckAllChange:Dt,toggleIsScrolling:He}),re=Y.hoverIndex,_e=Y.handleKeyDown,J=function(it){var ut=[];if(!(C&&En(K))){if(!it){kt(Ke);return}var rt=[],Je=function(yt){if(ve&&En(ve))return ve(it,yt);var Zt=it.toUpperCase();return((yt==null?void 0:yt.label)||"").toUpperCase().includes(Zt)};Ke==null||Ke.forEach(function(xt){if(Jh(xt)){var yt;ut.push(Yi(Yi({},xt),{},{children:(yt=xt.children)===null||yt===void 0?void 0:yt.filter(function(Zt){return Je(Zt)?(rt.push(Zt.label),!0):!1})}))}else Je(xt)&&(rt.push(xt.label),ut.push(xt))});var Wt=rt.includes(it);c&&!Wt&&(ut=ut.concat([{label:it,value:it}])),kt(ut)}},se=function(it,ut){if(ut.trigger!=="clear"&&tt(it,{e:ut.e,trigger:"input"}),it!==void 0&&En(K)){K(it,{e:ut.e});return}},fe=function(it){it.e.stopPropagation(),Array.isArray(ae)?Ae([],Yi(Yi({},it),{},{trigger:"clear",selectedOptions:[]})):Ae(null,Yi(Yi({},it),{},{trigger:"clear",selectedOptions:[]})),ne(it)};D.useEffect(function(){typeof $e<"u"&&J(String($e))},[$e,Ke]);var Se=function(){return ie||(T?Q.createElement(R0,{className:et("".concat(Ve,"__right-icon"),"".concat(Ve,"__active-icon")),loading:!0,size:"small"}):F&&Q.createElement(hHe,{className:"".concat(Ve,"__right-icon"),isActive:$t,disabled:b}))},be=D.useCallback(function(){var ct;return(ct=Qe.current)===null||ct===void 0?void 0:ct.getPopupContentElement()},[]),Le=D.Children.map(B,function(ct){if(D.isValidElement(ct)){var it={multiple:S};return D.cloneElement(ct,Yi({},it))}return ct}),Ne=function(){var it={onChange:Ht,value:ae,className:y,size:w,multiple:S,showPopup:$t,setShowPopup:function(rt){return mn(rt,{})},options:cn,empty:P,max:h,loadingText:d,loading:T,valueType:N,keys:H,panelBottomContent:L,panelTopContent:W,onCheckAllChange:Dt,getPopupInstance:be,scroll:pe,hoverIndex:re};return Q.createElement(_$e,Yi({},it),Le)},ze=D.useMemo(function(){return $?typeof $=="string"?$:S?function(ct){var it=ct.onClose;return yC($,{value:lt,onClose:it})}:yC($,{value:st,onClose:Uo}):S?function(ct){var it=ct.value;return it.slice(0,j||it.length).map(function(ut,rt){var Je=Ft(lt[rt],Te),Wt=Ft(lt[rt],Ue),xt=ot[Je];return Q.createElement(e0,Yi(Yi({key:rt,closable:!Ft(xt,Be)&&!b&&!te,size:w},oe),{},{onClose:function(Zt){var Cn,pt,dt,St=Zt.e;St.stopPropagation(),St==null||(Cn=St.nativeEvent)===null||Cn===void 0||(pt=Cn.stopImmediatePropagation)===null||pt===void 0||pt.call(Cn);var Kt=OC(ae,ae[rt],!0,N,H),jt=YS(Kt,S,N,H,ot,ae),fn=jt.currentSelectedOptions;Ae(Kt,{e:St,selectedOptions:fn,trigger:"tag-remove"}),oe==null||(dt=oe.onClose)===null||dt===void 0||dt.call(oe,{e:St}),Ce==null||Ce({value:Je,data:{label:Wt,value:Je},e:St})}}),Wt)})}:typeof st!="string"?st:""},[$,S,st,j,O,b,te,w,oe,ae,N,H,ot,Ce,lt]),je=function(it){if(!(!it||Ie)){var ut=it.querySelector(".".concat(at,"-is-selected"));if(!S&&ut){var rt=getComputedStyle(ut),Je=rt.paddingBottom,Wt=getComputedStyle(it),xt=Wt.marginBottom,yt=parseInt(Je,10)+parseInt(xt,10),Zt=Y5e(ut,it)-it.offsetTop-(it.clientHeight-ut.clientHeight)+yt;setTimeout(function(){it.scrollTop=Zt})}}},_t=n.onMouseEnter,Ye=n.onMouseLeave,nt=function(it,ut){U==null||U(Yi(Yi({},ut),{},{value:ae}))},Ot=function(it){var ut=it.e;if(He(!0),Mt==null||Mt({e:ut}),wt){var rt=Tw(function(Zt){return wt({e:Zt})},100),Je=ut.target,Wt=Je.scrollTop,xt=Je.clientHeight,yt=Je.scrollHeight;xt+Math.floor(Wt)===yt&&rt(ut)}};return Q.createElement("div",{className:et("".concat(Ve,"__wrap"),y),style:m,onMouseEnter:_t,onMouseLeave:Ye},Q.createElement(u$e,Yi({autoWidth:!(m!=null&&m.width)&&l,ref:Lne(e,Qe),className:Ve,readonly:te,autofocus:n.autofocus,allowInput:(C??o.filterable)||En(ve),multiple:S,value:st,options:lt,valueDisplay:ze,clearable:E,disabled:b,status:n.status,tips:n.tips,borderless:u,label:ce,suffix:n.suffix,prefixIcon:M,suffixIcon:Se(),panel:Ne(),placeholder:!S&&$t&&st?st:x||a(o.placeholder),inputValue:$e,tagInputProps:Yi({size:w},ee),tagProps:Yi({size:w},oe),inputProps:Yi(Yi({size:w},R),{},{onKeydown:_e}),minCollapsedNum:j,collapsedItems:k,updateScrollTop:je,popupProps:Yi({overlayClassName:["".concat(Ve,"__dropdown"),Tt],onScroll:Ot},ft),popupVisible:$t,onPopupVisibleChange:mn,onTagChange:Vt,onInputChange:se,onFocus:xe,onEnter:nt,onBlur:function(it,ut){he==null||he({value:ae,e:ut.e})},onClear:fe},Z)))},{Option:$b,OptionGroup:t0});Kre.displayName="Select";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var n0=Kre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function w$e(t){var e=ln(),n=e.classPrefix,r=so({PageLastIcon:rre,PageFirstIcon:nre}),i=r.PageFirstIcon,o=r.PageLastIcon,a="".concat(n,"-pagination"),s=t.showFirstAndLastPageBtn,u=t.disabled,l=t.current,c=t.pageCount,f=t.changeCurrent,d=s&&Q.createElement("div",{className:et("".concat(a,"__btn"),"".concat(a,"__btn-first-page"),me({},"".concat(n,"-is-disabled"),u||l===1)),onClick:function(){return f(1)}},Q.createElement(i,null)),h=s&&Q.createElement("div",{className:et("".concat(a,"__btn"),"".concat(a,"__btn-first-page"),me({},"".concat(n,"-is-disabled"),u||l===c)),onClick:function(){return f(c)}},Q.createElement(o,null));return{firstPageJumper:d,lastPageJumper:h}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function S$e(t){var e=ln(),n=e.classPrefix,r=so({ChevronLeftIcon:Vne,ChevronRightIcon:Xne}),i=r.ChevronLeftIcon,o=r.ChevronRightIcon,a="".concat(n,"-pagination"),s=t.showPreviousAndNextBtn,u=t.disabled,l=t.current,c=t.pageCount,f=t.changeCurrent,d=s&&Q.createElement("div",{className:et("".concat(a,"__btn"),"".concat(a,"__btn-prev"),me({},"".concat(n,"-is-disabled"),u||l===1)),onClick:function(){u||l===1||f(l-1)}},Q.createElement(i,null)),h=s&&Q.createElement("div",{className:et("".concat(a,"__btn"),"".concat(a,"__btn-next"),me({},"".concat(n,"-is-disabled"),u||l===c)),onClick:function(){u||l===c||f(l+1)}},Q.createElement(o,null));return{prevJumper:d,nextJumper:h}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function E$e(t){var e=ln(),n=e.classPrefix,r=so({EllipsisIcon:Zne,ChevronLeftDoubleIcon:Wne,ChevronRightDoubleIcon:Kne}),i=r.EllipsisIcon,o=r.ChevronLeftDoubleIcon,a=r.ChevronRightDoubleIcon,s="".concat(n,"-pagination"),u=D.useState(!1),l=De(u,2),c=l[0],f=l[1],d=D.useState(!1),h=De(d,2),p=h[0],_=h[1],y=t.showPageNumber,m=t.maxPageBtn,b=t.disabled,w=t.current,S=t.pageCount,x=t.foldedMaxPageBtn,E=t.changeCurrent,M=t.pageEllipsisMode,O=M==="mid",C=Math.ceil((x-1)/2),T=D.useMemo(function(){var k=2+C<w,j=S-1-C>w,$=[],F,R;if(S>m)if(k&&j)F=w-C,R=w+C;else{var L=O?2:1,W=O?S-1:S;F=k?S-x+1:L,R=k?W:x}else F=1,R=S;for(var Z=F;Z<=R;Z++)$.push(Z);return $},[w,S,x,O,m,C]),P=S>m,N=2+C<w,H=S-1-C>w;D.useEffect(function(){N||f(!1),H||_(!1)},[H,N]);var B=y&&Q.createElement("ul",{className:"".concat(s,"__pager")},P&&O&&Q.createElement(Q.Fragment,null,Q.createElement("li",{key:1,className:et("".concat(s,"__number"),me(me({},"".concat(n,"-is-disabled"),b),"".concat(n,"-is-current"),w===1)),onClick:function(){return E(1)}},"1"),N&&Q.createElement("li",{className:et("".concat(s,"__number"),"".concat(s,"__number--more"),me({},"".concat(n,"-is-disabled"),b)),onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return E(w-x)}},c?Q.createElement(o,null):Q.createElement(i,null))),T.map(function(k){return Q.createElement("li",{key:k,className:et("".concat(s,"__number"),me(me({},"".concat(n,"-is-disabled"),b),"".concat(n,"-is-current"),w===k)),onClick:function(){return E(k)}},k)}),P&&O&&Q.createElement(Q.Fragment,null,H&&Q.createElement("li",{className:et("".concat(s,"__number"),"".concat(s,"__number--more"),me({},"".concat(n,"-is-disabled"),b)),onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},onClick:function(){return E(w+x)}},p?Q.createElement(a,null):Q.createElement(i,null)),Q.createElement("li",{key:S,className:et("".concat(s,"__number"),me(me({},"".concat(n,"-is-disabled"),b),"".concat(n,"-is-current"),w===S)),onClick:function(){return E(S)}},S)));return{pageNumberControl:B}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function x$e(t){var e=ha("pagination"),n=De(e,2),r=n[0],i=n[1],o=ln(),a=o.classPrefix,s="".concat(a,"-pagination"),u=t.totalContent,l=t.pageSize,c=t.current,f=t.total,d=null;if(u===!1)return{totalControl:d};var h=function(){if(typeof u=="boolean")return u?i(r.total,f):null;if(typeof u=="function"){var _=(c-1)*l,y=Math.min(f,_+l);return u(f,[_+1,y])}return u};return d=Q.createElement("div",{className:"".concat(s,"__total")},h()),{totalControl:d}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var A$e=function(e){var n;return typeof e!="number"?n=e-0:n=e,!Number.isFinite(n)&&n>0};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var C$e={defaultCurrent:1,foldedMaxPageBtn:5,maxPageBtn:10,pageEllipsisMode:"mid",defaultPageSize:10,pageSizeOptions:[5,10,20,50],showFirstAndLastPageBtn:!1,showJumper:!1,showPageNumber:!0,showPageSize:!0,showPreviousAndNextBtn:!0,size:"medium",theme:"default",total:0,totalContent:!0};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var T$e=["theme","size","total","showPageSize","showPageNumber","showPreviousAndNextBtn","showFirstAndLastPageBtn","showJumper","pageEllipsisMode","disabled","foldedMaxPageBtn","maxPageBtn","totalContent","pageSizeOptions","onChange","onCurrentChange","onPageSizeChange","style","className","selectProps"];function wW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var EW=n0.Option,Xre=D.forwardRef(function(t,e){var n=mr(t,C$e),r=n.theme,i=n.size,o=n.total,a=n.showPageSize,s=n.showPageNumber,u=n.showPreviousAndNextBtn,l=n.showFirstAndLastPageBtn,c=n.showJumper,f=n.pageEllipsisMode,d=n.disabled,h=n.foldedMaxPageBtn,p=n.maxPageBtn,_=n.totalContent,y=n.pageSizeOptions,m=n.onChange,b=m===void 0?Uo:m,w=n.onCurrentChange,S=n.onPageSizeChange,x=n.style,E=n.className,M=n.selectProps,O=zi(n,T$e),C=dUe(O,["current","pageSize","defaultPageSize","defaultCurrent"]),T=ha("pagination"),P=De(T,2),N=P[0],H=P[1],B=Mr(n,"pageSize",S),k=De(B,2),j=k[0],$=k[1],F=Mr(n,"current",w),R=De(F,2),L=R[0],W=R[1],Z=D.useState(L),ee=De(Z,2),oe=ee[0],pe=ee[1],ie=1,ce=ln(),ve=ce.classPrefix,xe=ce.pagination,he="".concat(ve,"-pagination"),we=D.useMemo(function(){var Ze=Math.ceil(o/j);return Ze>0?Ze:1},[j,o]),ne=function(at,ke){if(!(d||L===at)){var Tt=Math.trunc(at);if(!oUe(Tt)){var Mt=ke;if(!Mt&&!A$e(Mt)){var wt;Mt=j??(typeof y[0]=="number"?y[0]:(wt=y[0])===null||wt===void 0?void 0:wt.value)}Tt<ie&&(Tt=ie),Tt>we&&(Tt=we),W(Tt,{current:Tt,previous:L,pageSize:Mt}),b({current:Tt,previous:L,pageSize:Mt})}}},Me=function(at){var ke=Math.min(L,Math.max(1,Math.ceil(o/at))),Tt={current:ke,previous:L,pageSize:at};$(at,Tt),L!==ke?ne(ke,at):b(Tt)},Ce=x$e({totalContent:_,pageSize:j,current:L,total:o}),K=Ce.totalControl,U=w$e({disabled:d,current:L,pageCount:we,showFirstAndLastPageBtn:l,changeCurrent:ne}),G=U.firstPageJumper,te=U.lastPageJumper,q=S$e({disabled:d,current:L,pageCount:we,showPreviousAndNextBtn:u,changeCurrent:ne}),V=q.prevJumper,ae=q.nextJumper,Ae=E$e({showPageNumber:s,maxPageBtn:p,disabled:d,current:L,pageCount:we,foldedMaxPageBtn:h,changeCurrent:ne,pageEllipsisMode:f}),Oe=Ae.pageNumberControl;D.useEffect(function(){pe(L)},[L]);var Te=a&&y.length?Q.createElement("div",{className:"".concat(he,"__select")},Q.createElement(n0,SW({autoWidth:!0,size:i,value:j,disabled:d,onChange:Me},M),y.map(function(Ze){return typeof Ze=="number"?Q.createElement(EW,{key:Ze,label:H(N.itemsPerPage,{size:Ze}),value:Ze}):Q.createElement(EW,{key:Ze.value,label:Ze.label,value:Ze.value})}))):null,Ue=Q.createElement("div",{className:"".concat(he,"__jump")},H(N.jumpTo),Q.createElement(dre,{append:"/ ".concat(we," ").concat(H(N.page))},Q.createElement(x6e,{className:"".concat(ve,"-pagination__input"),min:ie,size:i,theme:"normal",max:we,disabled:d,value:oe,onChange:function(at){return pe(at)},onBlur:function(at){return ne(at)},onEnter:function(at){return ne(at)},placeholder:""}))),Be=xe.jumper,Qe=Be?Be({current:L,pageCount:we,onChange:ne}):Ue;return Q.createElement("div",SW({className:et(he,E,me(me({},"".concat(ve,"-size-s"),i==="small"),"".concat(ve,"-is-disabled"),d)),style:x,ref:e},C),K,Te,G,V,r==="default"&&Oe,r==="simple"&&Qe,ae,te,r==="default"&&c&&Qe)});Xre.displayName="Pagination";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var M$e=Xre;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function xW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O$e(t,e){var n=t.pagination,r=t.data,i=t.disableDataPage,o=ln(),a=o.classPrefix,s=D.useState(t.pagination),u=De(s,2),l=u[0],c=u[1],f=D.useState([]),d=De(f,2),h=d[0],p=d[1],_=D.useState(!1),y=De(_,2),m=y[0],b=y[1],w=(n==null?void 0:n.current)!==void 0,S=D.useCallback(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,C=!i&&r.length>O,T=[];if(C){var P=(M-1)*O,N=M*O;T=xn(r.slice(P,N))}else T=r;return{newData:T,shouldPaginate:C}},[r,i]),x=D.useCallback(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,C=S(M,O),T=C.newData,P=C.shouldPaginate;return b(P),p(T),T},[S]);D.useEffect(function(){n||b(!1)},[n]),D.useEffect(function(){var M;if(!(!n||!w)){var O=(n==null?void 0:n.current)||1,C=(M=n==null?void 0:n.pageSize)!==null&&M!==void 0?M:10;x(O,C),c({current:O,pageSize:C})}},[n,w,x]),D.useEffect(function(){var M;if(!(!n||w)){var O=(n==null?void 0:n.defaultCurrent)||1,C=(M=n==null?void 0:n.defaultPageSize)!==null&&M!==void 0?M:10;x(O,C)}},[w,x]);var E=function(){return n?Q.createElement("div",{className:"".concat(a,"-table__pagination")},Q.createElement(M$e,AW(AW({},n),{},{onChange:function(C){var T,P;if((T=t.pagination)===null||T===void 0||(P=T.onChange)===null||P===void 0||P.call(T,C),w){var N,H=S(C.current,C.pageSize),B=H.newData;(N=t.onPageChange)===null||N===void 0||N.call(t,C,B)}else{var k;c(C);var j=x(C.current,C.pageSize);(k=t.onPageChange)===null||k===void 0||k.call(t,C,j)}var $=e.current;$.scrollTo?$.scrollTo({top:0,left:0}):($.scrollTop=0,$.scrollLeft=0)}}))):null};return{isPaginateData:m,dataSource:h,innerPagination:l,renderPagination:E}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function U_(t){return t&&(isNaN(Number(t))?t:"".concat(t,"px"))}function Jre(t){var e=t.className,n=t.size,r=t.bordered,i=t.stripe,o=t.hover,a=t.verticalAlign,s=t.height,u=t.maxHeight,l=t.tableContentWidth,c=bl(),f=c.tableBaseClass,d=c.tableAlignClasses,h=vk(),p=h.sizeClassNames,_=D.useMemo(function(){return[f.table,n!=="medium"&&p[n],a!=="middle"&&d[a],me(me(me(me(me(me({},f.bordered,r),f.striped,i),f.hover,o),f.loading,t.loading),f.affixedHeader,t.headerAffixedTop),f.rowspanAndColspan,t.rowspanAndColspan),e]},[e,r,o,t.loading,t.headerAffixedTop,t.rowspanAndColspan,n,p,i,d,f,a]),y=D.useMemo(function(){return{height:U_(s),maxHeight:U_(u)}},[s,u]),m=D.useMemo(function(){return{width:U_(l)}},[l]);return{tableClasses:_,sizeClassNames:p,tableElementStyles:m,tableContentStyles:y}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function CW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yre=D.forwardRef(function(t,e){var n,r=mr(t,aHe),i=r.rowKey,o=r.showHeader,a=r.tableLayout,s=r.height,u=r.data,l=r.columns,c=r.style,f=r.headerAffixedTop,d=r.bordered,h=r.resizable,p=r.lazyLoad,_=r.pagination,y=D.useRef(null),m=D.useRef(null),b=D.useRef(null),w=D.useState(0),S=De(w,2),x=S[0],E=S[1],M=bl(),O=M.classPrefix,C=M.virtualScrollClasses,T=M.tableLayoutClasses,P=M.tableBaseClass,N=M.tableColFixedClasses,H=Jre(r),B=H.tableClasses,k=H.sizeClassNames,j=H.tableContentStyles,$=H.tableElementStyles,F=jre({columns:r.columns}),R=F.isMultipleHeader,L=F.spansAndLeafNodes,W=F.thList,Z=D.useMemo(function(){return(L==null?void 0:L.leafColumns)||l},[L==null?void 0:L.leafColumns,l]),ee=G6e(y,p),oe=ee.showElement,pe=D.useRef(null),ie=D.useRef(null),ce=D.useRef(null),ve=D.useRef(null),xe=lHe(r,{showElement:oe}),he=xe.affixHeaderRef,we=xe.affixFooterRef,ne=xe.horizontalScrollbarRef,Me=xe.paginationRef,Ce=xe.showAffixHeader,K=xe.showAffixFooter,U=xe.showAffixPagination,G=xe.onHorizontalScroll,te=xe.setTableContentRef,q=xe.updateAffixHeaderOrFooter,V=Z6e(r,Z,{paginationAffixRef:pe,horizontalScrollAffixRef:ie,headerTopAffixRef:ce,footerBottomAffixRef:ve}),ae=V.scrollbarWidth,Ae=V.tableWidth,Oe=V.tableElmWidth,Te=V.tableContentRef,Ue=V.isFixedHeader,Be=V.isWidthOverflow,Qe=V.isFixedColumn,Ze=V.thWidthList,at=V.showColumnShadow,ke=V.rowAndColFixedPosition,Tt=V.setData,Mt=V.refreshTable,wt=V.setTableElmWidth,ft=V.emitScrollEvent,qe=V.setUseFixedTableElmRef,le=V.updateColumnFixedShadow,Ie=V.getThWidthList,He=V.updateThWidthList,Ve=V.addTableResizeObserver,Ee=V.updateTableAfterColumnResize,de=O$e(r,Te),$e=de.dataSource,tt=de.innerPagination,Pt=de.isPaginateData,vt=de.renderPagination,$t=dHe({isWidthOverflow:Be,tableContentRef:Te,showColumnShadow:at,getThWidthList:Ie,updateThWidthList:He,setTableElmWidth:wt,updateTableAfterColumnResize:Ee,onColumnResizeChange:r.onColumnResizeChange}),rn=$t.resizeLineRef,mn=$t.resizeLineStyle,Lt=$t.setEffectColMap,cn=$t.updateTableWidthOnColumnChange,kt=et(B.concat(me(me(me(me(me(me(me({},P.headerFixed,Ue),P.columnFixed,Qe),P.widthOverflow,Be),P.multipleHeader,R),N.leftShadow,at.left),N.rightShadow,at.right),P.columnResizableTable,r.resizable))),Ke=et([[T[a||"fixed"]],me({},P.fullHeight,s)]),ot=D.useMemo(function(){return r.bordered&&Ue&&(R&&Be||!R)},[Ue,R,Be,r.bordered]),lt=D.useState(0),bt=De(lt,2),Dt=bt[0],st=bt[1];D.useEffect(function(){var Qt,At;if(d){var dn=(Qt=b.current)===null||Qt===void 0?void 0:Qt.getBoundingClientRect(),zn=(At=Me.current)===null||At===void 0?void 0:At.getBoundingClientRect(),lr=((dn==null?void 0:dn.height)||0)+((zn==null?void 0:zn.height)||0);st(lr)}},[b,Me,d]),D.useEffect(function(){qe(m.current)},[m]),D.useEffect(function(){Tt(Pt?$e:r.data)},[r.data,$e,Pt]);var Vt=D.useState(r.columns||[]),Ht=De(Vt,2),Y=Ht[0],re=Ht[1];D.useEffect(function(){if(Y.map(function(At){return At.colKey}).join()!==L.leafColumns.map(function(At){return At.colKey}).join()){var Qt;(Qt=r.onLeafColumnsChange)===null||Qt===void 0||Qt.call(r,L.leafColumns),re(L.leafColumns)}Lt(L.leafColumns,null)},[L.leafColumns]);var _e=function(){var At=setTimeout(function(){G(),q(),clearTimeout(At)},0)},J=D.useMemo(function(){var Qt=u;if(r.firstFullRow){var At={__VIRTUAL_FAKE_DATA:"FIRST_FULL_ROW"};Qt=[At].concat(u)}if(r.lastFullRow){var dn={__VIRTUAL_FAKE_DATA:"LAST_FULL_ROW"};Qt=Qt.concat(dn)}return{data:Qt,scroll:Ir(Ir({},r.scroll),{},{fixedRows:r.fixedRows})}},[u,r.firstFullRow,r.lastFullRow,r.scroll,r.fixedRows]),se=Ore(Te,J);D.useEffect(function(){!se.isVirtualScroll||se.visibleData.length||setTimeout(function(){Te.current&&(Te.current.style.display="none",Te.current.offsetHeight,Te.current.style.display="")},0)},[Te,se.isVirtualScroll]);var fe=-1,Se=function(At){var dn=At.target,zn=dn.scrollTop;fe!==zn?se.isVirtualScroll&&se.handleScroll():(fe=-1,le(dn)),fe=zn,G(dn),ft(At)},be=function(At){if(Te.current){for(var dn=Te.current.querySelector('th[data-colkey="'.concat(At,'"]')),zn=Te.current.querySelectorAll("th.t-table__cell--fixed-left"),lr=0,_r=0,lo=zn.length;_r<lo;_r++)lr+=zn[_r].getBoundingClientRect().width;var Vi=dn.getBoundingClientRect(),Go=Te.current.getBoundingClientRect(),bo=Vi.left-Go.left-lr;Te.current.scrollTo({left:bo,behavior:"smooth"})}};D.useImperativeHandle(e,function(){return{showColumnShadow:at,tableElement:y.current,tableHtmlElement:m.current,tableContentElement:Te.current,affixHeaderElement:he.current,refreshTable:Mt,scrollToElement:se.scrollToElement,scrollColumnIntoView:be,updateTableWidthOnColumnChange:cn}});var Le=function(){requestAnimationFrame(function(){var At;if(m.current){var dn=(At=m.current.querySelector("tfoot"))===null||At===void 0?void 0:At.offsetHeight;E(dn||0)}})};D.useEffect(Le,[m,r.footData,r.footerSummary]),D.useEffect(function(){te(Te.current)},[Te]),D.useEffect(function(){return Ve(y.current)},[y]);var Ne=Pt?$e:u,ze=function(){var At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Q.createElement("colgroup",null,Z.map(function(dn,zn){var lr={width:U_((At||h?Ze.current[dn.colKey]:void 0)||dn.width)};return dn.minWidth&&(lr.minWidth=U_(dn.minWidth)),!lr.width&&!dn.minWidth&&r.tableLayout==="fixed"&&(lr.minWidth="80px"),Q.createElement("col",{key:dn.colKey||zn,style:lr})}))},je={isFixedHeader:Ue,rowAndColFixedPosition:ke,isMultipleHeader:R,bordered:r.bordered,maxHeight:r.maxHeight,height:r.height,spansAndLeafNodes:L,thList:W,thWidthList:Ze.current,resizable:r.resizable,columnResizeParams:$t,classPrefix:O,ellipsisOverlayClassName:r.size!=="medium"?k[r.size]:"",attach:r.attach,thDraggable:r.thDraggable,showColumnShadow:at},_t=[h,Ze,Ue,ke,R,L,W,$t,O,r.bordered,r.resizable,r.size],Ye=r.bordered?1:0,nt=qg()<=11?4:0,Ot=(((n=he.current)===null||n===void 0?void 0:n.getBoundingClientRect().height)||0)-nt,ct=function(){if(!o)return null;var At=f?Number(Ce):1,dn=Be?ae:0,zn=Ot-dn,lr={width:"".concat(Ae.current,"px"),height:"".concat(zn,"px"),opacity:At},_r=!!((f||se.isVirtualScroll)&&Ae.current)&&Q.createElement("div",{ref:he,style:{width:"".concat(Ae.current-Ye-dn,"px"),opacity:At},className:et(["scrollbar",me({},P.affixedHeaderElm,r.headerAffixedTop||se.isVirtualScroll)])},Q.createElement("table",{className:et(Ke),style:Ir(Ir({},$),{},{width:Oe.current?"".concat(Oe.current,"px"):void 0})},ze(!0),o&&Q.createElement(Y9,Ir({},je)))),lo=Q.createElement("div",{className:P.affixedHeaderWrap,style:lr},_r);return lo},it=function(){return o?!!(se.isVirtualScroll||r.headerAffixedTop)&&(r.headerAffixedTop?Q.createElement(WS,Ir(Ir({offsetTop:0},VS(r.headerAffixedTop,r.headerAffixProps)),{},{ref:ce,onFixedChange:_e}),ct()):Ue&&ct()):null},ut=function(){var At,dn=Be?ae:0;d&&(dn+=1);var zn=x+dn,lr=!!((se.isVirtualScroll||r.footerAffixedBottom)&&(!((At=r.footData)===null||At===void 0)&&At.length)&&Ae.current)&&Q.createElement(WS,Ir(Ir({className:P.affixedFooterWrap,onFixedChange:_e,offsetBottom:dn||0},VS(r.footerAffixedBottom)),{},{ref:ve,style:{marginTop:"".concat(-1*zn,"px")}}),Q.createElement("div",{ref:we,style:{width:"".concat(Ae.current-Ye,"px"),opacity:Number(K)},className:et(["scrollbar",me({},P.affixedFooterElm,r.footerAffixedBottom||se.isVirtualScroll)])},Q.createElement("table",{className:Ke,style:Ir(Ir({},$),{},{width:Oe.current?"".concat(Oe.current,"px"):void 0})},ze(!0),Q.createElement(q9,{rowKey:r.rowKey,isFixedHeader:Ue,rowAndColFixedPosition:ke,footData:r.footData,columns:(L==null?void 0:L.leafColumns)||l,rowAttributes:r.rowAttributes,rowClassName:r.rowClassName,thWidthList:Ze.current,footerSummary:r.footerSummary,rowspanAndColspanInFooter:r.rowspanAndColspanInFooter}))));return lr},rt=Ir(Ir({classPrefix:O,ellipsisOverlayClassName:r.size!=="medium"?k[r.size]:"",rowAndColFixedPosition:ke,showColumnShadow:at,data:Ne,virtualConfig:se,handleRowMounted:se.handleRowMounted,columns:(L==null?void 0:L.leafColumns)||l,tableRef:y,tableContentRef:Te,tableWidth:Ae,isWidthOverflow:Be,allTableClasses:M,rowKey:i,scroll:r.scroll,cellEmptyContent:r.cellEmptyContent,renderExpandedRow:r.renderExpandedRow},Nb(r,nHe)),{},{pagination:tt}),Je="translate(0, ".concat(se.scrollHeight+(Ot||0)+(x||0),"px)"),Wt={transform:Je,msTransform:Je,MozTransform:Je,WebkitTransform:Je},xt=Q.createElement("div",{ref:Te,className:P.content,style:j,onScroll:Se},se.isVirtualScroll&&Q.createElement("div",{className:C.cursor,style:Wt}),Q.createElement("table",{ref:m,className:et(Ke),style:Ir(Ir({},$),{},{width:h&&Be&&Oe.current?"".concat(Oe.current,"px"):$.width})},ze(!1),D.useMemo(function(){return o?Q.createElement(Y9,Ir({},Ir(Ir({},je),{},{thWidthList:h?Ze.current:{}}))):null},_t),D.useMemo(function(){return Q.createElement(Fre,Ir({},rt))},[M,rt.ellipsisOverlayClassName,rt.rowAndColFixedPosition,rt.showColumnShadow,rt.data,rt.columns,y,Te,Ae,Be,se,r.rowKey,r.rowClassName,r.rowAttributes,r.loading,r.empty,r.fixedRows,r.firstFullRow,r.lastFullRow,r.rowspanAndColspan,r.scroll,r.cellEmptyContent]),D.useMemo(function(){return Q.createElement(q9,{rowKey:i,isFixedHeader:Ue,rowAndColFixedPosition:ke,footData:r.footData,columns:(L==null?void 0:L.leafColumns)||l,rowAttributes:r.rowAttributes,rowClassName:r.rowClassName,thWidthList:Ze.current,footerSummary:r.footerSummary,rowspanAndColspanInFooter:r.rowspanAndColspanInFooter,virtualScroll:se.isVirtualScroll})},[Ue,ke,L,l,Ze,r.rowKey,r.footData,r.rowAttributes,r.rowClassName,r.footerSummary,se.isVirtualScroll]))),yt=r.loading,Zt=r.loadingProps,Cn=yt,pt=y.current&&yt!==void 0&&Q.createElement(R0,Ir({loading:!!yt,text:Cn,attach:function(){return y.current},showOverlay:!0,size:"small"},Zt)),dt=r.topContent,St=r.bottomContent,Kt=_?Q.createElement("div",{ref:Me,className:P.paginationWrap,style:{opacity:Number(U)}},vt()):null,jt=!!St&&Q.createElement("div",{ref:b,className:P.bottomContent},St),fn=D.useMemo(it,[].concat(_t,[Ce,Ae,Oe,he,Ye,Ke,$,l,L,o,r.headerAffixedTop])),qn=D.useMemo(ut,[K,Ue,ke,L,l,Ze,P,$,Oe,we,Ye,d,Be,ae,Ke,x,Ae,se.isVirtualScroll,r.rowKey,r.footData,r.rowAttributes,r.rowClassName,r.footerSummary,r.footerAffixedBottom,r.rowspanAndColspanInFooter,Ae.current]),Bt=D.useMemo(function(){var Qt;return ot?Q.createElement("div",{className:P.scrollbarDivider,style:{right:"".concat(ae,"px"),bottom:Dt?"".concat(Dt,"px"):void 0,height:"".concat((Qt=Te.current)===null||Qt===void 0?void 0:Qt.getBoundingClientRect().height,"px")}}):null},[P,ot,ae,Dt,Te]),It=r.horizontalScrollAffixedBottom&&Q.createElement(WS,Ir(Ir({offsetBottom:0},VS(r.horizontalScrollAffixedBottom)),{},{ref:ie,style:{marginTop:"-".concat(ae*2,"px")}}),Q.createElement("div",{ref:ne,className:et(["scrollbar",P.obviousScrollbar]),style:{width:"".concat(Ae.current,"px"),overflow:"auto",opacity:Number(K)}},Q.createElement("div",{style:{width:"".concat(Oe.current,"px"),height:"5px"}}))),yn=r.paginationAffixedBottom?Q.createElement(WS,Ir(Ir({offsetBottom:0},VS(r.paginationAffixedBottom)),{},{ref:pe}),Kt):Kt,an=Q.createElement(Q.Fragment,null,!!dt&&Q.createElement("div",{className:P.topContent},dt),fn,xt,qn,pt,Bt,jt,It,yn,h&&Q.createElement("div",{ref:rn,className:P.resizeLine,style:mn}));return h&&a==="auto"&&Hi.warn("Table","table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please."),Q.createElement("div",{ref:y,className:et(kt),style:Ir({position:"relative"},c)},an)});Yre.displayName="BaseTable";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function TW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var I$e=function(e){return typeof e=="function"},R$e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=D.useState(e),r=De(n,2),i=r[0],o=r[1],a=D.useCallback(function(s){o(function(u){return MW(MW({},u),I$e(s)?s(u):s)})},[]);return[i,a]};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var P$e={closeBtn:!0,footer:!0,header:!0,theme:"default"},D$e={closeOnEscKeydown:void 0,closeOnOverlayClick:void 0,destroyOnClose:!1,draggable:!1,mode:"modal",placement:"top",preventScrollThrough:!0,showInAttachedElement:!1,showOverlay:!0,lazy:!0};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var L$e=["theme","header","closeBtn","footer","body","children","className","onCancel","onConfirm","onCloseBtnClick","cancelBtn","confirmBtn","confirmLoading"];function OW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var IW=function(e,n){var r=null;return _i(e)?r=Q.createElement(si,j_({},n),e):D.isValidElement(e)?r=e:qr(e)?r=Q.createElement(si,j_(j_({},n),e)):En(e)&&(r=e()),r},JL=D.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i="".concat(r,"-dialog"),o=so({CloseIcon:Dw,InfoCircleFilledIcon:yM,CheckCircleFilledIcon:Rw}),a=o.CloseIcon,s=o.InfoCircleFilledIcon,u=o.CheckCircleFilledIcon,l=ha("dialog"),c=De(l,2),f=c[0],d=c[1],h=d(f.confirm),p=d(f.cancel),_=mr(t,P$e),y=_.theme,m=_.header,b=_.closeBtn,w=_.footer,S=_.body,x=_.children,E=_.className,M=_.onCancel,O=_.onConfirm,C=_.onCloseBtnClick,T=_.cancelBtn,P=T===void 0?p:T,N=_.confirmBtn,H=N===void 0?h:N,B=_.confirmLoading,k=zi(_,L$e),j=function(){var W={info:Q.createElement(s,{className:"".concat(r,"-is-info")}),warning:Q.createElement(s,{className:"".concat(r,"-is-warning")}),error:Q.createElement(s,{className:"".concat(r,"-is-error")}),danger:Q.createElement(s,{className:"".concat(r,"-is-error")}),success:Q.createElement(u,{className:"".concat(r,"-is-success")})};return Q.createElement("div",{className:"".concat(i,"__header-content")},W[y],m)},$=function(){if(!b)return null;var W=function(){return b===!0?Q.createElement(a,null):b};return Q.createElement("span",{className:"".concat(i,"__close"),style:{marginLeft:"auto"},onClick:function(ee){return C==null?void 0:C({e:ee})}},W())},F=function(){return Q.createElement("div",{className:et("".concat(i,"__header"))},j(),$())},R=function(){var W=function(){var ee,oe=IW(P,{variant:"outline",onClick:function(ce){return M==null?void 0:M({e:ce})},className:et("".concat(i,"__cancel"),P==null||(ee=P.props)===null||ee===void 0?void 0:ee.className)}),pe=IW(H,{theme:"primary",loading:B,onClick:function(ce){return O==null?void 0:O({e:ce})},className:et("".concat(i,"__confirm"),H==null?void 0:H.className)});return Q.createElement(Q.Fragment,null,oe,pe)};return Q.createElement("div",{className:"".concat(i,"__footer")},Wg(w,null,W()))};return Q.createElement("div",j_(j_({ref:e},k),{},{className:et(i,"".concat(i,"--default"),E)}),!!m&&F(),Q.createElement("div",{className:"".concat(i,"__body")},S||x),!!w&&R())});JL.displayName="DialogCard";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Zre=function(e,n){var r=n.enabled,i=r===void 0?!0:r,o=n.enableTouch,a=o===void 0?!0:o,s=D.useRef(!1),u=function(m){if(!a)return m;if("touches"in m&&m.touches.length>0)return m.touches[0];if("changedTouches"in m&&m.changedTouches.length>0)return m.changedTouches[0];if("clientX"in m&&"clientY"in m)return m},l=function(m){var b,w=(b=e.current)===null||b===void 0?void 0:b.getBoundingClientRect();if(!w)return{x:0,y:0};var S=m.clientX,x=m.clientY,E=S-w.left,M=x-w.top;return{x:Math.min(Math.max(0,E),w.width),y:Math.min(Math.max(0,M),w.height)}},c=function(m,b){if(b){var w=u(m),S=l(w);b(w,{coordinate:S})}},f=function(m){s.current&&(m.preventDefault(),c(m,n.onMove))},d=function(m){s.current&&(s.current=!1,c(m,n.onUp),document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",f),document.removeEventListener("touchend",d),document.removeEventListener("touchmove",f))},h=function(m){"button"in m&&m.button!==0||(s.current=!0,c(m,n.onDown),document.addEventListener("mouseup",d),document.addEventListener("mousemove",f),a&&(document.addEventListener("touchend",d),document.addEventListener("touchmove",f,{passive:!1})))},p=function(m){c(m,n.onEnter)},_=function(m){c(m,n.onLeave)};return D.useEffect(function(){var y=e.current;if(!(!y||!i)&&(y.addEventListener("mousedown",h),y.addEventListener("mousemove",f),y.addEventListener("mouseup",d),n.onEnter&&y.addEventListener("mouseenter",p),n.onLeave&&y.addEventListener("mouseleave",_),!!a))return y.addEventListener("touchstart",h,{passive:!1}),y.addEventListener("touchend",d),function(){y.removeEventListener("mousedown",h),y.removeEventListener("mouseenter",h),y.removeEventListener("mouseleave",_),y.removeEventListener("mousemove",f),y.removeEventListener("mouseup",d),y.removeEventListener("touchstart",h),y.removeEventListener("touchend",d)}},[e.current,n,i]),{isMoving:s.current}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var N$e=function(e){var n=e.dialogCardRef,r=e.canDraggable,i=(typeof window>"u"?"undefined":Rn(window))==="object",o=i?window.innerHeight||document.documentElement.clientHeight:void 0,a=i?window.innerWidth||document.documentElement.clientWidth:void 0,s=D.useRef({x:0,y:0});Zre(n,{enabled:r,onDown:function(l){var c=n.current,f=c.offsetLeft,d=c.offsetTop,h=c.offsetWidth,p=c.offsetHeight,_=c.style;h>a||p>o||(_.cursor="move",s.current={x:l.clientX-f,y:l.clientY-d})},onMove:function(l){var c=n.current,f=c.offsetWidth,d=c.offsetHeight,h=c.style,p=l.clientX-s.current.x,_=l.clientY-s.current.y;p<0&&(p=0),_<0&&(_=0),a-f-p<0&&(p=a-f),o-d-_<0&&(_=o-d),h.position="absolute",h.left="".concat(p,"px"),h.top="".concat(_,"px")},onUp:function(){n.current.style.cursor="default"}})};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Of=[],B$e=function(e,n){var r=D.useRef(!1),i=D.useCallback(function(){var o=Of[Of.length-1];o!=null&&o.current&&o.current.focus()},[]);return D.useEffect(function(){e&&n!==null&&n!==void 0&&n.current&&!r.current&&(Of.push(n),r.current=!0,n.current.focus())}),D.useEffect(function(){if(!e&&r.current){var o=Of.indexOf(n);o>-1&&Of.splice(o,1),r.current=!1}return function(){for(var a=Of.length-1;a>=0;a--)Of[a].current===null&&Of.splice(a,1)}},[e,n]),{focusTopDialog:i}};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var F$e=1;function k$e(t){var e=t.preventScrollThrough,n=t.visible,r=t.mode,i=t.showInAttachedElement,o=D.useRef(null),a=D.useRef(null),s=D.useCallback(function(){clearTimeout(a.current),a.current=setTimeout(function(){var u,l;(u=o.current)===null||u===void 0||(u=u.parentNode)===null||u===void 0||(l=u.removeChild)===null||l===void 0||l.call(u,o.current)},150)},[]);Vg(function(){if(!(typeof document>"u"||!n)){o.current||(o.current=document.createElement("style"));var u=document.documentElement.scrollHeight>document.documentElement.clientHeight,l=u?X6e():0;return o.current.dataset.id="td_dialog_".concat(+new Date,"_").concat(F$e+=1),o.current.innerHTML=`
      html body {
        overflow-y: hidden;
        width: calc(100% - `.concat(l,`px);
      }
    `),s}},[n,s]),Vg(function(){typeof document>"u"||r!=="modal"||!e||i||(n?document.head.appendChild(o.current):s())},[e,n,r,i,s])}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var U$e=["children"],j$e=["className","dialogClassName","style","width","mode","zIndex","visible","attach","onBeforeOpen","onBeforeClose","onOpened","onCancel","onConfirm","onClose","onClosed","isPlugin","draggable","onOverlayClick","onEscKeydown","closeOnEscKeydown","confirmOnEnter","showOverlay","showInAttachedElement","closeOnOverlayClick","destroyOnClose","preventScrollThrough","onCloseBtnClick","forceRender","lazy"];function RW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var H_,H$e=function(e){H_={x:e.pageX,y:e.pageY},setTimeout(function(){H_=null},100)};dl&&document.documentElement.addEventListener("click",H$e,!0);var Ck=D.forwardRef(function(t,e){var n=mr(t,D$e),r=n.children,i=zi(n,U$e),o=ln(),a=o.classPrefix,s="".concat(a,"-dialog"),u=D.useRef(null),l=D.useRef(null),c=D.useRef(!1),f=D.useRef(null),d=D.useRef(null),h=D.useRef(null),p=R$e(Cu({isPlugin:!1},i)),_=De(p,2),y=_[0],m=_[1],b=ha("dialog"),w=De(b,1),S=w[0],x=y.className,E=y.dialogClassName,M=y.style,O=y.width,C=y.mode,T=y.zIndex,P=y.visible,N=y.attach,H=y.onBeforeOpen,B=y.onBeforeClose,k=y.onOpened,j=y.onCancel,$=y.onConfirm,F=y.onClose,R=y.onClosed,L=y.isPlugin,W=y.draggable,Z=y.onOverlayClick,ee=y.onEscKeydown,oe=y.closeOnEscKeydown,pe=y.confirmOnEnter,ie=y.showOverlay,ce=y.showInAttachedElement,ve=y.closeOnOverlayClick,xe=y.destroyOnClose,he=y.preventScrollThrough,we=y.onCloseBtnClick,ne=y.forceRender,Me=y.lazy,Ce=zi(y,j$e),K=bne("dialog",N),U=D.useState(P),G=De(U,2),te=G[0],q=G[1],V=D.useState(!1),ae=De(V,2),Ae=ae[0],Oe=ae[1],Te=B$e(P,u),Ue=Te.focusTopDialog;if(k$e({preventScrollThrough:he,visible:P,mode:C,showInAttachedElement:ce}),N$e({dialogCardRef:f,canDraggable:W&&C==="modeless"}),xv(function(){L||m(function(qe){return Cu(Cu({},qe),n)})},[n,m]),D.useEffect(function(){if(Ae){var qe;if((qe=u.current)===null||qe===void 0||qe.focus(),H_&&f.current){var le=H_.x-f.current.offsetLeft,Ie=H_.y-f.current.offsetTop;f.current.style.transformOrigin="".concat(le,"px ").concat(Ie,"px")}}},[Ae]),D.useImperativeHandle(e,function(){return{show:function(){m({visible:!0})},hide:function(){m({visible:!1})},setConfirmLoading:function(le){m({confirmLoading:le})},destroy:function(){m({visible:!1,destroyOnClose:!0})},update:function(le){m(function(Ie){return Cu(Cu({},Ie),le)})}}}),n.mode==="normal")return Hi.error("Dialog",'mode="normal" is not supported, please use DialogCard.'),Q.createElement(JL,Cu({},n));var Be=function(le){ie&&(ve??S.closeOnOverlayClick)&&(c.current?c.current=!1:le.target===d.current&&(Z==null||Z({e:le}),F==null||F({e:le,trigger:"overlay"})))},Qe=function(le){var Ie=le.e;j==null||j({e:Ie}),F==null||F({e:Ie,trigger:"cancel"})},Ze=function(le){var Ie=le.e;we==null||we({e:Ie}),F==null||F({e:Ie,trigger:"close-btn"})},at=function(le){le.key==="Escape"?(le.stopPropagation(),ee==null||ee({e:le}),(oe??S.closeOnEscKeydown)&&(F==null||F({e:le,trigger:"esc"}))):(le.key==="Enter"||le.key==="NumpadEnter")&&(le.stopPropagation(),pe&&($==null||$({e:le})))},ke=function(){H==null||H(),q(!0),u.current&&(u.current.style.display="block")},Tt=function(){R==null||R(),q(!1),Ue(),u.current&&(u.current.style.display="none")},Mt=function(){Oe(!0),f.current&&(f.current.style.display="block")},wt=function(){Oe(!1),f.current&&(f.current.style.display="none")},ft=function(){return C!=="modal"?null:ie?Q.createElement(_p,{in:P,appear:!0,timeout:300,classNames:"".concat(s,"-fade"),mountOnEnter:!0,unmountOnExit:!0,nodeRef:l},Q.createElement("div",{ref:l,className:"".concat(s,"__mask")})):null};return Q.createElement(_p,{in:P,appear:!0,timeout:300,mountOnEnter:Lb(ne)?Me:!ne,unmountOnExit:xe,nodeRef:h,onEnter:ke,onEntered:k,onExit:B,onExited:Tt},Q.createElement(rM,{attach:K,ref:h},Q.createElement("div",{ref:u,className:et(x,"".concat(s,"__ctx"),"".concat(s,"__").concat(C),me(me({},"".concat(s,"__ctx--fixed"),!ce),"".concat(s,"__ctx--absolute"),ce)),style:{zIndex:T,display:te?void 0:"none"},onKeyDown:at,tabIndex:0},ft(),Q.createElement("div",{className:"".concat(s,"__wrap")},Q.createElement("div",{ref:d,className:et("".concat(s,"__position"),me(me({},"".concat(s,"--top"),!!n.top||n.placement==="top"),"".concat(s,"--center"),n.placement==="center"&&!n.top)),style:{paddingTop:Rz(n.top)},onClick:Be},Q.createElement(_p,{in:P,appear:!0,timeout:300,classNames:"".concat(s,"-zoom"),nodeRef:f,onEnter:Mt,onExited:wt},Q.createElement(JL,Cu(Cu({ref:f},Ce),{},{className:E,style:Cu(Cu({},M),{},{width:Rz(O||(M==null?void 0:M.width))}),onConfirm:$,onCancel:Qe,onCloseBtnClick:Ze}),r)))))))});Ck.displayName="Dialog";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function PW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Lw=function(e){var n=Q.createRef(),r=$x({},e),i=r.visible,o=i===void 0?!0:i,a=document.createDocumentFragment(),s=om.getGlobalConfig();iM(Q.createElement(Y3,{globalConfig:s},Q.createElement(Ck,$x($x({},r),{},{visible:o,ref:n,isPlugin:!0}))),a);var u=lne(r.attach);u?u.appendChild(a):Hi.error("Dialog","attach is not exist");var l={show:function(){requestAnimationFrame(function(){var f;u.appendChild(a),(f=n.current)===null||f===void 0||f.show()})},hide:function(){requestAnimationFrame(function(){var f;(f=n.current)===null||f===void 0||f.destroy()})},setConfirmLoading:function(f){requestAnimationFrame(function(){var d;(d=n.current)===null||d===void 0||d.setConfirmLoading(f)})},update:function(f){requestAnimationFrame(function(){var d;(d=n.current)===null||d===void 0||d.update(f)})},destroy:function(){requestAnimationFrame(function(){var f;(f=n.current)===null||f===void 0||f.destroy()})}};return l},$$e=function(e){return Lw(e)},z$e=function(e){var n=$x({},e);return n.cancelBtn=null,Lw(n)};Lw.alert=z$e;Lw.confirm=$$e;var G$e=Lw;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function DW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W$e=Ub.Group;function YL(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,n=0,r=t.length;n<r;n++){var i,o=t[n];o.colKey&&e.add(o.colKey),(i=o.children)!==null&&i!==void 0&&i.length&&YL(o.children,e)}return e}function V$e(t,e){var n=ln(),r=n.classPrefix,i=n.table,o=so({SettingIcon:ore}),a=o.SettingIcon,s=t.columns,u=t.columnController,l=t.displayColumns,c=l===void 0?[]:l,f=t.columnControllerVisible,d=D.useRef(null),h=function(){var P=((u==null?void 0:u.fields)||xn(YL(s))).filter(function(N){return N});return new Set(P)}(),p=xn(YL(s)),_=Mr(t,"displayColumns",t.onDisplayColumnsChange),y=De(_,2),m=y[0],b=y[1],w=c||t.defaultDisplayColumns||p,S=D.useRef(w);D.useEffect(function(){var P;S.current=xn(c||t.defaultDisplayColumns||p),(P=d.current)===null||P===void 0||P.update({body:O()})},[c]);function x(P){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=0,B=P.length;H<B;H++){var k,j=P[H];j.colKey&&N.push({label:xk(j,H),value:j.colKey,disabled:!h.has(j.colKey)}),(k=j.children)!==null&&k!==void 0&&k.length&&x(j.children,N)}return N}var E=function(N,H){var B;S.current=N;var k={columns:N,type:H.type,currentColumn:Pre(s,String(H.current)),e:H.e};(B=t.onColumnChange)===null||B===void 0||B.call(t,k),d.current.update({body:O()})},M=function(N,H){if(N){var B,k=x(s),j=(k==null?void 0:k.map(function(R){return R.value}))||[];S.current=j,(B=t.onColumnChange)===null||B===void 0||B.call(t,{type:"check",columns:j,e:H.e})}else{var $,F=x(s).filter(function(R){return R.disabled}).map(function(R){return R.value});S.current=F,($=t.onColumnChange)===null||$===void 0||$.call(t,{type:"uncheck",columns:F,e:H.e})}d.current.update({body:O()})};function O(){var P=x(s),N=tne(S.current,xn(h)),H=(u==null?void 0:u.displayType)==="fixed-width"?"fixed":"auto",B=N.length,k=B===h.size,j=B>0&&B<h.size;return Q.createElement("div",{className:et(["".concat(r,"-table__column-controller"),"".concat(r,"-table__column-controller--").concat(H)])},Q.createElement("div",{className:"".concat(r,"-table__column-controller-body")},Q.createElement("p",{className:"".concat(r,"-table__column-controller-desc")},i.columnConfigDescriptionText),Q.createElement("div",{className:"".concat(r,"-table__column-controller-block")},Q.createElement(Ub,{indeterminate:j,checked:k,onChange:M},i.selectAllText)),Q.createElement("div",{className:"".concat(r,"-table__column-controller-block")},Q.createElement(W$e,ZS(ZS({options:P},(u==null?void 0:u.checkboxProps)||{}),{},{value:S.current,onChange:E})))))}var C=function(){d.current=G$e.confirm(ZS({header:i.columnConfigTitleText,body:O(),confirmBtn:i.confirmText,cancelBtn:i.cancelText,width:612,onConfirm:function(){if(S.current.length<c.length){var H,B=ine(c,S.current);e==null||(H=e.onColumnReduce)===null||H===void 0||H.call(e,B)}if(b(xn(S.current)),f===void 0)d.current.hide();else{var k;(k=t.onColumnControllerVisibleChange)===null||k===void 0||k.call(t,!1,{trigger:"cancel"})}},onClose:function(){if(S.current=m,f===void 0)d.current.hide();else{var H;(H=t.onColumnControllerVisibleChange)===null||H===void 0||H.call(t,!1,{trigger:"confirm"})}}},(u==null?void 0:u.dialogProps)||{}))};D.useEffect(function(){f!==void 0&&(d.current?f?d.current.show():d.current.hide():f&&C())},[f,d]);var T=function(){var N,H=!!(u&&Object.keys(u).length),B=H?u.placement||"top-right":"";if(H&&u.hideTriggerButton)return null;var k=["".concat(r,"-table__column-controller-trigger"),me({},"".concat(r,"-align-").concat(B),!!B)];return Q.createElement("div",{className:et(k)},Q.createElement(si,ZS({theme:"default",variant:"outline",onClick:C,content:i.columnConfigButtonText,icon:Q.createElement(a,null)},(N=t.columnController)===null||N===void 0?void 0:N.buttonProps)))};return{tDisplayColumns:m,renderColumnController:T}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function q$e(t){var e,n=t.expandIcon,r=t.expandedRow,i=so({ChevronRightCircleIcon:qne}),o=i.ChevronRightCircleIcon,a=ha("table"),s=De(a,1),u=s[0],l=bl(),c=l.tableExpandClasses,f=l.positiveRotate90,d=l.tableFullRowClasses,h=Mr(t,"expandedRowKeys",t.onExpandChange,{defaultExpandedRowKeys:t.defaultExpandedRowKeys||[]}),p=De(h,2),_=p[0],y=p[1],m=!!r,b=D.useCallback(function(T){if(!m)return null;var P=T.row,N=T.rowKey,H=Ft(P,N||"id");return c[_!=null&&_.includes(H)?"rowExpanded":"rowFolded"]},[_,c,m]),w=t.expandIcon!==!1&&m,S=((e=t.columns)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.fixed)==="left",x=function(P,N){t.expandOnRowClick&&P.stopPropagation();var H=Ft(N,t.rowKey||"id"),B=_.indexOf(H),k=xn(_);B!==-1?k.splice(B,1):k.push(H),y(k,{expandedRowData:t.data.filter(function(j){return k.includes(Ft(j,t.rowKey||"id"))}),currentRowData:N})},E=function(P,N){var H=P.row,B=P.rowIndex,k=Ft(H,t.rowKey||"id"),j=_.includes(k),$=u.expandIcon||Q.createElement(o,null),F=$;N===!1||N===null?F=null:En(N)&&(F=N({row:H,index:B}));var R=[c.iconBox,c[j?"expanded":"collapsed"],me({},f,j)];return Q.createElement("span",{className:et(R),onClick:function(W){return x(W,H)}},F)},M=function(){var P={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:46,className:c.iconCell,fixed:S?"left":void 0,cell:function(H){return E(H,n)},stopPropagation:!0};return P},O=function(P){var N=Ft(P.row,t.rowKey||"id");if(!_||!_.includes(N))return null;var H=P.isWidthOverflow&&t.columns.find(function(B){return B.fixed==="left"});return Q.createElement("tr",{key:"expand_".concat(N),className:et([c.row,me({},d.base,H)])},Q.createElement("td",{colSpan:P.columns.length},Q.createElement("div",{className:et([c.rowInner,me({},d.innerFullRow,H)]),style:H?{width:"".concat(P.tableWidth,"px")}:{}},Q.createElement("div",{className:d.innerFullElement},yC(r,P)))))},C=function(P){x(P.e,P.row)};return{showExpandedRow:m,showExpandIconColumn:w,getExpandColumn:M,renderExpandedRow:O,onInnerExpandRowClick:C,getExpandedRowClass:b}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function K$e(t,e,n){if(!t)return!1;var r=En(t.disabled)?t.disabled({row:e,rowIndex:n}):t.disabled;return t.checkProps&&(En(t.checkProps)?r=r||t.checkProps({row:e,rowIndex:n}).disabled:t.checkProps==="object"&&(r=r||t.checkProps.disabled)),!!r}function X$e(t,e,n){for(var r={},i=0,o=e.length;i<o;i++){var a=Ft(e[i],n);t.includes(a)&&(r[a]=!0)}return r}function IC(t,e){for(var n=0,r=t.length;n<r;n++){var i;if(t[n].colKey===e)return t[n];if((i=t[n].children)!==null&&i!==void 0&&i.length){var o=IC(t[n].children,e);if(o)return o}}return null}function LW(t,e){for(var n=0,r=t.length;n<r;n++){var i;if(t[n].colKey===e)return n;if((i=t[n].children)!==null&&i!==void 0&&i.length){var o=IC(t[n].children,e);if(o)return n}}return-1}function Qre(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=0,r=t.length;n<r;n++){var i,o=t[n];o.filter&&"resetValue"in o.filter&&(e[o.colKey]=o.filter.resetValue),(i=o.children)!==null&&i!==void 0&&i.length&&Qre(o.children,e)}return e}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function NW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var DP=new Map;function J$e(t,e){var n=t.selectedRowKeys,r=t.columns,i=t.data,o=t.rowKey,a=t.indeterminateSelectedRowKeys,s=t.pagination,u=t.reserveSelectedRowOnPaginate,l=D.useState(i),c=De(l,2),f=c[0],d=c[1],h=D.useState(),p=De(h,2),_=p[0],y=p[1],m=Mr(t,"selectedRowKeys",t.onSelectChange,{defaultSelectedRowKeys:t.defaultSelectedRowKeys||[]}),b=De(m,2),w=b[0],S=b[1],x=r.find(function($){var F=$.type;return["multiple","single"].includes(F)}),E=D.useMemo(function(){var $=u?i:f;return($==null?void 0:$.filter(function(F,R){return!O(F,R)}))||[]},[u,i,f]),M=tne(w,E.map(function($){return Ft($,o||"id")}));D.useEffect(function(){if(!u){var $=s.pageSize,F=s.current,R=s.defaultPageSize,L=s.defaultCurrent,W=$||R,Z=F||L,ee=i.slice(W*(Z-1),W*Z);d(ee)}},[i,u]),D.useEffect(function(){if(!(!x&&(!w||!w.length))){var $=function(ee){return x.disabled(ee)?e.disabled:""},F=x!=null&&x.disabled?$:void 0,R=new Set(w),L=function(ee){var oe=ee.row,pe=Ft(oe,o||"id");return R.has(pe)?e.selected:""},W=R.size?L:void 0;y([F,W])}},[i,r,w,x,o]);function O($,F){return K$e(x,$,F)}function C(){return function(){var $=M.length>0&&M.length<E.length||M.length<w.length,F=E.length!==0&&M.length===E.length&&M.length===w.length;return Q.createElement(Ub,{checked:F,indeterminate:$,disabled:!E.length,onChange:B})}}function T($){var F=$.col,R=$.row,L=$.rowIndex,W=typeof F.disabled=="function"?F.disabled({row:R,rowIndex:L}):F.disabled,Z=En(F.checkProps)?F.checkProps({row:R,rowIndex:L}):F.checkProps;return{disabled:W||(Z==null?void 0:Z.disabled),checkProps:Z}}function P($){var F=$.col,R=$.row,L=R===void 0?{}:R,W=w.includes(Ft(L,o||"id")),Z=T($),ee=Z.disabled,oe=Z.checkProps,pe=If(If({checked:W,disabled:ee},oe),{},{onChange:function(){H(L)}}),ie=function(xe){var he="e"in xe?xe.e:xe;he==null||he.stopPropagation()};if(F.type==="single")return Q.createElement(mre,If(If({},pe),{},{onClick:ie}));if(F.type==="multiple"){var ce=a!=null&&a.length?a.includes(Ft(L,o)):!1;return Q.createElement(Ub,If(If({indeterminate:ce},pe),{},{onClick:ie}))}return null}var N=D.useMemo(function(){var $=r.find(function(F){return F.type==="single"});return!$||!$.checkProps||!("allowUncheck"in $.checkProps)?!1:$.checkProps.allowUncheck},[r]);function H(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=xn(w),R=o||"id",L=Ft($,R),W=F.indexOf(L),Z=W!==-1;if(x.type==="multiple")Z?F.splice(W,1):F.push(L);else if(x.type==="single")F=Z&&N?[]:[L];else{Hi.warn("Table","`column.type` must be one of `multiple` and `single`");return}S(F,{selectedRowData:F.map(function(ee){return DP.get(ee)}),currentRowKey:L,currentRowData:$,type:Z?"uncheck":"check"})}function B($){var F=o||"id",R=E.map(function(Z){return Ft(Z,F)}),L=(n==null?void 0:n.filter(function(Z){return!R.includes(Z)}))||[],W=$?[].concat(xn(L),xn(R)):xn(L);S(W,{selectedRowData:$?W.map(function(Z){return DP.get(Z)}):[],type:$?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function k($){var F=["multiple","single"].includes($.type);return F?If(If({},$),{},{width:$.width||64,className:e.checkCell,cell:function(L){return P(L)},title:$.type==="multiple"?C():$.title}):$}var j=function(F){var R=F.row,L=F.index,W=t.columns.findIndex(function(oe){return oe.colKey==="row-select"});if(W!==-1){var Z=T({row:R,rowIndex:L,col:t.columns[W]}),ee=Z.disabled;ee||H(R)}};return D.useEffect(function(){for(var $=0,F=i.length;$<F;$++)DP.set(Ft(i[$],o||"id"),i[$])},[i,o]),{selectedRowClassNames:_,currentPaginateData:f,setCurrentPaginateData:d,setTSelectedRowKeys:S,formatToRowSelectColumn:k,onInnerSelectRowClick:j}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function BW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t){var e=t.sortType,n=e===void 0?"all":e,r=so({ChevronDownIcon:lk}),i=r.ChevronDownIcon,o=bl(),a=o.tableSortClasses,s=o.negativeRotate180,u=ha("table"),l=De(u,2),c=l[0],f=l[1],d=n==="all"?["asc","desc"]:[n],h=function(w,S){t==null||t.onSortIconClick(w,{descending:S==="desc"})};function p(b,w){var S=f(c.sortIcon)||Q.createElement(i,null),x=t.sortIcon||S,E=[w,a.sortIcon,a.iconDirection[b],me({},s,b==="asc")];return Q.createElement("span",{key:b,className:et(E),onClick:function(O){return h(O,b)}},x)}var _=[a.trigger,me({},a.doubleIcon,d.length>1)],y={asc:c.sortAscendingOperationText,desc:c.sortDescendingOperationText},m=d.map(function(b){var w,S=b===t.sortOrder?a.iconActive:a.iconDefault,x=c.sortCancelOperationText,E=b===t.sortOrder?x:y[b];return((w=t.hideSortTips)!==null&&w!==void 0?w:c.hideSortTips)?p(b,S):Q.createElement(Rre,FW(FW({content:E,key:b,placement:"right"},t.tooltipProps),{},{showArrow:!1}),p(b,S))});return Q.createElement("div",{className:et(_)},m)}eie.displayName="SorterButton";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function kW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y$e(t){var e=D.useState(),n=De(e,2),r=n[0],i=n[1],o=Mr(t,"sort",t.onSortChange),a=De(o,2),s=a[0],u=a[1],l=Mr(t,"data",t.onDataChange),c=De(l,2),f=c[0],d=c[1],h=S(t.columns),p=D.useState(),_=De(p,2),y=_[0],m=_[1],b=function(){var N=s;return N?Array.isArray(N)?N:[N]:[]}(),w=function(){var N={};return b.forEach(function(H,B){var k=H.sortBy;N[k]=LP({index:B},H)}),N}();function S(N){for(var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=0,k=N.length;B<k;B++){var j,$=N[B];En($.sorter)&&(H[$.colKey]=$.sorter),(j=$.children)!==null&&j!==void 0&&j.length&&S($.children,H)}return H}function x(N){var H=N;if(!(!h||!Object.keys(h).length)){r||i(f);var B=!H||H instanceof Array&&!H.length,k=!(H instanceof Array)&&!(H!=null&&H.sortBy);if(B||k)return d(r,{trigger:"sort"}),r;var j=H instanceof Array?H:[H],$=f.slice().sort(function(F,R){for(var L=0,W=0,Z=j.length;W<Z;W++){var ee=j[W],oe=h[ee.sortBy];if(L===0&&oe)L=ee.descending?oe(R,F):oe(F,R);else break}return L});if(JSON.stringify($)!==JSON.stringify(f))return d($,{trigger:"sort"}),$}}function E(N,H){var B,k;if(t.multipleSort)k=C(N,H);else{var j=s instanceof Array?s[0]:s;k=O(N,j,H)}var $=x(k),F=$||f,R=F;u(k,{currentDataSource:R,col:N}),(B=t.onChange)===null||B===void 0||B.call(t,{sorter:k},{currentData:F,trigger:"sorter"}),m(k)}function M(N){if(N!==void 0)return N?"desc":"asc"}function O(N,H,B){if(!(H&&H.sortBy===N.colKey&&H.descending===B.descending))return{sortBy:N.colKey,descending:B.descending}}function C(N,H){var B=s||[];if(B instanceof Array){for(var k=N.colKey,j=xn(B),$=0,F=B.length;$<F;$++)if(B[$].sortBy===k){var R=O(N,B[$],H);return R?j[$]=R:j.splice($,1),j}return j.push({sortBy:k,descending:H.descending}),j}}function T(N){var H,B=N.col;if(!B.sorter)return null;var k={sortType:B.sortType,sortOrder:M((H=w[B.colKey])===null||H===void 0?void 0:H.descending),sortIcon:t.sortIcon,hideSortTips:t.hideSortTips};return Q.createElement(eie,LP(LP({key:"sorter-button-".concat(B.colKey)},k),{},{onSortIconClick:function($,F){return E(B,F)}}))}var P=function(H,B){var k=Array.isArray(H)?H:[H],j=Array.isArray(B)?B:[B];if(k.length&&!B)return!1;for(var $=function(){var Z=k[R],ee=j.find(function(oe){return oe.sortBy===Z.sortBy});return ee?{v:Z.descending===ee.descending}:{v:!1}},F,R=0,L=k.length;R<L;R++)if(F=$(),F)return F.v};return D.useEffect(function(){!s||!Object.keys(s).length||!f.length||P(s,y)||x(s)},[s,f]),{renderSortIcon:T}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function UW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Z$e=Ub.Group,Q$e=mre.Group;function e8e(t){var e=t.tFilterValue,n=t.innerFilterValue,r=t.tableFilterClasses,i=t.isFocusClass,o=t.column,a=so({FilterIcon:ere}),s=a.FilterIcon,u=D.useRef(null),l=ha("table"),c=De(l,2),f=c[0],d=c[1],h=D.useState(!1),p=De(h,2),_=p[0],y=p[1],m=function(C){var T;y(C),(T=t.onVisibleChange)===null||T===void 0||T.call(t,C)},b=function(C){var T,P,N,H,B,k=["single","multiple","input"];if(C.type&&!k.includes(C.filter.type)){Hi.error("Table","TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(k)));return}var j={single:Q$e,multiple:Z$e,input:hd}[C.filter.type];if(!(!j&&!(C!=null&&(T=C.filter)!==null&&T!==void 0&&T.component))){var $=My(My({options:["single","multiple"].includes(C.filter.type)?(P=C.filter)===null||P===void 0?void 0:P.list:void 0},((N=C.filter)===null||N===void 0?void 0:N.props)||{}),{},{onChange:function(W){var Z;(Z=t.onInnerFilterChange)===null||Z===void 0||Z.call(t,W,C)}});C.colKey&&n&&C.colKey in n&&($.value=n[C.colKey]),(H=C.filter)!==null&&H!==void 0&&H.confirmEvents&&C.filter.confirmEvents.forEach(function(L){$[L]=function(){var W;y(!1),(W=t.onConfirm)===null||W===void 0||W.call(t,C)}});var F=(C==null||(B=C.filter)===null||B===void 0?void 0:B.component)||j,R=C.filter||{};return Q.createElement("div",{className:r.contentInner},Q.createElement(F,My(My({className:R.classNames,style:R.style},R.attrs),$)))}},w=function(C){if(C.filter.showConfirmAndReset)return Q.createElement("div",{className:r.bottomButtons},Q.createElement(si,{theme:"default",size:"small",onClick:function(){var P;y(!1),(P=t.onReset)===null||P===void 0||P.call(t,C)}},f.resetText),Q.createElement(si,{theme:"primary",size:"small",onClick:function(){var P;y(!1),(P=t.onConfirm)===null||P===void 0||P.call(t,C)}},f.confirmText))};if(!o.filter||o.filter&&!Object.keys(o.filter).length)return null;var S=d(f.filterIcon)||Q.createElement(s,null),x=e==null?void 0:e[o.colKey],E=Rn(x)==="object"&&!kp(x),M=![null,void 0,""].includes(x)&&Rn(x)!=="object";return Q.createElement("div",{className:et([r.icon,me({},i,E||M)])},Q.createElement(vM,My({visible:_,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:r.popup,onVisibleChange:function(C){return m(C)},content:Q.createElement("div",{className:r.popupContent},b(o),w(o))},t.popupProps),Q.createElement("div",{ref:u},yC(t.filterIcon,{col:o,colIndex:t.colIndex})||S)))}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function jW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t){var e=t instanceof Array&&t.length,n=Rn(t)==="object"&&!(t instanceof Array),r=n&&Object.keys(t||{}).length;return e||r||![null,"",void 0].includes(t)}function t8e(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];tie(r)&&(e[n]=r)}),e}function n8e(t,e){var n=t.columns,r=ha("table"),i=De(r,2),o=i[0],a=i[1],s=bl(),u=s.tableFilterClasses,l=s.isFocusClass,c=D.useState(),f=De(c,2),d=f[0],h=f[1],p=Mr(t,"filterValue",t.onFilterChange),_=De(p,2),y=_[0],m=_[1],b=D.useState(y),w=De(b,2),S=w[0],x=w[1],E=function(){var j=t8e(y||{});return!y||!Object.keys(j).length}();D.useEffect(function(){x(y)},[y]);function M(){var j,$;if(E)return null;var F=Q.createElement("div",{className:u.result},Q.createElement("span",null,a(o.searchResultText,{result:O(),count:((j=t.pagination)===null||j===void 0?void 0:j.total)||(($=t.data)===null||$===void 0?void 0:$.length)})),Q.createElement(si,{theme:"primary",variant:"text",onClick:N},o.clearFilterResultButtonText)),R=En(t.filterRow)?t.filterRow():t.filterRow;if(R===null)return null;var L=R||F;return L?Q.createElement("div",{className:u.inner},L):null}function O(){var j=[];return t.columns.filter(function($){return $.filter}).forEach(function($){var F=y[$.colKey];if($.filter.list&&!["null","","undefined"].includes(String(F))){var R=F instanceof Array?F:[F],L=[];$.filter.list.forEach(function(W){R.includes(W.value)&&L.push(W.label)}),F=L.join()}tie(F)&&j.push("".concat($.title,"").concat(F))}),j.join("")}function C(j,$){var F=QS(QS({},S),{},me({},$.colKey,j));x(F),$.filter.showConfirmAndReset||T(F,"filter-change",$)}function T(j,$,F){var R;m(j,{col:F,trigger:$}),(R=t.onChange)===null||R===void 0||R.call(t,{filter:j},{trigger:"filter",currentData:t.data}),requestAnimationFrame(function(){var L;(L=e.current)===null||L===void 0||L.scrollToElement({index:-1})})}function P(j){var $=QS(QS({},y),{},me({},j.colKey,{single:"",multiple:[],input:""}[j.filter.type]||j.filter.resetValue||""));T($,"reset",j)}function N(){var j=Qre(n);T(j,"clear",void 0)}function H(j){T(S,"confirm",j)}function B(j){var $,F=j.col,R=j.colIndex;return Q.createElement(e8e,{column:F,colIndex:R,filterIcon:t.filterIcon,tFilterValue:y,innerFilterValue:S,tableFilterClasses:u,isFocusClass:l,popupProps:F.filter.popupProps,onReset:P,onConfirm:H,onInnerFilterChange:C,primaryTableElement:e==null||($=e.current)===null||$===void 0?void 0:$.tableElement,onVisibleChange:k})}function k(j){j&&!d&&h(!j)}return{hasEmptyCondition:E,isTableOverflowHidden:d,renderFilterIcon:B,renderFirstFilterRow:M}}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function HW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(n),!0).forEach(function(r){r8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zx(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zx=function(e){return typeof e}:zx=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function r8e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function of(){return of=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function i8e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function o8e(t,e){if(t==null)return{};var n=i8e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var a8e="1.15.6";function Xc(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var pf=Xc(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Nw=Xc(/Edge/i),$W=Xc(/firefox/i),$_=Xc(/safari/i)&&!Xc(/chrome/i)&&!Xc(/android/i),Tk=Xc(/iP(ad|od|hone)/i),nie=Xc(/chrome/i)&&Xc(/android/i),rie={capture:!1,passive:!1};function Vn(t,e,n){t.addEventListener(e,n,!pf&&rie)}function Gn(t,e,n){t.removeEventListener(e,n,!pf&&rie)}function RC(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function iie(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Gl(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&RC(t,e):RC(t,e))||r&&t===n)return t;if(t===n)break}while(t=iie(t))}return null}var zW=/\s+/g;function Qa(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(zW," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(zW," ")}}function Sn(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function bg(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Sn(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function oie(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Gu(){var t=document.scrollingElement;return t||document.documentElement}function Ti(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,a,s,u,l,c,f;if(t!==window&&t.parentNode&&t!==Gu()?(o=t.getBoundingClientRect(),a=o.top,s=o.left,u=o.bottom,l=o.right,c=o.height,f=o.width):(a=0,s=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!pf))do if(i&&i.getBoundingClientRect&&(Sn(i,"transform")!=="none"||n&&Sn(i,"position")!=="static")){var d=i.getBoundingClientRect();a-=d.top+parseInt(Sn(i,"border-top-width")),s-=d.left+parseInt(Sn(i,"border-left-width")),u=a+o.height,l=s+o.width;break}while(i=i.parentNode);if(r&&t!==window){var h=bg(i||t),p=h&&h.a,_=h&&h.d;h&&(a/=_,s/=p,f/=p,c/=_,u=a+c,l=s+f)}return{top:a,left:s,bottom:u,right:l,width:f,height:c}}}function GW(t,e,n){for(var r=pd(t,!0),i=Ti(t)[e];r;){var o=Ti(r)[n],a=void 0;if(a=i>=o,!a)return r;if(r===Gu())break;r=pd(r,!1)}return!1}function r0(t,e,n,r){for(var i=0,o=0,a=t.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==_n.ghost&&(r||a[o]!==_n.dragged)&&Gl(a[o],n.draggable,t,!1)){if(i===e)return a[o];i++}o++}return null}function Mk(t,e){for(var n=t.lastElementChild;n&&(n===_n.ghost||Sn(n,"display")==="none"||e&&!RC(n,e));)n=n.previousElementSibling;return n||null}function Gs(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_n.clone&&(!e||RC(t,e))&&n++;return n}function WW(t){var e=0,n=0,r=Gu();if(t)do{var i=bg(t),o=i.a,a=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function s8e(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function pd(t,e){if(!t||!t.getBoundingClientRect)return Gu();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Sn(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Gu();if(r||e)return n;r=!0}}while(n=n.parentNode);return Gu()}function l8e(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function NP(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var z_;function aie(t,e){return function(){if(!z_){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),z_=setTimeout(function(){z_=void 0},e)}}}function u8e(){clearTimeout(z_),z_=void 0}function sie(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function lie(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function uie(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var o,a,s,u;if(!(!Gl(i,e.draggable,t,!1)||i.animated||i===n)){var l=Ti(i);r.left=Math.min((o=r.left)!==null&&o!==void 0?o:1/0,l.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,l.top),r.right=Math.max((s=r.right)!==null&&s!==void 0?s:-1/0,l.right),r.bottom=Math.max((u=r.bottom)!==null&&u!==void 0?u:-1/0,l.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Da="Sortable"+new Date().getTime();function c8e(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Sn(i,"display")==="none"||i===_n.ghost)){t.push({target:i,rect:Ti(i)});var o=Zu({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=bg(i,!0);a&&(o.top-=a.f,o.left-=a.e)}i.fromRect=o}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(s8e(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,a=0;t.forEach(function(s){var u=0,l=s.target,c=l.fromRect,f=Ti(l),d=l.prevFromRect,h=l.prevToRect,p=s.rect,_=bg(l,!0);_&&(f.top-=_.f,f.left-=_.e),l.toRect=f,l.thisAnimationDuration&&NP(d,f)&&!NP(c,f)&&(p.top-f.top)/(p.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=d8e(p,d,h,i.options)),NP(f,c)||(l.prevFromRect=c,l.prevToRect=f,u||(u=i.options.animation),i.animate(l,p,f,u)),u&&(o=!0,a=Math.max(a,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,o,a){if(a){Sn(r,"transition",""),Sn(r,"transform","");var s=bg(this.el),u=s&&s.a,l=s&&s.d,c=(i.left-o.left)/(u||1),f=(i.top-o.top)/(l||1);r.animatingX=!!c,r.animatingY=!!f,Sn(r,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=f8e(r),Sn(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Sn(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Sn(r,"transition",""),Sn(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function f8e(t){return t.offsetWidth}function d8e(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var qm=[],BP={initializeByDefault:!0},Bw={mount:function(e){for(var n in BP)BP.hasOwnProperty(n)&&!(n in e)&&(e[n]=BP[n]);qm.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),qm.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=e+"Global";qm.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][o]&&n[a.pluginName][o](Zu({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](Zu({sortable:n},r)))})},initializePlugins:function(e,n,r,i){qm.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var l=new s(e,n,e.options);l.sortable=e,l.options=e.options,e[u]=l,of(r,l.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);typeof a<"u"&&(e.options[o]=a)}},getEventProperties:function(e,n){var r={};return qm.forEach(function(i){typeof i.eventProperties=="function"&&of(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return qm.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(e[o.pluginName],r))}),i}};function h8e(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,u=t.oldIndex,l=t.newIndex,c=t.oldDraggableIndex,f=t.newDraggableIndex,d=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Da],!!e){var _,y=e.options,m="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!pf&&!Nw?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=a||n,_.from=s||n,_.item=i||n,_.clone=o,_.oldIndex=u,_.newIndex=l,_.oldDraggableIndex=c,_.newDraggableIndex=f,_.originalEvent=d,_.pullMode=h?h.lastPutMode:void 0;var b=Zu(Zu({},p),Bw.getEventProperties(r,e));for(var w in b)_[w]=b[w];n&&n.dispatchEvent(_),y[m]&&y[m].call(e,_)}}var p8e=["evt"],_a=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=o8e(r,p8e);Bw.pluginEvent.bind(_n)(e,n,Zu({dragEl:Et,parentEl:ii,ghostEl:Tn,rootEl:Hr,nextEl:Fh,lastDownEl:Gx,cloneEl:Xr,cloneHidden:nd,dragStarted:u_,putSortable:co,activeSortable:_n.active,originalEvent:i,oldIndex:Jv,oldDraggableIndex:G_,newIndex:es,newDraggableIndex:Kf,hideGhostForTarget:hie,unhideGhostForTarget:pie,cloneNowHidden:function(){nd=!0},cloneNowShown:function(){nd=!1},dispatchSortableEvent:function(s){Jo({sortable:n,name:s,originalEvent:i})}},o))};function Jo(t){h8e(Zu({putSortable:co,cloneEl:Xr,targetEl:Et,rootEl:Hr,oldIndex:Jv,oldDraggableIndex:G_,newIndex:es,newDraggableIndex:Kf},t))}var Et,ii,Tn,Hr,Fh,Gx,Xr,nd,Jv,es,G_,Kf,eE,co,Av=!1,PC=!1,DC=[],yh,Dl,FP,kP,VW,qW,u_,Km,W_,V_=!1,tE=!1,Wx,Mo,UP=[],ZL=!1,LC=[],RM=typeof document<"u",nE=Tk,KW=Nw||pf?"cssFloat":"float",m8e=RM&&!nie&&!Tk&&"draggable"in document.createElement("div"),cie=function(){if(RM){if(pf)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),fie=function(e,n){var r=Sn(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=r0(e,0,n),a=r0(e,1,n),s=o&&Sn(o),u=a&&Sn(a),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ti(o).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Ti(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=i&&r[KW]==="none"||a&&r[KW]==="none"&&l+c>i)?"vertical":"horizontal"},v8e=function(e,n,r){var i=r?e.left:e.top,o=r?e.right:e.bottom,a=r?e.width:e.height,s=r?n.left:n.top,u=r?n.right:n.bottom,l=r?n.width:n.height;return i===s||o===u||i+a/2===s+l/2},g8e=function(e,n){var r;return DC.some(function(i){var o=i[Da].options.emptyInsertThreshold;if(!(!o||Mk(i))){var a=Ti(i),s=e>=a.left-o&&e<=a.right+o,u=n>=a.top-o&&n<=a.bottom+o;if(s&&u)return r=i}}),r},die=function(e){function n(o,a){return function(s,u,l,c){var f=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(o==null&&(a||f))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return n(o(s,u,l,c),a)(s,u,l,c);var d=(a?s:u).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=e.group;(!i||zx(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},hie=function(){!cie&&Tn&&Sn(Tn,"display","none")},pie=function(){!cie&&Tn&&Sn(Tn,"display","")};RM&&!nie&&document.addEventListener("click",function(t){if(PC)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),PC=!1,!1},!0);var _h=function(e){if(Et){e=e.touches?e.touches[0]:e;var n=g8e(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Da]._onDragOver(r)}}},y8e=function(e){Et&&Et.parentNode[Da]._isOutsideThisEl(e.target)};function _n(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=of({},e),t[Da]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fie(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_n.supportPointer!==!1&&"PointerEvent"in window&&(!$_||Tk),emptyInsertThreshold:5};Bw.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);die(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:m8e,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Vn(t,"pointerdown",this._onTapStart):(Vn(t,"mousedown",this._onTapStart),Vn(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Vn(t,"dragover",this),Vn(t,"dragenter",this)),DC.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),of(this,c8e())}_n.prototype={constructor:_n,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Km=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Et):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,c=i.filter;if(C8e(r),!Et&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&$_&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Gl(u,i.draggable,r,!1),!(u&&u.animated)&&Gx!==u)){if(Jv=Gs(u),G_=Gs(u,i.draggable),typeof c=="function"){if(c.call(this,e,u,this)){Jo({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:r,fromEl:r}),_a("filter",n,{evt:e}),o&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=Gl(l,f.trim(),r,!1),f)return Jo({sortable:n,rootEl:f,name:"filter",targetEl:u,fromEl:r,toEl:r}),_a("filter",n,{evt:e}),!0}),c)){o&&e.preventDefault();return}i.handle&&!Gl(l,i.handle,r,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,n,r){var i=this,o=i.el,a=i.options,s=o.ownerDocument,u;if(r&&!Et&&r.parentNode===o){var l=Ti(r);if(Hr=o,Et=r,ii=Et.parentNode,Fh=Et.nextSibling,Gx=r,eE=a.group,_n.dragged=Et,yh={target:Et,clientX:(n||e).clientX,clientY:(n||e).clientY},VW=yh.clientX-l.left,qW=yh.clientY-l.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Et.style["will-change"]="all",u=function(){if(_a("delayEnded",i,{evt:e}),_n.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!$W&&i.nativeDraggable&&(Et.draggable=!0),i._triggerDragStart(e,n),Jo({sortable:i,name:"choose",originalEvent:e}),Qa(Et,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){oie(Et,c.trim(),jP)}),Vn(s,"dragover",_h),Vn(s,"mousemove",_h),Vn(s,"touchmove",_h),a.supportPointer?(Vn(s,"pointerup",i._onDrop),!this.nativeDraggable&&Vn(s,"pointercancel",i._onDrop)):(Vn(s,"mouseup",i._onDrop),Vn(s,"touchend",i._onDrop),Vn(s,"touchcancel",i._onDrop)),$W&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Et.draggable=!0),_a("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Nw||pf))){if(_n.eventCanceled){this._onDrop();return}a.supportPointer?(Vn(s,"pointerup",i._disableDelayedDrag),Vn(s,"pointercancel",i._disableDelayedDrag)):(Vn(s,"mouseup",i._disableDelayedDrag),Vn(s,"touchend",i._disableDelayedDrag),Vn(s,"touchcancel",i._disableDelayedDrag)),Vn(s,"mousemove",i._delayedDragTouchMoveHandler),Vn(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Vn(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Et&&jP(Et),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Gn(e,"mouseup",this._disableDelayedDrag),Gn(e,"touchend",this._disableDelayedDrag),Gn(e,"touchcancel",this._disableDelayedDrag),Gn(e,"pointerup",this._disableDelayedDrag),Gn(e,"pointercancel",this._disableDelayedDrag),Gn(e,"mousemove",this._delayedDragTouchMoveHandler),Gn(e,"touchmove",this._delayedDragTouchMoveHandler),Gn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Vn(document,"pointermove",this._onTouchMove):n?Vn(document,"touchmove",this._onTouchMove):Vn(document,"mousemove",this._onTouchMove):(Vn(Et,"dragend",this),Vn(Hr,"dragstart",this._onDragStart));try{document.selection?Vx(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Av=!1,Hr&&Et){_a("dragStarted",this,{evt:n}),this.nativeDraggable&&Vn(document,"dragover",y8e);var r=this.options;!e&&Qa(Et,r.dragClass,!1),Qa(Et,r.ghostClass,!0),_n.active=this,e&&this._appendGhost(),Jo({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Dl){this._lastX=Dl.clientX,this._lastY=Dl.clientY,hie();for(var e=document.elementFromPoint(Dl.clientX,Dl.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Dl.clientX,Dl.clientY),e!==n);)n=e;if(Et.parentNode[Da]._isOutsideThisEl(e),n)do{if(n[Da]){var r=void 0;if(r=n[Da]._onDragOver({clientX:Dl.clientX,clientY:Dl.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=iie(n));pie()}},_onTouchMove:function(e){if(yh){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,a=Tn&&bg(Tn,!0),s=Tn&&a&&a.a,u=Tn&&a&&a.d,l=nE&&Mo&&WW(Mo),c=(o.clientX-yh.clientX+i.x)/(s||1)+(l?l[0]-UP[0]:0)/(s||1),f=(o.clientY-yh.clientY+i.y)/(u||1)+(l?l[1]-UP[1]:0)/(u||1);if(!_n.active&&!Av){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Tn){a?(a.e+=c-(FP||0),a.f+=f-(kP||0)):a={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Sn(Tn,"webkitTransform",d),Sn(Tn,"mozTransform",d),Sn(Tn,"msTransform",d),Sn(Tn,"transform",d),FP=c,kP=f,Dl=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Tn){var e=this.options.fallbackOnBody?document.body:Hr,n=Ti(Et,!0,nE,!0,e),r=this.options;if(nE){for(Mo=e;Sn(Mo,"position")==="static"&&Sn(Mo,"transform")==="none"&&Mo!==document;)Mo=Mo.parentNode;Mo!==document.body&&Mo!==document.documentElement?(Mo===document&&(Mo=Gu()),n.top+=Mo.scrollTop,n.left+=Mo.scrollLeft):Mo=Gu(),UP=WW(Mo)}Tn=Et.cloneNode(!0),Qa(Tn,r.ghostClass,!1),Qa(Tn,r.fallbackClass,!0),Qa(Tn,r.dragClass,!0),Sn(Tn,"transition",""),Sn(Tn,"transform",""),Sn(Tn,"box-sizing","border-box"),Sn(Tn,"margin",0),Sn(Tn,"top",n.top),Sn(Tn,"left",n.left),Sn(Tn,"width",n.width),Sn(Tn,"height",n.height),Sn(Tn,"opacity","0.8"),Sn(Tn,"position",nE?"absolute":"fixed"),Sn(Tn,"zIndex","100000"),Sn(Tn,"pointerEvents","none"),_n.ghost=Tn,e.appendChild(Tn),Sn(Tn,"transform-origin",VW/parseInt(Tn.style.width)*100+"% "+qW/parseInt(Tn.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,o=r.options;if(_a("dragStart",this,{evt:e}),_n.eventCanceled){this._onDrop();return}_a("setupClone",this),_n.eventCanceled||(Xr=lie(Et),Xr.removeAttribute("id"),Xr.draggable=!1,Xr.style["will-change"]="",this._hideClone(),Qa(Xr,this.options.chosenClass,!1),_n.clone=Xr),r.cloneId=Vx(function(){_a("clone",r),!_n.eventCanceled&&(r.options.removeCloneOnHide||Hr.insertBefore(Xr,Et),r._hideClone(),Jo({sortable:r,name:"clone"}))}),!n&&Qa(Et,o.dragClass,!0),n?(PC=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Gn(document,"mouseup",r._onDrop),Gn(document,"touchend",r._onDrop),Gn(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,Et)),Vn(document,"drop",r),Sn(Et,"transform","translateZ(0)")),Av=!0,r._dragStartId=Vx(r._dragStarted.bind(r,n,e)),Vn(document,"selectstart",r),u_=!0,window.getSelection().removeAllRanges(),$_&&Sn(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,o,a,s=this.options,u=s.group,l=_n.active,c=eE===u,f=s.sort,d=co||l,h,p=this,_=!1;if(ZL)return;function y(F,R){_a(F,p,Zu({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:a,dragRect:i,targetRect:o,canSort:f,fromSortable:d,target:r,completed:b,onMove:function(W,Z){return rE(Hr,n,Et,i,W,Ti(W),e,Z)},changed:w},R))}function m(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function b(F){return y("dragOverCompleted",{insertion:F}),F&&(c?l._hideClone():l._showClone(p),p!==d&&(Qa(Et,co?co.options.ghostClass:l.options.ghostClass,!1),Qa(Et,s.ghostClass,!0)),co!==p&&p!==_n.active?co=p:p===_n.active&&co&&(co=null),d===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===Et&&!Et.animated||r===n&&!r.animated)&&(Km=null),!s.dragoverBubble&&!e.rootEl&&r!==document&&(Et.parentNode[Da]._isOutsideThisEl(e.target),!F&&_h(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function w(){es=Gs(Et),Kf=Gs(Et,s.draggable),Jo({sortable:p,name:"change",toEl:n,newIndex:es,newDraggableIndex:Kf,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Gl(r,s.draggable,n,!0),y("dragOver"),_n.eventCanceled)return _;if(Et.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return b(!1);if(PC=!1,l&&!s.disabled&&(c?f||(a=ii!==Hr):co===this||(this.lastPutMode=eE.checkPull(this,l,Et,e))&&u.checkPut(this,l,Et,e))){if(h=this._getDirection(e,r)==="vertical",i=Ti(Et),y("dragOverValid"),_n.eventCanceled)return _;if(a)return ii=Hr,m(),this._hideClone(),y("revert"),_n.eventCanceled||(Fh?Hr.insertBefore(Et,Fh):Hr.appendChild(Et)),b(!0);var S=Mk(n,s.draggable);if(!S||S8e(e,h,this)&&!S.animated){if(S===Et)return b(!1);if(S&&n===e.target&&(r=S),r&&(o=Ti(r)),rE(Hr,n,Et,i,r,o,e,!!r)!==!1)return m(),S&&S.nextSibling?n.insertBefore(Et,S.nextSibling):n.appendChild(Et),ii=n,w(),b(!0)}else if(S&&w8e(e,h,this)){var x=r0(n,0,s,!0);if(x===Et)return b(!1);if(r=x,o=Ti(r),rE(Hr,n,Et,i,r,o,e,!1)!==!1)return m(),n.insertBefore(Et,x),ii=n,w(),b(!0)}else if(r.parentNode===n){o=Ti(r);var E=0,M,O=Et.parentNode!==n,C=!v8e(Et.animated&&Et.toRect||i,r.animated&&r.toRect||o,h),T=h?"top":"left",P=GW(r,"top","top")||GW(Et,"top","top"),N=P?P.scrollTop:void 0;Km!==r&&(M=o[T],V_=!1,tE=!C&&s.invertSwap||O),E=E8e(e,r,o,h,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,tE,Km===r);var H;if(E!==0){var B=Gs(Et);do B-=E,H=ii.children[B];while(H&&(Sn(H,"display")==="none"||H===Tn))}if(E===0||H===r)return b(!1);Km=r,W_=E;var k=r.nextElementSibling,j=!1;j=E===1;var $=rE(Hr,n,Et,i,r,o,e,j);if($!==!1)return($===1||$===-1)&&(j=$===1),ZL=!0,setTimeout(b8e,30),m(),j&&!k?n.appendChild(Et):r.parentNode.insertBefore(Et,j?k:r),P&&sie(P,0,N-P.scrollTop),ii=Et.parentNode,M!==void 0&&!tE&&(Wx=Math.abs(M-Ti(r)[T])),w(),b(!0)}if(n.contains(Et))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Gn(document,"mousemove",this._onTouchMove),Gn(document,"touchmove",this._onTouchMove),Gn(document,"pointermove",this._onTouchMove),Gn(document,"dragover",_h),Gn(document,"mousemove",_h),Gn(document,"touchmove",_h)},_offUpEvents:function(){var e=this.el.ownerDocument;Gn(e,"mouseup",this._onDrop),Gn(e,"touchend",this._onDrop),Gn(e,"pointerup",this._onDrop),Gn(e,"pointercancel",this._onDrop),Gn(e,"touchcancel",this._onDrop),Gn(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(es=Gs(Et),Kf=Gs(Et,r.draggable),_a("drop",this,{evt:e}),ii=Et&&Et.parentNode,es=Gs(Et),Kf=Gs(Et,r.draggable),_n.eventCanceled){this._nulling();return}Av=!1,tE=!1,V_=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),QL(this.cloneId),QL(this._dragStartId),this.nativeDraggable&&(Gn(document,"drop",this),Gn(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$_&&Sn(document.body,"user-select",""),Sn(Et,"transform",""),e&&(u_&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Tn&&Tn.parentNode&&Tn.parentNode.removeChild(Tn),(Hr===ii||co&&co.lastPutMode!=="clone")&&Xr&&Xr.parentNode&&Xr.parentNode.removeChild(Xr),Et&&(this.nativeDraggable&&Gn(Et,"dragend",this),jP(Et),Et.style["will-change"]="",u_&&!Av&&Qa(Et,co?co.options.ghostClass:this.options.ghostClass,!1),Qa(Et,this.options.chosenClass,!1),Jo({sortable:this,name:"unchoose",toEl:ii,newIndex:null,newDraggableIndex:null,originalEvent:e}),Hr!==ii?(es>=0&&(Jo({rootEl:ii,name:"add",toEl:ii,fromEl:Hr,originalEvent:e}),Jo({sortable:this,name:"remove",toEl:ii,originalEvent:e}),Jo({rootEl:ii,name:"sort",toEl:ii,fromEl:Hr,originalEvent:e}),Jo({sortable:this,name:"sort",toEl:ii,originalEvent:e})),co&&co.save()):es!==Jv&&es>=0&&(Jo({sortable:this,name:"update",toEl:ii,originalEvent:e}),Jo({sortable:this,name:"sort",toEl:ii,originalEvent:e})),_n.active&&((es==null||es===-1)&&(es=Jv,Kf=G_),Jo({sortable:this,name:"end",toEl:ii,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){_a("nulling",this),Hr=Et=ii=Tn=Fh=Xr=Gx=nd=yh=Dl=u_=es=Kf=Jv=G_=Km=W_=co=eE=_n.dragged=_n.ghost=_n.clone=_n.active=null,LC.forEach(function(e){e.checked=!0}),LC.length=FP=kP=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Et&&(this._onDragOver(e),_8e(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,o=r.length,a=this.options;i<o;i++)n=r[i],Gl(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||A8e(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(o,a){var s=i.children[a];Gl(s,this.options.draggable,i,!1)&&(r[o]=s)},this),n&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Gl(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Bw.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&die(r)},destroy:function(){_a("destroy",this);var e=this.el;e[Da]=null,Gn(e,"mousedown",this._onTapStart),Gn(e,"touchstart",this._onTapStart),Gn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Gn(e,"dragover",this),Gn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),DC.splice(DC.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!nd){if(_a("hideClone",this),_n.eventCanceled)return;Sn(Xr,"display","none"),this.options.removeCloneOnHide&&Xr.parentNode&&Xr.parentNode.removeChild(Xr),nd=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(nd){if(_a("showClone",this),_n.eventCanceled)return;Et.parentNode==Hr&&!this.options.group.revertClone?Hr.insertBefore(Xr,Et):Fh?Hr.insertBefore(Xr,Fh):Hr.appendChild(Xr),this.options.group.revertClone&&this.animate(Et,Xr),Sn(Xr,"display",""),nd=!1}}};function _8e(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function rE(t,e,n,r,i,o,a,s){var u,l=t[Da],c=l.options.onMove,f;return window.CustomEvent&&!pf&&!Nw?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=n,u.draggedRect=r,u.related=i||e,u.relatedRect=o||Ti(e),u.willInsertAfter=s,u.originalEvent=a,t.dispatchEvent(u),c&&(f=c.call(l,u,a)),f}function jP(t){t.draggable=!1}function b8e(){ZL=!1}function w8e(t,e,n){var r=Ti(r0(n.el,0,n.options,!0)),i=uie(n.el,n.options,Tn),o=10;return e?t.clientX<i.left-o||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-o||t.clientY<r.bottom&&t.clientX<r.left}function S8e(t,e,n){var r=Ti(Mk(n.el,n.options.draggable)),i=uie(n.el,n.options,Tn),o=10;return e?t.clientX>i.right+o||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+o||t.clientX>r.right&&t.clientY>r.top}function E8e(t,e,n,r,i,o,a,s){var u=r?t.clientY:t.clientX,l=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!a){if(s&&Wx<l*i){if(!V_&&(W_===1?u>c+l*o/2:u<f-l*o/2)&&(V_=!0),V_)d=!0;else if(W_===1?u<c+Wx:u>f-Wx)return-W_}else if(u>c+l*(1-i)/2&&u<f-l*(1-i)/2)return x8e(e)}return d=d||a,d&&(u<c+l*o/2||u>f-l*o/2)?u>c+l/2?1:-1:0}function x8e(t){return Gs(Et)<Gs(t)?1:-1}function A8e(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function C8e(t){LC.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&LC.push(r)}}function Vx(t){return setTimeout(t,0)}function QL(t){return clearTimeout(t)}RM&&Vn(document,"touchmove",function(t){(_n.active||Av)&&t.cancelable&&t.preventDefault()});_n.utils={on:Vn,off:Gn,css:Sn,find:oie,is:function(e,n){return!!Gl(e,n,e,!1)},extend:l8e,throttle:aie,closest:Gl,toggleClass:Qa,clone:lie,index:Gs,nextTick:Vx,cancelNextTick:QL,detectDirection:fie,getChild:r0,expando:Da};_n.get=function(t){return t[Da]};_n.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(_n.utils=Zu(Zu({},_n.utils),r.utils)),Bw.mount(r)})};_n.create=function(t,e){return new _n(t,e)};_n.version=a8e;var xi=[],c_,eN,tN=!1,HP,$P,NC,f_;function T8e(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Vn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Vn(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Vn(document,"touchmove",this._handleFallbackAutoScroll):Vn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Gn(document,"dragover",this._handleAutoScroll):(Gn(document,"pointermove",this._handleFallbackAutoScroll),Gn(document,"touchmove",this._handleFallbackAutoScroll),Gn(document,"mousemove",this._handleFallbackAutoScroll)),XW(),qx(),u8e()},nulling:function(){NC=eN=c_=tN=f_=HP=$P=null,xi.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(o,a);if(NC=n,r||this.options.forceAutoScrollFallback||Nw||pf||$_){zP(n,this.options,s,r);var u=pd(s,!0);tN&&(!f_||o!==HP||a!==$P)&&(f_&&XW(),f_=setInterval(function(){var l=pd(document.elementFromPoint(o,a),!0);l!==u&&(u=l,qx()),zP(n,i.options,l,r)},10),HP=o,$P=a)}else{if(!this.options.bubbleScroll||pd(s,!0)===Gu()){qx();return}zP(n,this.options,pd(s,!1),!1)}}},of(t,{pluginName:"scroll",initializeByDefault:!0})}function qx(){xi.forEach(function(t){clearInterval(t.pid)}),xi=[]}function XW(){clearInterval(f_)}var zP=aie(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,u=Gu(),l=!1,c;eN!==n&&(eN=n,qx(),c_=e.scroll,c=e.scrollFn,c_===!0&&(c_=pd(n,!0)));var f=0,d=c_;do{var h=d,p=Ti(h),_=p.top,y=p.bottom,m=p.left,b=p.right,w=p.width,S=p.height,x=void 0,E=void 0,M=h.scrollWidth,O=h.scrollHeight,C=Sn(h),T=h.scrollLeft,P=h.scrollTop;h===u?(x=w<M&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),E=S<O&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(x=w<M&&(C.overflowX==="auto"||C.overflowX==="scroll"),E=S<O&&(C.overflowY==="auto"||C.overflowY==="scroll"));var N=x&&(Math.abs(b-i)<=a&&T+w<M)-(Math.abs(m-i)<=a&&!!T),H=E&&(Math.abs(y-o)<=a&&P+S<O)-(Math.abs(_-o)<=a&&!!P);if(!xi[f])for(var B=0;B<=f;B++)xi[B]||(xi[B]={});(xi[f].vx!=N||xi[f].vy!=H||xi[f].el!==h)&&(xi[f].el=h,xi[f].vx=N,xi[f].vy=H,clearInterval(xi[f].pid),(N!=0||H!=0)&&(l=!0,xi[f].pid=setInterval((function(){r&&this.layer===0&&_n.active._onTouchMove(NC);var k=xi[this.layer].vy?xi[this.layer].vy*s:0,j=xi[this.layer].vx?xi[this.layer].vx*s:0;typeof c=="function"&&c.call(_n.dragged.parentNode[Da],j,k,t,NC,xi[this.layer].el)!=="continue"||sie(xi[this.layer].el,j,k)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==u&&(d=pd(d,!1)));tN=l}},30),mie=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(n){var l=r||o;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);u(),l&&!l.el.contains(f)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Ok(){}Ok.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=r0(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:mie};of(Ok,{pluginName:"revertOnSpill"});function Ik(){}Ik.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:mie};of(Ik,{pluginName:"removeOnSpill"});_n.mount(new T8e);_n.mount(Ik,Ok);/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function JW(t,e,n){var r=xn(t);return n-e>0?(r.splice(n+1,0,r[e]),r.splice(e,1)):(r.splice(n,0,r[e]),r.splice(e+1,1)),r}function YW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8e(t,e){var n=e.primaryTableRef,r=e.innerPagination,i=t.sortOnRowDraggable,o=t.dragSort,a=t.data,s=t.onDragSort,u=bl(),l=u.tableDraggableClasses,c=u.tableBaseClass,f=u.tableFullRowClasses,d=D.useState(t.columns||[]),h=De(d,2),p=h[0],_=h[1],y=D.useMemo(function(){return p.find(function(k){return k.colKey==="drag"})},[p]),m=D.useMemo(function(){return i||o==="row"},[o,i]),b=D.useMemo(function(){return["row-handler","row-handler-col"].includes(o)&&!!y},[o,y]),w=D.useMemo(function(){return["col","row-handler-col"].includes(o)},[o]),S=D.useRef([]),x=D.useRef(null),E=D.useRef([]),M=D.useRef([]),O=D.useRef([]),C=null;t.sortOnRowDraggable&&Hi.warn("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead."),D.useEffect(function(){S.current=a.map(function(k){return String(Ft(k,t.rowKey))}),x.current=a},[a,t.rowKey]),D.useEffect(function(){E.current=t.columns.map(function(k){return k.colKey}),M.current=t.columns,O.current=t.columns},[t.columns]);var T=wne(s);function P(k,j){var $,F,R=($=j.current)!==null&&$!==void 0?$:j.defaultCurrent,L=(F=j.pageSize)!==null&&F!==void 0?F:j.defaultPageSize;return!t.disableDataPage&&j&&a.length>L?L*(R-1)+k:k}var N=function(j){var $,F;if(!((j==null||($=j.children)===null||$===void 0?void 0:$.length)===0||!b&&!m)){var R=null,L=j==null?void 0:j.querySelector("tbody");if(!L)return console.error("tbody does not exist."),null;var W=Oy({animation:150,ghostClass:l.ghost,chosenClass:l.chosen,dragClass:l.dragging,filter:".".concat(f.base),onMove:function(ee){return!q3(ee.related,f.base)},onEnd:function(ee){var oe,pe;if(ee.newIndex!==ee.oldIndex){var ie=ee.oldIndex,ce=ee.newIndex;(oe=R)===null||oe===void 0||oe.sort(xn(S.current)),t.firstFullRow&&(ie-=1,ce-=1),r.current&&(ie=P(ie,r.current),ce=P(ce,r.current));var ve=JW(xn(x.current),ie,ce),xe={currentIndex:ie,current:x.current[ie],targetIndex:ce,target:x.current[ce],data:x.current,newData:ve,e:ee,sort:"row"};xe.currentData=xe.newData,(pe=T.current)===null||pe===void 0||pe.call(T,xe)}}},t.dragSortOptions);L&&(m?R=new _n(L,Oy({},W)):b&&(R=new _n(L,Oy(Oy({},W),{},{handle:".".concat(l.handle)}))),S.current=(F=R)===null||F===void 0?void 0:F.toArray())}},H=function(j,$){var F=Oy({animation:150,dataIdAttr:"data-colkey",direction:"vertical",ghostClass:l.ghost,chosenClass:l.chosen,dragClass:l.dragging,handle:".".concat(c.thCellInner),onEnd:function(L){var W;if(L.newIndex!==L.oldIndex){if($){var Z;(Z=C)===null||Z===void 0||Z.sort(xn(E.current))}var ee=L.oldIndex,oe=L.newIndex,pe=L.target,ie=$?ee:oe,ce=$?oe:ee,ve=pe.children[ie],xe=pe.children[ce],he=IC(O.current,ve.dataset.colkey),we=IC(O.current,xe.dataset.colkey);(!he||!he.colKey)&&Hi.error("Table","colKey is missing in ".concat(JSON.stringify(he))),(!we||!we.colKey)&&Hi.error("Table","colKey is missing in ".concat(JSON.stringify(we))),ie=LW(O.current,he.colKey),ce=LW(O.current,we.colKey);var ne={data:M.current,currentIndex:ie,current:he,targetIndex:ce,target:we,newData:JW(xn(O.current),ie,ce),e:L,sort:"col"};ne.currentData=ne.newData,(W=T.current)===null||W===void 0||W.call(T,ne)}}},t.dragSortOptions);if(j)return C=new _n(j,F),C},B=function(j){if(!(!w||!j)){var $=j.querySelectorAll("thead > tr");if($.length<=1){var F=$[0],R=H(F,!0);E.current=R==null?void 0:R.toArray()}else $==null||$.forEach(function(L){H(L,!1)})}};return D.useEffect(function(){var k,j;if(!(!n||!n.current)){N((k=n.current)===null||k===void 0?void 0:k.tableElement),B((j=n.current)===null||j===void 0?void 0:j.tableHtmlElement);var $=setTimeout(function(){var F;(F=n.current)!==null&&F!==void 0&&F.affixHeaderElement&&B(n.current.affixHeaderElement),clearTimeout($)});return function(){clearTimeout($)}}},[n,p,o,r]),{isRowDraggable:m,isRowHandlerDraggable:b,isColDraggable:w,setDragSortColumns:_}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function O8e(t){var e=ha("table"),n=De(e,1),r=n[0],i=bl(),o=i.isLoadingClass,a=i.isLoadMoreClass,s=i.asyncLoadingClass,u=[s,me(me({},o,t.asyncLoading==="loading"),a,t.asyncLoading==="load-more")];function l(){var f;if(typeof t.asyncLoading=="string"){var d=t.asyncLoading==="loading"?"loading":"load-more";(f=t.onAsyncLoadingClick)===null||f===void 0||f.call(t,{status:d})}}function c(){var f=t.asyncLoading;if(_i(f)){var d=t.asyncLoading,h={"load-more":r.loadingMoreText,loading:r.loadingText}[String(d)];return Q.createElement("div",{className:et(u),onClick:l},Q.createElement(R0,{loading:!0,size:"small",text:h,indicator:d==="loading"}))}return f?Q.createElement("div",{className:et(u),onClick:l},f):null}return{renderAsyncLoading:c}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function I8e(t){return ane(t)||une(t)||V3(t)||sne()}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var nN={exports:{}},i0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var o in i)typeof r[o]>"u"&&(r[o]=i[o]);return r}t.exports=e.default,t.exports.default=e.default})(i0,i0.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var n=r(i0.exports);function r(_){return _&&_.__esModule?_:{default:_}}function i(_,y){return s(_)||a(_,y)||l(_,y)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(_,y){var m=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(m!=null){var b,w,S,x,E=[],M=!0,O=!1;try{if(S=(m=m.call(_)).next,y!==0)for(;!(M=(b=S.call(m)).done)&&(E.push(b.value),E.length!==y);M=!0);}catch(C){O=!0,w=C}finally{try{if(!M&&m.return!=null&&(x=m.return(),Object(x)!==x))return}finally{if(O)throw w}}return E}}function s(_){if(Array.isArray(_))return _}function u(_,y){var m=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!m){if(Array.isArray(_)||(m=l(_))||y){m&&(_=m);var b=0,w=function(){};return{s:w,n:function(){return b>=_.length?{done:!0}:{done:!1,value:_[b++]}},e:function(O){throw O},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,x=!0,E=!1;return{s:function(){m=m.call(_)},n:function(){var O=m.next();return x=O.done,O},e:function(O){E=!0,S=O},f:function(){try{x||m.return==null||m.return()}finally{if(E)throw S}}}}function l(_,y){if(_){if(typeof _=="string")return c(_,y);var m={}.toString.call(_).slice(8,-1);return m==="Object"&&_.constructor&&(m=_.constructor.name),m==="Map"||m==="Set"?Array.from(_):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?c(_,y):void 0}}function c(_,y){(y==null||y>_.length)&&(y=_.length);for(var m=0,b=Array(y);m<y;m++)b[m]=_[m];return b}var f={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function d(_){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(_)}function h(_,y){for(var m=[],b=Math.max(_.length,y.length),w=0;w<b;w++)m.push([_[w],y[w]]);return m}function p(_,y){if(typeof y=="string"?y=(0,n.default)({format:y},f):y=(0,n.default)(y,f),typeof _=="string"&&d(y.format)){if(y.strictMode&&_.length!==y.format.length)return!1;var m=y.delimiters.find(function(k){return y.format.indexOf(k)!==-1}),b=y.strictMode?m:y.delimiters.find(function(k){return _.indexOf(k)!==-1}),w=h(_.split(b),y.format.toLowerCase().split(m)),S={},x=u(w),E;try{for(x.s();!(E=x.n()).done;){var M=i(E.value,2),O=M[0],C=M[1];if(!O||!C||O.length!==C.length)return!1;S[C.charAt(0)]=O}}catch(k){x.e(k)}finally{x.f()}var T=S.y;if(T.startsWith("-"))return!1;if(S.y.length===2){var P=parseInt(S.y,10);if(isNaN(P))return!1;var N=new Date().getFullYear()%100;P<N?T="20".concat(S.y):T="19".concat(S.y)}var H=S.m;S.m.length===1&&(H="0".concat(S.m));var B=S.d;return S.d.length===1&&(B="0".concat(S.d)),new Date("".concat(T,"-").concat(H,"-").concat(B,"T00:00:00.000Z")).getUTCDate()===+S.d}return y.strictMode?!1:Object.prototype.toString.call(_)==="[object Date]"&&isFinite(_)}t.exports=e.default,t.exports.default=e.default})(nN,nN.exports);var R8e=nM(nN.exports),rN={exports:{}},Hp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r==null)throw new TypeError("Expected a string but received a ".concat(r));if(r.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(r.constructor.name))}t.exports=e.default,t.exports.default=e.default})(Hp,Hp.exports);var BC={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(i){return Object.prototype.toString.call(i)==="[object RegExp]"}function r(i,o){for(var a=0;a<o.length;a++){var s=o[a];if(i===s||n(s)&&s.test(i))return!0}return!1}t.exports=e.default,t.exports.default=e.default})(BC,BC.exports);var iN={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(Hp.exports);function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(a)}function o(a,s){(0,n.default)(a);var u,l;i(s)==="object"?(u=s.min||0,l=s.max):(u=arguments[1],l=arguments[2]);var c=encodeURI(a).split(/%..|./).length-1;return c>=u&&(typeof l>"u"||c<=l)}t.exports=e.default,t.exports.default=e.default})(iN,iN.exports);var FC={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Hp.exports),r=i(i0.exports);function i(s){return s&&s.__esModule?s:{default:s}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(s,u){(0,n.default)(s),u=(0,r.default)(u,o),u.allow_trailing_dot&&s[s.length-1]==="."&&(s=s.substring(0,s.length-1)),u.allow_wildcard===!0&&s.indexOf("*.")===0&&(s=s.substring(2));var l=s.split("."),c=l[l.length-1];return u.require_tld&&(l.length<2||!u.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(c)||/\s/.test(c))||!u.allow_numeric_tld&&/^\d+$/.test(c)?!1:l.every(function(f){return!(f.length>63&&!u.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!u.allow_underscores&&/_/.test(f))})}t.exports=e.default,t.exports.default=e.default})(FC,FC.exports);var kC={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(Hp.exports);function r(f){return f&&f.__esModule?f:{default:f}}function i(f){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(f)}var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(o,"[.]){3}").concat(o),s=new RegExp("^".concat(a,"$")),u="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(a,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(a,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(a,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(a,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(a,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(a,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(a,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function c(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(f);var h=(i(d)==="object"?d.version:arguments[1])||"";return h?h.toString()==="4"?s.test(f):h.toString()==="6"?l.test(f):!1:c(f,{version:4})||c(f,{version:6})}t.exports=e.default,t.exports.default=e.default})(kC,kC.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var n=u(Hp.exports),r=u(BC.exports),i=u(iN.exports),o=u(FC.exports),a=u(kC.exports),s=u(i0.exports);function u(w){return w&&w.__esModule?w:{default:w}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,_=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,y=254;function m(w){var S=w.replace(/^"(.+)"$/,"$1");if(!S.trim())return!1;var x=/[\.";<>]/.test(S);if(x){if(S===w)return!1;var E=S.split('"').length===S.split('\\"').length;if(!E)return!1}return!0}function b(w,S){if((0,n.default)(w),S=(0,s.default)(S,l),S.require_display_name||S.allow_display_name){var x=w.match(c);if(x){var E=x[1];if(w=w.replace(E,"").replace(/(^<|>$)/g,""),E.endsWith(" ")&&(E=E.slice(0,-1)),!m(E))return!1}else if(S.require_display_name)return!1}if(!S.ignore_max_length&&w.length>y)return!1;var M=w.split("@"),O=M.pop(),C=O.toLowerCase();if(S.host_blacklist.length>0&&(0,r.default)(C,S.host_blacklist)||S.host_whitelist.length>0&&!(0,r.default)(C,S.host_whitelist))return!1;var T=M.join("@");if(S.domain_specific_validation&&(C==="gmail.com"||C==="googlemail.com")){T=T.toLowerCase();var P=T.split("+")[0];if(!(0,i.default)(P.replace(/\./g,""),{min:6,max:30}))return!1;for(var N=P.split("."),H=0;H<N.length;H++)if(!d.test(N[H]))return!1}if(S.ignore_max_length===!1&&(!(0,i.default)(T,{max:64})||!(0,i.default)(O,{max:254})))return!1;if(!(0,o.default)(O,{require_tld:S.require_tld,ignore_max_length:S.ignore_max_length,allow_underscores:S.allow_underscores})){if(!S.allow_ip_domain)return!1;if(!(0,a.default)(O)){if(!O.startsWith("[")||!O.endsWith("]"))return!1;var B=O.slice(1,-1);if(B.length===0||!(0,a.default)(B))return!1}}if(S.blacklisted_chars&&T.search(new RegExp("[".concat(S.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(T[0]==='"'&&T[T.length-1]==='"')return T=T.slice(1,T.length-1),S.allow_utf8_local_part?_.test(T):h.test(T);for(var k=S.allow_utf8_local_part?p:f,j=T.split("."),$=0;$<j.length;$++)if(!k.test(j[$]))return!1;return!0}t.exports=e.default,t.exports.default=e.default})(rN,rN.exports);var P8e=nM(rN.exports),oN={exports:{}},aN={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(i,o){return i.indexOf(o)!==-1};e.default=n,t.exports=e.default,t.exports.default=e.default})(aN,aN.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var n=u(Hp.exports),r=u(BC.exports),i=u(aN.exports),o=u(FC.exports),a=u(kC.exports),s=u(i0.exports);function u(b){return b&&b.__esModule?b:{default:b}}function l(b,w){return p(b)||h(b,w)||f(b,w)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(b,w){if(b){if(typeof b=="string")return d(b,w);var S={}.toString.call(b).slice(8,-1);return S==="Object"&&b.constructor&&(S=b.constructor.name),S==="Map"||S==="Set"?Array.from(b):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?d(b,w):void 0}}function d(b,w){(w==null||w>b.length)&&(w=b.length);for(var S=0,x=Array(w);S<w;S++)x[S]=b[S];return x}function h(b,w){var S=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(S!=null){var x,E,M,O,C=[],T=!0,P=!1;try{if(M=(S=S.call(b)).next,w!==0)for(;!(T=(x=M.call(S)).done)&&(C.push(x.value),C.length!==w);T=!0);}catch(N){P=!0,E=N}finally{try{if(!T&&S.return!=null&&(O=S.return(),Object(O)!==O))return}finally{if(P)throw E}}return C}}function p(b){if(Array.isArray(b))return b}var _={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},y=/^\[([^\]]+)\](?::([0-9]+))?$/;function m(b,w){if((0,n.default)(b),!b||/[\s<>]/.test(b)||b.indexOf("mailto:")===0||(w=(0,s.default)(w,_),w.validate_length&&b.length>w.max_allowed_length)||!w.allow_fragments&&(0,i.default)(b,"#")||!w.allow_query_components&&((0,i.default)(b,"?")||(0,i.default)(b,"&")))return!1;var S,x,E,M,O,C,T,P;T=b.split("#"),b=T.shift(),T=b.split("?"),b=T.shift();var N=b.match(/^([a-z][a-z0-9+\-.]*):/i),H=!1,B=function(ne){return H=!0,S=ne.toLowerCase(),w.require_valid_protocol&&w.protocols.indexOf(S)===-1?!1:b.substring(N[0].length)};if(N){var k=N[1],j=b.substring(N[0].length),$=j.slice(0,2)==="//";if($){if(b=B(k),b===!1)return!1}else{var F=j.indexOf("/"),R=F===-1?j:j.substring(0,F),L=R.indexOf("@");if(L!==-1){var W=R.substring(0,L),Z=/^[a-zA-Z0-9\-_.%:]*$/,ee=Z.test(W),oe=/%[0-9a-fA-F]{2}/.test(W);if(ee&&!oe){if(w.require_protocol)return!1}else if(b=B(k),b===!1)return!1}else{var pe=/^[0-9]/.test(j);if(pe){if(w.require_protocol)return!1}else if(b=B(k),b===!1)return!1}}}else if(w.require_protocol)return!1;if(b.slice(0,2)==="//"){if(!H&&!w.allow_protocol_relative_urls)return!1;b=b.slice(2)}if(b==="")return!1;if(T=b.split("/"),b=T.shift(),b===""&&!w.require_host)return!0;if(T=b.split("@"),T.length>1){if(w.disallow_auth||T[0]===""||(x=T.shift(),x.indexOf(":")>=0&&x.split(":").length>2))return!1;var ie=x.split(":"),ce=l(ie,2),ve=ce[0],xe=ce[1];if(ve===""&&xe==="")return!1}M=T.join("@"),C=null,P=null;var he=M.match(y);if(he?(E="",P=he[1],C=he[2]||null):(T=M.split(":"),E=T.shift(),T.length&&(C=T.join(":"))),C!==null&&C.length>0){if(O=parseInt(C,10),!/^[0-9]+$/.test(C)||O<=0||O>65535)return!1}else if(w.require_port)return!1;return w.host_whitelist?(0,r.default)(E,w.host_whitelist):E===""&&!w.require_host?!0:!(!(0,a.default)(E)&&!(0,o.default)(E,w)&&(!P||!(0,a.default)(P,6))||(E=E||P,w.host_blacklist&&(0,r.default)(E,w.host_blacklist)))}t.exports=e.default,t.exports.default=e.default})(oN,oN.exports);var D8e=nM(oN.exports);function ZW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t){var e=Object.prototype.toString.call(t),n={Date:"[object Date]"};return e===n.Date?!1:Rn(t)==="object"?kp(t):["",void 0,null].includes(t)}var eV=function(e,n,r){var i=function(a,s){return r?a<=s:a>=s};return ca(e)?i(e,n):Array.isArray(e)?i(e.length,n):i(bC(e),n)},L8e={date:R8e,url:D8e,email:P8e,required:function(e){return!vie(e)},whitespace:function(e){return!(/^\s+$/.test(e)||e==="")},boolean:function(e){return typeof e=="boolean"},max:function(e,n){return eV(e,n,!0)},min:function(e,n){return eV(e,n,!1)},len:function(e,n){return bC(e)===n},number:function(e){return ca(e)},enum:function(e,n){return n.includes(e)},idcard:function(e){return/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/i.test(e)},telnumber:function(e){return/^1[3-9]\d{9}$/.test(e)},pattern:function(e,n){var r=typeof n=="string"?new RegExp(n):n;return r.test(e)},validator:function(e,n){return n(e)}};function N8e(t,e){return sN.apply(this,arguments)}function sN(){return sN=yp(Ra.mark(function t(e,n){var r,i,o,a,s,u,l;return Ra.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:r={result:!0},i=Object.keys(n),s=0;case 1:if(!(s<i.length)){c.next=4;break}if(u=i[s],!(!n.required&&vie(e)&&!n.validator)){c.next=2;break}return c.abrupt("return",r);case 2:if(l=L8e[u],!(l&&![void 0,null].includes(n[u]))){c.next=3;break}return o=n[u]===!0?void 0:n[u],a=l,c.abrupt("continue",4);case 3:s++,c.next=1;break;case 4:if(!a){c.next=7;break}return c.next=5,a(e,o);case 5:if(r=c.sent,typeof r!="boolean"){c.next=6;break}return c.abrupt("return",QW(QW({},n),{},{result:r}));case 6:if(Rn(r)!=="object"){c.next=7;break}return c.abrupt("return",r);case 7:return c.abrupt("return",r);case 8:case"end":return c.stop()}},t)})),sN.apply(this,arguments)}function Rk(t,e){return lN.apply(this,arguments)}function lN(){return lN=yp(Ra.mark(function t(e,n){var r,i;return Ra.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=n.map(function(a){return N8e(e,a)}),o.next=1,Promise.all(r);case 1:return i=o.sent,o.abrupt("return",i);case 2:case"end":return o.stop()}},t)})),lN.apply(this,arguments)}function B8e(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F8e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var gie=function(e){var n,r,i,o,a,s=e.row,u=e.col,l=e.colIndex,c=e.rowIndex,f=e.errors,d=e.editable,h=e.tableBaseClass,p=so({Edit1Icon:Yne}),_=p.Edit1Icon,y=D.useRef(null),m=!!(!((n=u.edit)===null||n===void 0)&&n.keepEditMode),b=D.useState(function(){var K;return m||((K=e.col.edit)===null||K===void 0?void 0:K.defaultEditable)||!1}),w=De(b,2),S=w[0],x=w[1],E=D.useState(),M=De(E,2),O=M[0],C=M[1],T=D.useState([]),P=De(T,2),N=P[0],H=P[1],B=ln(),k=B.classPrefix;D.useEffect(function(){m&&x(!0)},[m]);var j=function(U,G,te){if(!G)return U;var q=G.split(".")||[],V=I8e(q),ae=V[0],Ae=F8e(V).slice(1),Oe=di({},U);return Ae.length?(Oe[ae]=U3(U[ae]),Ad(Oe[ae],Ae.join("."),te)):Ad(Oe,G,te),Oe},$=D.useMemo(function(){return{col:u,row:s,colIndex:l,rowIndex:c}},[u,s,l,c]),F=Ft(s,u.colKey),R=j(s,u.colKey,O),L=function(U){C(U)},W=D.useMemo(function(){var K,U;return((K=u.edit)===null||K===void 0||(U=K.on)===null||U===void 0?void 0:U.call(K,di(di({},$),{},{editedRow:R,updateEditedCellValue:L})))||{}},[$,R]),Z=D.useMemo(function(){var K=Lre({row:R,col:di(di({},u),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},{cellEmptyContent:e.cellEmptyContent});return K},[u,R,e.cellEmptyContent,e.colIndex,e.oldCell,e.rowIndex]),ee=D.useMemo(function(){var K,U=u.edit;if(!U)return{};var G=En(U.props)?U.props(di(di({},$),{},{editedRow:R,updateEditedCellValue:L})):di({},U.props);return delete G.onChange,delete G.value,(K=U.abortEditOnEvent)===null||K===void 0||K.forEach(function(te){delete G[te]}),G},[R,$,u]),oe=D.useMemo(function(){var K,U=u.edit;return U?!!(!((K=U.abortEditOnEvent)===null||K===void 0)&&K.includes("onChange")):!1},[u]),pe=function(U,G){return new Promise(function(te){var q={result:[di(di({},$),{},{errorList:[],value:G})],trigger:U},V=En(u.edit.rules)?u.edit.rules($):u.edit.rules;if(!u.edit||!V||!V.length){var ae;(ae=e.onValidate)===null||ae===void 0||ae.call(e,q),te(!0);return}Rk(G,V).then(function(Ae){var Oe,Te=Ae==null?void 0:Ae.filter(function(Ue){return!Ue.result});q.result[0].errorList=Te,(Oe=e.onValidate)===null||Oe===void 0||Oe.call(e,q),!Te||!Te.length?(H([]),te(!0)):(H(Te),te(Te))})})},ie=function(U,G){return Rn(U)==="object"&&Rn(G)==="object"?JSON.stringify(U)===JSON.stringify(G):U===G},ce=function(U,G){for(var te=arguments.length,q=new Array(te>2?te-2:0),V=2;V<te;V++)q[V-2]=arguments[V];pe("self",q[0].value).then(function(ae){var Ae;if(ae===!0){var Oe=Ft(s,u.colKey);ie(q[0].value,Oe)||(C(Oe),U==null||U.apply(void 0,q)),(Ae=W[G])===null||Ae===void 0||Ae.call(W,q[2]);var Te=setTimeout(function(){m||x(!1),H([]),clearTimeout(Te)},0)}})},ve=D.useMemo(function(){var K,U=u.edit,G=e.editable===void 0;if(!(!S||!G)){if(!(U!=null&&(K=U.abortEditOnEvent)!==null&&K!==void 0&&K.length))return{};var te={},q=U==null?void 0:U.onEdited;return U.abortEditOnEvent.forEach(function(V){V!=="onChange"&&(te[V]=function(){for(var ae=arguments.length,Ae=new Array(ae),Oe=0;Oe<ae;Oe++)Ae[Oe]=arguments[Oe];ce.apply(void 0,[q,V,di(di({},$),{},{value:O,trigger:V,newRowData:R})].concat(Ae))})}),te}},[u,R,S,e.rowIndex]),xe=function(U){var G,te,q,V;C(U);var ae=j(e.row,e.col.colKey,U),Ae=di(di({},$),{},{value:U,editedRow:ae});(G=e.onChange)===null||G===void 0||G.call(e,Ae),(te=e.onRuleChange)===null||te===void 0||te.call(e,Ae),(q=W.onChange)===null||q===void 0||q.call(W,Ae);var Oe=e.editable===void 0;if(Oe&&oe){for(var Te,Ue=(Te=u.edit)===null||Te===void 0?void 0:Te.onEdited,Be=arguments.length,Qe=new Array(Be>1?Be-1:0),Ze=1;Ze<Be;Ze++)Qe[Ze-1]=arguments[Ze];ce.apply(void 0,[Ue,"change",{value:U,trigger:"onChange",newRowData:ae,rowIndex:e.rowIndex}].concat(Qe))}((V=u.edit)===null||V===void 0?void 0:V.validateTrigger)==="change"&&pe("self",U)},he=function(U){var G;if(!(!u.edit||!u.edit.component)&&S){var te=((G=U.composedPath)===null||G===void 0?void 0:G.call(U))||U.path||[],q=te.find(function(ae){var Ae;return(Ae=ae.classList)===null||Ae===void 0?void 0:Ae.contains("".concat(k,"-popup__content"))});if(!q){var V=u.edit.onEdited;ce(V,"",{value:O,trigger:"document",newRowData:R,rowIndex:e.rowIndex})}}};if(D.useEffect(function(){C(F)},[F]),D.useEffect(function(){if(!(typeof document>"u")){var K=e.editable===void 0;if(!(!u.edit||!u.edit.component||!K))return S?document.addEventListener("click",he):document.removeEventListener("click",he),function(){document.removeEventListener("click",he)}}},[u.edit,S,O]),D.useEffect(function(){e.editable===!1&&C(F)},[F,d]),D.useEffect(function(){if(e.editable===!0){var K;(K=e.onRuleChange)===null||K===void 0||K.call(e,di(di({},$),{},{value:F,editedRow:R||s}))}},[e.editable,F,s,u,$,R]),D.useEffect(function(){H(f)},[f]),e.readonly)return Z||null;if(e.editable===void 0&&!S||d===!1){var we;return Q.createElement("div",{className:et(h.cellEditable),onClick:function(U){x(!0),U.stopPropagation(),U.nativeEvent.stopImmediatePropagation()}},Z,((we=u.edit)===null||we===void 0?void 0:we.showEditIcon)!==!1&&Q.createElement(_,null))}var ne=(r=u.edit)===null||r===void 0?void 0:r.component;if(!ne)return Hi.error("Table","edit.component is required."),null;var Me=N==null||(i=N[0])===null||i===void 0?void 0:i.message,Ce=di({},W);return delete Ce.onChange,(o=u.edit)!==null&&o!==void 0&&(o=o.abortEditOnEvent)!==null&&o!==void 0&&o.length&&u.edit.abortEditOnEvent.forEach(function(K){Ce[K]&&delete Ce[K]}),Q.createElement("div",{className:h.cellEditWrap,onClick:function(U){U.stopPropagation(),U.nativeEvent.stopImmediatePropagation()}},Q.createElement(ne,di(di(di(di({ref:y,status:Me?(N==null||(a=N[0])===null||a===void 0?void 0:a.type)||"error":void 0,tips:Me},ee),ve),Ce),{},{value:O,onChange:xe})))};gie.displayName="EditableCell";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function nV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k8e(t){var e=D.useMemo(function(){return new Map},[]),n=t.editableRowKeys,r=D.useState({}),i=De(r,2),o=i[0],a=i[1],s=D.useMemo(function(){return n&&X$e(n,t.data,t.rowKey||"id")},[n,t.data,t.rowKey]),u=function(_){var y={};return _.forEach(function(m){var b=m.row,w=m.col,S=m.errorList,x=Ft(b,t.rowKey||"id"),E=[x,w.colKey].join("__");S!=null&&S.length?y[E]=S:delete y[E]}),y},l=function(_){var y=e.get(_);if(y){var m=y.map(function(b){return new Promise(function(w){var S=b.editedRow,x=b.col,E=En(x.edit.rules)?x.edit.rules(b):x.edit.rules;if(!x.edit||!E||!E){w(iE(iE({},b),{},{errorList:[]}));return}Rk(Ft(S,x.colKey),E).then(function(M){w(iE(iE({},b),{},{errorList:M.filter(function(O){return!O.result})}))})})});return new Promise(function(b,w){Promise.all(m).then(function(S){b({errors:S.filter(function(x){var E;return(E=x.errorList)===null||E===void 0?void 0:E.length}),errorMap:u(S)})},w)})}},c=function(_){return new Promise(function(y,m){l(_).then(function(b){var w,S=b.errors,x=b.errorMap;a(x);var E="parent";(w=t.onRowValidate)===null||w===void 0||w.call(t,{trigger:E,result:S}),y({trigger:E,result:S})},m)})},f=function(){for(var _=[],y=t.data||[],m=0,b=y.length;m<b;m++){var w=Ft(y[m],t.rowKey||"id");_.push(l(w))}return new Promise(function(S,x){Promise.all(_).then(function(E){var M,O={};E.forEach(function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{errorMap:{}},T=C.errorMap;T&&Object.assign(O,T)}),a(O),(M=t.onValidate)===null||M===void 0||M.call(t,{result:O}),S({result:O})},x)})},d=function(_){if(t.editableRowKeys){var y=Ft(_.row,t.rowKey||"id"),m=e.get(y);if(m){var b=m.findIndex(function(w){return w.col.colKey===_.col.colKey});b===-1?m.push(_):m[b]=_,e.set(y,m)}else e.set(y,[_])}},h=function(){a({})};return{errorListMap:o,editableKeysMap:s,validateRowData:c,validateTableData:f,clearValidateData:h,onRuleChange:d}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yie=D.forwardRef(function(t,e){var n=mr(t,sHe),r=n.columns,i=n.columnController,o=n.editableRowKeys,a=n.style,s=n.className,u=D.useRef(null),l=D.useRef(n.pagination),c=bl(),f=c.classPrefix,d=c.tableDraggableClasses,h=c.tableBaseClass,p=c.tableSelectedClasses,_=c.tableSortClasses,y=Jre(n),m=y.sizeClassNames,b=V$e(n,{onColumnReduce:Te}),w=b.tDisplayColumns,S=b.renderColumnController,x=q$e(n),E=x.showExpandedRow,M=x.showExpandIconColumn,O=x.getExpandColumn,C=x.renderExpandedRow,T=x.onInnerExpandRowClick,P=x.getExpandedRowClass,N=Y$e(n),H=N.renderSortIcon,B=J$e(n,p),k=B.selectedRowClassNames,j=B.setCurrentPaginateData,$=B.formatToRowSelectColumn,F=B.setTSelectedRowKeys,R=B.onInnerSelectRowClick,L=n8e(n,u),W=L.hasEmptyCondition,Z=L.isTableOverflowHidden,ee=L.renderFilterIcon,oe=L.renderFirstFilterRow,pe=M8e(n,{primaryTableRef:u,innerPagination:l}),ie=pe.isRowHandlerDraggable,ce=pe.isRowDraggable,ve=pe.isColDraggable,xe=pe.setDragSortColumns,he=jre({columns:n.columns}),we=he.renderTitleWidthIcon,ne=O8e(n),Me=ne.renderAsyncLoading,Ce=me(me(me(me(me({},d.colDraggable,ve),d.rowHandlerDraggable,ie),d.rowDraggable,ce),h.overflowVisible,Z===!1),h.tableRowEdit,o),K=k8e(n),U=K.errorListMap,G=K.editableKeysMap,te=K.validateRowData,q=K.validateTableData,V=K.onRuleChange,ae=K.clearValidateData,Ae=function(){var He=[n.rowClassName,k,P];return He.filter(function(Ve){return Ve})}(),Oe=function(){var He=[n.rowAttributes];return(ie||ce)&&He.push(function(Ve){var Ee=Ve.row;return{"data-id":Ft(Ee,n.rowKey||"id")}}),He.filter(function(Ve){return Ve})}();D.useImperativeHandle(e,function(){return Ll({validateRowData:te,validateTableData:q,clearValidateData:ae},u.current)});function Te(He){n.resizable&&u.current.updateTableWidthOnColumnChange(He)}var Ue=function(Ve){for(var Ee=[],de=function(){var vt,$t,rn,mn,Lt=Ll({},Ve[$e]),cn=((vt=Lt.children)===null||vt===void 0?void 0:vt.length)||(w==null?void 0:w.includes(Lt.colKey));if(!cn&&n.columnController&&w)return 1;Lt=$(Lt);var kt=n.sort;if(Lt.sorter&&n.showSortColumnBgColor){var Ke=kt instanceof Array?kt:[kt],ot=Ke.find(function(Vt){return Vt&&Vt.sortBy===Lt.colKey&&Vt.descending!==void 0});ot&&(Lt.className=Lt.className instanceof Array?Lt.className.concat(_.sortColumn):[Lt.className,_.sortColumn])}if(Lt.sorter||Lt.filter){var lt=xk(Lt,$e),bt=Lt,Dt=bt.ellipsisTitle;Lt.title=function(Vt){var Ht,Y=Lt.sorter?H(Vt):null,re=Lt.filter?ee(Vt):null,_e=(Ht=u.current)===null||Ht===void 0?void 0:Ht.tableContentRef;return we([lt,Y,re],Vt.col,Vt.colIndex,Dt,_e,{classPrefix:f,ellipsisOverlayClassName:n.size!=="medium"?m[n.size]:""})},Lt.ellipsisTitle=!1}if(($t=Lt.edit)!==null&&$t!==void 0&&$t.component){var st=Lt.cell;Lt.cell=function(Vt){var Ht=Ll(Ll({},Vt),{},{oldCell:st,tableBaseClass:h,cellEmptyContent:n.cellEmptyContent,onChange:n.onRowEdit,onValidate:n.onRowValidate,onRuleChange:V});if(n.editableRowKeys){var Y=Ft(Vt.row,n.rowKey||"id");Ht.editable=G[Y]||!1;var re=[Y,Vt.col.colKey].join("__"),_e=U[re];_e&&(Ht.errors=_e)}return n.editableCellState&&(Ht.readonly=!n.editableCellState(Vt)),Q.createElement(gie,Ll({},Ht))}}(rn=Lt.children)!==null&&rn!==void 0&&rn.length&&(Lt.children=Ue(Lt.children)),(!Lt.children||(mn=Lt.children)!==null&&mn!==void 0&&mn.length)&&Ee.push(Lt)},$e=0,tt=Ve.length;$e<tt;$e++)de();return Ee},Be=function(){var He=Ue(r);return M&&He.unshift(O()),He}(),Qe=function(Ve,Ee){var de,$e;l.current=Ll(Ll({},l),Ve),j(Ee),(de=n.onPageChange)===null||de===void 0||de.call(n,Ve,Ee);var tt=[{pagination:Ve},{trigger:"pagination",currentData:Ee}];($e=n.onChange)===null||$e===void 0||$e.call.apply($e,[n].concat(tt)),n.reserveSelectedRowOnPaginate||F([],{selectedRowData:[],type:"uncheck",currentRowKey:"CLEAR_ON_PAGINATE"})},Ze=function(Ve){n.expandOnRowClick&&T(Ve),n.selectOnRowClick&&R(Ve)};function at(He,Ve,Ee,de){if(!Ee)return n[He];var $e=Ve(),tt=n[He];return $e&&!tt?$e:tt&&!$e?tt:$e&&tt?de!=null&&de.reverse?Q.createElement("div",null,$e,tt):Q.createElement("div",null,tt,$e):null}var ke=!!(i&&Object.keys(i).length),Tt=ke?i.placement||"top-right":"",Mt=ke&&(Tt==null?void 0:Tt.indexOf("bottom"))!==-1,wt=at("topContent",S,ke&&!Mt),ft=at("bottomContent",S,Mt,{reverse:!0}),qe=at("firstFullRow",oe,!W),le=at("lastFullRow",Me,!!n.asyncLoading),Ie=Ll(Ll({},n),{},{rowClassName:Ae,rowAttributes:Oe,columns:Be,topContent:wt,bottomContent:ft,firstFullRow:qe,lastFullRow:le,thDraggable:["col","row-handler-col"].includes(n.dragSort),onPageChange:Qe,renderExpandedRow:E?C:void 0});return(n.expandOnRowClick||n.selectOnRowClick)&&(Ie.onRowClick=Ze),Q.createElement(Yre,Ll(Ll({ref:u},Ie),{},{className:et(Ce,s),style:a,onLeafColumnsChange:xe}))});yie.displayName="PrimaryTable";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function U8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yee(r.key),r)}}function H8e(t,e,n){return e&&j8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var $8e=yie,z8e=$8e;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var iV=Ck;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var _ie=Q.createContext({form:void 0,labelWidth:"100px",labelAlign:"right",layout:"vertical",colon:!1,initialData:{},requiredMark:void 0,requiredMarkPosition:void 0,scrollToFirstError:void 0,showErrorMessage:void 0,resetType:"empty",disabled:void 0,readOnly:void 0,rules:void 0,errorMessage:void 0,statusIcon:void 0,onFormItemValueChange:void 0,formMapRef:void 0,floatingFormDataRef:void 0}),Pk=function(){return Q.useContext(_ie)},bie=Q.createContext({name:void 0,fullPath:void 0,rules:void 0,formListMapRef:void 0,initialData:[],form:void 0}),UC=function(){return Q.useContext(bie)};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Wl=function(t){return t.SUCCESS="success",t.WARNING="warning",t.ERROR="error",t.VALIDATING="validating",t}(Wl||{}),G8e=new Map([["Checkbox","checked"],["CheckTag","checked"],["Upload","files"]]),W8e=["Checkbox"],V8e=["Tree","Upload","Transfer","TagInput","RangeInput","CheckboxGroup","DateRangePicker","TimeRangePicker"],q8e=function(){var t=new Map;return V8e.forEach(function(e){t.set(e,[])}),W8e.forEach(function(e){t.set(e,!1)}),t}();/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var K8e={colon:!1,disabled:void 0,id:void 0,labelAlign:"right",labelWidth:"100px",layout:"vertical",preventSubmitDefault:!0,requiredMark:void 0,resetType:"empty",showErrorMessage:!0,statusIcon:void 0,submitWithWarningMessage:!1,supportNumberKey:!0},X8e={label:"",requiredMark:void 0,shouldUpdate:!1,showErrorMessage:void 0,statusIcon:void 0,successBorder:!1};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Jc="TD_FORM_INTERNAL_HOOKS",J8e=H8e(function t(e){var n=this;U8e(this,t),me(this,"prevStore",{}),me(this,"store",{}),me(this,"taskQueue",[]),me(this,"flashQueue",function(){n.taskQueue.forEach(function(r){n[r.name].apply(n,xn(r.args))}),n.taskQueue=[]}),me(this,"getForm",function(){return{submit:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"submit"})},reset:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"reset"})},validate:null,validateOnly:null,clearValidate:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"clearValidate"})},setFields:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"setFields"})},setFieldsValue:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"setFieldsValue"})},setValidateMessage:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"setValidateMessage"})},getValidateMessage:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.taskQueue.push({args:o,name:"getValidateMessage"})},getFieldValue:null,getFieldsValue:null,_init:!0,store:n.store,getInternalHooks:n.getInternalHooks}}),me(this,"getInternalHooks",function(r){return r===Jc?{setForm:function(o){Object.keys(o).forEach(function(a){n[a]=o[a]})},flashQueue:n.flashQueue,notifyWatch:n.notifyWatch,registerWatch:n.registerWatch,getPrevStore:function(){return n.prevStore},setPrevStore:function(o){n.prevStore=o}}:(Hi.warn("Form","`getInternalHooks` is internal usage. Should not call directly."),null)}),me(this,"watchList",[]),me(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),me(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i,o=(i=n.getFieldsValue)===null||i===void 0?void 0:i.call(n,[r]);n.watchList.forEach(function(a){a(o,r)})}}),this.forceRootUpdate=e});function oV(t){var e=D.useRef(Object.create({})),n=D.useState({}),r=De(n,2),i=r[1];if(!e.current._init)if(t)e.current=t,e.current.store={};else{var o=function(){i({})},a=new J8e(o);e.current=a.getForm()}return[e.current]}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Y8e(t,e){var n=!1,r=Pk(),i=r.form,o=r.floatingFormDataRef,a=r.initialData,s=UC(),u=s.name,l=s.initialData;D.useEffect(function(){if(n){var f=u?[u,t].flat():t;Bb(o.current,f)}},[n,o,u,t]);function c(f){var d=f.children,h=f.initialData;if(t&&o!==null&&o!==void 0&&o.current&&!kp(o.current)){var p=u?[u,t].flat():t,_=Ft(o.current,p);if(typeof _<"u")return n=!0,_}if(u&&Array.isArray(e)){var y=e.slice(0,-1),m=ene(i.store,y);if(m)return Ft(i.store,e)}if(typeof h<"u")return h;if(t&&l.length){var b=Ft(l,t);if(typeof b<"u")return b}if(t&&a){var w=Ft(a,t);if(typeof w<"u")return w}if(typeof d!="function"){var S=Q.Children.toArray(d),x=S[S.length-1];if(x&&Q.isValidElement(x)){var E,M=x==null||(E=x.props)===null||E===void 0?void 0:E.multiple,O=x.type.displayName;return M?[]:q8e.get(O)}}}return{getDefaultInitialData:c}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function Z8e(t){var e=ln(),n=e.classPrefix,r=t.className,i=t.help,o=t.tips,a=t.snakeName,s=t.status,u=t.successBorder,l=t.errorList,c=t.successList,f=t.layout,d=t.verifyStatus,h=t.label,p=t.labelWidth,_=t.labelAlign,y=t.requiredMark,m=t.requiredMarkPosition,b=t.showErrorMessage,w=t.innerRules,S=s||d,x=i&&Q.createElement("div",{className:"".concat(n,"-input__help")},Wg(i)),E=y||(y??w.filter(function(B){return B.required}).length>0),M=D.useMemo(function(){var B,k=o?Q.createElement("div",{className:"".concat(n,"-input__extra"),title:o},o):null;return b&&l!==null&&l!==void 0&&(B=l[0])!==null&&B!==void 0&&B.message?k=Q.createElement("div",{className:"".concat(n,"-input__extra"),title:l[0].message},l[0].message):c.length&&(k=Q.createElement("div",{className:"".concat(n,"-input__extra"),title:c[0].message},c[0].message)),k},[b,l,c,o,n]),O=a.split(",").join("_"),C=et("".concat(n,"-form__item"),r,me(me(me({},"".concat(n,"-form-item__").concat(O),O),"".concat(n,"-form__item-with-help"),x),"".concat(n,"-form__item-with-extra"),M)),T=et("".concat(n,"-form__label"),me(me(me(me(me({},"".concat(n,"-form__label--required"),E),"".concat(n,"-form__label--required-right"),E&&m==="right"),"".concat(n,"-form__label--top"),_==="top"||!p),"".concat(n,"-form__label--left"),_==="left"&&p),"".concat(n,"-form__label--right"),_==="right"&&p)),P=function(){var k="".concat(n,"-form__controls");if(!b)return k;var j=S===Wl.SUCCESS;return j?et(k,"".concat(n,"-is-success"),me({},"".concat(n,"-form--success-border"),u)):et(k,me(me(me({},"".concat(n,"-is-warning"),S==="warning"),"".concat(n,"-is-error"),["fail","error"].includes(S)),"".concat(n,"-form--has-error"),S===Wl.ERROR||S===Wl.WARNING))},N={},H={};return h&&p&&_!=="top"&&(typeof p=="number"?(N={width:"".concat(p,"px")},H={marginLeft:f!=="inline"?"".concat(p,"px"):""}):(N={width:p},H={marginLeft:f!=="inline"?p:""})),{formItemClass:C,formItemLabelClass:T,contentClass:P,labelStyle:N,contentStyle:H,helpNode:x,extraNode:M}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function uN(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Q8e(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function Q8e(t,e){if(t){if(typeof t=="string")return aV(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aV(t,e):void 0}}function aV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sV(t,e,n){var r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}function wg(t){return t==null?[]:Array.isArray(t)?t:[t]}function wie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.flatMap(function(r){return wg(r)})}function bh(t,e){if(e.current){var n=xn(e.current.keys()),r=n.find(function(o){return String(o)===String(t)}),i=e.current.get(r);return i??Sie(t,e)}}function Sie(t,e){if(e!=null&&e.current){var n=wg(t),r=uN(e.current.entries()),i;try{for(r.s();!(i=r.n()).done;){var o=De(i.value,2),a=o[0],s=o[1],u=wg(a);if(String(u)===String(n))return s}}catch(_){r.e(_)}finally{r.f()}var l=uN(e.current.entries()),c;try{for(l.s();!(c=l.n()).done;){var f=De(c.value,2),d=f[1],h=d==null?void 0:d.current;if(!(!(h!=null&&h.isFormList)||!h.formListMapRef)){var p=Sie(t,h.formListMapRef);if(p)return p}}}catch(_){l.e(_)}finally{l.f()}}}function eze(t){var e=[];function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];qr(r)&&!go(r)&&!kp(r)?Object.keys(r).forEach(function(o){n(r[o],[].concat(xn(i),[o]))}):e.push(i)}return n(t),e}function PM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Array.isArray(t))return me({},t,e);for(var r=e,i=t.length-1;i>=0;i--){var o=t[i],a=typeof o=="number"&&n;if(a){var s=[];s[o]=r,r=s}else r=me({},o,r)}return r}function tze(t,e,n){var r=uN(e.current.entries()),i;try{for(r.s();!(i=r.n()).done;){var o=De(i.value,2),a=o[0],s=o[1];ene(t,a)&&n(s,Ft(t,a))}}catch(u){r.e(u)}finally{r.f()}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function lV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Eie=D.forwardRef(function(t,e){var n=ha("form"),r=De(n,2),i=r[0],o=r[1],a=ln(),s=a.classPrefix,u=a.form,l=so({CheckCircleFilledIcon:Rw,CloseCircleFilledIcon:Pw,ErrorCircleFilledIcon:gM}),c=l.CheckCircleFilledIcon,f=l.CloseCircleFilledIcon,d=l.ErrorCircleFilledIcon,h=Pk(),p=h.form,_=h.colon,y=h.layout,m=h.requiredMark,b=h.requiredMarkPosition,w=h.labelAlign,S=h.labelWidth,x=h.showErrorMessage,E=h.disabled,M=h.readOnly,O=h.resetType,C=h.rules,T=h.statusIcon,P=h.errorMessage,N=h.formMapRef,H=h.onFormItemValueChange,B=UC(),k=B.name,j=B.rules,$=B.formListMapRef,F=B.form,R=mr(t,X8e),L=R.children,W=R.style,Z=R.label,ee=R.name,oe=R.status,pe=R.tips,ie=R.help,ce=R.valueFormat,ve=R.initialData,xe=R.className,he=R.shouldUpdate,we=R.successBorder,ne=R.statusIcon,Me=ne===void 0?T:ne,Ce=R.rules,K=Ce===void 0?it(ee,C,k,j):Ce,U=R.labelWidth,G=U===void 0?S:U,te=R.labelAlign,q=te===void 0?w:te,V=R.requiredMark,ae=V===void 0?m:V,Ae=UC(),Oe=Ae.fullPath,Te=wie(Oe,ee),Ue=Y8e(ee,Te),Be=Ue.getDefaultInitialData,Qe=D.useState({}),Ze=De(Qe,2),at=Ze[1],ke=D.useState(void 0),Tt=De(ke,2),Mt=Tt[0],wt=Tt[1],ft=D.useState([]),qe=De(ft,2),le=qe[0],Ie=qe[1],He=D.useState([]),Ve=De(He,2),Ee=Ve[0],de=Ve[1],$e=D.useState("validating"),tt=De($e,2),Pt=tt[0],vt=tt[1],$t=D.useState(!1),rn=De($t,2),mn=rn[0],Lt=rn[1],cn=D.useState(!1),kt=De(cn,2),Ke=kt[0],ot=kt[1],lt=D.useState(function(){return Be({children:L,initialData:ve})}),bt=De(lt,2),Dt=bt[0],st=bt[1],Vt=D.useRef(null),Ht=D.useRef([]),Y=D.useRef(!1),re=D.useRef(!1),_e=D.useRef(Dt),J=D.useRef(new Map),se=D.useMemo(function(){return Hc(p,F)},[p,F]),fe=[].concat(se?k:void 0,ee).filter(function(Bt){return Bt!==void 0}).toString(),Se=D.useMemo(function(){return P??u.errorMessage},[P,u]),be=D.useMemo(function(){return typeof Mt=="boolean"?Mt:typeof R.showErrorMessage=="boolean"?R.showErrorMessage:x},[Mt,R.showErrorMessage,x]),Le=Z8e({className:xe,help:ie,tips:pe,snakeName:fe,status:oe,successBorder:we,errorList:le,successList:Ee,layout:y,verifyStatus:Pt,label:Z,labelWidth:G,labelAlign:q,requiredMark:ae,requiredMarkPosition:b,showErrorMessage:be,innerRules:K}),Ne=Le.formItemClass,ze=Le.formItemLabelClass,je=Le.contentClass,_t=Le.labelStyle,Ye=Le.contentStyle,nt=Le.helpNode,Ot=Le.extraNode,ct=function(It){var yn,an,Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,dn=(p==null||(yn=p.getInternalHooks)===null||yn===void 0?void 0:yn.call(p,Jc))||{},zn=dn.setPrevStore;zn==null||zn(p==null||(an=p.getFieldsValue)===null||an===void 0?void 0:an.call(p,!0)),Y.current=At,re.current=Qt,_e.current=It;var lr=Ft(p==null?void 0:p.store,Te);Hc(lr,It)||(Ad(p==null?void 0:p.store,Te,It),st(It))};function it(Bt,It,yn,an){return Array.isArray(Bt)?Ft(It==null?void 0:It[yn],Bt)||Ft(an,Bt)||Ft(It,Bt.join("."))||[]:(It==null?void 0:It[Bt])||an||[]}var ut=function(){if(Me===!1)return null;var It=function(Qt){return Q.createElement("span",{className:"".concat(s,"-form__status")},Qt)},yn=function(){var Qt={success:Q.createElement(c,{size:"25px"}),error:Q.createElement(f,{size:"25px"}),warning:Q.createElement(d,{size:"25px"})};if(Pt===Wl.SUCCESS)return It(Qt[Pt]);if(le&&le[0]){var At=le[0].type||"error";return It(Qt[At])}return null};return Q.isValidElement(Me)?It(Q.cloneElement(Me,GP({style:{color:"unset"}},Me.props))):Me===!0?yn():null};function rt(Bt){return Je.apply(this,arguments)}function Je(){return Je=yp(Ra.mark(function Bt(It){var yn,an;return Ra.wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:if(an={successList:[],errorList:[],rules:[],resultList:[],allowSetValue:!1},an.rules=It==="all"?K:K.filter(function(At){return(At.trigger||"change")===It}),(yn=an.rules)!==null&&yn!==void 0&&yn.length){Qt.next=1;break}return Lt(!1),Qt.abrupt("return",an);case 1:return an.allowSetValue=!0,Qt.next=2,Rk(Dt,an.rules);case 2:return an.resultList=Qt.sent,an.errorList=an.resultList.filter(function(At){return At.result!==!0}).map(function(At){return Object.keys(At).forEach(function(dn){!At.message&&Se[dn]&&(At.message=B8e(Se[dn],{validate:At[dn],name:_i(Z)?Z:String(ee)}))}),At}),an.successList=an.resultList.filter(function(At){return At.result===!0&&At.message&&At.type==="success"}),Qt.abrupt("return",an);case 3:case"end":return Qt.stop()}},Bt)})),Je.apply(this,arguments)}function Wt(){return xt.apply(this,arguments)}function xt(){return xt=yp(Ra.mark(function Bt(){var It,yn,an,Qt,At,dn,zn,lr,_r,lo,Vi,Go,bo=arguments;return Ra.wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(It=bo.length>0&&bo[0]!==void 0?bo[0]:"all",yn=bo.length>1?bo[1]:void 0,!Ht.current.length){Dn.next=1;break}return Dn.abrupt("return",Ht.current.map(function(dm){return dm==null?void 0:dm.validate(It,yn)}));case 1:return Lt(!0),wt(yn),Dn.next=2,rt(It);case 2:return an=Dn.sent,Qt=an.successList,At=an.errorList,dn=an.rules,zn=an.resultList,lr=an.allowSetValue,At.length&&It!=="all"?J.current.set(It,At):J.current.delete(It),!At.length&&It==="all"&&J.current.clear(),_r=xn(J.current.values()).flat(),lr&&(de(Qt),Ie(_r.length?_r:At)),dn.length?(lo=Wl.SUCCESS,(At.length||_r.length)&&(lo=(At==null||(Vi=At[0])===null||Vi===void 0?void 0:Vi.type)||(_r==null||(Go=_r[0])===null||Go===void 0?void 0:Go.type)||Wl.ERROR),vt(lo)):vt(Wl.VALIDATING),Ke&&St(),Lt(!1),Dn.abrupt("return",me({},fe,At.length===0?!0:zn));case 3:case"end":return Dn.stop()}},Bt)})),xt.apply(this,arguments)}function yt(){return Zt.apply(this,arguments)}function Zt(){return Zt=yp(Ra.mark(function Bt(){var It,yn,an,Qt,At=arguments;return Ra.wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return It=At.length>0&&At[0]!==void 0?At[0]:"all",dn.next=1,rt(It);case 1:return yn=dn.sent,an=yn.errorList,Qt=yn.resultList,dn.abrupt("return",me({},fe,an.length===0?!0:Qt));case 2:case"end":return dn.stop()}},Bt)})),Zt.apply(this,arguments)}function Cn(){var Bt=K.filter(function(It){return It.trigger==="blur"});Bt.length&&Wt("blur")}function pt(Bt){if(Bt==="initial")return Be({children:L,initialData:ve});var It;return Array.isArray(Dt)?It=[]:qr(Dt)?It={}:_i(Dt)&&(It=""),It}function dt(Bt){if(!(typeof ee>"u")){var It=Bt||O,yn=pt(It);ct(yn,!1),mn?ot(!0):St()}}function St(){ot(!1),Ie([]),de([]),vt(Wl.VALIDATING)}function Kt(Bt){var It=Bt.value,yn=Bt.status,an=Bt.validateMessage;typeof yn<"u"&&(Ie(an?[an]:[]),de(an?[an]:[]),ot(!1),vt(yn)),typeof It<"u"&&ct(It,typeof yn>"u",!0)}function jt(Bt){var It;if(!(!Bt||!Array.isArray(Bt))){if(Bt.length===0){Ie([]),vt(Wl.SUCCESS);return}Ie(Bt);var yn=(Bt==null||(It=Bt[0])===null||It===void 0?void 0:It.type)||Wl.ERROR;vt(yn)}}function fn(){return le}D.useEffect(function(){var Bt;if(!(!he||!p)){var It=(p==null||(Bt=p.getInternalHooks)===null||Bt===void 0?void 0:Bt.call(p,Jc))||{},yn=It.getPrevStore,an=It.registerWatch,Qt=an==null?void 0:an(function(){var At,dn=(p==null||(At=p.getFieldsValue)===null||At===void 0?void 0:At.call(p,!0))||{},zn=he;En(he)&&(zn=he(yn==null?void 0:yn(),dn)),zn&&at({})});return Qt}},[he,p]),D.useEffect(function(){if(!(typeof ee>"u")){if(k&&se)return $.current.set(Te,Vt),Ad(p==null?void 0:p.store,Te,Dt),function(){$.current.delete(Te),Bb(p==null?void 0:p.store,Te)};if(N)return N.current.set(Te,Vt),Ad(p==null?void 0:p.store,Te,Dt),function(){N.current.delete(Te),Bb(p==null?void 0:p.store,Te)}}},[fe,k]),D.useEffect(function(){var Bt,It;if(p==null||(Bt=p.getInternalHooks)===null||Bt===void 0||(Bt=Bt.call(p,Jc))===null||Bt===void 0||(It=Bt.notifyWatch)===null||It===void 0||It.call(Bt,ee),!!re.current){if(typeof ee<"u"&&Y.current){var yn=PM(Te,Dt);H==null||H(yn)}var an=K.filter(function(Qt){return(Qt.trigger||"change")==="change"});an.length&&Wt("change")}},[Dt,fe]);var qn={name:ee,fullPath:Te,value:Dt,initialData:ve,isFormList:!1,getValue:function(){return _e.current},setValue:function(It){return ct(It,!0,!0)},setField:Kt,validate:Wt,validateOnly:yt,resetField:dt,setValidateMessage:jt,getValidateMessage:fn,resetValidate:St};return D.useImperativeHandle(e,function(){return qn}),D.useImperativeHandle(Vt,function(){return qn}),En(L)?L(p):Q.createElement("div",{className:Ne,style:W},Z&&Q.createElement("div",{className:ze,style:_t},Q.createElement("label",{htmlFor:R==null?void 0:R.for},Z),_&&o(i.colonText)),Q.createElement("div",{className:je(),style:Ye},Q.createElement("div",{className:"".concat(s,"-form__controls-content")},Q.Children.map(L,function(Bt,It){if(!Bt)return null;var yn="value";if(Q.isValidElement(Bt)){var an,Qt=(an=Bt.type)===null||an===void 0?void 0:an.displayName;if(Qt==="FormItem")return Q.cloneElement(Bt,{ref:function(zn){zn&&(Ht.current[It]=zn)}});yn=G8e.get(Qt)||"value";var At=Bt.props;return Q.cloneElement(Bt,GP(GP({disabled:E,readOnly:M},At),{},me(me(me({},yn,Dt),"onChange",function(zn){var lr,_r,lo=ce?ce(zn):zn;ct(lo,!0,!0);for(var Vi=arguments.length,Go=new Array(Vi>1?Vi-1:0),bo=1;bo<Vi;bo++)Go[bo-1]=arguments[bo];At==null||(lr=At.onChange)===null||lr===void 0||(_r=lr.call)===null||_r===void 0||_r.call.apply(_r,[lr,null,zn].concat(Go))}),"onBlur",function(zn){var lr,_r;Cn();for(var lo=arguments.length,Vi=new Array(lo>1?lo-1:0),Go=1;Go<lo;Go++)Vi[Go-1]=arguments[Go];At==null||(lr=At.onBlur)===null||lr===void 0||(_r=lr.call)===null||_r===void 0||_r.call.apply(_r,[lr,null,zn].concat(Vi))})))}return Bt}),ut()),nt,Ot))});Eie.displayName="FormItem";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var aE=0,xie=function(e){var n=e.name,r=e.rules,i=e.children,o=Pk(),a=o.formMapRef,s=o.form,u=o.onFormItemValueChange,l=o.initialData,c=o.resetType,f=UC(),d=f.fullPath,h=f.initialData,p=wie(d,n),_=D.useMemo(function(){var k;if(e.initialData)k=e.initialData;else if(d&&h){var j=p.slice(wg(d).length);k=Ft(h,j)}else k=Ft(l,p);return k},[p,d,l,h,e.initialData]),y=D.useState(function(){return Ft(s==null?void 0:s.store,p)||_||[]}),m=De(y,2),b=m[0],w=m[1],S=D.useState(function(){return b.map(function(k,j){return{data:oE({},k),key:aE+=1,name:j,isListField:!0}})}),x=De(S,2),E=x[0],M=x[1],O=D.useRef(null),C=D.useRef(new Map),T=[].concat(n).filter(function(k){return k!==void 0}).toString(),P=function(){if(C.current.size<=0)return{};var j={};return C.current.forEach(function($,F){var R=wg(F),L=R.length===wg(p).length+2;if(L){var W=R[R.length-1];j[W]=$.current.initialData}}),j},N=function(j,$){M(j),w($),Ad(s==null?void 0:s.store,p,$);var F=PM(p,$);u==null||u(F)},H={add:function(j,$){var F=xn(E),R=$??F.length;F.splice(R,0,{key:aE+=1,name:R,isListField:!0});var L=xn(b);j!==void 0?L.splice(R,0,j):L.splice(R,0,P()),N(F,L)},remove:function(j){var $=OFe(j),F=xn(E).filter(function(L){return!$.includes(L.name)}).map(function(L,W){return oE(oE({},L),{},{name:W})}),R=xn(b).filter(function(L,W){return!$.includes(W)});Bb(s==null?void 0:s.store,p),N(F,R)},move:function(j,$){var F=xn(E),R=xn(b);sV(F,j,$),sV(R,j,$),F[j].name=j,F[$].name=$,N(F,R)}};function B(k,j){if(!Hc(b,k)){var $=k.map(function(F,R){var L=E[R],W=b[R],Z=k[R],ee=L&&Hc(W,Z);return{key:ee?L.key:aE+=1,name:R,isListField:!0}});Array.from(C.current.values()).forEach(function(F){if(F.current){var R=F.current.name,L=Ft(k,R);L!==void 0&&j(F,L)}}),N($,k)}}return D.useEffect(function(){if(!(!n||!a))return a.current.set(p,O),function(){a.current.delete(p)}},[T]),D.useEffect(function(){var k,j;s==null||(k=s.getInternalHooks)===null||k===void 0||(k=k.call(s,Jc))===null||k===void 0||(j=k.notifyWatch)===null||j===void 0||j.call(k,n)},[s,T,E]),D.useImperativeHandle(O,function(){return{name:n,fullPath:p,value:b,initialData:_,isFormList:!0,formListMapRef:C,getValue:function(){return Ft(s==null?void 0:s.store,p)},validate:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",$=[],F=xn(C.current.values()).map(function(R){var L,W;return R==null||(L=R.current)===null||L===void 0||(W=L.validate)===null||W===void 0?void 0:W.call(L,j)});return new Promise(function(R){Promise.all(F).then(function(L){L.forEach(function(Z){var ee=Object.values(Z)[0];tM($,ee)});var W=L.filter(function(Z){return Object.values(Z)[0]!==!0});W.length?R(me({},T,$)):R(me({},T,!0))})})},setValue:function(j){B(j,function($,F){var R,L;$==null||(R=$.current)===null||R===void 0||(L=R.setValue)===null||L===void 0||L.call(R,F)})},setField:function(j){var $=j.value,F=j.status,R=Ft(s==null?void 0:s.store,p)||[];Hc(R,$)||B($,function(L,W){var Z,ee;L==null||(Z=L.current)===null||Z===void 0||(ee=Z.setField)===null||ee===void 0||ee.call(Z,{value:W,status:F})})},resetField:function(j){var $=j||c;if($==="initial"){var F=Ft(s==null?void 0:s.store,p),R=_||[];if(Hc(F,_))return;w(R);var L=R==null?void 0:R.map(function(W,Z){return{data:oE({},W),key:aE+=1,name:Z,isListField:!0}});M(L),Ad(s==null?void 0:s.store,p,R)}else w([]),M([]),Bb(s==null?void 0:s.store,p)},setValidateMessage:function(j){xn(C.current.values()).forEach(function($){var F,R;if($.current){var L=$.current.name,W=Ft(j,L);$==null||(F=$.current)===null||F===void 0||(R=F.setValidateMessage)===null||R===void 0||R.call(F,W)}})},resetValidate:function(){xn(C.current.values()).forEach(function(j){var $,F;j==null||($=j.current)===null||$===void 0||(F=$.resetValidate)===null||F===void 0||F.call($)})}}}),typeof i!="function"?(Hi.error("Form","FormList's children must be a function!"),null):Q.createElement(bie.Provider,{value:{name:n,fullPath:p,rules:r,formListMapRef:C,initialData:_,form:s}},i(E,H))};xie.displayName="FormList";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var nze=["name"];function cV(t,e){return!e||!Array.isArray(e)?!0:e.some(function(n){return String(n)===String(t)})}function fV(t){var e=t.reduce(function(n,r){return Object.assign(n||{},r)},{});return Object.keys(e).forEach(function(n){if(e[n]===!0?delete e[n]:e[n]=e[n].filter(function(o){return o.result===!1}),e[n]&&n.includes(",")){var r=n.split(","),i=PM(r,e[n]);tM(e,i),delete e[n]}}),kp(e)?!0:e}function rze(t,e,n,r){var i=ln(),o=i.classPrefix,a=t.scrollToFirstError,s=t.preventSubmitDefault,u=s===void 0?!0:s,l=t.onSubmit,c=t.onReset;function f(T){var P;if(T!==!0){var N=Object.keys(T),H=De(N,1),B=H[0];return a&&d(".".concat(o,"-form--has-error")),(P=T[B][0])===null||P===void 0?void 0:P.message}}function d(T){var P,N,H=(P=(N=e.current).querySelector)===null||P===void 0?void 0:P.call(N,T),B=a;H&&H.scrollIntoView({behavior:B})}function h(T){if(u){var P,N;T==null||(P=T.preventDefault)===null||P===void 0||P.call(T),T==null||(N=T.stopPropagation)===null||N===void 0||N.call(T)}p().then(function(H){var B=f(H),k=w(!0);l==null||l({validateResult:H,firstError:B,e:T,fields:k})})}function p(T){return _.apply(this,arguments)}function _(){return _=yp(Ra.mark(function T(P){var N,H,B,k,j,$,F;return Ra.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return N=P||{},H=N.fields,B=N.trigger,k=B===void 0?"all":B,j=N.showErrorMessage,$=xn(n.current.values()).filter(function(L){var W,Z;return En(L==null||(W=L.current)===null||W===void 0?void 0:W.validate)&&cV(L==null||(Z=L.current)===null||Z===void 0?void 0:Z.name,H)}).map(function(L){return L==null?void 0:L.current.validate(k,j)}),R.next=1,Promise.all($);case 1:return F=R.sent,R.abrupt("return",fV(F));case 2:case"end":return R.stop()}},T)})),_.apply(this,arguments)}function y(T){return m.apply(this,arguments)}function m(){return m=yp(Ra.mark(function T(P){var N,H,B,k,j,$;return Ra.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return N=P||{},H=N.fields,B=N.trigger,k=B===void 0?"all":B,j=xn(n.current.values()).filter(function(R){var L,W;return En(R==null||(L=R.current)===null||L===void 0?void 0:L.validateOnly)&&cV(R==null||(W=R.current)===null||W===void 0?void 0:W.name,H)}).map(function(R){var L,W;return R==null||(L=(W=R.current).validateOnly)===null||L===void 0?void 0:L.call(W,k)}),F.next=1,Promise.all(j);case 1:return $=F.sent,F.abrupt("return",fV($));case 2:case"end":return F.stop()}},T)})),m.apply(this,arguments)}function b(T){var P,N;if(!T)return null;var H=bh(T,n);return H==null||(P=H.current)===null||P===void 0||(N=P.getValue)===null||N===void 0?void 0:N.call(P)}function w(T){var P={},N=function(Z,ee){if(ee!=null&&ee.current){var oe=ee.current.getValue,pe=oe==null?void 0:oe(),ie=PM(Z,pe,!t.supportNumberKey);tM(P,ie)}};if(T===!0)for(var H=Array.from(n.current.entries()),B=H.length-1;B>=0;B--){var k=De(H[B],2),j=k[0],$=k[1];N(j,$)}else{if(!Array.isArray(T))return Hi.error("Form",'The parameter of "getFieldsValue" must be an array'),{};for(var F=0;F<T.length;F++){var R=T[F],L=bh(R,n);N(R,L)}}return U3(P)}function S(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=eze(T);P.forEach(function(N){var H=Ft(T,N),B=bh(N,n);if(B!=null&&B.current){var k,j;(k=(j=B.current).setValue)===null||k===void 0||k.call(j,H)}else Ad(r.current,N,H)})}function x(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!Array.isArray(T))throw new TypeError('The parameter of "setFields" must be an array');T.forEach(function(P){var N,H=P.name,B=zi(P,nze),k=bh(H,n);k==null||(N=k.current)===null||N===void 0||N.setField(B)})}function E(T){if(typeof T>"u")xn(n.current.values()).forEach(function(k){var j;k==null||(j=k.current)===null||j===void 0||j.resetField()});else{var P=T.type,N=P===void 0?"initial":P,H=T.fields,B=H===void 0?[]:H;B.forEach(function(k){var j,$=bh(k,n);$==null||(j=$.current)===null||j===void 0||j.resetField(N)})}c==null||c({}),requestAnimationFrame(function(){var k,j=w(!0);(k=t.onValuesChange)===null||k===void 0||k.call(t,j,j)})}function M(T){if(typeof T>"u")xn(n.current.values()).forEach(function(P){var N;P==null||(N=P.current)===null||N===void 0||N.resetValidate()});else{if(!Array.isArray(T))throw new TypeError('The parameter of "clearValidate" must be an array');T.forEach(function(P){var N,H=bh(P,n);H==null||(N=H.current)===null||N===void 0||N.resetValidate()})}}function O(T){tze(T,n,function(P,N){var H,B;P==null||(H=P.current)===null||H===void 0||(B=H.setValidateMessage)===null||B===void 0||B.call(H,N)})}function C(T){if(typeof T<"u"&&!Array.isArray(T))throw new TypeError('The parameter of "getValidateMessage" must be an array');var P=typeof T>"u"?xn(n.current.values()):T.map(function(B){var k=bh(B,n);return k}).filter(Boolean),N=function(k){var j,$,F,R=k==null||(j=k.current)===null||j===void 0||($=j.getValidateMessage)===null||$===void 0?void 0:$.call(j);if(kp(R))return null;var L=k==null||(F=k.current)===null||F===void 0?void 0:F.name;return{nameKey:L,item:R}},H={};if(P.forEach(function(B){var k=N(B);if(k){var j=Array.isArray(k.nameKey)?k.nameKey.toString():String(k.nameKey);H[j]=k.item}}),!kp(H))return H}return{submit:h,reset:E,validate:p,validateOnly:y,clearValidate:M,setFields:x,setFieldsValue:S,setValidateMessage:O,getValidateMessage:C,getFieldValue:b,getFieldsValue:w,currentElement:e.current,getCurrentElement:function(){return e.current}}}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function ize(t,e){var n=D.useState(),r=De(n,2),i=r[0],o=r[1],a=D.useMemo(function(){return JSON.stringify(i)},[i]),s=D.useRef(a),u=e&&e._init;return D.useEffect(function(){var l,c;if(u){var f=(l=e.getInternalHooks)===null||l===void 0?void 0:l.call(e,Jc),d=f.registerWatch,h=d===void 0?Uo:d,p=h(function(){var m,b=(m=e.getFieldsValue)===null||m===void 0?void 0:m.call(e,!0),w=Ft(b,t),S=JSON.stringify(w);s.current!==S&&(s.current=S,o(S))}),_=(c=e.getFieldsValue)===null||c===void 0?void 0:c.call(e,!0),y=Ft(_,t);return o(JSON.stringify(y)),p}},[]),Lb(i)?i:JSON.parse(i)}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Aie=P0(function(t,e){var n,r,i=ln(),o=i.classPrefix,a=i.form,s=mr(t,K8e),u=s.style,l=s.className,c=s.labelWidth,f=s.statusIcon,d=s.labelAlign,h=s.layout,p=s.colon,_=s.initialData,y=s.requiredMark,m=y===void 0?a.requiredMark:y,b=s.requiredMarkPosition,w=b===void 0?a.requiredMarkPosition:b,S=s.scrollToFirstError,x=s.showErrorMessage,E=s.resetType,M=s.rules,O=s.errorMessage,C=O===void 0?a.errorMessage:O,T=s.disabled,P=s.children,N=s.id,H=s.onReset,B=s.onValuesChange,k=B===void 0?Uo:B,j=et("".concat(o,"-form"),l,me({},"".concat(o,"-form-inline"),h==="inline")),$=oV(s.form),F=De($,1),R=F[0],L=D.useRef(null),W=D.useRef(new Map),Z=D.useRef({}),ee=rze(s,L,W,Z);D.useImperativeHandle(e,function(){return ee}),Object.assign(R,oze({},ee)),R==null||(n=R.getInternalHooks)===null||n===void 0||(n=n.call(R,Jc))===null||n===void 0||(r=n.setForm)===null||r===void 0||r.call(n,ee),D.useEffect(function(){var ie,ce;R==null||(ie=R.getInternalHooks)===null||ie===void 0||(ie=ie.call(R,Jc))===null||ie===void 0||(ce=ie.flashQueue)===null||ce===void 0||ce.call(ie)},[R]);function oe(ie){var ce,ve;xn(W.current.values()).forEach(function(xe){xe==null||xe.current.resetField()}),R==null||(ce=R.getInternalHooks)===null||ce===void 0||(ce=ce.call(R,Jc))===null||ce===void 0||(ve=ce.notifyWatch)===null||ve===void 0||ve.call(ce,[]),R.store={},H==null||H({e:ie})}function pe(ie){requestAnimationFrame(function(){var ce=ee.getFieldsValue(!0);k(ie,ce)})}return Q.createElement(_ie.Provider,{value:{form:R,labelWidth:c,statusIcon:f,labelAlign:d,layout:h,colon:p,initialData:_,requiredMark:m,requiredMarkPosition:w,errorMessage:C,showErrorMessage:x,scrollToFirstError:S,resetType:E,rules:M,disabled:T,readOnly:s.readOnly||s.readonly,formMapRef:W,floatingFormDataRef:Z,onFormItemValueChange:pe}},Q.createElement("form",{ref:L,id:N,style:u,className:j,onSubmit:ee.submit,onReset:oe},P))},{useForm:oV,useWatch:ize,FormItem:Eie,FormList:xie});Aie.displayName="Form";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var cN=Aie;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var aze={label:!0,percentage:0,size:"medium",theme:"line"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Cie=D.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=so({CheckCircleIcon:Gne,CloseCircleIcon:Dw,ErrorCircleIcon:Qne,CheckCircleFilledIcon:Rw,CloseCircleFilledIcon:Pw,ErrorCircleFilledIcon:gM}),o=i.CheckCircleIcon,a=i.CloseCircleIcon,s=i.ErrorCircleIcon,u=i.CheckCircleFilledIcon,l=i.CloseCircleFilledIcon,c=i.ErrorCircleFilledIcon,f=mr(t,aze),d=f.theme,h=f.percentage,p=f.label,_=f.color,y=_===void 0?"":_,m=f.trackColor,b=f.strokeWidth,w=f.size,S=f.className,x=f.style,E=f.status,M=!E&&h>=100?"success":E,O={success:u,error:l,warning:c},C=function(){if(!p)return"";var he;if(typeof p=="boolean"){if(he=Q.createElement("div",{className:"".concat(r,"-progress__info")},"".concat(h,"%")),["success","error","warning"].includes(M)){var we=O[M];he=Q.createElement("div",{className:"".concat(r,"-progress__info")},Q.createElement(we,{className:"".concat(r,"-progress__icon")}))}}else he=Q.createElement("div",{className:"".concat(r,"-progress__info")},p);return he},T="".concat(r,"-progress--status--").concat(M),P;if(d==="circle"){O={success:o,error:a,warning:s};var N=function(){var he=112;if(!w)return he;switch(w){default:he=Number(w);break;case"small":he=72;break;case"medium":he=112;break;case"large":he=160;break}return he},H=function(){return!b&&w==="small"?4:typeof b!="number"||Number.isNaN(b)?6:b},B=H(),k=N(),j=k/2,$=j-B,F=Math.PI*2*j,R=h/100,L="".concat(F*R,"  ").concat(F*(1-R)),W=$*.27,Z={width:k,height:k,fontSize:4+W},ee={stroke:y,strokeLinecap:B<30?"round":"buff"},oe=j+B/2;return P=Q.createElement("div",{ref:e,className:et("".concat(r,"-progress--circle"),me({},"".concat(T),M)),style:Z},C(),Q.createElement("svg",{width:k,height:k,viewBox:"0 0 ".concat(k+B," ").concat(k+B)},Q.createElement("circle",{cx:oe,cy:oe,r:j,strokeWidth:B,stroke:m||"var(--td-bg-color-component)",fill:"none"}),h>0&&Q.createElement("circle",{cx:oe,cy:oe,r:j,strokeWidth:B,fill:"none",transform:"matrix(0,-1,1,0,0,".concat(k+B,")"),strokeDasharray:L,className:"".concat(r,"-progress__circle-inner"),style:ee}))),Q.createElement("div",{className:S},P)}var pe=function(){if(b)return typeof b=="string"?b:"".concat(b,"px")},ie={height:pe(),backgroundColor:m,borderRadius:pe()},ce={width:"".concat(h,"%"),background:jUe(y),borderRadius:pe()};if(d==="plump"){var ve=10;P=Q.createElement("div",{ref:e,className:et("".concat(r,"-progress__bar"),"".concat(r,"-progress--plump"),me(me(me({},"".concat(T),M),"".concat(r,"-progress--over-ten"),h>ve),"".concat(r,"-progress--under-ten"),h<=ve)),style:ie},h>ve?Q.createElement("div",{className:"".concat(r,"-progress__inner"),style:ce},p&&Q.createElement("div",{className:"".concat(r,"-progress__info"),style:{color:"#fff"}},D.isValidElement(p)?p:"".concat(h,"%"))):Q.createElement(Q.Fragment,null,Q.createElement("div",{className:"".concat(r,"-progress__inner"),style:ce}),C()))}else P=Q.createElement("div",{ref:e,className:et("".concat(r,"-progress--thin"),me({},"".concat(T),M))},Q.createElement("div",{className:"".concat(r,"-progress__bar"),style:ie},Q.createElement("div",{className:"".concat(r,"-progress__inner"),style:ce})),C());return Q.createElement("div",{className:S,style:x},P)});Cie.displayName="Progress";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var sze=Cie;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Tie=function(e){var n=e.content,r=e.cancelBtn,i=e.confirmBtn,o=e.icon,a=e.theme,s=e.onCancel,u=s===void 0?Uo:s,l=e.onConfirm,c=l===void 0?Uo:l,f=e.onClose,d=f===void 0?Uo:f,h=ln(),p=h.classPrefix,_=so({InfoCircleFilledIcon:yM}),y=_.InfoCircleFilledIcon,m=r==null,b=i==null;function w(){var E="#0052D9",M=Q.createElement(y,null);switch(a){case"warning":E="#FFAA00";break;case"danger":E="#FF3E00";break}var O=null;return Q.isValidElement(o)?O=Q.cloneElement(o,Iy({style:{color:E}},o.props)):M&&(O=Q.cloneElement(M,{style:{color:E}})),O}function S(){return Q.isValidElement(r)?Q.cloneElement(r,{onClick:function(M){var O,C;d({e:M,trigger:"cancel"}),(O=r.props)===null||O===void 0||(C=O.onClick)===null||C===void 0||C.call(O,M)}}):m?null:Q.createElement(si,Iy({size:"small",theme:"default",variant:"base",onClick:function(M){d({e:M,trigger:"cancel"}),u({e:M})}},Rn(r)==="object"?Iy({},r):{}),Rn(r)==="object"?r==null?void 0:r.children:_i(r)&&r)}function x(){return Q.isValidElement(i)?Q.cloneElement(i,{onClick:function(M){var O,C;d({e:M,trigger:"confirm"}),(O=i.props)===null||O===void 0||(C=O.onClick)===null||C===void 0||C.call(O,M)}}):b?null:Q.createElement(si,Iy({size:"small",theme:"primary",onClick:function(M){d({e:M,trigger:"confirm"}),c({e:M})}},Rn(i)==="object"?Iy({},i):{}),Rn(i)==="object"?i==null?void 0:i.children:_i(i)&&i)}return Q.createElement("div",{className:"".concat(p,"-popconfirm__content ").concat(e.className),style:e.style},Q.createElement("div",{className:"".concat(p,"-popconfirm__body")},w(),Q.createElement("div",{className:"".concat(p,"-popconfirm__inner")},n)),Q.createElement("div",{className:"".concat(p,"-popconfirm__buttons")},Q.createElement("span",{className:et("".concat(p,"-popconfirm__cancel"))},S()),Q.createElement("span",{className:et("".concat(p,"-popconfirm__confirm"))},x())))};Tie.displayName="Popcontent";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var lze={destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mie=D.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=ha("popconfirm"),o=De(i,2),a=o[0],s=o[1],u=typeof a.cancel=="string"?a.cancel:a.cancel.content,l=typeof a.confirm=="string"?a.confirm:a.confirm.content,c=mr(t,lze),f=c.cancelBtn,d=f===void 0?s(u):f,h=c.confirmBtn,p=h===void 0?s(l):h,_=Mr(c,"visible",c.onVisibleChange),y=De(_,2),m=y[0],b=y[1];return Q.createElement(vM,sE(sE({ref:e},c),{},{visible:m,trigger:"click",onVisibleChange:function(S,x){return b(S,x)},overlayClassName:et("".concat(r,"-popconfirm")),content:Q.createElement(Tie,sE(sE({cancelBtn:d,confirmBtn:p},c),{},{onClose:function(S){return b(!1,S)}}))},c.popupProps))});Mie.displayName="Popconfirm";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var uze=Mie;/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Xm=function(e){return"".concat(e*100,"%")};function cze(t,e){var n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=Math.pow(10,Math.max(n,r)),o=Math.round(t*i)+Math.round(e*i);return o/i}/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var fze={inputNumberProps:!1,label:!0,layout:"horizontal",max:100,min:0,range:!1,step:1};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hze=function(e){var n=e.onChange,r=e.style,i=e.classPrefix,o=e.toolTipProps,a=e.hideTips,s=D.useRef(null),u=D.useState(!1),l=De(u,2),c=l[0],f=l[1],d=Zre(s,{onEnter:function(){f(!0)},onDown:function(){f(!0)},onMove:function(y){f(!0),n(y)},onLeave:function(){f(!1)},onUp:function(y){f(!1),n(y)}}),h=d.isMoving,p=Q.createElement("div",{ref:s,style:r,className:"".concat(i,"-slider__button-wrapper")},Q.createElement("div",{className:et("".concat(i,"-slider__button"),me({},"".concat(i,"-slider__button--dragging"),h))}));return a?p:Q.createElement(bk,dze({visible:c,placement:"top"},o),p)};/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Tu=0,Rf=1,Oie=Q.forwardRef(function(t,e){var n=ln(),r=n.classPrefix,i=mr(t,fze),o=i.disabled,a=i.inputNumberProps,s=i.label,u=i.layout,l=i.marks,c=i.max,f=i.min,d=i.range,h=i.step,p=i.tooltipProps,_=i.className,y=i.style,m=i.onChange,b=D.useRef(null),w=Mr(i,"value",m),S=De(w,2),x=S[0],E=S[1],M=u==="vertical",O=Array.isArray(x)?x:[f,x],C=(O[Tu]-f)/(c-f),T=(O[Rf]-O[Tu])/(c-f),P=C+T,N=D.useMemo(function(){if(!Number.isInteger(h))return h.toString().split(".")[1].length},[h]),H=D.useMemo(function(){if(Array.isArray(l))return l.some(function(ce){return typeof ce!="number"})?(console.warn('The props "marks" only support number!'),[]):l.map(function(ce){return{value:ce,position:(ce-f)/(c-f),label:ce}});if(l&&Rn(l)==="object"){var ie=[];return Object.keys(l).forEach(function(ce){var ve=Number(ce);typeof ve!="number"?console.warn('The props "marks" key only support number!'):ie.push({value:ve,label:l[ve],position:(ve-f)/(c-f)})}),ie}return[]},[c,f,l]),B=D.useMemo(function(){for(var ie=[],ce=f;ce<=c;ce=cze(ce,h))ie.push({value:ce,position:(ce-f)/(c-f)});return ie},[c,f,h]),k=M?"bottom":"left",j=M?"top":"left",$=M?"height":"width",F=M?H.map(function(ie){return Ry(Ry({},ie),{},{position:1-ie.position})}):H,R=function(ce,ve){var xe=Number(ce.toFixed(32)),he=Math.max(Math.min(c,xe),f);if(N&&(he=Number(jb(String(he),N))),ve===Tu&&x&&xe>x[Rf]&&(he=x[Rf]),ve===Rf&&x&&xe<x[Tu]&&(he=x[Tu]),Array.isArray(x)){var we=x.slice();we[ve]=he,E(we)}else E(he)},L=function(ce){var ve=Rn(a)==="object"?a:{},xe=O[ce];return Q.createElement(gk,Ry({value:xe,onChange:function(we){typeof we<"u"&&R(Number(we),ce)},className:et("".concat(r,"-slider-input"),{"is-vertical":M}),disabled:o,theme:"column",min:f,max:c},ve))},W=function(ce){var ve=Math.abs(ce-O[Tu])>Math.abs(ce-O[Rf])?Rf:Tu;R(ce,ve)},Z=function(ce,ve){for(var xe=0,he=1,we=0;we<B.length;we++){var ne=Math.abs(B[we].position-ce);he>ne&&(xe=we,he=ne)}var Me=B[xe].value;ve===void 0&&d?W(Me):R(Me,ve)},ee=function(ce,ve){if(!(o||!b.current)){var xe=M?"clientY":"clientX",he=b.current.getBoundingClientRect(),we=he[k],ne=(ce[xe]-we)/he[$]*(M?-1:1);Z(ne,ve)}},oe=function(ce,ve){ce.stopPropagation(),W(ve)},pe=function(ce,ve){var xe=O[ce],he=xe;return En(s)&&(he=s({value:xe,position:ce===Tu?"start":"end"})),_i(s)&&(he=s.replace(/\$\{value\}/g,xe.toString())),ca(he)&&N&&(he=jb(String(he),N)),Q.createElement(hze,{toolTipProps:Ry({content:he},p),hideTips:s===!1,classPrefix:r,style:ve,onChange:function(ne){return ee(ne,ce)}})};return Q.createElement("div",{style:Ry({},y),className:et("".concat(r,"-slider__container"),{"is-vertical":M}),ref:e},Q.createElement("div",{ref:b,className:et("".concat(r,"-slider"),_,me(me(me({},"".concat(r,"-is-disabled"),o),"".concat(r,"-slider--vertical"),M),"".concat(r,"-slider--with-input"),a)),onClick:ee},Q.createElement("div",{className:et("".concat(r,"-slider__rail"))},Q.createElement("div",{style:me(me({},k,Xm(C)),$,Xm(T)),className:et("".concat(r,"-slider__track"))}),d?pe(Tu,me({},k,Xm(C))):null,pe(Rf,me({},k,Xm(P))),Q.createElement("div",{className:"".concat(r,"-slider__stops")},F.map(function(ie){var ce=ie.position,ve=ie.value;return ce===0||ce===1?null:Q.createElement("div",{key:ve,style:me({},j,Xm(ce)),className:et("".concat(r,"-slider__stop"))})})),Q.createElement("div",{className:et("".concat(r,"-slider__mark"))},F.map(function(ie){var ce=ie.position,ve=ie.value,xe=ie.label;return Q.createElement("div",{key:ve,onClick:function(we){return oe(we,ve)},style:me({},j,Xm(ce)),className:et("".concat(r,"-slider__mark-text"))},xe)})))),a?Q.createElement("div",{className:et("".concat(r,"-slider__input-container"),{"is-vertical":M})},d&&L(Tu),d&&Q.createElement("div",{className:"".concat(r,"-slider__center-line")}),L(Rf)):null)});Oie.displayName="Slider";/**
 * tdesign v1.16.3
 * (c) 2026 tdesign
 * @license MIT
 */var Iie=Oie;const pze="_leftPanel_l4fgm_1",mze="_panelSection_l4fgm_11",vze="_sectionTitle_l4fgm_30",gze="_promptTextarea_l4fgm_47",yze="_charCounter_l4fgm_72",_ze="_negativeToggle_l4fgm_81",bze="_active_l4fgm_100",wze="_negativeTextarea_l4fgm_104",Sze="_paramGroup_l4fgm_125",Eze="_paramLabel_l4fgm_133",xze="_paramValue_l4fgm_142",Aze="_resolutionGrid_l4fgm_148",Cze="_resolutionOption_l4fgm_154",Tze="_size_l4fgm_174",Mze="_generateBtn_l4fgm_182",Oze="_spinning_l4fgm_228",Ize="_historyList_l4fgm_238",Rze="_emptyHistory_l4fgm_246",Pze="_historyItem_l4fgm_253",Dze="_historyThumb_l4fgm_268",Lze="_historyInfo_l4fgm_280",Nze="_historyTitle_l4fgm_285",Bze="_historyMeta_l4fgm_292",Fze="_animateIn_l4fgm_299",kze="_delay1_l4fgm_303",Uze="_delay2_l4fgm_304",jze="_delay3_l4fgm_305",Ln={leftPanel:pze,panelSection:mze,sectionTitle:vze,promptTextarea:gze,charCounter:yze,negativeToggle:_ze,active:bze,negativeTextarea:wze,paramGroup:Sze,paramLabel:Eze,paramValue:xze,resolutionGrid:Aze,resolutionOption:Cze,size:Tze,generateBtn:Mze,spinning:Oze,historyList:Ize,emptyHistory:Rze,historyItem:Pze,historyThumb:Dze,historyInfo:Lze,historyTitle:Nze,historyMeta:Bze,animateIn:Fze,delay1:kze,delay2:Uze,delay3:jze},Hze=()=>{const{prompt:t,negativePrompt:e,resolution:n,imageCount:r,history:i,setPrompt:o,setNegativePrompt:a,setResolution:s,setImageCount:u}=Jp(),{imageModels:l,selectedImageModel:c,setSelectedImageModel:f,isLoadingModels:d}=x3(),{handleGenerateImages:h,isGeneratingImage:p}=Jee(),[_,y]=D.useState(!1),m=l.map(b=>({label:b.name,value:b.id,disabled:b.status!=="active"}));return ye.jsxs("aside",{className:Ln.leftPanel,children:[ye.jsxs("div",{className:`${Ln.panelSection} ${Ln.animateIn} ${Ln.delay1}`,children:[ye.jsxs("div",{className:Ln.sectionTitle,children:[ye.jsx(jn,{name:"edit"}),""]}),ye.jsx("textarea",{className:Ln.promptTextarea,placeholder:`...

8K`,value:t,onChange:b=>o(b.target.value),maxLength:2e3}),ye.jsxs("div",{className:Ln.charCounter,children:[t.length," / 2000"]}),ye.jsxs("div",{className:`${Ln.negativeToggle} ${_?Ln.active:""}`,onClick:()=>y(!_),children:[ye.jsx(jn,{name:"chevron-right",size:"10px"}),""]}),_&&ye.jsx("textarea",{className:Ln.negativeTextarea,placeholder:"...",value:e,onChange:b=>a(b.target.value),maxLength:500})]}),ye.jsxs("div",{className:`${Ln.panelSection} ${Ln.animateIn} ${Ln.delay2}`,children:[ye.jsxs("div",{className:Ln.sectionTitle,children:[ye.jsx(jn,{name:"root-list"}),""]}),ye.jsx(n0,{value:c||void 0,onChange:b=>f(b),options:m,placeholder:"",loading:d,disabled:d,style:{width:"100%"}})]}),ye.jsxs("div",{className:`${Ln.panelSection} ${Ln.animateIn} ${Ln.delay3}`,children:[ye.jsxs("div",{className:Ln.sectionTitle,children:[ye.jsx(jn,{name:"adjustment"}),""]}),ye.jsxs("div",{className:Ln.paramGroup,children:[ye.jsx("div",{className:Ln.paramLabel,children:ye.jsx("span",{children:""})}),ye.jsxs("div",{className:Ln.resolutionGrid,children:[ye.jsxs("div",{className:`${Ln.resolutionOption} ${n==="512x512"?Ln.active:""}`,onClick:()=>s("512x512"),children:[ye.jsx("span",{children:""}),ye.jsx("div",{className:Ln.size,children:"512512"})]}),ye.jsxs("div",{className:`${Ln.resolutionOption} ${n==="1024x1024"?Ln.active:""}`,onClick:()=>s("1024x1024"),children:[ye.jsx("span",{children:""}),ye.jsx("div",{className:Ln.size,children:"10241024"})]})]})]}),ye.jsxs("div",{className:Ln.paramGroup,children:[ye.jsxs("div",{className:Ln.paramLabel,children:[ye.jsx("span",{children:""}),ye.jsxs("span",{className:Ln.paramValue,children:[r," "]})]}),ye.jsx(Iie,{value:r,onChange:b=>u(b),min:1,max:4,step:1})]})]}),ye.jsx(si,{className:Ln.generateBtn,theme:"primary",size:"large",block:!0,loading:p,disabled:!t.trim()||!c||p,onClick:h,children:p?ye.jsxs(ye.Fragment,{children:[ye.jsx(jn,{name:"loading",className:Ln.spinning}),"..."]}):ye.jsxs(ye.Fragment,{children:[ye.jsx(jn,{name:"lightbulb"}),""]})}),ye.jsxs("div",{className:Ln.panelSection,style:{flex:1,minHeight:0},children:[ye.jsxs("div",{className:Ln.sectionTitle,children:[ye.jsx(jn,{name:"time"}),""]}),ye.jsx("div",{className:Ln.historyList,children:i.length===0?ye.jsx("div",{className:Ln.emptyHistory,children:""}):i.slice(0,10).map(b=>ye.jsxs("div",{className:Ln.historyItem,children:[ye.jsx("div",{className:Ln.historyThumb,children:b.type==="image"?ye.jsx(jn,{name:"image"}):ye.jsx(jn,{name:"cube"})}),ye.jsxs("div",{className:Ln.historyInfo,children:[ye.jsx("div",{className:Ln.historyTitle,children:b.title}),ye.jsxs("div",{className:Ln.historyMeta,children:[new Date(b.createdAt).toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})," "," ",b.modelName]})]})]},b.id))})]})]})},$ze="_centerCanvas_1pky8_1",zze="_canvasHeader_1pky8_9",Gze="_canvasTitle_1pky8_16",Wze="_canvasActions_1pky8_21",Vze="_actionBtn_1pky8_26",qze="_actionBtnPrimary_1pky8_46",Kze="_imageGallery_1pky8_68",Xze="_galleryItem_1pky8_76",Jze="_selected_1pky8_93",Yze="_galleryImage_1pky8_98",Zze="_galleryPlaceholder_1pky8_104",Qze="_galleryOverlay_1pky8_123",eGe="_overlayActions_1pky8_141",tGe="_overlayBtn_1pky8_146",nGe="_selectIndicator_1pky8_166",rGe="_progressContainer_1pky8_178",iGe="_progressHeader_1pky8_186",oGe="_progressLabel_1pky8_193",aGe="_progressTime_1pky8_204",sGe="_spinning_1pky8_210",Sr={centerCanvas:$ze,canvasHeader:zze,canvasTitle:Gze,canvasActions:Wze,actionBtn:Vze,actionBtnPrimary:qze,imageGallery:Kze,galleryItem:Xze,selected:Jze,galleryImage:Yze,galleryPlaceholder:Zze,galleryOverlay:Qze,overlayActions:eGe,overlayBtn:tGe,selectIndicator:nGe,progressContainer:rGe,progressHeader:iGe,progressLabel:oGe,progressTime:aGe,spinning:sGe},lGe=()=>{const{imageProgress:t,model3DProgress:e,isGeneratingImage:n,isGenerating3D:r}=Jp(),{generatedImages:i,selectedImageId:o,selectImage:a,handleGenerate3DModel:s}=Jee(),u=r?(e==null?void 0:e.progress)||0:(t==null?void 0:t.progress)||0,l=r?" 3D ...":"...",c=e!=null&&e.estimatedTime?` ${e.estimatedTime} `:"";return ye.jsxs("section",{className:Sr.centerCanvas,children:[ye.jsxs("div",{className:Sr.canvasHeader,children:[ye.jsx("h1",{className:Sr.canvasTitle,children:""}),ye.jsxs("div",{className:Sr.canvasActions,children:[ye.jsxs(si,{variant:"outline",className:Sr.actionBtn,children:[ye.jsx(jn,{name:"view-module"}),""]}),ye.jsxs(si,{variant:"outline",className:Sr.actionBtn,disabled:i.length===0,children:[ye.jsx(jn,{name:"download"}),""]}),ye.jsxs(si,{theme:"primary",className:Sr.actionBtnPrimary,disabled:!o||r,onClick:s,children:[ye.jsx(jn,{name:"arrow-right"})," 3D"]})]})]}),ye.jsx("div",{className:Sr.imageGallery,children:i.length===0?Array.from({length:4}).map((f,d)=>ye.jsx("div",{className:Sr.galleryItem,children:ye.jsxs("div",{className:Sr.galleryPlaceholder,children:[ye.jsx(jn,{name:"image",size:"48px"}),ye.jsx("span",{children:""})]})},d)):i.map(f=>ye.jsx("div",{className:`${Sr.galleryItem} ${o===f.id?Sr.selected:""}`,onClick:()=>a(f.id),children:f.status==="generating"?ye.jsxs("div",{className:Sr.galleryPlaceholder,children:[ye.jsx(jn,{name:"loading",size:"48px",className:Sr.spinning}),ye.jsx("span",{children:"..."})]}):f.status==="failed"?ye.jsxs("div",{className:Sr.galleryPlaceholder,children:[ye.jsx(jn,{name:"error-circle",size:"48px"}),ye.jsx("span",{children:""})]}):ye.jsxs(ye.Fragment,{children:[ye.jsx("img",{className:Sr.galleryImage,src:f.url,alt:f.prompt}),ye.jsxs("div",{className:Sr.galleryOverlay,children:[ye.jsxs("div",{className:Sr.overlayActions,children:[ye.jsx("button",{className:Sr.overlayBtn,title:"",children:ye.jsx(jn,{name:"fullscreen"})}),ye.jsx("button",{className:Sr.overlayBtn,title:"",children:ye.jsx(jn,{name:"download"})})]}),o===f.id&&ye.jsx("div",{className:Sr.selectIndicator,children:ye.jsx(jn,{name:"check",size:"12px"})})]})]})},f.id))}),(n||r)&&ye.jsxs("div",{className:Sr.progressContainer,children:[ye.jsxs("div",{className:Sr.progressHeader,children:[ye.jsxs("span",{className:Sr.progressLabel,children:[ye.jsx(jn,{name:"loading",className:Sr.spinning}),l]}),ye.jsx("span",{className:Sr.progressTime,children:c})]}),ye.jsx(sze,{percentage:u,theme:"plump",color:{from:"var(--color-primary)",to:"var(--color-accent)"}})]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const D0="160",kh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Uh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Rie=0,fN=1,Pie=2,uGe=3,Die=0,DM=1,q_=2,$l=3,Qu=0,ua=1,el=2,cGe=2,Wu=0,wp=1,dN=2,hN=3,pN=4,Lie=5,rd=100,Nie=101,Bie=102,mN=103,vN=104,Fie=200,kie=201,Uie=202,jie=203,jC=204,HC=205,Hie=206,$ie=207,zie=208,Gie=209,Wie=210,Vie=211,qie=212,Kie=213,Xie=214,Jie=0,Yie=1,Zie=2,zb=3,Qie=4,eoe=5,toe=6,noe=7,Fw=0,roe=1,ioe=2,Vu=0,ooe=1,aoe=2,soe=3,Dk=4,loe=5,uoe=6,gN="attached",coe="detached",Bd=300,ec=301,Fd=302,o0=303,Gb=304,L0=306,kd=1e3,Br=1001,a0=1002,Gr=1003,Wb=1004,fGe=1004,Sg=1005,dGe=1005,tr=1006,LM=1007,hGe=1007,tc=1008,yN=1008,cs=1009,Lk=1010,Nk=1011,NM=1012,BM=1013,ku=1014,Di=1015,ji=1016,Bk=1017,Fk=1018,Cd=1020,foe=1021,Ii=1023,doe=1024,hoe=1025,Td=1026,$p=1027,kk=1028,Uk=1029,poe=1030,jk=1031,Hk=1033,Kx=33776,Xx=33777,Jx=33778,Yx=33779,_N=35840,bN=35841,wN=35842,SN=35843,$k=36196,EN=37492,xN=37496,AN=37808,CN=37809,TN=37810,MN=37811,ON=37812,IN=37813,RN=37814,PN=37815,DN=37816,LN=37817,NN=37818,BN=37819,FN=37820,kN=37821,Zx=36492,UN=36494,jN=36495,moe=36283,HN=36284,$N=36285,zN=36286,voe=2200,goe=2201,yoe=2202,s0=2300,zp=2301,Qx=2302,ip=2400,op=2401,Vb=2402,FM=2500,zk=2501,_oe=0,Gk=1,$C=2,Wk=3e3,Md=3001,boe=3200,woe=3201,Kd=0,Soe=1,as="",Mi="srgb",ms="srgb-linear",kM="display-p3",kw="display-p3-linear",qb="linear",Ar="srgb",Kb="rec709",Xb="p3",pGe=0,jh=7680,mGe=7681,vGe=7682,gGe=7683,yGe=34055,_Ge=34056,bGe=5386,wGe=512,SGe=513,EGe=514,xGe=515,AGe=516,CGe=517,TGe=518,GN=519,Eoe=512,xoe=513,Aoe=514,Vk=515,Coe=516,Toe=517,Moe=518,Ooe=519,Jb=35044,MGe=35048,OGe=35040,IGe=35045,RGe=35049,PGe=35041,DGe=35046,LGe=35050,NGe=35042,BGe="100",WN="300 es",zC=1035,eu=2e3,l0=2001;let mf=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const Oo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gV=1234567;const Sp=Math.PI/180,u0=180/Math.PI;function fs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oo[t&255]+Oo[t>>8&255]+Oo[t>>16&255]+Oo[t>>24&255]+"-"+Oo[e&255]+Oo[e>>8&255]+"-"+Oo[e>>16&15|64]+Oo[e>>24&255]+"-"+Oo[n&63|128]+Oo[n>>8&255]+"-"+Oo[n>>16&255]+Oo[n>>24&255]+Oo[r&255]+Oo[r>>8&255]+Oo[r>>16&255]+Oo[r>>24&255]).toLowerCase()}function li(t,e,n){return Math.max(e,Math.min(n,t))}function qk(t,e){return(t%e+e)%e}function FGe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function kGe(t,e,n){return t!==e?(n-t)/(e-t):0}function K_(t,e,n){return(1-n)*t+n*e}function UGe(t,e,n,r){return K_(t,e,1-Math.exp(-n*r))}function jGe(t,e=1){return e-Math.abs(qk(t,e*2)-e)}function HGe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function $Ge(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function zGe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function GGe(t,e){return t+Math.random()*(e-t)}function WGe(t){return t*(.5-Math.random())}function VGe(t){t!==void 0&&(gV=t);let e=gV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qGe(t){return t*Sp}function KGe(t){return t*u0}function VN(t){return(t&t-1)===0&&t!==0}function XGe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function GC(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function JGe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),u=a(n/2),l=o((e+r)/2),c=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*c,u*f,u*d,s*l);break;case"YZY":t.set(u*d,s*c,u*f,s*l);break;case"ZXZ":t.set(u*f,u*d,s*c,s*l);break;case"XZX":t.set(s*c,u*p,u*h,s*l);break;case"YXY":t.set(u*h,s*c,u*p,s*l);break;case"ZYZ":t.set(u*p,u*h,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function La(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Bn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Eg={DEG2RAD:Sp,RAD2DEG:u0,generateUUID:fs,clamp:li,euclideanModulo:qk,mapLinear:FGe,inverseLerp:kGe,lerp:K_,damp:UGe,pingpong:jGe,smoothstep:HGe,smootherstep:$Ge,randInt:zGe,randFloat:GGe,randFloatSpread:WGe,seededRandom:VGe,degToRad:qGe,radToDeg:KGe,isPowerOfTwo:VN,ceilPowerOfTwo:XGe,floorPowerOfTwo:GC,setQuaternionFromProperEuler:JGe,normalize:Bn,denormalize:La};class Xe{constructor(e=0,n=0){Xe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(li(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kn{constructor(e,n,r,i,o,a,s,u,l){kn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,u,l)}set(e,n,r,i,o,a,s,u,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=u,c[6]=r,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],u=r[6],l=r[1],c=r[4],f=r[7],d=r[2],h=r[5],p=r[8],_=i[0],y=i[3],m=i[6],b=i[1],w=i[4],S=i[7],x=i[2],E=i[5],M=i[8];return o[0]=a*_+s*b+u*x,o[3]=a*y+s*w+u*E,o[6]=a*m+s*S+u*M,o[1]=l*_+c*b+f*x,o[4]=l*y+c*w+f*E,o[7]=l*m+c*S+f*M,o[2]=d*_+h*b+p*x,o[5]=d*y+h*w+p*E,o[8]=d*m+h*S+p*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return n*a*c-n*s*l-r*o*c+r*s*u+i*o*l-i*a*u}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,d=s*u-c*o,h=l*o-a*u,p=n*f+r*d+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/p;return e[0]=f*_,e[1]=(i*l-c*r)*_,e[2]=(s*r-i*a)*_,e[3]=d*_,e[4]=(c*n-i*u)*_,e[5]=(i*o-s*n)*_,e[6]=h*_,e[7]=(r*u-l*n)*_,e[8]=(a*n-r*o)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const u=Math.cos(o),l=Math.sin(o);return this.set(r*u,r*l,-r*(u*a+l*s)+a+e,-i*l,i*u,-i*(-l*a+u*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(WP.makeScale(e,n)),this}rotate(e){return this.premultiply(WP.makeRotation(-e)),this}translate(e,n){return this.premultiply(WP.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WP=new kn;function Ioe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const YGe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yv(t,e){return new YGe[t](e)}function Yb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Roe(){const t=Yb("canvas");return t.style.display="block",t}const yV={};function X_(t){t in yV||(yV[t]=!0,console.warn(t))}const _V=new kn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),bV=new kn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),lE={[ms]:{transfer:qb,primaries:Kb,toReference:t=>t,fromReference:t=>t},[Mi]:{transfer:Ar,primaries:Kb,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[kw]:{transfer:qb,primaries:Xb,toReference:t=>t.applyMatrix3(bV),fromReference:t=>t.applyMatrix3(_V)},[kM]:{transfer:Ar,primaries:Xb,toReference:t=>t.convertSRGBToLinear().applyMatrix3(bV),fromReference:t=>t.applyMatrix3(_V).convertLinearToSRGB()}},ZGe=new Set([ms,kw]),fr={enabled:!0,_workingColorSpace:ms,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!ZGe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=lE[e].toReference,i=lE[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return lE[t].primaries},getTransfer:function(t){return t===as?qb:lE[t].transfer}};function xg(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function VP(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Jm;class Kk{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Jm===void 0&&(Jm=Yb("canvas")),Jm.width=e.width,Jm.height=e.height;const r=Jm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Jm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=xg(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(xg(n[r]/255)*255):n[r]=xg(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let QGe=0;class ap{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:QGe++}),this.uuid=fs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(qP(i[a].image)):o.push(qP(i[a]))}else o=qP(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function qP(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Kk.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let e9e=0;class hr extends mf{constructor(e=hr.DEFAULT_IMAGE,n=hr.DEFAULT_MAPPING,r=Br,i=Br,o=tr,a=tc,s=Ii,u=cs,l=hr.DEFAULT_ANISOTROPY,c=as){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:e9e++}),this.uuid=fs(),this.name="",this.source=new ap(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=u,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(X_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Md?Mi:as),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Bd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kd:e.x=e.x-Math.floor(e.x);break;case Br:e.x=e.x<0?0:1;break;case a0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kd:e.y=e.y-Math.floor(e.y);break;case Br:e.y=e.y<0?0:1;break;case a0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return X_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Mi?Md:Wk}set encoding(e){X_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Md?Mi:as}}hr.DEFAULT_IMAGE=null;hr.DEFAULT_MAPPING=Bd;hr.DEFAULT_ANISOTROPY=1;class dr{constructor(e=0,n=0,r=0,i=1){dr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const u=e.elements,l=u[0],c=u[4],f=u[8],d=u[1],h=u[5],p=u[9],_=u[2],y=u[6],m=u[10];if(Math.abs(c-d)<.01&&Math.abs(f-_)<.01&&Math.abs(p-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+_)<.1&&Math.abs(p+y)<.1&&Math.abs(l+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(l+1)/2,S=(h+1)/2,x=(m+1)/2,E=(c+d)/4,M=(f+_)/4,O=(p+y)/4;return w>S&&w>x?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=E/r,o=M/r):S>x?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=E/i,o=O/i):x<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(x),r=M/o,i=O/o),this.set(r,i,o,n),this}let b=Math.sqrt((y-p)*(y-p)+(f-_)*(f-_)+(d-c)*(d-c));return Math.abs(b)<.001&&(b=1),this.x=(y-p)/b,this.y=(f-_)/b,this.z=(d-c)/b,this.w=Math.acos((l+h+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Poe extends mf{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new dr(0,0,e,n),this.scissorTest=!1,this.viewport=new dr(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(X_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Md?Mi:as),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new hr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ap(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yo extends Poe{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class UM extends hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=Br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class t9e extends yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new UM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Xk extends hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=Br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class n9e extends yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Xk(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class r9e extends yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class yi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let u=r[i+0],l=r[i+1],c=r[i+2],f=r[i+3];const d=o[a+0],h=o[a+1],p=o[a+2],_=o[a+3];if(s===0){e[n+0]=u,e[n+1]=l,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=_;return}if(f!==_||u!==d||l!==h||c!==p){let y=1-s;const m=u*d+l*h+c*p+f*_,b=m>=0?1:-1,w=1-m*m;if(w>Number.EPSILON){const x=Math.sqrt(w),E=Math.atan2(x,m*b);y=Math.sin(y*E)/x,s=Math.sin(s*E)/x}const S=s*b;if(u=u*y+d*S,l=l*y+h*S,c=c*y+p*S,f=f*y+_*S,y===1-s){const x=1/Math.sqrt(u*u+l*l+c*c+f*f);u*=x,l*=x,c*=x,f*=x}}e[n]=u,e[n+1]=l,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],u=r[i+1],l=r[i+2],c=r[i+3],f=o[a],d=o[a+1],h=o[a+2],p=o[a+3];return e[n]=s*p+c*f+u*h-l*d,e[n+1]=u*p+c*d+l*f-s*h,e[n+2]=l*p+c*h+s*d-u*f,e[n+3]=c*p-s*f-u*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,u=Math.sin,l=s(r/2),c=s(i/2),f=s(o/2),d=u(r/2),h=u(i/2),p=u(o/2);switch(a){case"XYZ":this._x=d*c*f+l*h*p,this._y=l*h*f-d*c*p,this._z=l*c*p+d*h*f,this._w=l*c*f-d*h*p;break;case"YXZ":this._x=d*c*f+l*h*p,this._y=l*h*f-d*c*p,this._z=l*c*p-d*h*f,this._w=l*c*f+d*h*p;break;case"ZXY":this._x=d*c*f-l*h*p,this._y=l*h*f+d*c*p,this._z=l*c*p+d*h*f,this._w=l*c*f-d*h*p;break;case"ZYX":this._x=d*c*f-l*h*p,this._y=l*h*f+d*c*p,this._z=l*c*p-d*h*f,this._w=l*c*f+d*h*p;break;case"YZX":this._x=d*c*f+l*h*p,this._y=l*h*f+d*c*p,this._z=l*c*p-d*h*f,this._w=l*c*f-d*h*p;break;case"XZY":this._x=d*c*f-l*h*p,this._y=l*h*f-d*c*p,this._z=l*c*p+d*h*f,this._w=l*c*f+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],l=n[2],c=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-u)*h,this._y=(o-l)*h,this._z=(a-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(c-u)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+l)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(o-l)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(u+c)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(a-i)/h,this._x=(o+l)/h,this._y=(u+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(li(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,u=n._y,l=n._z,c=n._w;return this._x=r*c+a*s+i*l-o*u,this._y=i*c+a*u+o*s-r*l,this._z=o*c+a*l+r*u-i*s,this._w=a*c-r*s-i*u-o*l,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const u=1-s*s;if(u<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const l=Math.sqrt(u),c=Math.atan2(l,s),f=Math.sin((1-n)*c)/l,d=Math.sin(n*c)/l;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(e=0,n=0,r=0){ue.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(wV.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(wV.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,u=e.w,l=2*(a*i-s*r),c=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+u*l+a*f-s*c,this.y=r+u*c+s*l-o*f,this.z=i+u*f+o*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,u=n.z;return this.x=i*u-o*s,this.y=o*a-r*u,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return KP.copy(this).projectOnVector(e),this.sub(KP)}reflect(e){return this.sub(KP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(li(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const KP=new ue,wV=new yi;class io{constructor(e=new ue(1/0,1/0,1/0),n=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Nl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Nl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Nl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Nl):Nl.fromBufferAttribute(o,a),Nl.applyMatrix4(e.matrixWorld),this.expandByPoint(Nl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),uE.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),uE.copy(r.boundingBox)),uE.applyMatrix4(e.matrixWorld),this.union(uE)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Nl),Nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Py),cE.subVectors(this.max,Py),Ym.subVectors(e.a,Py),Zm.subVectors(e.b,Py),Qm.subVectors(e.c,Py),Pf.subVectors(Zm,Ym),Df.subVectors(Qm,Zm),wh.subVectors(Ym,Qm);let n=[0,-Pf.z,Pf.y,0,-Df.z,Df.y,0,-wh.z,wh.y,Pf.z,0,-Pf.x,Df.z,0,-Df.x,wh.z,0,-wh.x,-Pf.y,Pf.x,0,-Df.y,Df.x,0,-wh.y,wh.x,0];return!XP(n,Ym,Zm,Qm,cE)||(n=[1,0,0,0,1,0,0,0,1],!XP(n,Ym,Zm,Qm,cE))?!1:(fE.crossVectors(Pf,Df),n=[fE.x,fE.y,fE.z],XP(n,Ym,Zm,Qm,cE))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wc=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],Nl=new ue,uE=new io,Ym=new ue,Zm=new ue,Qm=new ue,Pf=new ue,Df=new ue,wh=new ue,Py=new ue,cE=new ue,fE=new ue,Sh=new ue;function XP(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Sh.fromArray(t,o);const s=i.x*Math.abs(Sh.x)+i.y*Math.abs(Sh.y)+i.z*Math.abs(Sh.z),u=e.dot(Sh),l=n.dot(Sh),c=r.dot(Sh);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}const i9e=new io,Dy=new ue,JP=new ue;class oo{constructor(e=new ue,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):i9e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Dy.subVectors(e,this.center);const n=Dy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Dy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(JP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Dy.copy(e.center).add(JP)),this.expandByPoint(Dy.copy(e.center).sub(JP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Sc=new ue,YP=new ue,dE=new ue,Lf=new ue,ZP=new ue,hE=new ue,QP=new ue;class sm{constructor(e=new ue,n=new ue(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Sc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Sc.copy(this.origin).addScaledVector(this.direction,n),Sc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){YP.copy(e).add(n).multiplyScalar(.5),dE.copy(n).sub(e).normalize(),Lf.copy(this.origin).sub(YP);const o=e.distanceTo(n)*.5,a=-this.direction.dot(dE),s=Lf.dot(this.direction),u=-Lf.dot(dE),l=Lf.lengthSq(),c=Math.abs(1-a*a);let f,d,h,p;if(c>0)if(f=a*u-s,d=a*s-u,p=o*c,f>=0)if(d>=-p)if(d<=p){const _=1/c;f*=_,d*=_,h=f*(f+a*d+2*s)+d*(a*f+d+2*u)+l}else d=o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*u)+l;else d=-o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*u)+l;else d<=-p?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-u),o),h=-f*f+d*(d+2*u)+l):d<=p?(f=0,d=Math.min(Math.max(-o,-u),o),h=d*(d+2*u)+l):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-u),o),h=-f*f+d*(d+2*u)+l);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*u)+l;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(YP).addScaledVector(dE,d),h}intersectSphere(e,n){Sc.subVectors(e.center,this.origin);const r=Sc.dot(this.direction),i=Sc.dot(Sc)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,u=r+a;return u<0?null:s<0?this.at(u,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,u;const l=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return l>=0?(r=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(r=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(o=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,u=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,u=(e.min.z-d.z)*f),r>u||s>i)||((s>r||r!==r)&&(r=s),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Sc)!==null}intersectTriangle(e,n,r,i,o){ZP.subVectors(n,e),hE.subVectors(r,e),QP.crossVectors(ZP,hE);let a=this.direction.dot(QP),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Lf.subVectors(this.origin,e);const u=s*this.direction.dot(hE.crossVectors(Lf,hE));if(u<0)return null;const l=s*this.direction.dot(ZP.cross(Lf));if(l<0||u+l>a)return null;const c=-s*Lf.dot(QP);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class un{constructor(e,n,r,i,o,a,s,u,l,c,f,d,h,p,_,y){un.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,u,l,c,f,d,h,p,_,y)}set(e,n,r,i,o,a,s,u,l,c,f,d,h,p,_,y){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=o,m[5]=a,m[9]=s,m[13]=u,m[2]=l,m[6]=c,m[10]=f,m[14]=d,m[3]=h,m[7]=p,m[11]=_,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new un().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ev.setFromMatrixColumn(e,0).length(),o=1/ev.setFromMatrixColumn(e,1).length(),a=1/ev.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),u=Math.cos(i),l=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*c,h=a*f,p=s*c,_=s*f;n[0]=u*c,n[4]=-u*f,n[8]=l,n[1]=h+p*l,n[5]=d-_*l,n[9]=-s*u,n[2]=_-d*l,n[6]=p+h*l,n[10]=a*u}else if(e.order==="YXZ"){const d=u*c,h=u*f,p=l*c,_=l*f;n[0]=d+_*s,n[4]=p*s-h,n[8]=a*l,n[1]=a*f,n[5]=a*c,n[9]=-s,n[2]=h*s-p,n[6]=_+d*s,n[10]=a*u}else if(e.order==="ZXY"){const d=u*c,h=u*f,p=l*c,_=l*f;n[0]=d-_*s,n[4]=-a*f,n[8]=p+h*s,n[1]=h+p*s,n[5]=a*c,n[9]=_-d*s,n[2]=-a*l,n[6]=s,n[10]=a*u}else if(e.order==="ZYX"){const d=a*c,h=a*f,p=s*c,_=s*f;n[0]=u*c,n[4]=p*l-h,n[8]=d*l+_,n[1]=u*f,n[5]=_*l+d,n[9]=h*l-p,n[2]=-l,n[6]=s*u,n[10]=a*u}else if(e.order==="YZX"){const d=a*u,h=a*l,p=s*u,_=s*l;n[0]=u*c,n[4]=_-d*f,n[8]=p*f+h,n[1]=f,n[5]=a*c,n[9]=-s*c,n[2]=-l*c,n[6]=h*f+p,n[10]=d-_*f}else if(e.order==="XZY"){const d=a*u,h=a*l,p=s*u,_=s*l;n[0]=u*c,n[4]=-f,n[8]=l*c,n[1]=d*f+_,n[5]=a*c,n[9]=h*f-p,n[2]=p*f-h,n[6]=s*c,n[10]=_*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(o9e,e,a9e)}lookAt(e,n,r){const i=this.elements;return Ja.subVectors(e,n),Ja.lengthSq()===0&&(Ja.z=1),Ja.normalize(),Nf.crossVectors(r,Ja),Nf.lengthSq()===0&&(Math.abs(r.z)===1?Ja.x+=1e-4:Ja.z+=1e-4,Ja.normalize(),Nf.crossVectors(r,Ja)),Nf.normalize(),pE.crossVectors(Ja,Nf),i[0]=Nf.x,i[4]=pE.x,i[8]=Ja.x,i[1]=Nf.y,i[5]=pE.y,i[9]=Ja.y,i[2]=Nf.z,i[6]=pE.z,i[10]=Ja.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],u=r[8],l=r[12],c=r[1],f=r[5],d=r[9],h=r[13],p=r[2],_=r[6],y=r[10],m=r[14],b=r[3],w=r[7],S=r[11],x=r[15],E=i[0],M=i[4],O=i[8],C=i[12],T=i[1],P=i[5],N=i[9],H=i[13],B=i[2],k=i[6],j=i[10],$=i[14],F=i[3],R=i[7],L=i[11],W=i[15];return o[0]=a*E+s*T+u*B+l*F,o[4]=a*M+s*P+u*k+l*R,o[8]=a*O+s*N+u*j+l*L,o[12]=a*C+s*H+u*$+l*W,o[1]=c*E+f*T+d*B+h*F,o[5]=c*M+f*P+d*k+h*R,o[9]=c*O+f*N+d*j+h*L,o[13]=c*C+f*H+d*$+h*W,o[2]=p*E+_*T+y*B+m*F,o[6]=p*M+_*P+y*k+m*R,o[10]=p*O+_*N+y*j+m*L,o[14]=p*C+_*H+y*$+m*W,o[3]=b*E+w*T+S*B+x*F,o[7]=b*M+w*P+S*k+x*R,o[11]=b*O+w*N+S*j+x*L,o[15]=b*C+w*H+S*$+x*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],u=e[9],l=e[13],c=e[2],f=e[6],d=e[10],h=e[14],p=e[3],_=e[7],y=e[11],m=e[15];return p*(+o*u*f-i*l*f-o*s*d+r*l*d+i*s*h-r*u*h)+_*(+n*u*h-n*l*d+o*a*d-i*a*h+i*l*c-o*u*c)+y*(+n*l*f-n*s*h-o*a*f+r*a*h+o*s*c-r*l*c)+m*(-i*s*c-n*u*f+n*s*d+i*a*f-r*a*d+r*u*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],_=e[13],y=e[14],m=e[15],b=f*y*l-_*d*l+_*u*h-s*y*h-f*u*m+s*d*m,w=p*d*l-c*y*l-p*u*h+a*y*h+c*u*m-a*d*m,S=c*_*l-p*f*l+p*s*h-a*_*h-c*s*m+a*f*m,x=p*f*u-c*_*u-p*s*d+a*_*d+c*s*y-a*f*y,E=n*b+r*w+i*S+o*x;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/E;return e[0]=b*M,e[1]=(_*d*o-f*y*o-_*i*h+r*y*h+f*i*m-r*d*m)*M,e[2]=(s*y*o-_*u*o+_*i*l-r*y*l-s*i*m+r*u*m)*M,e[3]=(f*u*o-s*d*o-f*i*l+r*d*l+s*i*h-r*u*h)*M,e[4]=w*M,e[5]=(c*y*o-p*d*o+p*i*h-n*y*h-c*i*m+n*d*m)*M,e[6]=(p*u*o-a*y*o-p*i*l+n*y*l+a*i*m-n*u*m)*M,e[7]=(a*d*o-c*u*o+c*i*l-n*d*l-a*i*h+n*u*h)*M,e[8]=S*M,e[9]=(p*f*o-c*_*o-p*r*h+n*_*h+c*r*m-n*f*m)*M,e[10]=(a*_*o-p*s*o+p*r*l-n*_*l-a*r*m+n*s*m)*M,e[11]=(c*s*o-a*f*o-c*r*l+n*f*l+a*r*h-n*s*h)*M,e[12]=x*M,e[13]=(c*_*i-p*f*i+p*r*d-n*_*d-c*r*y+n*f*y)*M,e[14]=(p*s*i-a*_*i-p*r*u+n*_*u+a*r*y-n*s*y)*M,e[15]=(a*f*i-c*s*i+c*r*u-n*f*u-a*r*d+n*s*d)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,u=e.z,l=o*a,c=o*s;return this.set(l*a+r,l*s-i*u,l*u+i*s,0,l*s+i*u,c*s+r,c*u-i*a,0,l*u-i*s,c*u+i*a,o*u*u+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,u=n._w,l=o+o,c=a+a,f=s+s,d=o*l,h=o*c,p=o*f,_=a*c,y=a*f,m=s*f,b=u*l,w=u*c,S=u*f,x=r.x,E=r.y,M=r.z;return i[0]=(1-(_+m))*x,i[1]=(h+S)*x,i[2]=(p-w)*x,i[3]=0,i[4]=(h-S)*E,i[5]=(1-(d+m))*E,i[6]=(y+b)*E,i[7]=0,i[8]=(p+w)*M,i[9]=(y-b)*M,i[10]=(1-(d+_))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=ev.set(i[0],i[1],i[2]).length();const a=ev.set(i[4],i[5],i[6]).length(),s=ev.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Bl.copy(this);const l=1/o,c=1/a,f=1/s;return Bl.elements[0]*=l,Bl.elements[1]*=l,Bl.elements[2]*=l,Bl.elements[4]*=c,Bl.elements[5]*=c,Bl.elements[6]*=c,Bl.elements[8]*=f,Bl.elements[9]*=f,Bl.elements[10]*=f,n.setFromRotationMatrix(Bl),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=eu){const u=this.elements,l=2*o/(n-e),c=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,p;if(s===eu)h=-(a+o)/(a-o),p=-2*a*o/(a-o);else if(s===l0)h=-a/(a-o),p=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=l,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=c,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=h,u[14]=p,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=eu){const u=this.elements,l=1/(n-e),c=1/(r-i),f=1/(a-o),d=(n+e)*l,h=(r+i)*c;let p,_;if(s===eu)p=(a+o)*f,_=-2*f;else if(s===l0)p=o*f,_=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=2*l,u[4]=0,u[8]=0,u[12]=-d,u[1]=0,u[5]=2*c,u[9]=0,u[13]=-h,u[2]=0,u[6]=0,u[10]=_,u[14]=-p,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ev=new ue,Bl=new un,o9e=new ue(0,0,0),a9e=new ue(1,1,1),Nf=new ue,pE=new ue,Ja=new ue,SV=new un,EV=new yi;class Uw{constructor(e=0,n=0,r=0,i=Uw.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(li(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-li(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(li(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-li(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(li(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-li(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return SV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SV,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return EV.setFromEuler(this),this.setFromQuaternion(EV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Uw.DEFAULT_ORDER="XYZ";class Ep{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let s9e=0;const xV=new ue,tv=new yi,Ec=new un,mE=new ue,Ly=new ue,l9e=new ue,u9e=new yi,AV=new ue(1,0,0),CV=new ue(0,1,0),TV=new ue(0,0,1),c9e={type:"added"},f9e={type:"removed"};class Qn extends mf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:s9e++}),this.uuid=fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qn.DEFAULT_UP.clone();const e=new ue,n=new Uw,r=new yi,i=new ue(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new un},normalMatrix:{value:new kn}}),this.matrix=new un,this.matrixWorld=new un,this.matrixAutoUpdate=Qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ep,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return tv.setFromAxisAngle(e,n),this.quaternion.multiply(tv),this}rotateOnWorldAxis(e,n){return tv.setFromAxisAngle(e,n),this.quaternion.premultiply(tv),this}rotateX(e){return this.rotateOnAxis(AV,e)}rotateY(e){return this.rotateOnAxis(CV,e)}rotateZ(e){return this.rotateOnAxis(TV,e)}translateOnAxis(e,n){return xV.copy(e).applyQuaternion(this.quaternion),this.position.add(xV.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(AV,e)}translateY(e){return this.translateOnAxis(CV,e)}translateZ(e){return this.translateOnAxis(TV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ec.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?mE.copy(e):mE.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ly.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ec.lookAt(Ly,mE,this.up):Ec.lookAt(mE,Ly,this.up),this.quaternion.setFromRotationMatrix(Ec),i&&(Ec.extractRotation(i.matrixWorld),tv.setFromRotationMatrix(Ec),this.quaternion.premultiply(tv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(c9e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(f9e)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ec.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ec.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ec),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ly,e,l9e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ly,u9e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let l=0,c=u.length;l<c;l++){const f=u[l];o(e.shapes,f)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,l=this.material.length;u<l;u++)s.push(o(e.materials,this.material[u]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];i.animations.push(o(e.animations,u))}}if(n){const s=a(e.geometries),u=a(e.materials),l=a(e.textures),c=a(e.images),f=a(e.shapes),d=a(e.skeletons),h=a(e.animations),p=a(e.nodes);s.length>0&&(r.geometries=s),u.length>0&&(r.materials=u),l.length>0&&(r.textures=l),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(s){const u=[];for(const l in s){const c=s[l];delete c.metadata,u.push(c)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Qn.DEFAULT_UP=new ue(0,1,0);Qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fl=new ue,xc=new ue,e2=new ue,Ac=new ue,nv=new ue,rv=new ue,MV=new ue,t2=new ue,n2=new ue,r2=new ue;let vE=!1;class Pa{constructor(e=new ue,n=new ue,r=new ue){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Fl.subVectors(e,n),i.cross(Fl);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Fl.subVectors(i,n),xc.subVectors(r,n),e2.subVectors(e,n);const a=Fl.dot(Fl),s=Fl.dot(xc),u=Fl.dot(e2),l=xc.dot(xc),c=xc.dot(e2),f=a*l-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,h=(l*u-s*c)*d,p=(a*c-s*u)*d;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ac)===null?!1:Ac.x>=0&&Ac.y>=0&&Ac.x+Ac.y<=1}static getUV(e,n,r,i,o,a,s,u){return vE===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),vE=!0),this.getInterpolation(e,n,r,i,o,a,s,u)}static getInterpolation(e,n,r,i,o,a,s,u){return this.getBarycoord(e,n,r,i,Ac)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,Ac.x),u.addScaledVector(a,Ac.y),u.addScaledVector(s,Ac.z),u)}static isFrontFacing(e,n,r,i){return Fl.subVectors(r,n),xc.subVectors(e,n),Fl.cross(xc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fl.subVectors(this.c,this.b),xc.subVectors(this.a,this.b),Fl.cross(xc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Pa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Pa.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return vE===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),vE=!0),Pa.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return Pa.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Pa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Pa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;nv.subVectors(i,r),rv.subVectors(o,r),t2.subVectors(e,r);const u=nv.dot(t2),l=rv.dot(t2);if(u<=0&&l<=0)return n.copy(r);n2.subVectors(e,i);const c=nv.dot(n2),f=rv.dot(n2);if(c>=0&&f<=c)return n.copy(i);const d=u*f-c*l;if(d<=0&&u>=0&&c<=0)return a=u/(u-c),n.copy(r).addScaledVector(nv,a);r2.subVectors(e,o);const h=nv.dot(r2),p=rv.dot(r2);if(p>=0&&h<=p)return n.copy(o);const _=h*l-u*p;if(_<=0&&l>=0&&p<=0)return s=l/(l-p),n.copy(r).addScaledVector(rv,s);const y=c*p-h*f;if(y<=0&&f-c>=0&&h-p>=0)return MV.subVectors(o,i),s=(f-c)/(f-c+(h-p)),n.copy(i).addScaledVector(MV,s);const m=1/(y+_+d);return a=_*m,s=d*m,n.copy(r).addScaledVector(nv,a).addScaledVector(rv,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Doe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bf={h:0,s:0,l:0},gE={h:0,s:0,l:0};function i2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Rt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Mi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=fr.workingColorSpace){return this.r=e,this.g=n,this.b=r,fr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=fr.workingColorSpace){if(e=qk(e,1),n=li(n,0,1),r=li(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=i2(a,o,e+1/3),this.g=i2(a,o,e),this.b=i2(a,o,e-1/3)}return fr.toWorkingColorSpace(this,i),this}setStyle(e,n=Mi){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Mi){const r=Doe[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xg(e.r),this.g=xg(e.g),this.b=xg(e.b),this}copyLinearToSRGB(e){return this.r=VP(e.r),this.g=VP(e.g),this.b=VP(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mi){return fr.fromWorkingColorSpace(Io.copy(this),e),Math.round(li(Io.r*255,0,255))*65536+Math.round(li(Io.g*255,0,255))*256+Math.round(li(Io.b*255,0,255))}getHexString(e=Mi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=fr.workingColorSpace){fr.fromWorkingColorSpace(Io.copy(this),n);const r=Io.r,i=Io.g,o=Io.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let u,l;const c=(s+a)/2;if(s===a)u=0,l=0;else{const f=a-s;switch(l=c<=.5?f/(a+s):f/(2-a-s),a){case r:u=(i-o)/f+(i<o?6:0);break;case i:u=(o-r)/f+2;break;case o:u=(r-i)/f+4;break}u/=6}return e.h=u,e.s=l,e.l=c,e}getRGB(e,n=fr.workingColorSpace){return fr.fromWorkingColorSpace(Io.copy(this),n),e.r=Io.r,e.g=Io.g,e.b=Io.b,e}getStyle(e=Mi){fr.fromWorkingColorSpace(Io.copy(this),e);const n=Io.r,r=Io.g,i=Io.b;return e!==Mi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Bf),this.setHSL(Bf.h+e,Bf.s+n,Bf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Bf),e.getHSL(gE);const r=K_(Bf.h,gE.h,n),i=K_(Bf.s,gE.s,n),o=K_(Bf.l,gE.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Io=new Rt;Rt.NAMES=Doe;let d9e=0;class $i extends mf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:d9e++}),this.uuid=fs(),this.name="",this.type="Material",this.blending=wp,this.side=Qu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=jC,this.blendDst=HC,this.blendEquation=rd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=zb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jh,this.stencilZFail=jh,this.stencilZPass=jh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==wp&&(r.blending=this.blending),this.side!==Qu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==jC&&(r.blendSrc=this.blendSrc),this.blendDst!==HC&&(r.blendDst=this.blendDst),this.blendEquation!==rd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==zb&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==GN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const u=o[s];delete u.metadata,a.push(u)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ba extends $i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nc=h9e();function h9e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const l=u-127;l<-27?(r[u]=0,r[u|256]=32768,i[u]=24,i[u|256]=24):l<-14?(r[u]=1024>>-l-14,r[u|256]=1024>>-l-14|32768,i[u]=-l-1,i[u|256]=-l-1):l<=15?(r[u]=l+15<<10,r[u|256]=l+15<<10|32768,i[u]=13,i[u|256]=13):l<128?(r[u]=31744,r[u|256]=64512,i[u]=24,i[u|256]=24):(r[u]=31744,r[u|256]=64512,i[u]=13,i[u|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let l=u<<13,c=0;for(;!(l&8388608);)l<<=1,c-=8388608;l&=-8388609,c+=947912704,o[u]=l|c}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function ba(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=li(t,-65504,65504),Nc.floatView[0]=t;const e=Nc.uint32View[0],n=e>>23&511;return Nc.baseTable[n]+((e&8388607)>>Nc.shiftTable[n])}function d_(t){const e=t>>10;return Nc.uint32View[0]=Nc.mantissaTable[Nc.offsetTable[e]+(t&1023)]+Nc.exponentTable[e],Nc.floatView[0]}const sp={toHalfFloat:ba,fromHalfFloat:d_},Ei=new ue,yE=new Xe;class er{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Jb,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Di,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)yE.fromBufferAttribute(this,n),yE.applyMatrix3(e),this.setXY(n,yE.x,yE.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ei.fromBufferAttribute(this,n),Ei.applyMatrix3(e),this.setXYZ(n,Ei.x,Ei.y,Ei.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ei.fromBufferAttribute(this,n),Ei.applyMatrix4(e),this.setXYZ(n,Ei.x,Ei.y,Ei.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ei.fromBufferAttribute(this,n),Ei.applyNormalMatrix(e),this.setXYZ(n,Ei.x,Ei.y,Ei.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ei.fromBufferAttribute(this,n),Ei.transformDirection(e),this.setXYZ(n,Ei.x,Ei.y,Ei.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=La(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Bn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=La(n,this.array)),n}setX(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=La(n,this.array)),n}setY(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=La(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=La(n,this.array)),n}setW(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array),o=Bn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jb&&(e.usage=this.usage),e}}class p9e extends er{constructor(e,n,r){super(new Int8Array(e),n,r)}}class m9e extends er{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class v9e extends er{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class g9e extends er{constructor(e,n,r){super(new Int16Array(e),n,r)}}class Jk extends er{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class y9e extends er{constructor(e,n,r){super(new Int32Array(e),n,r)}}class Yk extends er{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class _9e extends er{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=d_(this.array[e*this.itemSize]);return this.normalized&&(n=La(n,this.array)),n}setX(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize]=ba(n),this}getY(e){let n=d_(this.array[e*this.itemSize+1]);return this.normalized&&(n=La(n,this.array)),n}setY(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+1]=ba(n),this}getZ(e){let n=d_(this.array[e*this.itemSize+2]);return this.normalized&&(n=La(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+2]=ba(n),this}getW(e){let n=d_(this.array[e*this.itemSize+3]);return this.normalized&&(n=La(n,this.array)),n}setW(e,n){return this.normalized&&(n=Bn(n,this.array)),this.array[e*this.itemSize+3]=ba(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array)),this.array[e+0]=ba(n),this.array[e+1]=ba(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.array[e+0]=ba(n),this.array[e+1]=ba(r),this.array[e+2]=ba(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array),o=Bn(o,this.array)),this.array[e+0]=ba(n),this.array[e+1]=ba(r),this.array[e+2]=ba(i),this.array[e+3]=ba(o),this}}class Yt extends er{constructor(e,n,r){super(new Float32Array(e),n,r)}}class b9e extends er{constructor(e,n,r){super(new Float64Array(e),n,r)}}let w9e=0;const ks=new un,o2=new Qn,iv=new ue,Ya=new io,Ny=new io,Zi=new ue;class Pn extends mf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:w9e++}),this.uuid=fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ioe(e)?Yk:Jk)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new kn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ks.makeRotationFromQuaternion(e),this.applyMatrix4(ks),this}rotateX(e){return ks.makeRotationX(e),this.applyMatrix4(ks),this}rotateY(e){return ks.makeRotationY(e),this.applyMatrix4(ks),this}rotateZ(e){return ks.makeRotationZ(e),this.applyMatrix4(ks),this}translate(e,n,r){return ks.makeTranslation(e,n,r),this.applyMatrix4(ks),this}scale(e,n,r){return ks.makeScale(e,n,r),this.applyMatrix4(ks),this}lookAt(e){return o2.lookAt(e),o2.updateMatrix(),this.applyMatrix4(o2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iv).negate(),this.translate(iv.x,iv.y,iv.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Yt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new io);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Ya.setFromBufferAttribute(o),this.morphTargetsRelative?(Zi.addVectors(this.boundingBox.min,Ya.min),this.boundingBox.expandByPoint(Zi),Zi.addVectors(this.boundingBox.max,Ya.max),this.boundingBox.expandByPoint(Zi)):(this.boundingBox.expandByPoint(Ya.min),this.boundingBox.expandByPoint(Ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ue,1/0);return}if(e){const r=this.boundingSphere.center;if(Ya.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Ny.setFromBufferAttribute(s),this.morphTargetsRelative?(Zi.addVectors(Ya.min,Ny.min),Ya.expandByPoint(Zi),Zi.addVectors(Ya.max,Ny.max),Ya.expandByPoint(Zi)):(Ya.expandByPoint(Ny.min),Ya.expandByPoint(Ny.max))}Ya.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Zi.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Zi));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],u=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)Zi.fromBufferAttribute(s,l),u&&(iv.fromBufferAttribute(e,l),Zi.add(iv)),i=Math.max(i,r.distanceToSquared(Zi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new er(new Float32Array(4*s),4));const u=this.getAttribute("tangent").array,l=[],c=[];for(let T=0;T<s;T++)l[T]=new ue,c[T]=new ue;const f=new ue,d=new ue,h=new ue,p=new Xe,_=new Xe,y=new Xe,m=new ue,b=new ue;function w(T,P,N){f.fromArray(i,T*3),d.fromArray(i,P*3),h.fromArray(i,N*3),p.fromArray(a,T*2),_.fromArray(a,P*2),y.fromArray(a,N*2),d.sub(f),h.sub(f),_.sub(p),y.sub(p);const H=1/(_.x*y.y-y.x*_.y);isFinite(H)&&(m.copy(d).multiplyScalar(y.y).addScaledVector(h,-_.y).multiplyScalar(H),b.copy(h).multiplyScalar(_.x).addScaledVector(d,-y.x).multiplyScalar(H),l[T].add(m),l[P].add(m),l[N].add(m),c[T].add(b),c[P].add(b),c[N].add(b))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let T=0,P=S.length;T<P;++T){const N=S[T],H=N.start,B=N.count;for(let k=H,j=H+B;k<j;k+=3)w(r[k+0],r[k+1],r[k+2])}const x=new ue,E=new ue,M=new ue,O=new ue;function C(T){M.fromArray(o,T*3),O.copy(M);const P=l[T];x.copy(P),x.sub(M.multiplyScalar(M.dot(P))).normalize(),E.crossVectors(O,P);const H=E.dot(c[T])<0?-1:1;u[T*4]=x.x,u[T*4+1]=x.y,u[T*4+2]=x.z,u[T*4+3]=H}for(let T=0,P=S.length;T<P;++T){const N=S[T],H=N.start,B=N.count;for(let k=H,j=H+B;k<j;k+=3)C(r[k+0]),C(r[k+1]),C(r[k+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new er(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new ue,o=new ue,a=new ue,s=new ue,u=new ue,l=new ue,c=new ue,f=new ue;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),_=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,_),a.fromBufferAttribute(n,y),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),s.fromBufferAttribute(r,p),u.fromBufferAttribute(r,_),l.fromBufferAttribute(r,y),s.add(c),u.add(c),l.add(c),r.setXYZ(p,s.x,s.y,s.z),r.setXYZ(_,u.x,u.y,u.z),r.setXYZ(y,l.x,l.y,l.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Zi.fromBufferAttribute(e,n),Zi.normalize(),e.setXYZ(n,Zi.x,Zi.y,Zi.z)}toNonIndexed(){function e(s,u){const l=s.array,c=s.itemSize,f=s.normalized,d=new l.constructor(u.length*c);let h=0,p=0;for(let _=0,y=u.length;_<y;_++){s.isInterleavedBufferAttribute?h=u[_]*s.data.stride+s.offset:h=u[_]*c;for(let m=0;m<c;m++)d[p++]=l[h++]}return new er(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Pn,r=this.index.array,i=this.attributes;for(const s in i){const u=i[s],l=e(u,r);n.setAttribute(s,l)}const o=this.morphAttributes;for(const s in o){const u=[],l=o[s];for(let c=0,f=l.length;c<f;c++){const d=l[c],h=e(d,r);u.push(h)}n.morphAttributes[s]=u}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,u=a.length;s<u;s++){const l=a[s];n.addGroup(l.start,l.count,l.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const l in u)u[l]!==void 0&&(e[l]=u[l]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const u in r){const l=r[u];e.data.attributes[u]=l.toJSON(e.data)}const i={};let o=!1;for(const u in this.morphAttributes){const l=this.morphAttributes[u],c=[];for(let f=0,d=l.length;f<d;f++){const h=l[f];c.push(h.toJSON(e.data))}c.length>0&&(i[u]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(n))}const o=e.morphAttributes;for(const l in o){const c=[],f=o[l];for(let d=0,h=f.length;d<h;d++)c.push(f[d].clone(n));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const f=a[l];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OV=new un,Eh=new sm,_E=new oo,IV=new ue,ov=new ue,av=new ue,sv=new ue,a2=new ue,bE=new ue,wE=new Xe,SE=new Xe,EE=new Xe,RV=new ue,PV=new ue,DV=new ue,xE=new ue,AE=new ue;class Vr extends Qn{constructor(e=new Pn,n=new Ba){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){bE.set(0,0,0);for(let u=0,l=o.length;u<l;u++){const c=s[u],f=o[u];c!==0&&(a2.fromBufferAttribute(f,e),a?bE.addScaledVector(a2,c):bE.addScaledVector(a2.sub(n),c))}n.add(bE)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),_E.copy(r.boundingSphere),_E.applyMatrix4(o),Eh.copy(e.ray).recast(e.near),!(_E.containsPoint(Eh.origin)===!1&&(Eh.intersectSphere(_E,IV)===null||Eh.origin.distanceToSquared(IV)>(e.far-e.near)**2))&&(OV.copy(o).invert(),Eh.copy(e.ray).applyMatrix4(OV),!(r.boundingBox!==null&&Eh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Eh)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,u=o.attributes.position,l=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let p=0,_=d.length;p<_;p++){const y=d[p],m=a[y.materialIndex],b=Math.max(y.start,h.start),w=Math.min(s.count,Math.min(y.start+y.count,h.start+h.count));for(let S=b,x=w;S<x;S+=3){const E=s.getX(S),M=s.getX(S+1),O=s.getX(S+2);i=CE(this,m,e,r,l,c,f,E,M,O),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),_=Math.min(s.count,h.start+h.count);for(let y=p,m=_;y<m;y+=3){const b=s.getX(y),w=s.getX(y+1),S=s.getX(y+2);i=CE(this,a,e,r,l,c,f,b,w,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(u!==void 0)if(Array.isArray(a))for(let p=0,_=d.length;p<_;p++){const y=d[p],m=a[y.materialIndex],b=Math.max(y.start,h.start),w=Math.min(u.count,Math.min(y.start+y.count,h.start+h.count));for(let S=b,x=w;S<x;S+=3){const E=S,M=S+1,O=S+2;i=CE(this,m,e,r,l,c,f,E,M,O),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),_=Math.min(u.count,h.start+h.count);for(let y=p,m=_;y<m;y+=3){const b=y,w=y+1,S=y+2;i=CE(this,a,e,r,l,c,f,b,w,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function S9e(t,e,n,r,i,o,a,s){let u;if(e.side===ua?u=r.intersectTriangle(a,o,i,!0,s):u=r.intersectTriangle(i,o,a,e.side===Qu,s),u===null)return null;AE.copy(s),AE.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(AE);return l<n.near||l>n.far?null:{distance:l,point:AE.clone(),object:t}}function CE(t,e,n,r,i,o,a,s,u,l){t.getVertexPosition(s,ov),t.getVertexPosition(u,av),t.getVertexPosition(l,sv);const c=S9e(t,e,n,r,ov,av,sv,xE);if(c){i&&(wE.fromBufferAttribute(i,s),SE.fromBufferAttribute(i,u),EE.fromBufferAttribute(i,l),c.uv=Pa.getInterpolation(xE,ov,av,sv,wE,SE,EE,new Xe)),o&&(wE.fromBufferAttribute(o,s),SE.fromBufferAttribute(o,u),EE.fromBufferAttribute(o,l),c.uv1=Pa.getInterpolation(xE,ov,av,sv,wE,SE,EE,new Xe),c.uv2=c.uv1),a&&(RV.fromBufferAttribute(a,s),PV.fromBufferAttribute(a,u),DV.fromBufferAttribute(a,l),c.normal=Pa.getInterpolation(xE,ov,av,sv,RV,PV,DV,new ue),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:u,c:l,normal:new ue,materialIndex:0};Pa.getNormal(ov,av,sv,f.normal),c.face=f}return c}class lm extends Pn{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const u=[],l=[],c=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,r,n,e,a,o,0),p("z","y","x",1,-1,r,n,-e,a,o,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(c,3)),this.setAttribute("uv",new Yt(f,2));function p(_,y,m,b,w,S,x,E,M,O,C){const T=S/M,P=x/O,N=S/2,H=x/2,B=E/2,k=M+1,j=O+1;let $=0,F=0;const R=new ue;for(let L=0;L<j;L++){const W=L*P-H;for(let Z=0;Z<k;Z++){const ee=Z*T-N;R[_]=ee*b,R[y]=W*w,R[m]=B,l.push(R.x,R.y,R.z),R[_]=0,R[y]=0,R[m]=E>0?1:-1,c.push(R.x,R.y,R.z),f.push(Z/M),f.push(1-L/O),$+=1}}for(let L=0;L<O;L++)for(let W=0;W<M;W++){const Z=d+W+k*L,ee=d+W+k*(L+1),oe=d+(W+1)+k*(L+1),pe=d+(W+1)+k*L;u.push(Z,ee,pe),u.push(ee,oe,pe),F+=6}s.addGroup(h,F,C),h+=F,d+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function c0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Zo(t){const e={};for(let n=0;n<t.length;n++){const r=c0(t[n]);for(const i in r)e[i]=r[i]}return e}function E9e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Loe(t){return t.getRenderTarget()===null?t.outputColorSpace:fr.workingColorSpace}const Zk={clone:c0,merge:Zo};var x9e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,A9e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ho extends $i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=x9e,this.fragmentShader=A9e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=c0(e.uniforms),this.uniformsGroups=E9e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class jw extends Qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new un,this.projectionMatrix=new un,this.projectionMatrixInverse=new un,this.coordinateSystem=eu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ui extends jw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=u0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Sp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return u0*2*Math.atan(Math.tan(Sp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Sp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,l=a.fullHeight;o+=a.offsetX*i/u,n-=a.offsetY*r/l,i*=a.width/u,r*=a.height/l}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const lv=-90,uv=1;class Noe extends Qn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ui(lv,uv,e,n);i.layers=this.layers,this.add(i);const o=new ui(lv,uv,e,n);o.layers=this.layers,this.add(o);const a=new ui(lv,uv,e,n);a.layers=this.layers,this.add(a);const s=new ui(lv,uv,e,n);s.layers=this.layers,this.add(s);const u=new ui(lv,uv,e,n);u.layers=this.layers,this.add(u);const l=new ui(lv,uv,e,n);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,u]=n;for(const l of n)this.remove(l);if(e===eu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===l0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const l of n)this.add(l),l.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,u,l,c]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,u),e.setRenderTarget(r,4,i),e.render(n,l),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,d,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Hw extends hr{constructor(e,n,r,i,o,a,s,u,l,c){e=e!==void 0?e:[],n=n!==void 0?n:ec,super(e,n,r,i,o,a,s,u,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Qk extends yo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(X_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Md?Mi:as),this.texture=new Hw(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new lm(5,5,5),o=new Ho({name:"CubemapFromEquirect",uniforms:c0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ua,blending:Wu});o.uniforms.tEquirect.value=n;const a=new Vr(i,o),s=n.minFilter;return n.minFilter===tc&&(n.minFilter=tr),new Noe(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const s2=new ue,C9e=new ue,T9e=new kn;class Pc{constructor(e=new ue(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=s2.subVectors(r,n).cross(C9e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(s2),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||T9e.getNormalMatrix(e),i=this.coplanarPoint(s2).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const xh=new oo,TE=new ue;class $w{constructor(e=new Pc,n=new Pc,r=new Pc,i=new Pc,o=new Pc,a=new Pc){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=eu){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],u=i[3],l=i[4],c=i[5],f=i[6],d=i[7],h=i[8],p=i[9],_=i[10],y=i[11],m=i[12],b=i[13],w=i[14],S=i[15];if(r[0].setComponents(u-o,d-l,y-h,S-m).normalize(),r[1].setComponents(u+o,d+l,y+h,S+m).normalize(),r[2].setComponents(u+a,d+c,y+p,S+b).normalize(),r[3].setComponents(u-a,d-c,y-p,S-b).normalize(),r[4].setComponents(u-s,d-f,y-_,S-w).normalize(),n===eu)r[5].setComponents(u+s,d+f,y+_,S+w).normalize();else if(n===l0)r[5].setComponents(s,f,_,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),xh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),xh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(xh)}intersectsSprite(e){return xh.center.set(0,0,0),xh.radius=.7071067811865476,xh.applyMatrix4(e.matrixWorld),this.intersectsSphere(xh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(TE.x=i.normal.x>0?e.max.x:e.min.x,TE.y=i.normal.y>0?e.max.y:e.min.y,TE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(TE)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Boe(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function M9e(t,e){const n=e.isWebGL2,r=new WeakMap;function i(l,c){const f=l.array,d=l.usage,h=f.byteLength,p=t.createBuffer();t.bindBuffer(c,p),t.bufferData(c,f,d),l.onUploadCallback();let _;if(f instanceof Float32Array)_=t.FLOAT;else if(f instanceof Uint16Array)if(l.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)_=t.SHORT;else if(f instanceof Uint32Array)_=t.UNSIGNED_INT;else if(f instanceof Int32Array)_=t.INT;else if(f instanceof Int8Array)_=t.BYTE;else if(f instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:_,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:h}}function o(l,c,f){const d=c.array,h=c._updateRange,p=c.updateRanges;if(t.bindBuffer(f,l),h.count===-1&&p.length===0&&t.bufferSubData(f,0,d),p.length!==0){for(let _=0,y=p.length;_<y;_++){const m=p[_];n?t.bufferSubData(f,m.start*d.BYTES_PER_ELEMENT,d,m.start,m.count):t.bufferSubData(f,m.start*d.BYTES_PER_ELEMENT,d.subarray(m.start,m.start+m.count))}c.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),r.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=r.get(l);c&&(t.deleteBuffer(c.buffer),r.delete(l))}function u(l,c){if(l.isGLBufferAttribute){const d=r.get(l);(!d||d.version<l.version)&&r.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}l.isInterleavedBufferAttribute&&(l=l.data);const f=r.get(l);if(f===void 0)r.set(l,i(l,c));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,l,c),f.version=l.version}}return{get:a,remove:s,update:u}}class Xd extends Pn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),u=Math.floor(i),l=s+1,c=u+1,f=e/s,d=n/u,h=[],p=[],_=[],y=[];for(let m=0;m<c;m++){const b=m*d-a;for(let w=0;w<l;w++){const S=w*f-o;p.push(S,-b,0),_.push(0,0,1),y.push(w/s),y.push(1-m/u)}}for(let m=0;m<u;m++)for(let b=0;b<s;b++){const w=b+l*m,S=b+l*(m+1),x=b+1+l*(m+1),E=b+1+l*m;h.push(w,S,E),h.push(S,x,E)}this.setIndex(h),this.setAttribute("position",new Yt(p,3)),this.setAttribute("normal",new Yt(_,3)),this.setAttribute("uv",new Yt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xd(e.width,e.height,e.widthSegments,e.heightSegments)}}var O9e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,I9e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,R9e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,P9e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,D9e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,L9e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,N9e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,B9e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,F9e=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,k9e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,U9e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,j9e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,H9e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$9e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,z9e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,G9e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,W9e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,V9e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,q9e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,K9e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,X9e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,J9e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Y9e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Z9e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Q9e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eWe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tWe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nWe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,rWe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iWe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oWe="gl_FragColor = linearToOutputTexel( gl_FragColor );",aWe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,sWe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lWe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,uWe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,cWe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,fWe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dWe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hWe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pWe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mWe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vWe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gWe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,yWe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_We=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bWe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,wWe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,SWe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,EWe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xWe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,AWe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,CWe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TWe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,MWe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,OWe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,IWe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RWe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,PWe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DWe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LWe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,NWe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,BWe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,FWe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kWe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,UWe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jWe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,HWe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$We=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,zWe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,GWe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,WWe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,VWe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,qWe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,KWe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XWe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JWe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,YWe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ZWe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,QWe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eVe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tVe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nVe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rVe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,iVe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oVe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aVe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sVe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lVe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,uVe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,cVe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,fVe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dVe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hVe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pVe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mVe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vVe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gVe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yVe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,_Ve=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bVe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wVe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,SVe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,EVe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xVe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,AVe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,CVe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,TVe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const MVe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,OVe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RVe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,DVe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LVe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,NVe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,BVe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,FVe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,UVe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jVe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,HVe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$Ve=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zVe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GVe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WVe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VVe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qVe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KVe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,XVe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JVe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YVe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZVe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,QVe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e7e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t7e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n7e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,r7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,i7e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o7e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,a7e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,s7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nn={alphahash_fragment:O9e,alphahash_pars_fragment:I9e,alphamap_fragment:R9e,alphamap_pars_fragment:P9e,alphatest_fragment:D9e,alphatest_pars_fragment:L9e,aomap_fragment:N9e,aomap_pars_fragment:B9e,batching_pars_vertex:F9e,batching_vertex:k9e,begin_vertex:U9e,beginnormal_vertex:j9e,bsdfs:H9e,iridescence_fragment:$9e,bumpmap_pars_fragment:z9e,clipping_planes_fragment:G9e,clipping_planes_pars_fragment:W9e,clipping_planes_pars_vertex:V9e,clipping_planes_vertex:q9e,color_fragment:K9e,color_pars_fragment:X9e,color_pars_vertex:J9e,color_vertex:Y9e,common:Z9e,cube_uv_reflection_fragment:Q9e,defaultnormal_vertex:eWe,displacementmap_pars_vertex:tWe,displacementmap_vertex:nWe,emissivemap_fragment:rWe,emissivemap_pars_fragment:iWe,colorspace_fragment:oWe,colorspace_pars_fragment:aWe,envmap_fragment:sWe,envmap_common_pars_fragment:lWe,envmap_pars_fragment:uWe,envmap_pars_vertex:cWe,envmap_physical_pars_fragment:SWe,envmap_vertex:fWe,fog_vertex:dWe,fog_pars_vertex:hWe,fog_fragment:pWe,fog_pars_fragment:mWe,gradientmap_pars_fragment:vWe,lightmap_fragment:gWe,lightmap_pars_fragment:yWe,lights_lambert_fragment:_We,lights_lambert_pars_fragment:bWe,lights_pars_begin:wWe,lights_toon_fragment:EWe,lights_toon_pars_fragment:xWe,lights_phong_fragment:AWe,lights_phong_pars_fragment:CWe,lights_physical_fragment:TWe,lights_physical_pars_fragment:MWe,lights_fragment_begin:OWe,lights_fragment_maps:IWe,lights_fragment_end:RWe,logdepthbuf_fragment:PWe,logdepthbuf_pars_fragment:DWe,logdepthbuf_pars_vertex:LWe,logdepthbuf_vertex:NWe,map_fragment:BWe,map_pars_fragment:FWe,map_particle_fragment:kWe,map_particle_pars_fragment:UWe,metalnessmap_fragment:jWe,metalnessmap_pars_fragment:HWe,morphcolor_vertex:$We,morphnormal_vertex:zWe,morphtarget_pars_vertex:GWe,morphtarget_vertex:WWe,normal_fragment_begin:VWe,normal_fragment_maps:qWe,normal_pars_fragment:KWe,normal_pars_vertex:XWe,normal_vertex:JWe,normalmap_pars_fragment:YWe,clearcoat_normal_fragment_begin:ZWe,clearcoat_normal_fragment_maps:QWe,clearcoat_pars_fragment:eVe,iridescence_pars_fragment:tVe,opaque_fragment:nVe,packing:rVe,premultiplied_alpha_fragment:iVe,project_vertex:oVe,dithering_fragment:aVe,dithering_pars_fragment:sVe,roughnessmap_fragment:lVe,roughnessmap_pars_fragment:uVe,shadowmap_pars_fragment:cVe,shadowmap_pars_vertex:fVe,shadowmap_vertex:dVe,shadowmask_pars_fragment:hVe,skinbase_vertex:pVe,skinning_pars_vertex:mVe,skinning_vertex:vVe,skinnormal_vertex:gVe,specularmap_fragment:yVe,specularmap_pars_fragment:_Ve,tonemapping_fragment:bVe,tonemapping_pars_fragment:wVe,transmission_fragment:SVe,transmission_pars_fragment:EVe,uv_pars_fragment:xVe,uv_pars_vertex:AVe,uv_vertex:CVe,worldpos_vertex:TVe,background_vert:MVe,background_frag:OVe,backgroundCube_vert:IVe,backgroundCube_frag:RVe,cube_vert:PVe,cube_frag:DVe,depth_vert:LVe,depth_frag:NVe,distanceRGBA_vert:BVe,distanceRGBA_frag:FVe,equirect_vert:kVe,equirect_frag:UVe,linedashed_vert:jVe,linedashed_frag:HVe,meshbasic_vert:$Ve,meshbasic_frag:zVe,meshlambert_vert:GVe,meshlambert_frag:WVe,meshmatcap_vert:VVe,meshmatcap_frag:qVe,meshnormal_vert:KVe,meshnormal_frag:XVe,meshphong_vert:JVe,meshphong_frag:YVe,meshphysical_vert:ZVe,meshphysical_frag:QVe,meshtoon_vert:e7e,meshtoon_frag:t7e,points_vert:n7e,points_frag:r7e,shadow_vert:i7e,shadow_frag:o7e,sprite_vert:a7e,sprite_frag:s7e},Ct={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kn},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0},uvTransform:{value:new kn}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}}},Jl={basic:{uniforms:Zo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.fog]),vertexShader:Nn.meshbasic_vert,fragmentShader:Nn.meshbasic_frag},lambert:{uniforms:Zo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new Rt(0)}}]),vertexShader:Nn.meshlambert_vert,fragmentShader:Nn.meshlambert_frag},phong:{uniforms:Zo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:Nn.meshphong_vert,fragmentShader:Nn.meshphong_frag},standard:{uniforms:Zo([Ct.common,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.roughnessmap,Ct.metalnessmap,Ct.fog,Ct.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nn.meshphysical_vert,fragmentShader:Nn.meshphysical_frag},toon:{uniforms:Zo([Ct.common,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.gradientmap,Ct.fog,Ct.lights,{emissive:{value:new Rt(0)}}]),vertexShader:Nn.meshtoon_vert,fragmentShader:Nn.meshtoon_frag},matcap:{uniforms:Zo([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,{matcap:{value:null}}]),vertexShader:Nn.meshmatcap_vert,fragmentShader:Nn.meshmatcap_frag},points:{uniforms:Zo([Ct.points,Ct.fog]),vertexShader:Nn.points_vert,fragmentShader:Nn.points_frag},dashed:{uniforms:Zo([Ct.common,Ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nn.linedashed_vert,fragmentShader:Nn.linedashed_frag},depth:{uniforms:Zo([Ct.common,Ct.displacementmap]),vertexShader:Nn.depth_vert,fragmentShader:Nn.depth_frag},normal:{uniforms:Zo([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,{opacity:{value:1}}]),vertexShader:Nn.meshnormal_vert,fragmentShader:Nn.meshnormal_frag},sprite:{uniforms:Zo([Ct.sprite,Ct.fog]),vertexShader:Nn.sprite_vert,fragmentShader:Nn.sprite_frag},background:{uniforms:{uvTransform:{value:new kn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Nn.background_vert,fragmentShader:Nn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Nn.backgroundCube_vert,fragmentShader:Nn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Nn.cube_vert,fragmentShader:Nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nn.equirect_vert,fragmentShader:Nn.equirect_frag},distanceRGBA:{uniforms:Zo([Ct.common,Ct.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nn.distanceRGBA_vert,fragmentShader:Nn.distanceRGBA_frag},shadow:{uniforms:Zo([Ct.lights,Ct.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:Nn.shadow_vert,fragmentShader:Nn.shadow_frag}};Jl.physical={uniforms:Zo([Jl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kn},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kn},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kn},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kn},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kn},anisotropyVector:{value:new Xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kn}}]),vertexShader:Nn.meshphysical_vert,fragmentShader:Nn.meshphysical_frag};const ME={r:0,b:0,g:0};function l7e(t,e,n,r,i,o,a){const s=new Rt(0);let u=o===!0?0:1,l,c,f=null,d=0,h=null;function p(y,m){let b=!1,w=m.isScene===!0?m.background:null;w&&w.isTexture&&(w=(m.backgroundBlurriness>0?n:e).get(w)),w===null?_(s,u):w&&w.isColor&&(_(w,1),b=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,a):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===L0)?(c===void 0&&(c=new Vr(new lm(1,1,1),new Ho({name:"BackgroundCubeMaterial",uniforms:c0(Jl.backgroundCube.uniforms),vertexShader:Jl.backgroundCube.vertexShader,fragmentShader:Jl.backgroundCube.fragmentShader,side:ua,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(x,E,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=fr.getTransfer(w.colorSpace)!==Ar,(f!==w||d!==w.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(l===void 0&&(l=new Vr(new Xd(2,2),new Ho({name:"BackgroundMaterial",uniforms:c0(Jl.background.uniforms),vertexShader:Jl.background.vertexShader,fragmentShader:Jl.background.fragmentShader,side:Qu,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=w,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=fr.getTransfer(w.colorSpace)!==Ar,w.matrixAutoUpdate===!0&&w.updateMatrix(),l.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||h!==t.toneMapping)&&(l.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),l.layers.enableAll(),y.unshift(l,l.geometry,l.material,0,0,null))}function _(y,m){y.getRGB(ME,Loe(t)),r.buffers.color.setClear(ME.r,ME.g,ME.b,m,a)}return{getClearColor:function(){return s},setClearColor:function(y,m=1){s.set(y),u=m,_(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(y){u=y,_(s,u)},render:p}}function u7e(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},u=y(null);let l=u,c=!1;function f(B,k,j,$,F){let R=!1;if(a){const L=_($,j,k);l!==L&&(l=L,h(l.object)),R=m(B,$,j,F),R&&b(B,$,j,F)}else{const L=k.wireframe===!0;(l.geometry!==$.id||l.program!==j.id||l.wireframe!==L)&&(l.geometry=$.id,l.program=j.id,l.wireframe=L,R=!0)}F!==null&&n.update(F,t.ELEMENT_ARRAY_BUFFER),(R||c)&&(c=!1,O(B,k,j,$),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(F).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(B){return r.isWebGL2?t.bindVertexArray(B):o.bindVertexArrayOES(B)}function p(B){return r.isWebGL2?t.deleteVertexArray(B):o.deleteVertexArrayOES(B)}function _(B,k,j){const $=j.wireframe===!0;let F=s[B.id];F===void 0&&(F={},s[B.id]=F);let R=F[k.id];R===void 0&&(R={},F[k.id]=R);let L=R[$];return L===void 0&&(L=y(d()),R[$]=L),L}function y(B){const k=[],j=[],$=[];for(let F=0;F<i;F++)k[F]=0,j[F]=0,$[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:j,attributeDivisors:$,object:B,attributes:{},index:null}}function m(B,k,j,$){const F=l.attributes,R=k.attributes;let L=0;const W=j.getAttributes();for(const Z in W)if(W[Z].location>=0){const oe=F[Z];let pe=R[Z];if(pe===void 0&&(Z==="instanceMatrix"&&B.instanceMatrix&&(pe=B.instanceMatrix),Z==="instanceColor"&&B.instanceColor&&(pe=B.instanceColor)),oe===void 0||oe.attribute!==pe||pe&&oe.data!==pe.data)return!0;L++}return l.attributesNum!==L||l.index!==$}function b(B,k,j,$){const F={},R=k.attributes;let L=0;const W=j.getAttributes();for(const Z in W)if(W[Z].location>=0){let oe=R[Z];oe===void 0&&(Z==="instanceMatrix"&&B.instanceMatrix&&(oe=B.instanceMatrix),Z==="instanceColor"&&B.instanceColor&&(oe=B.instanceColor));const pe={};pe.attribute=oe,oe&&oe.data&&(pe.data=oe.data),F[Z]=pe,L++}l.attributes=F,l.attributesNum=L,l.index=$}function w(){const B=l.newAttributes;for(let k=0,j=B.length;k<j;k++)B[k]=0}function S(B){x(B,0)}function x(B,k){const j=l.newAttributes,$=l.enabledAttributes,F=l.attributeDivisors;j[B]=1,$[B]===0&&(t.enableVertexAttribArray(B),$[B]=1),F[B]!==k&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,k),F[B]=k)}function E(){const B=l.newAttributes,k=l.enabledAttributes;for(let j=0,$=k.length;j<$;j++)k[j]!==B[j]&&(t.disableVertexAttribArray(j),k[j]=0)}function M(B,k,j,$,F,R,L){L===!0?t.vertexAttribIPointer(B,k,j,F,R):t.vertexAttribPointer(B,k,j,$,F,R)}function O(B,k,j,$){if(r.isWebGL2===!1&&(B.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const F=$.attributes,R=j.getAttributes(),L=k.defaultAttributeValues;for(const W in R){const Z=R[W];if(Z.location>=0){let ee=F[W];if(ee===void 0&&(W==="instanceMatrix"&&B.instanceMatrix&&(ee=B.instanceMatrix),W==="instanceColor"&&B.instanceColor&&(ee=B.instanceColor)),ee!==void 0){const oe=ee.normalized,pe=ee.itemSize,ie=n.get(ee);if(ie===void 0)continue;const ce=ie.buffer,ve=ie.type,xe=ie.bytesPerElement,he=r.isWebGL2===!0&&(ve===t.INT||ve===t.UNSIGNED_INT||ee.gpuType===BM);if(ee.isInterleavedBufferAttribute){const we=ee.data,ne=we.stride,Me=ee.offset;if(we.isInstancedInterleavedBuffer){for(let Ce=0;Ce<Z.locationSize;Ce++)x(Z.location+Ce,we.meshPerAttribute);B.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let Ce=0;Ce<Z.locationSize;Ce++)S(Z.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let Ce=0;Ce<Z.locationSize;Ce++)M(Z.location+Ce,pe/Z.locationSize,ve,oe,ne*xe,(Me+pe/Z.locationSize*Ce)*xe,he)}else{if(ee.isInstancedBufferAttribute){for(let we=0;we<Z.locationSize;we++)x(Z.location+we,ee.meshPerAttribute);B.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let we=0;we<Z.locationSize;we++)S(Z.location+we);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let we=0;we<Z.locationSize;we++)M(Z.location+we,pe/Z.locationSize,ve,oe,pe*xe,pe/Z.locationSize*we*xe,he)}}else if(L!==void 0){const oe=L[W];if(oe!==void 0)switch(oe.length){case 2:t.vertexAttrib2fv(Z.location,oe);break;case 3:t.vertexAttrib3fv(Z.location,oe);break;case 4:t.vertexAttrib4fv(Z.location,oe);break;default:t.vertexAttrib1fv(Z.location,oe)}}}}E()}function C(){N();for(const B in s){const k=s[B];for(const j in k){const $=k[j];for(const F in $)p($[F].object),delete $[F];delete k[j]}delete s[B]}}function T(B){if(s[B.id]===void 0)return;const k=s[B.id];for(const j in k){const $=k[j];for(const F in $)p($[F].object),delete $[F];delete k[j]}delete s[B.id]}function P(B){for(const k in s){const j=s[k];if(j[B.id]===void 0)continue;const $=j[B.id];for(const F in $)p($[F].object),delete $[F];delete j[B.id]}}function N(){H(),c=!0,l!==u&&(l=u,h(l.object))}function H(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:f,reset:N,resetDefaultState:H,dispose:C,releaseStatesOfGeometry:T,releaseStatesOfProgram:P,initAttributes:w,enableAttribute:S,disableUnusedAttributes:E}}function c7e(t,e,n,r){const i=r.isWebGL2;let o;function a(c){o=c}function s(c,f){t.drawArrays(o,c,f),n.update(f,o,1)}function u(c,f,d){if(d===0)return;let h,p;if(i)h=t,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](o,c,f,d),n.update(f,o,d)}function l(c,f,d){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<d;p++)this.render(c[p],f[p]);else{h.multiDrawArraysWEBGL(o,c,0,f,0,d);let p=0;for(let _=0;_<d;_++)p+=f[_];n.update(p,o,1)}}this.setMode=a,this.render=s,this.renderInstances=u,this.renderMultiDraw=l}function f7e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const u=o(s);u!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",u,"instead."),s=u);const l=a||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=d>0,S=a||e.has("OES_texture_float"),x=w&&S,E=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:p,maxAttributes:_,maxVertexUniforms:y,maxVaryings:m,maxFragmentUniforms:b,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:x,maxSamples:E}}function d7e(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Pc,s=new kn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,h){const p=f.clippingPlanes,_=f.clipIntersection,y=f.clipShadows,m=t.get(f);if(!i||p===null||p.length===0||o&&!y)o?c(null):l();else{const b=o?0:r,w=b*4;let S=m.clippingState||null;u.value=S,S=c(p,d,w,h);for(let x=0;x!==w;++x)S[x]=n[x];m.clippingState=S,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=b}};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,h,p){const _=f!==null?f.length:0;let y=null;if(_!==0){if(y=u.value,p!==!0||y===null){const m=h+_*4,b=d.matrixWorldInverse;s.getNormalMatrix(b),(y===null||y.length<m)&&(y=new Float32Array(m));for(let w=0,S=h;w!==_;++w,S+=4)a.copy(f[w]).applyMatrix4(b,s),a.normal.toArray(y,S),y[S+3]=a.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,y}}function h7e(t){let e=new WeakMap;function n(a,s){return s===o0?a.mapping=ec:s===Gb&&(a.mapping=Fd),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===o0||s===Gb)if(e.has(a)){const u=e.get(a).texture;return n(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const l=new Qk(u.height/2);return l.fromEquirectangularTexture(t,a),e.set(a,l),a.addEventListener("dispose",i),n(l.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class qu extends jw{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,u=i-n;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,a=o+l*this.view.width,s-=c*this.view.offsetY,u=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Zv=4,LV=[.125,.215,.35,.446,.526,.582],Yh=20,l2=new qu,NV=new Rt;let u2=null,c2=0,f2=0;const Hh=(1+Math.sqrt(5))/2,cv=1/Hh,BV=[new ue(1,1,1),new ue(-1,1,1),new ue(1,1,-1),new ue(-1,1,-1),new ue(0,Hh,cv),new ue(0,Hh,-cv),new ue(cv,0,Hh),new ue(-cv,0,Hh),new ue(Hh,cv,0),new ue(-Hh,cv,0)];class qN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){u2=this._renderer.getRenderTarget(),c2=this._renderer.getActiveCubeFace(),f2=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=UV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=kV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(u2,c2,f2),e.scissorTest=!1,OE(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ec||e.mapping===Fd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),u2=this._renderer.getRenderTarget(),c2=this._renderer.getActiveCubeFace(),f2=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:ji,format:Ii,colorSpace:ms,depthBuffer:!1},i=FV(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FV(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=p7e(o)),this._blurMaterial=m7e(o,e,n)}return i}_compileMaterial(e){const n=new Vr(this._lodPlanes[0],e);this._renderer.compile(n,l2)}_sceneToCubeUV(e,n,r,i){const s=new ui(90,1,n,r),u=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(NV),c.toneMapping=Vu,c.autoClear=!1;const h=new Ba({name:"PMREM.Background",side:ua,depthWrite:!1,depthTest:!1}),p=new Vr(new lm,h);let _=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,_=!0):(h.color.copy(NV),_=!0);for(let m=0;m<6;m++){const b=m%3;b===0?(s.up.set(0,u[m],0),s.lookAt(l[m],0,0)):b===1?(s.up.set(0,0,u[m]),s.lookAt(0,l[m],0)):(s.up.set(0,u[m],0),s.lookAt(0,0,l[m]));const w=this._cubeSize;OE(i,b*w,m>2?w:0,w,w),c.setRenderTarget(i),_&&c.render(p,s),c.render(e,s)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ec||e.mapping===Fd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=UV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=kV());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Vr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const u=this._cubeSize;OE(n,0,0,3*u,2*u),r.setRenderTarget(n),r.render(a,l2)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=BV[(i-1)%BV.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const u=this._renderer,l=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Vr(this._lodPlanes[i],l),d=l.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Yh-1),_=o/p,y=isFinite(o)?1+Math.floor(c*_):Yh;y>Yh&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Yh}`);const m=[];let b=0;for(let M=0;M<Yh;++M){const O=M/_,C=Math.exp(-O*O/2);m.push(C),M===0?b+=C:M<y&&(b+=2*C)}for(let M=0;M<m.length;M++)m[M]=m[M]/b;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=m,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:w}=this;d.dTheta.value=p,d.mipInt.value=w-r;const S=this._sizeLods[i],x=3*S*(i>w-Zv?i-w+Zv:0),E=4*(this._cubeSize-S);OE(n,x,E,3*S,2*S),u.setRenderTarget(n),u.render(f,l2)}}function p7e(t){const e=[],n=[],r=[];let i=t;const o=t-Zv+1+LV.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let u=1/s;a>t-Zv?u=LV[a-t+Zv-1]:a===0&&(u=0),r.push(u);const l=1/(s-2),c=-l,f=1+l,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,p=6,_=3,y=2,m=1,b=new Float32Array(_*p*h),w=new Float32Array(y*p*h),S=new Float32Array(m*p*h);for(let E=0;E<h;E++){const M=E%3*2/3-1,O=E>2?0:-1,C=[M,O,0,M+2/3,O,0,M+2/3,O+1,0,M,O,0,M+2/3,O+1,0,M,O+1,0];b.set(C,_*p*E),w.set(d,y*p*E);const T=[E,E,E,E,E,E];S.set(T,m*p*E)}const x=new Pn;x.setAttribute("position",new er(b,_)),x.setAttribute("uv",new er(w,y)),x.setAttribute("faceIndex",new er(S,m)),e.push(x),i>Zv&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function FV(t,e,n){const r=new yo(t,e,n);return r.texture.mapping=L0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function OE(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function m7e(t,e,n){const r=new Float32Array(Yh),i=new ue(0,1,0);return new Ho({name:"SphericalGaussianBlur",defines:{n:Yh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:eU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wu,depthTest:!1,depthWrite:!1})}function kV(){return new Ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wu,depthTest:!1,depthWrite:!1})}function UV(){return new Ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wu,depthTest:!1,depthWrite:!1})}function eU(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function v7e(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const u=s.mapping,l=u===o0||u===Gb,c=u===ec||u===Fd;if(l||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new qN(t)),f=l?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(l&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new qN(t));const d=l?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",o),d.texture}else return null}}}return s}function i(s){let u=0;const l=6;for(let c=0;c<l;c++)s[c]!==void 0&&u++;return u===l}function o(s){const u=s.target;u.removeEventListener("dispose",o);const l=e.get(u);l!==void 0&&(e.delete(u),l.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function g7e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function y7e(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);for(const p in d.morphAttributes){const _=d.morphAttributes[p];for(let y=0,m=_.length;y<m;y++)e.remove(_[y])}d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function u(f){const d=f.attributes;for(const p in d)e.update(d[p],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const p in h){const _=h[p];for(let y=0,m=_.length;y<m;y++)e.update(_[y],t.ARRAY_BUFFER)}}function l(f){const d=[],h=f.index,p=f.attributes.position;let _=0;if(h!==null){const b=h.array;_=h.version;for(let w=0,S=b.length;w<S;w+=3){const x=b[w+0],E=b[w+1],M=b[w+2];d.push(x,E,E,M,M,x)}}else if(p!==void 0){const b=p.array;_=p.version;for(let w=0,S=b.length/3-1;w<S;w+=3){const x=w+0,E=w+1,M=w+2;d.push(x,E,E,M,M,x)}}else return;const y=new(Ioe(d)?Yk:Jk)(d,1);y.version=_;const m=o.get(f);m&&e.remove(m),o.set(f,y)}function c(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&l(f)}else l(f);return o.get(f)}return{get:s,update:u,getWireframeAttribute:c}}function _7e(t,e,n,r){const i=r.isWebGL2;let o;function a(h){o=h}let s,u;function l(h){s=h.type,u=h.bytesPerElement}function c(h,p){t.drawElements(o,p,s,h*u),n.update(p,o,1)}function f(h,p,_){if(_===0)return;let y,m;if(i)y=t,m="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[m](o,p,s,h*u,_),n.update(p,o,_)}function d(h,p,_){if(_===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let m=0;m<_;m++)this.render(h[m]/u,p[m]);else{y.multiDrawElementsWEBGL(o,p,0,s,h,0,_);let m=0;for(let b=0;b<_;b++)m+=p[b];n.update(m,o,1)}}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=f,this.renderMultiDraw=d}function b7e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function w7e(t,e){return t[0]-e[0]}function S7e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function E7e(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new dr,s=[];for(let l=0;l<8;l++)s[l]=[l,0];function u(l,c,f){const d=l.morphTargetInfluences;if(e.isWebGL2===!0){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=h!==void 0?h.length:0;let _=o.get(c);if(_===void 0||_.count!==p){let B=function(){N.dispose(),o.delete(c),c.removeEventListener("dispose",B)};_!==void 0&&_.texture.dispose();const b=c.morphAttributes.position!==void 0,w=c.morphAttributes.normal!==void 0,S=c.morphAttributes.color!==void 0,x=c.morphAttributes.position||[],E=c.morphAttributes.normal||[],M=c.morphAttributes.color||[];let O=0;b===!0&&(O=1),w===!0&&(O=2),S===!0&&(O=3);let C=c.attributes.position.count*O,T=1;C>e.maxTextureSize&&(T=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const P=new Float32Array(C*T*4*p),N=new UM(P,C,T,p);N.type=Di,N.needsUpdate=!0;const H=O*4;for(let k=0;k<p;k++){const j=x[k],$=E[k],F=M[k],R=C*T*4*k;for(let L=0;L<j.count;L++){const W=L*H;b===!0&&(a.fromBufferAttribute(j,L),P[R+W+0]=a.x,P[R+W+1]=a.y,P[R+W+2]=a.z,P[R+W+3]=0),w===!0&&(a.fromBufferAttribute($,L),P[R+W+4]=a.x,P[R+W+5]=a.y,P[R+W+6]=a.z,P[R+W+7]=0),S===!0&&(a.fromBufferAttribute(F,L),P[R+W+8]=a.x,P[R+W+9]=a.y,P[R+W+10]=a.z,P[R+W+11]=F.itemSize===4?a.w:1)}}_={count:p,texture:N,size:new Xe(C,T)},o.set(c,_),c.addEventListener("dispose",B)}let y=0;for(let b=0;b<d.length;b++)y+=d[b];const m=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",m),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const h=d===void 0?0:d.length;let p=r[c.id];if(p===void 0||p.length!==h){p=[];for(let w=0;w<h;w++)p[w]=[w,0];r[c.id]=p}for(let w=0;w<h;w++){const S=p[w];S[0]=w,S[1]=d[w]}p.sort(S7e);for(let w=0;w<8;w++)w<h&&p[w][1]?(s[w][0]=p[w][0],s[w][1]=p[w][1]):(s[w][0]=Number.MAX_SAFE_INTEGER,s[w][1]=0);s.sort(w7e);const _=c.morphAttributes.position,y=c.morphAttributes.normal;let m=0;for(let w=0;w<8;w++){const S=s[w],x=S[0],E=S[1];x!==Number.MAX_SAFE_INTEGER&&E?(_&&c.getAttribute("morphTarget"+w)!==_[x]&&c.setAttribute("morphTarget"+w,_[x]),y&&c.getAttribute("morphNormal"+w)!==y[x]&&c.setAttribute("morphNormal"+w,y[x]),i[w]=E,m+=E):(_&&c.hasAttribute("morphTarget"+w)===!0&&c.deleteAttribute("morphTarget"+w),y&&c.hasAttribute("morphNormal"+w)===!0&&c.deleteAttribute("morphNormal"+w),i[w]=0)}const b=c.morphTargetsRelative?1:1-m;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:u}}function x7e(t,e,n,r){let i=new WeakMap;function o(u){const l=r.render.frame,c=u.geometry,f=e.get(u,c);if(i.get(f)!==l&&(e.update(f),i.set(f,l)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),i.get(u)!==l&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),i.set(u,l))),u.isSkinnedMesh){const d=u.skeleton;i.get(d)!==l&&(d.update(),i.set(d,l))}return f}function a(){i=new WeakMap}function s(u){const l=u.target;l.removeEventListener("dispose",s),n.remove(l.instanceMatrix),l.instanceColor!==null&&n.remove(l.instanceColor)}return{update:o,dispose:a}}class tU extends hr{constructor(e,n,r,i,o,a,s,u,l,c){if(c=c!==void 0?c:Td,c!==Td&&c!==$p)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Td&&(r=ku),r===void 0&&c===$p&&(r=Cd),super(null,i,o,a,s,u,c,r,l),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Gr,this.minFilter=u!==void 0?u:Gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Foe=new hr,koe=new tU(1,1);koe.compareFunction=Vk;const Uoe=new UM,joe=new Xk,Hoe=new Hw,jV=[],HV=[],$V=new Float32Array(16),zV=new Float32Array(9),GV=new Float32Array(4);function N0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=jV[i];if(o===void 0&&(o=new Float32Array(i),jV[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Gi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Wi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function jM(t,e){let n=HV[e];n===void 0&&(n=new Int32Array(e),HV[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function A7e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function C7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2fv(this.addr,e),Wi(n,e)}}function T7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gi(n,e))return;t.uniform3fv(this.addr,e),Wi(n,e)}}function M7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4fv(this.addr,e),Wi(n,e)}}function O7e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;GV.set(r),t.uniformMatrix2fv(this.addr,!1,GV),Wi(n,r)}}function I7e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;zV.set(r),t.uniformMatrix3fv(this.addr,!1,zV),Wi(n,r)}}function R7e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;$V.set(r),t.uniformMatrix4fv(this.addr,!1,$V),Wi(n,r)}}function P7e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function D7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2iv(this.addr,e),Wi(n,e)}}function L7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gi(n,e))return;t.uniform3iv(this.addr,e),Wi(n,e)}}function N7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4iv(this.addr,e),Wi(n,e)}}function B7e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function F7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2uiv(this.addr,e),Wi(n,e)}}function k7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gi(n,e))return;t.uniform3uiv(this.addr,e),Wi(n,e)}}function U7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4uiv(this.addr,e),Wi(n,e)}}function j7e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?koe:Foe;n.setTexture2D(e||o,i)}function H7e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||joe,i)}function $7e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Hoe,i)}function z7e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Uoe,i)}function G7e(t){switch(t){case 5126:return A7e;case 35664:return C7e;case 35665:return T7e;case 35666:return M7e;case 35674:return O7e;case 35675:return I7e;case 35676:return R7e;case 5124:case 35670:return P7e;case 35667:case 35671:return D7e;case 35668:case 35672:return L7e;case 35669:case 35673:return N7e;case 5125:return B7e;case 36294:return F7e;case 36295:return k7e;case 36296:return U7e;case 35678:case 36198:case 36298:case 36306:case 35682:return j7e;case 35679:case 36299:case 36307:return H7e;case 35680:case 36300:case 36308:case 36293:return $7e;case 36289:case 36303:case 36311:case 36292:return z7e}}function W7e(t,e){t.uniform1fv(this.addr,e)}function V7e(t,e){const n=N0(e,this.size,2);t.uniform2fv(this.addr,n)}function q7e(t,e){const n=N0(e,this.size,3);t.uniform3fv(this.addr,n)}function K7e(t,e){const n=N0(e,this.size,4);t.uniform4fv(this.addr,n)}function X7e(t,e){const n=N0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function J7e(t,e){const n=N0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Y7e(t,e){const n=N0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Z7e(t,e){t.uniform1iv(this.addr,e)}function Q7e(t,e){t.uniform2iv(this.addr,e)}function eqe(t,e){t.uniform3iv(this.addr,e)}function tqe(t,e){t.uniform4iv(this.addr,e)}function nqe(t,e){t.uniform1uiv(this.addr,e)}function rqe(t,e){t.uniform2uiv(this.addr,e)}function iqe(t,e){t.uniform3uiv(this.addr,e)}function oqe(t,e){t.uniform4uiv(this.addr,e)}function aqe(t,e,n){const r=this.cache,i=e.length,o=jM(n,i);Gi(r,o)||(t.uniform1iv(this.addr,o),Wi(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Foe,o[a])}function sqe(t,e,n){const r=this.cache,i=e.length,o=jM(n,i);Gi(r,o)||(t.uniform1iv(this.addr,o),Wi(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||joe,o[a])}function lqe(t,e,n){const r=this.cache,i=e.length,o=jM(n,i);Gi(r,o)||(t.uniform1iv(this.addr,o),Wi(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Hoe,o[a])}function uqe(t,e,n){const r=this.cache,i=e.length,o=jM(n,i);Gi(r,o)||(t.uniform1iv(this.addr,o),Wi(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Uoe,o[a])}function cqe(t){switch(t){case 5126:return W7e;case 35664:return V7e;case 35665:return q7e;case 35666:return K7e;case 35674:return X7e;case 35675:return J7e;case 35676:return Y7e;case 5124:case 35670:return Z7e;case 35667:case 35671:return Q7e;case 35668:case 35672:return eqe;case 35669:case 35673:return tqe;case 5125:return nqe;case 36294:return rqe;case 36295:return iqe;case 36296:return oqe;case 35678:case 36198:case 36298:case 36306:case 35682:return aqe;case 35679:case 36299:case 36307:return sqe;case 35680:case 36300:case 36308:case 36293:return lqe;case 36289:case 36303:case 36311:case 36292:return uqe}}class fqe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=G7e(n.type)}}class dqe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=cqe(n.type)}}class hqe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const d2=/(\w+)(\])?(\[|\.)?/g;function WV(t,e){t.seq.push(e),t.map[e.id]=e}function pqe(t,e,n){const r=t.name,i=r.length;for(d2.lastIndex=0;;){const o=d2.exec(r),a=d2.lastIndex;let s=o[1];const u=o[2]==="]",l=o[3];if(u&&(s=s|0),l===void 0||l==="["&&a+2===i){WV(n,l===void 0?new fqe(s,t,e):new dqe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new hqe(s),WV(n,f)),n=f}}}class eA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);pqe(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],u=r[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function VV(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const mqe=37297;let vqe=0;function gqe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function yqe(t){const e=fr.getPrimaries(fr.workingColorSpace),n=fr.getPrimaries(t);let r;switch(e===n?r="":e===Xb&&n===Kb?r="LinearDisplayP3ToLinearSRGB":e===Kb&&n===Xb&&(r="LinearSRGBToLinearDisplayP3"),t){case ms:case kw:return[r,"LinearTransferOETF"];case Mi:case kM:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function qV(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+gqe(t.getShaderSource(e),a)}else return i}function _qe(t,e){const n=yqe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function bqe(t,e){let n;switch(e){case ooe:n="Linear";break;case aoe:n="Reinhard";break;case soe:n="OptimizedCineon";break;case Dk:n="ACESFilmic";break;case uoe:n="AgX";break;case loe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function wqe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qv).join(`
`)}function Sqe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Qv).join(`
`)}function Eqe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function xqe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Qv(t){return t!==""}function KV(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function XV(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Aqe=/^[ \t]*#include +<([\w\d./]+)>/gm;function KN(t){return t.replace(Aqe,Tqe)}const Cqe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Tqe(t,e){let n=Nn[e];if(n===void 0){const r=Cqe.get(e);if(r!==void 0)n=Nn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return KN(n)}const Mqe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JV(t){return t.replace(Mqe,Oqe)}function Oqe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function YV(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Iqe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===DM?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===q_?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===$l&&(e="SHADOWMAP_TYPE_VSM"),e}function Rqe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ec:case Fd:e="ENVMAP_TYPE_CUBE";break;case L0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Pqe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Fd:e="ENVMAP_MODE_REFRACTION";break}return e}function Dqe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Fw:e="ENVMAP_BLENDING_MULTIPLY";break;case roe:e="ENVMAP_BLENDING_MIX";break;case ioe:e="ENVMAP_BLENDING_ADD";break}return e}function Lqe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Nqe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const u=Iqe(n),l=Rqe(n),c=Pqe(n),f=Dqe(n),d=Lqe(n),h=n.isWebGL2?"":wqe(n),p=Sqe(n),_=Eqe(o),y=i.createProgram();let m,b,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Qv).join(`
`),m.length>0&&(m+=`
`),b=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Qv).join(`
`),b.length>0&&(b+=`
`)):(m=[YV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qv).join(`
`),b=[h,YV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Vu?"#define TONE_MAPPING":"",n.toneMapping!==Vu?Nn.tonemapping_pars_fragment:"",n.toneMapping!==Vu?bqe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Nn.colorspace_pars_fragment,_qe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qv).join(`
`)),a=KN(a),a=KV(a,n),a=XV(a,n),s=KN(s),s=KV(s,n),s=XV(s,n),a=JV(a),s=JV(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,m=[p,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,b=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===WN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===WN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const S=w+m+a,x=w+b+s,E=VV(i,i.VERTEX_SHADER,S),M=VV(i,i.FRAGMENT_SHADER,x);i.attachShader(y,E),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function O(N){if(t.debug.checkShaderErrors){const H=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(E).trim(),k=i.getShaderInfoLog(M).trim();let j=!0,$=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(j=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,M);else{const F=qV(i,E,"vertex"),R=qV(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+H+`
`+F+`
`+R)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(B===""||k==="")&&($=!1);$&&(N.diagnostics={runnable:j,programLog:H,vertexShader:{log:B,prefix:m},fragmentShader:{log:k,prefix:b}})}i.deleteShader(E),i.deleteShader(M),C=new eA(i,y),T=xqe(i,y)}let C;this.getUniforms=function(){return C===void 0&&O(this),C};let T;this.getAttributes=function(){return T===void 0&&O(this),T};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(y,mqe)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=vqe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let Bqe=0;class Fqe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new kqe(e),n.set(e,r)),r}}class kqe{constructor(e){this.id=Bqe++,this.code=e,this.usedTimes=0}}function Uqe(t,e,n,r,i,o,a){const s=new Ep,u=new Fqe,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(C){return C===0?"uv":`uv${C}`}function y(C,T,P,N,H){const B=N.fog,k=H.geometry,j=C.isMeshStandardMaterial?N.environment:null,$=(C.isMeshStandardMaterial?n:e).get(C.envMap||j),F=$&&$.mapping===L0?$.image.height:null,R=p[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const L=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,W=L!==void 0?L.length:0;let Z=0;k.morphAttributes.position!==void 0&&(Z=1),k.morphAttributes.normal!==void 0&&(Z=2),k.morphAttributes.color!==void 0&&(Z=3);let ee,oe,pe,ie;if(R){const Lt=Jl[R];ee=Lt.vertexShader,oe=Lt.fragmentShader}else ee=C.vertexShader,oe=C.fragmentShader,u.update(C),pe=u.getVertexShaderID(C),ie=u.getFragmentShaderID(C);const ce=t.getRenderTarget(),ve=H.isInstancedMesh===!0,xe=H.isBatchedMesh===!0,he=!!C.map,we=!!C.matcap,ne=!!$,Me=!!C.aoMap,Ce=!!C.lightMap,K=!!C.bumpMap,U=!!C.normalMap,G=!!C.displacementMap,te=!!C.emissiveMap,q=!!C.metalnessMap,V=!!C.roughnessMap,ae=C.anisotropy>0,Ae=C.clearcoat>0,Oe=C.iridescence>0,Te=C.sheen>0,Ue=C.transmission>0,Be=ae&&!!C.anisotropyMap,Qe=Ae&&!!C.clearcoatMap,Ze=Ae&&!!C.clearcoatNormalMap,at=Ae&&!!C.clearcoatRoughnessMap,ke=Oe&&!!C.iridescenceMap,Tt=Oe&&!!C.iridescenceThicknessMap,Mt=Te&&!!C.sheenColorMap,wt=Te&&!!C.sheenRoughnessMap,ft=!!C.specularMap,qe=!!C.specularColorMap,le=!!C.specularIntensityMap,Ie=Ue&&!!C.transmissionMap,He=Ue&&!!C.thicknessMap,Ve=!!C.gradientMap,Ee=!!C.alphaMap,de=C.alphaTest>0,$e=!!C.alphaHash,tt=!!C.extensions,Pt=!!k.attributes.uv1,vt=!!k.attributes.uv2,$t=!!k.attributes.uv3;let rn=Vu;return C.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(rn=t.toneMapping),{isWebGL2:c,shaderID:R,shaderType:C.type,shaderName:C.name,vertexShader:ee,fragmentShader:oe,defines:C.defines,customVertexShaderID:pe,customFragmentShaderID:ie,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,batching:xe,instancing:ve,instancingColor:ve&&H.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:ce===null?t.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:ms,map:he,matcap:we,envMap:ne,envMapMode:ne&&$.mapping,envMapCubeUVHeight:F,aoMap:Me,lightMap:Ce,bumpMap:K,normalMap:U,displacementMap:d&&G,emissiveMap:te,normalMapObjectSpace:U&&C.normalMapType===Soe,normalMapTangentSpace:U&&C.normalMapType===Kd,metalnessMap:q,roughnessMap:V,anisotropy:ae,anisotropyMap:Be,clearcoat:Ae,clearcoatMap:Qe,clearcoatNormalMap:Ze,clearcoatRoughnessMap:at,iridescence:Oe,iridescenceMap:ke,iridescenceThicknessMap:Tt,sheen:Te,sheenColorMap:Mt,sheenRoughnessMap:wt,specularMap:ft,specularColorMap:qe,specularIntensityMap:le,transmission:Ue,transmissionMap:Ie,thicknessMap:He,gradientMap:Ve,opaque:C.transparent===!1&&C.blending===wp,alphaMap:Ee,alphaTest:de,alphaHash:$e,combine:C.combine,mapUv:he&&_(C.map.channel),aoMapUv:Me&&_(C.aoMap.channel),lightMapUv:Ce&&_(C.lightMap.channel),bumpMapUv:K&&_(C.bumpMap.channel),normalMapUv:U&&_(C.normalMap.channel),displacementMapUv:G&&_(C.displacementMap.channel),emissiveMapUv:te&&_(C.emissiveMap.channel),metalnessMapUv:q&&_(C.metalnessMap.channel),roughnessMapUv:V&&_(C.roughnessMap.channel),anisotropyMapUv:Be&&_(C.anisotropyMap.channel),clearcoatMapUv:Qe&&_(C.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&_(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:at&&_(C.clearcoatRoughnessMap.channel),iridescenceMapUv:ke&&_(C.iridescenceMap.channel),iridescenceThicknessMapUv:Tt&&_(C.iridescenceThicknessMap.channel),sheenColorMapUv:Mt&&_(C.sheenColorMap.channel),sheenRoughnessMapUv:wt&&_(C.sheenRoughnessMap.channel),specularMapUv:ft&&_(C.specularMap.channel),specularColorMapUv:qe&&_(C.specularColorMap.channel),specularIntensityMapUv:le&&_(C.specularIntensityMap.channel),transmissionMapUv:Ie&&_(C.transmissionMap.channel),thicknessMapUv:He&&_(C.thicknessMap.channel),alphaMapUv:Ee&&_(C.alphaMap.channel),vertexTangents:!!k.attributes.tangent&&(U||ae),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUv1s:Pt,vertexUv2s:vt,vertexUv3s:$t,pointsUvs:H.isPoints===!0&&!!k.attributes.uv&&(he||Ee),fog:!!B,useFog:C.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:H.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:Z,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:rn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:he&&C.map.isVideoTexture===!0&&fr.getTransfer(C.map.colorSpace)===Ar,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===el,flipSided:C.side===ua,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:tt&&C.extensions.derivatives===!0,extensionFragDepth:tt&&C.extensions.fragDepth===!0,extensionDrawBuffers:tt&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:tt&&C.extensions.shaderTextureLOD===!0,extensionClipCullDistance:tt&&C.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()}}function m(C){const T=[];if(C.shaderID?T.push(C.shaderID):(T.push(C.customVertexShaderID),T.push(C.customFragmentShaderID)),C.defines!==void 0)for(const P in C.defines)T.push(P),T.push(C.defines[P]);return C.isRawShaderMaterial===!1&&(b(T,C),w(T,C),T.push(t.outputColorSpace)),T.push(C.customProgramCacheKey),T.join()}function b(C,T){C.push(T.precision),C.push(T.outputColorSpace),C.push(T.envMapMode),C.push(T.envMapCubeUVHeight),C.push(T.mapUv),C.push(T.alphaMapUv),C.push(T.lightMapUv),C.push(T.aoMapUv),C.push(T.bumpMapUv),C.push(T.normalMapUv),C.push(T.displacementMapUv),C.push(T.emissiveMapUv),C.push(T.metalnessMapUv),C.push(T.roughnessMapUv),C.push(T.anisotropyMapUv),C.push(T.clearcoatMapUv),C.push(T.clearcoatNormalMapUv),C.push(T.clearcoatRoughnessMapUv),C.push(T.iridescenceMapUv),C.push(T.iridescenceThicknessMapUv),C.push(T.sheenColorMapUv),C.push(T.sheenRoughnessMapUv),C.push(T.specularMapUv),C.push(T.specularColorMapUv),C.push(T.specularIntensityMapUv),C.push(T.transmissionMapUv),C.push(T.thicknessMapUv),C.push(T.combine),C.push(T.fogExp2),C.push(T.sizeAttenuation),C.push(T.morphTargetsCount),C.push(T.morphAttributeCount),C.push(T.numDirLights),C.push(T.numPointLights),C.push(T.numSpotLights),C.push(T.numSpotLightMaps),C.push(T.numHemiLights),C.push(T.numRectAreaLights),C.push(T.numDirLightShadows),C.push(T.numPointLightShadows),C.push(T.numSpotLightShadows),C.push(T.numSpotLightShadowsWithMaps),C.push(T.numLightProbes),C.push(T.shadowMapType),C.push(T.toneMapping),C.push(T.numClippingPlanes),C.push(T.numClipIntersection),C.push(T.depthPacking)}function w(C,T){s.disableAll(),T.isWebGL2&&s.enable(0),T.supportsVertexTextures&&s.enable(1),T.instancing&&s.enable(2),T.instancingColor&&s.enable(3),T.matcap&&s.enable(4),T.envMap&&s.enable(5),T.normalMapObjectSpace&&s.enable(6),T.normalMapTangentSpace&&s.enable(7),T.clearcoat&&s.enable(8),T.iridescence&&s.enable(9),T.alphaTest&&s.enable(10),T.vertexColors&&s.enable(11),T.vertexAlphas&&s.enable(12),T.vertexUv1s&&s.enable(13),T.vertexUv2s&&s.enable(14),T.vertexUv3s&&s.enable(15),T.vertexTangents&&s.enable(16),T.anisotropy&&s.enable(17),T.alphaHash&&s.enable(18),T.batching&&s.enable(19),C.push(s.mask),s.disableAll(),T.fog&&s.enable(0),T.useFog&&s.enable(1),T.flatShading&&s.enable(2),T.logarithmicDepthBuffer&&s.enable(3),T.skinning&&s.enable(4),T.morphTargets&&s.enable(5),T.morphNormals&&s.enable(6),T.morphColors&&s.enable(7),T.premultipliedAlpha&&s.enable(8),T.shadowMapEnabled&&s.enable(9),T.useLegacyLights&&s.enable(10),T.doubleSided&&s.enable(11),T.flipSided&&s.enable(12),T.useDepthPacking&&s.enable(13),T.dithering&&s.enable(14),T.transmission&&s.enable(15),T.sheen&&s.enable(16),T.opaque&&s.enable(17),T.pointsUvs&&s.enable(18),T.decodeVideoTexture&&s.enable(19),C.push(s.mask)}function S(C){const T=p[C.type];let P;if(T){const N=Jl[T];P=Zk.clone(N.uniforms)}else P=C.uniforms;return P}function x(C,T){let P;for(let N=0,H=l.length;N<H;N++){const B=l[N];if(B.cacheKey===T){P=B,++P.usedTimes;break}}return P===void 0&&(P=new Nqe(t,T,C,o),l.push(P)),P}function E(C){if(--C.usedTimes===0){const T=l.indexOf(C);l[T]=l[l.length-1],l.pop(),C.destroy()}}function M(C){u.remove(C)}function O(){u.dispose()}return{getParameters:y,getProgramCacheKey:m,getUniforms:S,acquireProgram:x,releaseProgram:E,releaseShaderCache:M,programs:l,dispose:O}}function jqe(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Hqe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ZV(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function QV(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,h,p,_,y){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:d,material:h,groupOrder:p,renderOrder:f.renderOrder,z:_,group:y},t[e]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=h,m.groupOrder=p,m.renderOrder=f.renderOrder,m.z=_,m.group=y),e++,m}function s(f,d,h,p,_,y){const m=a(f,d,h,p,_,y);h.transmission>0?r.push(m):h.transparent===!0?i.push(m):n.push(m)}function u(f,d,h,p,_,y){const m=a(f,d,h,p,_,y);h.transmission>0?r.unshift(m):h.transparent===!0?i.unshift(m):n.unshift(m)}function l(f,d){n.length>1&&n.sort(f||Hqe),r.length>1&&r.sort(d||ZV),i.length>1&&i.sort(d||ZV)}function c(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:u,finish:c,sort:l}}function $qe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new QV,t.set(r,[a])):i>=o.length?(a=new QV,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function zqe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ue,color:new Rt};break;case"SpotLight":n={position:new ue,direction:new ue,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ue,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ue,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":n={color:new Rt,position:new ue,halfWidth:new ue,halfHeight:new ue};break}return t[e.id]=n,n}}}function Gqe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Wqe=0;function Vqe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function qqe(t,e){const n=new zqe,r=Gqe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ue);const o=new ue,a=new un,s=new un;function u(c,f){let d=0,h=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let _=0,y=0,m=0,b=0,w=0,S=0,x=0,E=0,M=0,O=0,C=0;c.sort(Vqe);const T=f===!0?Math.PI:1;for(let N=0,H=c.length;N<H;N++){const B=c[N],k=B.color,j=B.intensity,$=B.distance,F=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)d+=k.r*j*T,h+=k.g*j*T,p+=k.b*j*T;else if(B.isLightProbe){for(let R=0;R<9;R++)i.probe[R].addScaledVector(B.sh.coefficients[R],j);C++}else if(B.isDirectionalLight){const R=n.get(B);if(R.color.copy(B.color).multiplyScalar(B.intensity*T),B.castShadow){const L=B.shadow,W=r.get(B);W.shadowBias=L.bias,W.shadowNormalBias=L.normalBias,W.shadowRadius=L.radius,W.shadowMapSize=L.mapSize,i.directionalShadow[_]=W,i.directionalShadowMap[_]=F,i.directionalShadowMatrix[_]=B.shadow.matrix,S++}i.directional[_]=R,_++}else if(B.isSpotLight){const R=n.get(B);R.position.setFromMatrixPosition(B.matrixWorld),R.color.copy(k).multiplyScalar(j*T),R.distance=$,R.coneCos=Math.cos(B.angle),R.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),R.decay=B.decay,i.spot[m]=R;const L=B.shadow;if(B.map&&(i.spotLightMap[M]=B.map,M++,L.updateMatrices(B),B.castShadow&&O++),i.spotLightMatrix[m]=L.matrix,B.castShadow){const W=r.get(B);W.shadowBias=L.bias,W.shadowNormalBias=L.normalBias,W.shadowRadius=L.radius,W.shadowMapSize=L.mapSize,i.spotShadow[m]=W,i.spotShadowMap[m]=F,E++}m++}else if(B.isRectAreaLight){const R=n.get(B);R.color.copy(k).multiplyScalar(j),R.halfWidth.set(B.width*.5,0,0),R.halfHeight.set(0,B.height*.5,0),i.rectArea[b]=R,b++}else if(B.isPointLight){const R=n.get(B);if(R.color.copy(B.color).multiplyScalar(B.intensity*T),R.distance=B.distance,R.decay=B.decay,B.castShadow){const L=B.shadow,W=r.get(B);W.shadowBias=L.bias,W.shadowNormalBias=L.normalBias,W.shadowRadius=L.radius,W.shadowMapSize=L.mapSize,W.shadowCameraNear=L.camera.near,W.shadowCameraFar=L.camera.far,i.pointShadow[y]=W,i.pointShadowMap[y]=F,i.pointShadowMatrix[y]=B.shadow.matrix,x++}i.point[y]=R,y++}else if(B.isHemisphereLight){const R=n.get(B);R.skyColor.copy(B.color).multiplyScalar(j*T),R.groundColor.copy(B.groundColor).multiplyScalar(j*T),i.hemi[w]=R,w++}}b>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ct.LTC_FLOAT_1,i.rectAreaLTC2=Ct.LTC_FLOAT_2):(i.rectAreaLTC1=Ct.LTC_HALF_1,i.rectAreaLTC2=Ct.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ct.LTC_FLOAT_1,i.rectAreaLTC2=Ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ct.LTC_HALF_1,i.rectAreaLTC2=Ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=p;const P=i.hash;(P.directionalLength!==_||P.pointLength!==y||P.spotLength!==m||P.rectAreaLength!==b||P.hemiLength!==w||P.numDirectionalShadows!==S||P.numPointShadows!==x||P.numSpotShadows!==E||P.numSpotMaps!==M||P.numLightProbes!==C)&&(i.directional.length=_,i.spot.length=m,i.rectArea.length=b,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=x,i.spotLightMatrix.length=E+M-O,i.spotLightMap.length=M,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=C,P.directionalLength=_,P.pointLength=y,P.spotLength=m,P.rectAreaLength=b,P.hemiLength=w,P.numDirectionalShadows=S,P.numPointShadows=x,P.numSpotShadows=E,P.numSpotMaps=M,P.numLightProbes=C,i.version=Wqe++)}function l(c,f){let d=0,h=0,p=0,_=0,y=0;const m=f.matrixWorldInverse;for(let b=0,w=c.length;b<w;b++){const S=c[b];if(S.isDirectionalLight){const x=i.directional[d];x.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),x.direction.sub(o),x.direction.transformDirection(m),d++}else if(S.isSpotLight){const x=i.spot[p];x.position.setFromMatrixPosition(S.matrixWorld),x.position.applyMatrix4(m),x.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),x.direction.sub(o),x.direction.transformDirection(m),p++}else if(S.isRectAreaLight){const x=i.rectArea[_];x.position.setFromMatrixPosition(S.matrixWorld),x.position.applyMatrix4(m),s.identity(),a.copy(S.matrixWorld),a.premultiply(m),s.extractRotation(a),x.halfWidth.set(S.width*.5,0,0),x.halfHeight.set(0,S.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),_++}else if(S.isPointLight){const x=i.point[h];x.position.setFromMatrixPosition(S.matrixWorld),x.position.applyMatrix4(m),h++}else if(S.isHemisphereLight){const x=i.hemi[y];x.direction.setFromMatrixPosition(S.matrixWorld),x.direction.transformDirection(m),y++}}}return{setup:u,setupView:l,state:i}}function e7(t,e){const n=new qqe(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function u(f){n.setup(r,f)}function l(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:u,setupLightsView:l,pushLight:a,pushShadow:s}}function Kqe(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let u;return s===void 0?(u=new e7(t,e),n.set(o,[u])):a>=s.length?(u=new e7(t,e),s.push(u)):u=s[a],u}function i(){n=new WeakMap}return{get:r,dispose:i}}class HM extends $i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=boe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class nU extends $i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Xqe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jqe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Yqe(t,e,n){let r=new $w;const i=new Xe,o=new Xe,a=new dr,s=new HM({depthPacking:woe}),u=new nU,l={},c=n.maxTextureSize,f={[Qu]:ua,[ua]:Qu,[el]:el},d=new Ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:Xqe,fragmentShader:Jqe}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new Pn;p.setAttribute("position",new er(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Vr(p,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=DM;let m=this.type;this.render=function(E,M,O){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const C=t.getRenderTarget(),T=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),N=t.state;N.setBlending(Wu),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const H=m!==$l&&this.type===$l,B=m===$l&&this.type!==$l;for(let k=0,j=E.length;k<j;k++){const $=E[k],F=$.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const R=F.getFrameExtents();if(i.multiply(R),o.copy(F.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/R.x),i.x=o.x*R.x,F.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/R.y),i.y=o.y*R.y,F.mapSize.y=o.y)),F.map===null||H===!0||B===!0){const W=this.type!==$l?{minFilter:Gr,magFilter:Gr}:{};F.map!==null&&F.map.dispose(),F.map=new yo(i.x,i.y,W),F.map.texture.name=$.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const L=F.getViewportCount();for(let W=0;W<L;W++){const Z=F.getViewport(W);a.set(o.x*Z.x,o.y*Z.y,o.x*Z.z,o.y*Z.w),N.viewport(a),F.updateMatrices($,W),r=F.getFrustum(),S(M,O,F.camera,$,this.type)}F.isPointLightShadow!==!0&&this.type===$l&&b(F,O),F.needsUpdate=!1}m=this.type,y.needsUpdate=!1,t.setRenderTarget(C,T,P)};function b(E,M){const O=e.update(_);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new yo(i.x,i.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(M,null,O,d,_,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(M,null,O,h,_,null)}function w(E,M,O,C){let T=null;const P=O.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(P!==void 0)T=P;else if(T=O.isPointLight===!0?u:s,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const N=T.uuid,H=M.uuid;let B=l[N];B===void 0&&(B={},l[N]=B);let k=B[H];k===void 0&&(k=T.clone(),B[H]=k,M.addEventListener("dispose",x)),T=k}if(T.visible=M.visible,T.wireframe=M.wireframe,C===$l?T.side=M.shadowSide!==null?M.shadowSide:M.side:T.side=M.shadowSide!==null?M.shadowSide:f[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,O.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const N=t.properties.get(T);N.light=O}return T}function S(E,M,O,C,T){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&T===$l)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,E.matrixWorld);const H=e.update(E),B=E.material;if(Array.isArray(B)){const k=H.groups;for(let j=0,$=k.length;j<$;j++){const F=k[j],R=B[F.materialIndex];if(R&&R.visible){const L=w(E,R,C,T);E.onBeforeShadow(t,E,M,O,H,L,F),t.renderBufferDirect(O,null,H,L,E,F),E.onAfterShadow(t,E,M,O,H,L,F)}}}else if(B.visible){const k=w(E,B,C,T);E.onBeforeShadow(t,E,M,O,H,k,null),t.renderBufferDirect(O,null,H,k,E,null),E.onAfterShadow(t,E,M,O,H,k,null)}}const N=E.children;for(let H=0,B=N.length;H<B;H++)S(N[H],M,O,C,T)}function x(E){E.target.removeEventListener("dispose",x);for(const O in l){const C=l[O],T=E.target.uuid;T in C&&(C[T].dispose(),delete C[T])}}}function Zqe(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const $e=new dr;let tt=null;const Pt=new dr(0,0,0,0);return{setMask:function(vt){tt!==vt&&!de&&(t.colorMask(vt,vt,vt,vt),tt=vt)},setLocked:function(vt){de=vt},setClear:function(vt,$t,rn,mn,Lt){Lt===!0&&(vt*=mn,$t*=mn,rn*=mn),$e.set(vt,$t,rn,mn),Pt.equals($e)===!1&&(t.clearColor(vt,$t,rn,mn),Pt.copy($e))},reset:function(){de=!1,tt=null,Pt.set(-1,0,0,0)}}}function o(){let de=!1,$e=null,tt=null,Pt=null;return{setTest:function(vt){vt?xe(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(vt){$e!==vt&&!de&&(t.depthMask(vt),$e=vt)},setFunc:function(vt){if(tt!==vt){switch(vt){case Jie:t.depthFunc(t.NEVER);break;case Yie:t.depthFunc(t.ALWAYS);break;case Zie:t.depthFunc(t.LESS);break;case zb:t.depthFunc(t.LEQUAL);break;case Qie:t.depthFunc(t.EQUAL);break;case eoe:t.depthFunc(t.GEQUAL);break;case toe:t.depthFunc(t.GREATER);break;case noe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tt=vt}},setLocked:function(vt){de=vt},setClear:function(vt){Pt!==vt&&(t.clearDepth(vt),Pt=vt)},reset:function(){de=!1,$e=null,tt=null,Pt=null}}}function a(){let de=!1,$e=null,tt=null,Pt=null,vt=null,$t=null,rn=null,mn=null,Lt=null;return{setTest:function(cn){de||(cn?xe(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(cn){$e!==cn&&!de&&(t.stencilMask(cn),$e=cn)},setFunc:function(cn,kt,Ke){(tt!==cn||Pt!==kt||vt!==Ke)&&(t.stencilFunc(cn,kt,Ke),tt=cn,Pt=kt,vt=Ke)},setOp:function(cn,kt,Ke){($t!==cn||rn!==kt||mn!==Ke)&&(t.stencilOp(cn,kt,Ke),$t=cn,rn=kt,mn=Ke)},setLocked:function(cn){de=cn},setClear:function(cn){Lt!==cn&&(t.clearStencil(cn),Lt=cn)},reset:function(){de=!1,$e=null,tt=null,Pt=null,vt=null,$t=null,rn=null,mn=null,Lt=null}}}const s=new i,u=new o,l=new a,c=new WeakMap,f=new WeakMap;let d={},h={},p=new WeakMap,_=[],y=null,m=!1,b=null,w=null,S=null,x=null,E=null,M=null,O=null,C=new Rt(0,0,0),T=0,P=!1,N=null,H=null,B=null,k=null,j=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,R=0;const L=t.getParameter(t.VERSION);L.indexOf("WebGL")!==-1?(R=parseFloat(/^WebGL (\d)/.exec(L)[1]),F=R>=1):L.indexOf("OpenGL ES")!==-1&&(R=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),F=R>=2);let W=null,Z={};const ee=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),pe=new dr().fromArray(ee),ie=new dr().fromArray(oe);function ce(de,$e,tt,Pt){const vt=new Uint8Array(4),$t=t.createTexture();t.bindTexture(de,$t),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let rn=0;rn<tt;rn++)r&&(de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY)?t.texImage3D($e,0,t.RGBA,1,1,Pt,0,t.RGBA,t.UNSIGNED_BYTE,vt):t.texImage2D($e+rn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,vt);return $t}const ve={};ve[t.TEXTURE_2D]=ce(t.TEXTURE_2D,t.TEXTURE_2D,1),ve[t.TEXTURE_CUBE_MAP]=ce(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ve[t.TEXTURE_2D_ARRAY]=ce(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ve[t.TEXTURE_3D]=ce(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),u.setClear(1),l.setClear(0),xe(t.DEPTH_TEST),u.setFunc(zb),te(!1),q(fN),xe(t.CULL_FACE),U(Wu);function xe(de){d[de]!==!0&&(t.enable(de),d[de]=!0)}function he(de){d[de]!==!1&&(t.disable(de),d[de]=!1)}function we(de,$e){return h[de]!==$e?(t.bindFramebuffer(de,$e),h[de]=$e,r&&(de===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=$e),de===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=$e)),!0):!1}function ne(de,$e){let tt=_,Pt=!1;if(de)if(tt=p.get($e),tt===void 0&&(tt=[],p.set($e,tt)),de.isWebGLMultipleRenderTargets){const vt=de.texture;if(tt.length!==vt.length||tt[0]!==t.COLOR_ATTACHMENT0){for(let $t=0,rn=vt.length;$t<rn;$t++)tt[$t]=t.COLOR_ATTACHMENT0+$t;tt.length=vt.length,Pt=!0}}else tt[0]!==t.COLOR_ATTACHMENT0&&(tt[0]=t.COLOR_ATTACHMENT0,Pt=!0);else tt[0]!==t.BACK&&(tt[0]=t.BACK,Pt=!0);Pt&&(n.isWebGL2?t.drawBuffers(tt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(tt))}function Me(de){return y!==de?(t.useProgram(de),y=de,!0):!1}const Ce={[rd]:t.FUNC_ADD,[Nie]:t.FUNC_SUBTRACT,[Bie]:t.FUNC_REVERSE_SUBTRACT};if(r)Ce[mN]=t.MIN,Ce[vN]=t.MAX;else{const de=e.get("EXT_blend_minmax");de!==null&&(Ce[mN]=de.MIN_EXT,Ce[vN]=de.MAX_EXT)}const K={[Fie]:t.ZERO,[kie]:t.ONE,[Uie]:t.SRC_COLOR,[jC]:t.SRC_ALPHA,[Wie]:t.SRC_ALPHA_SATURATE,[zie]:t.DST_COLOR,[Hie]:t.DST_ALPHA,[jie]:t.ONE_MINUS_SRC_COLOR,[HC]:t.ONE_MINUS_SRC_ALPHA,[Gie]:t.ONE_MINUS_DST_COLOR,[$ie]:t.ONE_MINUS_DST_ALPHA,[Vie]:t.CONSTANT_COLOR,[qie]:t.ONE_MINUS_CONSTANT_COLOR,[Kie]:t.CONSTANT_ALPHA,[Xie]:t.ONE_MINUS_CONSTANT_ALPHA};function U(de,$e,tt,Pt,vt,$t,rn,mn,Lt,cn){if(de===Wu){m===!0&&(he(t.BLEND),m=!1);return}if(m===!1&&(xe(t.BLEND),m=!0),de!==Lie){if(de!==b||cn!==P){if((w!==rd||E!==rd)&&(t.blendEquation(t.FUNC_ADD),w=rd,E=rd),cn)switch(de){case wp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case dN:t.blendFunc(t.ONE,t.ONE);break;case hN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pN:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case wp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case dN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case hN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pN:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}S=null,x=null,M=null,O=null,C.set(0,0,0),T=0,b=de,P=cn}return}vt=vt||$e,$t=$t||tt,rn=rn||Pt,($e!==w||vt!==E)&&(t.blendEquationSeparate(Ce[$e],Ce[vt]),w=$e,E=vt),(tt!==S||Pt!==x||$t!==M||rn!==O)&&(t.blendFuncSeparate(K[tt],K[Pt],K[$t],K[rn]),S=tt,x=Pt,M=$t,O=rn),(mn.equals(C)===!1||Lt!==T)&&(t.blendColor(mn.r,mn.g,mn.b,Lt),C.copy(mn),T=Lt),b=de,P=!1}function G(de,$e){de.side===el?he(t.CULL_FACE):xe(t.CULL_FACE);let tt=de.side===ua;$e&&(tt=!tt),te(tt),de.blending===wp&&de.transparent===!1?U(Wu):U(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),u.setFunc(de.depthFunc),u.setTest(de.depthTest),u.setMask(de.depthWrite),s.setMask(de.colorWrite);const Pt=de.stencilWrite;l.setTest(Pt),Pt&&(l.setMask(de.stencilWriteMask),l.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),l.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),ae(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?xe(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function te(de){N!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),N=de)}function q(de){de!==Rie?(xe(t.CULL_FACE),de!==H&&(de===fN?t.cullFace(t.BACK):de===Pie?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),H=de}function V(de){de!==B&&(F&&t.lineWidth(de),B=de)}function ae(de,$e,tt){de?(xe(t.POLYGON_OFFSET_FILL),(k!==$e||j!==tt)&&(t.polygonOffset($e,tt),k=$e,j=tt)):he(t.POLYGON_OFFSET_FILL)}function Ae(de){de?xe(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function Oe(de){de===void 0&&(de=t.TEXTURE0+$-1),W!==de&&(t.activeTexture(de),W=de)}function Te(de,$e,tt){tt===void 0&&(W===null?tt=t.TEXTURE0+$-1:tt=W);let Pt=Z[tt];Pt===void 0&&(Pt={type:void 0,texture:void 0},Z[tt]=Pt),(Pt.type!==de||Pt.texture!==$e)&&(W!==tt&&(t.activeTexture(tt),W=tt),t.bindTexture(de,$e||ve[de]),Pt.type=de,Pt.texture=$e)}function Ue(){const de=Z[W];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Qe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ze(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function at(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Tt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Mt(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function wt(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ft(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function qe(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function le(de){pe.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),pe.copy(de))}function Ie(de){ie.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),ie.copy(de))}function He(de,$e){let tt=f.get($e);tt===void 0&&(tt=new WeakMap,f.set($e,tt));let Pt=tt.get(de);Pt===void 0&&(Pt=t.getUniformBlockIndex($e,de.name),tt.set(de,Pt))}function Ve(de,$e){const Pt=f.get($e).get(de);c.get($e)!==Pt&&(t.uniformBlockBinding($e,Pt,de.__bindingPointIndex),c.set($e,Pt))}function Ee(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},W=null,Z={},h={},p=new WeakMap,_=[],y=null,m=!1,b=null,w=null,S=null,x=null,E=null,M=null,O=null,C=new Rt(0,0,0),T=0,P=!1,N=null,H=null,B=null,k=null,j=null,pe.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),s.reset(),u.reset(),l.reset()}return{buffers:{color:s,depth:u,stencil:l},enable:xe,disable:he,bindFramebuffer:we,drawBuffers:ne,useProgram:Me,setBlending:U,setMaterial:G,setFlipSided:te,setCullFace:q,setLineWidth:V,setPolygonOffset:ae,setScissorTest:Ae,activeTexture:Oe,bindTexture:Te,unbindTexture:Ue,compressedTexImage2D:Be,compressedTexImage3D:Qe,texImage2D:ft,texImage3D:qe,updateUBOMapping:He,uniformBlockBinding:Ve,texStorage2D:Mt,texStorage3D:wt,texSubImage2D:Ze,texSubImage3D:at,compressedTexSubImage2D:ke,compressedTexSubImage3D:Tt,scissor:le,viewport:Ie,reset:Ee}}function Qqe(t,e,n,r,i,o,a){const s=i.isWebGL2,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(q,V){return h?new OffscreenCanvas(q,V):Yb("canvas")}function _(q,V,ae,Ae){let Oe=1;if((q.width>Ae||q.height>Ae)&&(Oe=Ae/Math.max(q.width,q.height)),Oe<1||V===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const Te=V?GC:Math.floor,Ue=Te(Oe*q.width),Be=Te(Oe*q.height);f===void 0&&(f=p(Ue,Be));const Qe=ae?p(Ue,Be):f;return Qe.width=Ue,Qe.height=Be,Qe.getContext("2d").drawImage(q,0,0,Ue,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+Ue+"x"+Be+")."),Qe}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function y(q){return VN(q.width)&&VN(q.height)}function m(q){return s?!1:q.wrapS!==Br||q.wrapT!==Br||q.minFilter!==Gr&&q.minFilter!==tr}function b(q,V){return q.generateMipmaps&&V&&q.minFilter!==Gr&&q.minFilter!==tr}function w(q){t.generateMipmap(q)}function S(q,V,ae,Ae,Oe=!1){if(s===!1)return V;if(q!==null){if(t[q]!==void 0)return t[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Te=V;if(V===t.RED&&(ae===t.FLOAT&&(Te=t.R32F),ae===t.HALF_FLOAT&&(Te=t.R16F),ae===t.UNSIGNED_BYTE&&(Te=t.R8)),V===t.RED_INTEGER&&(ae===t.UNSIGNED_BYTE&&(Te=t.R8UI),ae===t.UNSIGNED_SHORT&&(Te=t.R16UI),ae===t.UNSIGNED_INT&&(Te=t.R32UI),ae===t.BYTE&&(Te=t.R8I),ae===t.SHORT&&(Te=t.R16I),ae===t.INT&&(Te=t.R32I)),V===t.RG&&(ae===t.FLOAT&&(Te=t.RG32F),ae===t.HALF_FLOAT&&(Te=t.RG16F),ae===t.UNSIGNED_BYTE&&(Te=t.RG8)),V===t.RGBA){const Ue=Oe?qb:fr.getTransfer(Ae);ae===t.FLOAT&&(Te=t.RGBA32F),ae===t.HALF_FLOAT&&(Te=t.RGBA16F),ae===t.UNSIGNED_BYTE&&(Te=Ue===Ar?t.SRGB8_ALPHA8:t.RGBA8),ae===t.UNSIGNED_SHORT_4_4_4_4&&(Te=t.RGBA4),ae===t.UNSIGNED_SHORT_5_5_5_1&&(Te=t.RGB5_A1)}return(Te===t.R16F||Te===t.R32F||Te===t.RG16F||Te===t.RG32F||Te===t.RGBA16F||Te===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function x(q,V,ae){return b(q,ae)===!0||q.isFramebufferTexture&&q.minFilter!==Gr&&q.minFilter!==tr?Math.log2(Math.max(V.width,V.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?V.mipmaps.length:1}function E(q){return q===Gr||q===Wb||q===Sg?t.NEAREST:t.LINEAR}function M(q){const V=q.target;V.removeEventListener("dispose",M),C(V),V.isVideoTexture&&c.delete(V)}function O(q){const V=q.target;V.removeEventListener("dispose",O),P(V)}function C(q){const V=r.get(q);if(V.__webglInit===void 0)return;const ae=q.source,Ae=d.get(ae);if(Ae){const Oe=Ae[V.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&T(q),Object.keys(Ae).length===0&&d.delete(ae)}r.remove(q)}function T(q){const V=r.get(q);t.deleteTexture(V.__webglTexture);const ae=q.source,Ae=d.get(ae);delete Ae[V.__cacheKey],a.memory.textures--}function P(q){const V=q.texture,ae=r.get(q),Ae=r.get(V);if(Ae.__webglTexture!==void 0&&(t.deleteTexture(Ae.__webglTexture),a.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++){if(Array.isArray(ae.__webglFramebuffer[Oe]))for(let Te=0;Te<ae.__webglFramebuffer[Oe].length;Te++)t.deleteFramebuffer(ae.__webglFramebuffer[Oe][Te]);else t.deleteFramebuffer(ae.__webglFramebuffer[Oe]);ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[Oe])}else{if(Array.isArray(ae.__webglFramebuffer))for(let Oe=0;Oe<ae.__webglFramebuffer.length;Oe++)t.deleteFramebuffer(ae.__webglFramebuffer[Oe]);else t.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Oe=0;Oe<ae.__webglColorRenderbuffer.length;Oe++)ae.__webglColorRenderbuffer[Oe]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[Oe]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(q.isWebGLMultipleRenderTargets)for(let Oe=0,Te=V.length;Oe<Te;Oe++){const Ue=r.get(V[Oe]);Ue.__webglTexture&&(t.deleteTexture(Ue.__webglTexture),a.memory.textures--),r.remove(V[Oe])}r.remove(V),r.remove(q)}let N=0;function H(){N=0}function B(){const q=N;return q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+i.maxTextures),N+=1,q}function k(q){const V=[];return V.push(q.wrapS),V.push(q.wrapT),V.push(q.wrapR||0),V.push(q.magFilter),V.push(q.minFilter),V.push(q.anisotropy),V.push(q.internalFormat),V.push(q.format),V.push(q.type),V.push(q.generateMipmaps),V.push(q.premultiplyAlpha),V.push(q.flipY),V.push(q.unpackAlignment),V.push(q.colorSpace),V.join()}function j(q,V){const ae=r.get(q);if(q.isVideoTexture&&G(q),q.isRenderTargetTexture===!1&&q.version>0&&ae.__version!==q.version){const Ae=q.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(ae,q,V);return}}n.bindTexture(t.TEXTURE_2D,ae.__webglTexture,t.TEXTURE0+V)}function $(q,V){const ae=r.get(q);if(q.version>0&&ae.__version!==q.version){pe(ae,q,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ae.__webglTexture,t.TEXTURE0+V)}function F(q,V){const ae=r.get(q);if(q.version>0&&ae.__version!==q.version){pe(ae,q,V);return}n.bindTexture(t.TEXTURE_3D,ae.__webglTexture,t.TEXTURE0+V)}function R(q,V){const ae=r.get(q);if(q.version>0&&ae.__version!==q.version){ie(ae,q,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+V)}const L={[kd]:t.REPEAT,[Br]:t.CLAMP_TO_EDGE,[a0]:t.MIRRORED_REPEAT},W={[Gr]:t.NEAREST,[Wb]:t.NEAREST_MIPMAP_NEAREST,[Sg]:t.NEAREST_MIPMAP_LINEAR,[tr]:t.LINEAR,[LM]:t.LINEAR_MIPMAP_NEAREST,[tc]:t.LINEAR_MIPMAP_LINEAR},Z={[Eoe]:t.NEVER,[Ooe]:t.ALWAYS,[xoe]:t.LESS,[Vk]:t.LEQUAL,[Aoe]:t.EQUAL,[Moe]:t.GEQUAL,[Coe]:t.GREATER,[Toe]:t.NOTEQUAL};function ee(q,V,ae){if(ae?(t.texParameteri(q,t.TEXTURE_WRAP_S,L[V.wrapS]),t.texParameteri(q,t.TEXTURE_WRAP_T,L[V.wrapT]),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,L[V.wrapR]),t.texParameteri(q,t.TEXTURE_MAG_FILTER,W[V.magFilter]),t.texParameteri(q,t.TEXTURE_MIN_FILTER,W[V.minFilter])):(t.texParameteri(q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(V.wrapS!==Br||V.wrapT!==Br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(q,t.TEXTURE_MAG_FILTER,E(V.magFilter)),t.texParameteri(q,t.TEXTURE_MIN_FILTER,E(V.minFilter)),V.minFilter!==Gr&&V.minFilter!==tr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),V.compareFunction&&(t.texParameteri(q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(q,t.TEXTURE_COMPARE_FUNC,Z[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(V.magFilter===Gr||V.minFilter!==Sg&&V.minFilter!==tc||V.type===Di&&e.has("OES_texture_float_linear")===!1||s===!1&&V.type===ji&&e.has("OES_texture_half_float_linear")===!1)return;(V.anisotropy>1||r.get(V).__currentAnisotropy)&&(t.texParameterf(q,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy)}}function oe(q,V){let ae=!1;q.__webglInit===void 0&&(q.__webglInit=!0,V.addEventListener("dispose",M));const Ae=V.source;let Oe=d.get(Ae);Oe===void 0&&(Oe={},d.set(Ae,Oe));const Te=k(V);if(Te!==q.__cacheKey){Oe[Te]===void 0&&(Oe[Te]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ae=!0),Oe[Te].usedTimes++;const Ue=Oe[q.__cacheKey];Ue!==void 0&&(Oe[q.__cacheKey].usedTimes--,Ue.usedTimes===0&&T(V)),q.__cacheKey=Te,q.__webglTexture=Oe[Te].texture}return ae}function pe(q,V,ae){let Ae=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Ae=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Ae=t.TEXTURE_3D);const Oe=oe(q,V),Te=V.source;n.bindTexture(Ae,q.__webglTexture,t.TEXTURE0+ae);const Ue=r.get(Te);if(Te.version!==Ue.__version||Oe===!0){n.activeTexture(t.TEXTURE0+ae);const Be=fr.getPrimaries(fr.workingColorSpace),Qe=V.colorSpace===as?null:fr.getPrimaries(V.colorSpace),Ze=V.colorSpace===as||Be===Qe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);const at=m(V)&&y(V.image)===!1;let ke=_(V.image,at,!1,i.maxTextureSize);ke=te(V,ke);const Tt=y(ke)||s,Mt=o.convert(V.format,V.colorSpace);let wt=o.convert(V.type),ft=S(V.internalFormat,Mt,wt,V.colorSpace,V.isVideoTexture);ee(Ae,V,Tt);let qe;const le=V.mipmaps,Ie=s&&V.isVideoTexture!==!0&&ft!==$k,He=Ue.__version===void 0||Oe===!0,Ve=x(V,ke,Tt);if(V.isDepthTexture)ft=t.DEPTH_COMPONENT,s?V.type===Di?ft=t.DEPTH_COMPONENT32F:V.type===ku?ft=t.DEPTH_COMPONENT24:V.type===Cd?ft=t.DEPTH24_STENCIL8:ft=t.DEPTH_COMPONENT16:V.type===Di&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),V.format===Td&&ft===t.DEPTH_COMPONENT&&V.type!==NM&&V.type!==ku&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),V.type=ku,wt=o.convert(V.type)),V.format===$p&&ft===t.DEPTH_COMPONENT&&(ft=t.DEPTH_STENCIL,V.type!==Cd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),V.type=Cd,wt=o.convert(V.type))),He&&(Ie?n.texStorage2D(t.TEXTURE_2D,1,ft,ke.width,ke.height):n.texImage2D(t.TEXTURE_2D,0,ft,ke.width,ke.height,0,Mt,wt,null));else if(V.isDataTexture)if(le.length>0&&Tt){Ie&&He&&n.texStorage2D(t.TEXTURE_2D,Ve,ft,le[0].width,le[0].height);for(let Ee=0,de=le.length;Ee<de;Ee++)qe=le[Ee],Ie?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,qe.width,qe.height,Mt,wt,qe.data):n.texImage2D(t.TEXTURE_2D,Ee,ft,qe.width,qe.height,0,Mt,wt,qe.data);V.generateMipmaps=!1}else Ie?(He&&n.texStorage2D(t.TEXTURE_2D,Ve,ft,ke.width,ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke.width,ke.height,Mt,wt,ke.data)):n.texImage2D(t.TEXTURE_2D,0,ft,ke.width,ke.height,0,Mt,wt,ke.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ie&&He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,ft,le[0].width,le[0].height,ke.depth);for(let Ee=0,de=le.length;Ee<de;Ee++)qe=le[Ee],V.format!==Ii?Mt!==null?Ie?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,qe.width,qe.height,ke.depth,Mt,qe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,ft,qe.width,qe.height,ke.depth,0,qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,qe.width,qe.height,ke.depth,Mt,wt,qe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,ft,qe.width,qe.height,ke.depth,0,Mt,wt,qe.data)}else{Ie&&He&&n.texStorage2D(t.TEXTURE_2D,Ve,ft,le[0].width,le[0].height);for(let Ee=0,de=le.length;Ee<de;Ee++)qe=le[Ee],V.format!==Ii?Mt!==null?Ie?n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,qe.width,qe.height,Mt,qe.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,ft,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,qe.width,qe.height,Mt,wt,qe.data):n.texImage2D(t.TEXTURE_2D,Ee,ft,qe.width,qe.height,0,Mt,wt,qe.data)}else if(V.isDataArrayTexture)Ie?(He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,ft,ke.width,ke.height,ke.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ke.width,ke.height,ke.depth,Mt,wt,ke.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,ft,ke.width,ke.height,ke.depth,0,Mt,wt,ke.data);else if(V.isData3DTexture)Ie?(He&&n.texStorage3D(t.TEXTURE_3D,Ve,ft,ke.width,ke.height,ke.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ke.width,ke.height,ke.depth,Mt,wt,ke.data)):n.texImage3D(t.TEXTURE_3D,0,ft,ke.width,ke.height,ke.depth,0,Mt,wt,ke.data);else if(V.isFramebufferTexture){if(He)if(Ie)n.texStorage2D(t.TEXTURE_2D,Ve,ft,ke.width,ke.height);else{let Ee=ke.width,de=ke.height;for(let $e=0;$e<Ve;$e++)n.texImage2D(t.TEXTURE_2D,$e,ft,Ee,de,0,Mt,wt,null),Ee>>=1,de>>=1}}else if(le.length>0&&Tt){Ie&&He&&n.texStorage2D(t.TEXTURE_2D,Ve,ft,le[0].width,le[0].height);for(let Ee=0,de=le.length;Ee<de;Ee++)qe=le[Ee],Ie?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,Mt,wt,qe):n.texImage2D(t.TEXTURE_2D,Ee,ft,Mt,wt,qe);V.generateMipmaps=!1}else Ie?(He&&n.texStorage2D(t.TEXTURE_2D,Ve,ft,ke.width,ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Mt,wt,ke)):n.texImage2D(t.TEXTURE_2D,0,ft,Mt,wt,ke);b(V,Tt)&&w(Ae),Ue.__version=Te.version,V.onUpdate&&V.onUpdate(V)}q.__version=V.version}function ie(q,V,ae){if(V.image.length!==6)return;const Ae=oe(q,V),Oe=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+ae);const Te=r.get(Oe);if(Oe.version!==Te.__version||Ae===!0){n.activeTexture(t.TEXTURE0+ae);const Ue=fr.getPrimaries(fr.workingColorSpace),Be=V.colorSpace===as?null:fr.getPrimaries(V.colorSpace),Qe=V.colorSpace===as||Ue===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);const Ze=V.isCompressedTexture||V.image[0].isCompressedTexture,at=V.image[0]&&V.image[0].isDataTexture,ke=[];for(let Ee=0;Ee<6;Ee++)!Ze&&!at?ke[Ee]=_(V.image[Ee],!1,!0,i.maxCubemapSize):ke[Ee]=at?V.image[Ee].image:V.image[Ee],ke[Ee]=te(V,ke[Ee]);const Tt=ke[0],Mt=y(Tt)||s,wt=o.convert(V.format,V.colorSpace),ft=o.convert(V.type),qe=S(V.internalFormat,wt,ft,V.colorSpace),le=s&&V.isVideoTexture!==!0,Ie=Te.__version===void 0||Ae===!0;let He=x(V,Tt,Mt);ee(t.TEXTURE_CUBE_MAP,V,Mt);let Ve;if(Ze){le&&Ie&&n.texStorage2D(t.TEXTURE_CUBE_MAP,He,qe,Tt.width,Tt.height);for(let Ee=0;Ee<6;Ee++){Ve=ke[Ee].mipmaps;for(let de=0;de<Ve.length;de++){const $e=Ve[de];V.format!==Ii?wt!==null?le?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de,0,0,$e.width,$e.height,wt,$e.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de,qe,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de,0,0,$e.width,$e.height,wt,ft,$e.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de,qe,$e.width,$e.height,0,wt,ft,$e.data)}}}else{Ve=V.mipmaps,le&&Ie&&(Ve.length>0&&He++,n.texStorage2D(t.TEXTURE_CUBE_MAP,He,qe,ke[0].width,ke[0].height));for(let Ee=0;Ee<6;Ee++)if(at){le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,ke[Ee].width,ke[Ee].height,wt,ft,ke[Ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,qe,ke[Ee].width,ke[Ee].height,0,wt,ft,ke[Ee].data);for(let de=0;de<Ve.length;de++){const tt=Ve[de].image[Ee].image;le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de+1,0,0,tt.width,tt.height,wt,ft,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de+1,qe,tt.width,tt.height,0,wt,ft,tt.data)}}else{le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,wt,ft,ke[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,qe,wt,ft,ke[Ee]);for(let de=0;de<Ve.length;de++){const $e=Ve[de];le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de+1,0,0,wt,ft,$e.image[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,de+1,qe,wt,ft,$e.image[Ee])}}}b(V,Mt)&&w(t.TEXTURE_CUBE_MAP),Te.__version=Oe.version,V.onUpdate&&V.onUpdate(V)}q.__version=V.version}function ce(q,V,ae,Ae,Oe,Te){const Ue=o.convert(ae.format,ae.colorSpace),Be=o.convert(ae.type),Qe=S(ae.internalFormat,Ue,Be,ae.colorSpace);if(!r.get(V).__hasExternalTextures){const at=Math.max(1,V.width>>Te),ke=Math.max(1,V.height>>Te);Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?n.texImage3D(Oe,Te,Qe,at,ke,V.depth,0,Ue,Be,null):n.texImage2D(Oe,Te,Qe,at,ke,0,Ue,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,q),U(V)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ae,Oe,r.get(ae).__webglTexture,0,K(V)):(Oe===t.TEXTURE_2D||Oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ae,Oe,r.get(ae).__webglTexture,Te),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(q,V,ae){if(t.bindRenderbuffer(t.RENDERBUFFER,q),V.depthBuffer&&!V.stencilBuffer){let Ae=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ae||U(V)){const Oe=V.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Di?Ae=t.DEPTH_COMPONENT32F:Oe.type===ku&&(Ae=t.DEPTH_COMPONENT24));const Te=K(V);U(V)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Te,Ae,V.width,V.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,Ae,V.width,V.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ae,V.width,V.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,q)}else if(V.depthBuffer&&V.stencilBuffer){const Ae=K(V);ae&&U(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,t.DEPTH24_STENCIL8,V.width,V.height):U(V)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,t.DEPTH24_STENCIL8,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,q)}else{const Ae=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Oe=0;Oe<Ae.length;Oe++){const Te=Ae[Oe],Ue=o.convert(Te.format,Te.colorSpace),Be=o.convert(Te.type),Qe=S(Te.internalFormat,Ue,Be,Te.colorSpace),Ze=K(V);ae&&U(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ze,Qe,V.width,V.height):U(V)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ze,Qe,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,Qe,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function xe(q,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,q),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(V.depthTexture).__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),j(V.depthTexture,0);const Ae=r.get(V.depthTexture).__webglTexture,Oe=K(V);if(V.depthTexture.format===Td)U(V)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ae,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ae,0);else if(V.depthTexture.format===$p)U(V)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ae,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ae,0);else throw new Error("Unknown depthTexture format")}function he(q){const V=r.get(q),ae=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!V.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");xe(V.__webglFramebuffer,q)}else if(ae){V.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[Ae]),V.__webglDepthbuffer[Ae]=t.createRenderbuffer(),ve(V.__webglDepthbuffer[Ae],q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer=t.createRenderbuffer(),ve(V.__webglDepthbuffer,q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(q,V,ae){const Ae=r.get(q);V!==void 0&&ce(Ae.__webglFramebuffer,q,q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ae!==void 0&&he(q)}function ne(q){const V=q.texture,ae=r.get(q),Ae=r.get(V);q.addEventListener("dispose",O),q.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture===void 0&&(Ae.__webglTexture=t.createTexture()),Ae.__version=V.version,a.memory.textures++);const Oe=q.isWebGLCubeRenderTarget===!0,Te=q.isWebGLMultipleRenderTargets===!0,Ue=y(q)||s;if(Oe){ae.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(s&&V.mipmaps&&V.mipmaps.length>0){ae.__webglFramebuffer[Be]=[];for(let Qe=0;Qe<V.mipmaps.length;Qe++)ae.__webglFramebuffer[Be][Qe]=t.createFramebuffer()}else ae.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(s&&V.mipmaps&&V.mipmaps.length>0){ae.__webglFramebuffer=[];for(let Be=0;Be<V.mipmaps.length;Be++)ae.__webglFramebuffer[Be]=t.createFramebuffer()}else ae.__webglFramebuffer=t.createFramebuffer();if(Te)if(i.drawBuffers){const Be=q.texture;for(let Qe=0,Ze=Be.length;Qe<Ze;Qe++){const at=r.get(Be[Qe]);at.__webglTexture===void 0&&(at.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&q.samples>0&&U(q)===!1){const Be=Te?V:[V];ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let Qe=0;Qe<Be.length;Qe++){const Ze=Be[Qe];ae.__webglColorRenderbuffer[Qe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ae.__webglColorRenderbuffer[Qe]);const at=o.convert(Ze.format,Ze.colorSpace),ke=o.convert(Ze.type),Tt=S(Ze.internalFormat,at,ke,Ze.colorSpace,q.isXRRenderTarget===!0),Mt=K(q);t.renderbufferStorageMultisample(t.RENDERBUFFER,Mt,Tt,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,ae.__webglColorRenderbuffer[Qe])}t.bindRenderbuffer(t.RENDERBUFFER,null),q.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),ve(ae.__webglDepthRenderbuffer,q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Oe){n.bindTexture(t.TEXTURE_CUBE_MAP,Ae.__webglTexture),ee(t.TEXTURE_CUBE_MAP,V,Ue);for(let Be=0;Be<6;Be++)if(s&&V.mipmaps&&V.mipmaps.length>0)for(let Qe=0;Qe<V.mipmaps.length;Qe++)ce(ae.__webglFramebuffer[Be][Qe],q,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Qe);else ce(ae.__webglFramebuffer[Be],q,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);b(V,Ue)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Te){const Be=q.texture;for(let Qe=0,Ze=Be.length;Qe<Ze;Qe++){const at=Be[Qe],ke=r.get(at);n.bindTexture(t.TEXTURE_2D,ke.__webglTexture),ee(t.TEXTURE_2D,at,Ue),ce(ae.__webglFramebuffer,q,at,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,0),b(at,Ue)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(s?Be=q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Be,Ae.__webglTexture),ee(Be,V,Ue),s&&V.mipmaps&&V.mipmaps.length>0)for(let Qe=0;Qe<V.mipmaps.length;Qe++)ce(ae.__webglFramebuffer[Qe],q,V,t.COLOR_ATTACHMENT0,Be,Qe);else ce(ae.__webglFramebuffer,q,V,t.COLOR_ATTACHMENT0,Be,0);b(V,Ue)&&w(Be),n.unbindTexture()}q.depthBuffer&&he(q)}function Me(q){const V=y(q)||s,ae=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let Ae=0,Oe=ae.length;Ae<Oe;Ae++){const Te=ae[Ae];if(b(Te,V)){const Ue=q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Be=r.get(Te).__webglTexture;n.bindTexture(Ue,Be),w(Ue),n.unbindTexture()}}}function Ce(q){if(s&&q.samples>0&&U(q)===!1){const V=q.isWebGLMultipleRenderTargets?q.texture:[q.texture],ae=q.width,Ae=q.height;let Oe=t.COLOR_BUFFER_BIT;const Te=[],Ue=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=r.get(q),Qe=q.isWebGLMultipleRenderTargets===!0;if(Qe)for(let Ze=0;Ze<V.length;Ze++)n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Be.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglFramebuffer);for(let Ze=0;Ze<V.length;Ze++){Te.push(t.COLOR_ATTACHMENT0+Ze),q.depthBuffer&&Te.push(Ue);const at=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if(at===!1&&(q.depthBuffer&&(Oe|=t.DEPTH_BUFFER_BIT),q.stencilBuffer&&(Oe|=t.STENCIL_BUFFER_BIT)),Qe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Be.__webglColorRenderbuffer[Ze]),at===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ue]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ue])),Qe){const ke=r.get(V[Ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ke,0)}t.blitFramebuffer(0,0,ae,Ae,0,0,ae,Ae,Oe,t.NEAREST),l&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Te)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Qe)for(let Ze=0;Ze<V.length;Ze++){n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,Be.__webglColorRenderbuffer[Ze]);const at=r.get(V[Ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglMultisampledFramebuffer)}}function K(q){return Math.min(i.maxSamples,q.samples)}function U(q){const V=r.get(q);return s&&q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function G(q){const V=a.render.frame;c.get(q)!==V&&(c.set(q,V),q.update())}function te(q,V){const ae=q.colorSpace,Ae=q.format,Oe=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||q.format===zC||ae!==ms&&ae!==as&&(fr.getTransfer(ae)===Ar?s===!1?e.has("EXT_sRGB")===!0&&Ae===Ii?(q.format=zC,q.minFilter=tr,q.generateMipmaps=!1):V=Kk.sRGBToLinear(V):(Ae!==Ii||Oe!==cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),V}this.allocateTextureUnit=B,this.resetTextureUnits=H,this.setTexture2D=j,this.setTexture2DArray=$,this.setTexture3D=F,this.setTextureCube=R,this.rebindTextures=we,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=U}function $oe(t,e,n){const r=n.isWebGL2;function i(o,a=as){let s;const u=fr.getTransfer(a);if(o===cs)return t.UNSIGNED_BYTE;if(o===Bk)return t.UNSIGNED_SHORT_4_4_4_4;if(o===Fk)return t.UNSIGNED_SHORT_5_5_5_1;if(o===Lk)return t.BYTE;if(o===Nk)return t.SHORT;if(o===NM)return t.UNSIGNED_SHORT;if(o===BM)return t.INT;if(o===ku)return t.UNSIGNED_INT;if(o===Di)return t.FLOAT;if(o===ji)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===foe)return t.ALPHA;if(o===Ii)return t.RGBA;if(o===doe)return t.LUMINANCE;if(o===hoe)return t.LUMINANCE_ALPHA;if(o===Td)return t.DEPTH_COMPONENT;if(o===$p)return t.DEPTH_STENCIL;if(o===zC)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===kk)return t.RED;if(o===Uk)return t.RED_INTEGER;if(o===poe)return t.RG;if(o===jk)return t.RG_INTEGER;if(o===Hk)return t.RGBA_INTEGER;if(o===Kx||o===Xx||o===Jx||o===Yx)if(u===Ar)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===Kx)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Xx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Jx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Yx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===Kx)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Xx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Jx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Yx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===_N||o===bN||o===wN||o===SN)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===_N)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===bN)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===wN)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===SN)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===$k)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===EN||o===xN)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===EN)return u===Ar?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===xN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===AN||o===CN||o===TN||o===MN||o===ON||o===IN||o===RN||o===PN||o===DN||o===LN||o===NN||o===BN||o===FN||o===kN)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===AN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===CN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===TN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===MN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===ON)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===IN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===RN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===PN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===DN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===LN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===NN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===BN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===FN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===kN)return u===Ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Zx||o===UN||o===jN)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===Zx)return u===Ar?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===UN)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===jN)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===moe||o===HN||o===$N||o===zN)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===Zx)return s.COMPRESSED_RED_RGTC1_EXT;if(o===HN)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===$N)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===zN)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Cd?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class zoe extends ui{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class zc extends Qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const eKe={type:"move"};class h2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,u=this._grip,l=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(l&&e.hand){a=!0;for(const _ of e.hand.values()){const y=n.getJointPose(_,r),m=this._getHandJoint(l,_);y!==null&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=y.radius),m.visible=y!==null}const c=l.joints["index-finger-tip"],f=l.joints["thumb-tip"],d=c.position.distanceTo(f.position),h=.02,p=.005;l.inputState.pinching&&d>h+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&d<=h-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(eKe)))}return s!==null&&(s.visible=i!==null),u!==null&&(u.visible=o!==null),l!==null&&(l.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new zc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class tKe extends mf{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",u=1,l=null,c=null,f=null,d=null,h=null,p=null;const _=n.getContextAttributes();let y=null,m=null;const b=[],w=[],S=new Xe;let x=null;const E=new ui;E.layers.enable(1),E.viewport=new dr;const M=new ui;M.layers.enable(2),M.viewport=new dr;const O=[E,M],C=new zoe;C.layers.enable(1),C.layers.enable(2);let T=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let oe=b[ee];return oe===void 0&&(oe=new h2,b[ee]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(ee){let oe=b[ee];return oe===void 0&&(oe=new h2,b[ee]=oe),oe.getGripSpace()},this.getHand=function(ee){let oe=b[ee];return oe===void 0&&(oe=new h2,b[ee]=oe),oe.getHandSpace()};function N(ee){const oe=w.indexOf(ee.inputSource);if(oe===-1)return;const pe=b[oe];pe!==void 0&&(pe.update(ee.inputSource,ee.frame,l||a),pe.dispatchEvent({type:ee.type,data:ee.inputSource}))}function H(){i.removeEventListener("select",N),i.removeEventListener("selectstart",N),i.removeEventListener("selectend",N),i.removeEventListener("squeeze",N),i.removeEventListener("squeezestart",N),i.removeEventListener("squeezeend",N),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",B);for(let ee=0;ee<b.length;ee++){const oe=w[ee];oe!==null&&(w[ee]=null,b[ee].disconnect(oe))}T=null,P=null,e.setRenderTarget(y),h=null,d=null,f=null,i=null,m=null,Z.stop(),r.isPresenting=!1,e.setPixelRatio(x),e.setSize(S.width,S.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){o=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){s=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(ee){l=ee},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ee){if(i=ee,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",H),i.addEventListener("inputsourceschange",B),_.xrCompatible!==!0&&await n.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(S),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,oe),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new yo(h.framebufferWidth,h.framebufferHeight,{format:Ii,type:cs,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let oe=null,pe=null,ie=null;_.depth&&(ie=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,oe=_.stencil?$p:Td,pe=_.stencil?Cd:ku);const ce={colorFormat:n.RGBA8,depthFormat:ie,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(ce),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),m=new yo(d.textureWidth,d.textureHeight,{format:Ii,type:cs,depthTexture:new tU(d.textureWidth,d.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const ve=e.properties.get(m);ve.__ignoreDepthValues=d.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(u),l=null,a=await i.requestReferenceSpace(s),Z.setContext(i),Z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function B(ee){for(let oe=0;oe<ee.removed.length;oe++){const pe=ee.removed[oe],ie=w.indexOf(pe);ie>=0&&(w[ie]=null,b[ie].disconnect(pe))}for(let oe=0;oe<ee.added.length;oe++){const pe=ee.added[oe];let ie=w.indexOf(pe);if(ie===-1){for(let ve=0;ve<b.length;ve++)if(ve>=w.length){w.push(pe),ie=ve;break}else if(w[ve]===null){w[ve]=pe,ie=ve;break}if(ie===-1)break}const ce=b[ie];ce&&ce.connect(pe)}}const k=new ue,j=new ue;function $(ee,oe,pe){k.setFromMatrixPosition(oe.matrixWorld),j.setFromMatrixPosition(pe.matrixWorld);const ie=k.distanceTo(j),ce=oe.projectionMatrix.elements,ve=pe.projectionMatrix.elements,xe=ce[14]/(ce[10]-1),he=ce[14]/(ce[10]+1),we=(ce[9]+1)/ce[5],ne=(ce[9]-1)/ce[5],Me=(ce[8]-1)/ce[0],Ce=(ve[8]+1)/ve[0],K=xe*Me,U=xe*Ce,G=ie/(-Me+Ce),te=G*-Me;oe.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(te),ee.translateZ(G),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const q=xe+G,V=he+G,ae=K-te,Ae=U+(ie-te),Oe=we*he/V*q,Te=ne*he/V*q;ee.projectionMatrix.makePerspective(ae,Ae,Oe,Te,q,V),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function F(ee,oe){oe===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(oe.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(i===null)return;C.near=M.near=E.near=ee.near,C.far=M.far=E.far=ee.far,(T!==C.near||P!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,P=C.far);const oe=ee.parent,pe=C.cameras;F(C,oe);for(let ie=0;ie<pe.length;ie++)F(pe[ie],oe);pe.length===2?$(C,E,M):C.projectionMatrix.copy(E.projectionMatrix),R(ee,C,oe)};function R(ee,oe,pe){pe===null?ee.matrix.copy(oe.matrixWorld):(ee.matrix.copy(pe.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(oe.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(oe.projectionMatrix),ee.projectionMatrixInverse.copy(oe.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=u0*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(d===null&&h===null))return u},this.setFoveation=function(ee){u=ee,d!==null&&(d.fixedFoveation=ee),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ee)};let L=null;function W(ee,oe){if(c=oe.getViewerPose(l||a),p=oe,c!==null){const pe=c.views;h!==null&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let ie=!1;pe.length!==C.cameras.length&&(C.cameras.length=0,ie=!0);for(let ce=0;ce<pe.length;ce++){const ve=pe[ce];let xe=null;if(h!==null)xe=h.getViewport(ve);else{const we=f.getViewSubImage(d,ve);xe=we.viewport,ce===0&&(e.setRenderTargetTextures(m,we.colorTexture,d.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(m))}let he=O[ce];he===void 0&&(he=new ui,he.layers.enable(ce),he.viewport=new dr,O[ce]=he),he.matrix.fromArray(ve.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(ve.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(xe.x,xe.y,xe.width,xe.height),ce===0&&(C.matrix.copy(he.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),ie===!0&&C.cameras.push(he)}}for(let pe=0;pe<b.length;pe++){const ie=w[pe],ce=b[pe];ie!==null&&ce!==void 0&&ce.update(ie,oe,l||a)}L&&L(ee,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),p=null}const Z=new Boe;Z.setAnimationLoop(W),this.setAnimationLoop=function(ee){L=ee},this.dispose=function(){}}}function nKe(t,e){function n(y,m){y.matrixAutoUpdate===!0&&y.updateMatrix(),m.value.copy(y.matrix)}function r(y,m){m.color.getRGB(y.fogColor.value,Loe(t)),m.isFog?(y.fogNear.value=m.near,y.fogFar.value=m.far):m.isFogExp2&&(y.fogDensity.value=m.density)}function i(y,m,b,w,S){m.isMeshBasicMaterial||m.isMeshLambertMaterial?o(y,m):m.isMeshToonMaterial?(o(y,m),f(y,m)):m.isMeshPhongMaterial?(o(y,m),c(y,m)):m.isMeshStandardMaterial?(o(y,m),d(y,m),m.isMeshPhysicalMaterial&&h(y,m,S)):m.isMeshMatcapMaterial?(o(y,m),p(y,m)):m.isMeshDepthMaterial?o(y,m):m.isMeshDistanceMaterial?(o(y,m),_(y,m)):m.isMeshNormalMaterial?o(y,m):m.isLineBasicMaterial?(a(y,m),m.isLineDashedMaterial&&s(y,m)):m.isPointsMaterial?u(y,m,b,w):m.isSpriteMaterial?l(y,m):m.isShadowMaterial?(y.color.value.copy(m.color),y.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function o(y,m){y.opacity.value=m.opacity,m.color&&y.diffuse.value.copy(m.color),m.emissive&&y.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(y.map.value=m.map,n(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.bumpMap&&(y.bumpMap.value=m.bumpMap,n(m.bumpMap,y.bumpMapTransform),y.bumpScale.value=m.bumpScale,m.side===ua&&(y.bumpScale.value*=-1)),m.normalMap&&(y.normalMap.value=m.normalMap,n(m.normalMap,y.normalMapTransform),y.normalScale.value.copy(m.normalScale),m.side===ua&&y.normalScale.value.negate()),m.displacementMap&&(y.displacementMap.value=m.displacementMap,n(m.displacementMap,y.displacementMapTransform),y.displacementScale.value=m.displacementScale,y.displacementBias.value=m.displacementBias),m.emissiveMap&&(y.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,y.emissiveMapTransform)),m.specularMap&&(y.specularMap.value=m.specularMap,n(m.specularMap,y.specularMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest);const b=e.get(m).envMap;if(b&&(y.envMap.value=b,y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=m.reflectivity,y.ior.value=m.ior,y.refractionRatio.value=m.refractionRatio),m.lightMap){y.lightMap.value=m.lightMap;const w=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=m.lightMapIntensity*w,n(m.lightMap,y.lightMapTransform)}m.aoMap&&(y.aoMap.value=m.aoMap,y.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,y.aoMapTransform))}function a(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,m.map&&(y.map.value=m.map,n(m.map,y.mapTransform))}function s(y,m){y.dashSize.value=m.dashSize,y.totalSize.value=m.dashSize+m.gapSize,y.scale.value=m.scale}function u(y,m,b,w){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.size.value=m.size*b,y.scale.value=w*.5,m.map&&(y.map.value=m.map,n(m.map,y.uvTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function l(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.rotation.value=m.rotation,m.map&&(y.map.value=m.map,n(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function c(y,m){y.specular.value.copy(m.specular),y.shininess.value=Math.max(m.shininess,1e-4)}function f(y,m){m.gradientMap&&(y.gradientMap.value=m.gradientMap)}function d(y,m){y.metalness.value=m.metalness,m.metalnessMap&&(y.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,y.metalnessMapTransform)),y.roughness.value=m.roughness,m.roughnessMap&&(y.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,y.roughnessMapTransform)),e.get(m).envMap&&(y.envMapIntensity.value=m.envMapIntensity)}function h(y,m,b){y.ior.value=m.ior,m.sheen>0&&(y.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),y.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(y.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,y.sheenColorMapTransform)),m.sheenRoughnessMap&&(y.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,y.sheenRoughnessMapTransform))),m.clearcoat>0&&(y.clearcoat.value=m.clearcoat,y.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(y.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,y.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(y.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===ua&&y.clearcoatNormalScale.value.negate())),m.iridescence>0&&(y.iridescence.value=m.iridescence,y.iridescenceIOR.value=m.iridescenceIOR,y.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(y.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,y.iridescenceMapTransform)),m.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),m.transmission>0&&(y.transmission.value=m.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),m.transmissionMap&&(y.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,y.transmissionMapTransform)),y.thickness.value=m.thickness,m.thicknessMap&&(y.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=m.attenuationDistance,y.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(y.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(y.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=m.specularIntensity,y.specularColor.value.copy(m.specularColor),m.specularColorMap&&(y.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,y.specularColorMapTransform)),m.specularIntensityMap&&(y.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,y.specularIntensityMapTransform))}function p(y,m){m.matcap&&(y.matcap.value=m.matcap)}function _(y,m){const b=e.get(m).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function rKe(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(b,w){const S=w.program;r.uniformBlockBinding(b,S)}function l(b,w){let S=i[b.id];S===void 0&&(p(b),S=c(b),i[b.id]=S,b.addEventListener("dispose",y));const x=w.program;r.updateUBOMapping(b,x);const E=e.render.frame;o[b.id]!==E&&(d(b),o[b.id]=E)}function c(b){const w=f();b.__bindingPointIndex=w;const S=t.createBuffer(),x=b.__size,E=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,x,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,S),S}function f(){for(let b=0;b<s;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const w=i[b.id],S=b.uniforms,x=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let E=0,M=S.length;E<M;E++){const O=Array.isArray(S[E])?S[E]:[S[E]];for(let C=0,T=O.length;C<T;C++){const P=O[C];if(h(P,E,C,x)===!0){const N=P.__offset,H=Array.isArray(P.value)?P.value:[P.value];let B=0;for(let k=0;k<H.length;k++){const j=H[k],$=_(j);typeof j=="number"||typeof j=="boolean"?(P.__data[0]=j,t.bufferSubData(t.UNIFORM_BUFFER,N+B,P.__data)):j.isMatrix3?(P.__data[0]=j.elements[0],P.__data[1]=j.elements[1],P.__data[2]=j.elements[2],P.__data[3]=0,P.__data[4]=j.elements[3],P.__data[5]=j.elements[4],P.__data[6]=j.elements[5],P.__data[7]=0,P.__data[8]=j.elements[6],P.__data[9]=j.elements[7],P.__data[10]=j.elements[8],P.__data[11]=0):(j.toArray(P.__data,B),B+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,N,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,w,S,x){const E=b.value,M=w+"_"+S;if(x[M]===void 0)return typeof E=="number"||typeof E=="boolean"?x[M]=E:x[M]=E.clone(),!0;{const O=x[M];if(typeof E=="number"||typeof E=="boolean"){if(O!==E)return x[M]=E,!0}else if(O.equals(E)===!1)return O.copy(E),!0}return!1}function p(b){const w=b.uniforms;let S=0;const x=16;for(let M=0,O=w.length;M<O;M++){const C=Array.isArray(w[M])?w[M]:[w[M]];for(let T=0,P=C.length;T<P;T++){const N=C[T],H=Array.isArray(N.value)?N.value:[N.value];for(let B=0,k=H.length;B<k;B++){const j=H[B],$=_(j),F=S%x;F!==0&&x-F<$.boundary&&(S+=x-F),N.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=S,S+=$.storage}}}const E=S%x;return E>0&&(S+=x-E),b.__size=S,b.__cache={},this}function _(b){const w={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function y(b){const w=b.target;w.removeEventListener("dispose",y);const S=a.indexOf(w.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function m(){for(const b in i)t.deleteBuffer(i[b]);a=[],i={},o={}}return{bind:u,update:l,dispose:m}}class $M{constructor(e={}){const{canvas:n=Roe(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=a;const h=new Uint32Array(4),p=new Int32Array(4);let _=null,y=null;const m=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mi,this._useLegacyLights=!1,this.toneMapping=Vu,this.toneMappingExposure=1;const w=this;let S=!1,x=0,E=0,M=null,O=-1,C=null;const T=new dr,P=new dr;let N=null;const H=new Rt(0);let B=0,k=n.width,j=n.height,$=1,F=null,R=null;const L=new dr(0,0,k,j),W=new dr(0,0,k,j);let Z=!1;const ee=new $w;let oe=!1,pe=!1,ie=null;const ce=new un,ve=new Xe,xe=new ue,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return M===null?$:1}let ne=r;function Me(J,se){for(let fe=0;fe<J.length;fe++){const Se=J[fe],be=n.getContext(Se,se);if(be!==null)return be}return null}try{const J={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${D0}`),n.addEventListener("webglcontextlost",Ee,!1),n.addEventListener("webglcontextrestored",de,!1),n.addEventListener("webglcontextcreationerror",$e,!1),ne===null){const se=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&se.shift(),ne=Me(se,J),ne===null)throw Me(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ne instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Ce,K,U,G,te,q,V,ae,Ae,Oe,Te,Ue,Be,Qe,Ze,at,ke,Tt,Mt,wt,ft,qe,le,Ie;function He(){Ce=new g7e(ne),K=new f7e(ne,Ce,e),Ce.init(K),qe=new $oe(ne,Ce,K),U=new Zqe(ne,Ce,K),G=new b7e(ne),te=new jqe,q=new Qqe(ne,Ce,U,te,K,qe,G),V=new h7e(w),ae=new v7e(w),Ae=new M9e(ne,K),le=new u7e(ne,Ce,Ae,K),Oe=new y7e(ne,Ae,G,le),Te=new x7e(ne,Oe,Ae,G),Mt=new E7e(ne,K,q),at=new d7e(te),Ue=new Uqe(w,V,ae,Ce,K,le,at),Be=new nKe(w,te),Qe=new $qe,Ze=new Kqe(Ce,K),Tt=new l7e(w,V,ae,U,Te,d,u),ke=new Yqe(w,Te,K),Ie=new rKe(ne,G,K,U),wt=new c7e(ne,Ce,G,K),ft=new _7e(ne,Ce,G,K),G.programs=Ue.programs,w.capabilities=K,w.extensions=Ce,w.properties=te,w.renderLists=Qe,w.shadowMap=ke,w.state=U,w.info=G}He();const Ve=new tKe(w,ne);this.xr=Ve,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const J=Ce.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Ce.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(J){J!==void 0&&($=J,this.setSize(k,j,!1))},this.getSize=function(J){return J.set(k,j)},this.setSize=function(J,se,fe=!0){if(Ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=J,j=se,n.width=Math.floor(J*$),n.height=Math.floor(se*$),fe===!0&&(n.style.width=J+"px",n.style.height=se+"px"),this.setViewport(0,0,J,se)},this.getDrawingBufferSize=function(J){return J.set(k*$,j*$).floor()},this.setDrawingBufferSize=function(J,se,fe){k=J,j=se,$=fe,n.width=Math.floor(J*fe),n.height=Math.floor(se*fe),this.setViewport(0,0,J,se)},this.getCurrentViewport=function(J){return J.copy(T)},this.getViewport=function(J){return J.copy(L)},this.setViewport=function(J,se,fe,Se){J.isVector4?L.set(J.x,J.y,J.z,J.w):L.set(J,se,fe,Se),U.viewport(T.copy(L).multiplyScalar($).floor())},this.getScissor=function(J){return J.copy(W)},this.setScissor=function(J,se,fe,Se){J.isVector4?W.set(J.x,J.y,J.z,J.w):W.set(J,se,fe,Se),U.scissor(P.copy(W).multiplyScalar($).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(J){U.setScissorTest(Z=J)},this.setOpaqueSort=function(J){F=J},this.setTransparentSort=function(J){R=J},this.getClearColor=function(J){return J.copy(Tt.getClearColor())},this.setClearColor=function(){Tt.setClearColor.apply(Tt,arguments)},this.getClearAlpha=function(){return Tt.getClearAlpha()},this.setClearAlpha=function(){Tt.setClearAlpha.apply(Tt,arguments)},this.clear=function(J=!0,se=!0,fe=!0){let Se=0;if(J){let be=!1;if(M!==null){const Le=M.texture.format;be=Le===Hk||Le===jk||Le===Uk}if(be){const Le=M.texture.type,Ne=Le===cs||Le===ku||Le===NM||Le===Cd||Le===Bk||Le===Fk,ze=Tt.getClearColor(),je=Tt.getClearAlpha(),_t=ze.r,Ye=ze.g,nt=ze.b;Ne?(h[0]=_t,h[1]=Ye,h[2]=nt,h[3]=je,ne.clearBufferuiv(ne.COLOR,0,h)):(p[0]=_t,p[1]=Ye,p[2]=nt,p[3]=je,ne.clearBufferiv(ne.COLOR,0,p))}else Se|=ne.COLOR_BUFFER_BIT}se&&(Se|=ne.DEPTH_BUFFER_BIT),fe&&(Se|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ee,!1),n.removeEventListener("webglcontextrestored",de,!1),n.removeEventListener("webglcontextcreationerror",$e,!1),Qe.dispose(),Ze.dispose(),te.dispose(),V.dispose(),ae.dispose(),Te.dispose(),le.dispose(),Ie.dispose(),Ue.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",Lt),Ve.removeEventListener("sessionend",cn),ie&&(ie.dispose(),ie=null),kt.stop()};function Ee(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function de(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const J=G.autoReset,se=ke.enabled,fe=ke.autoUpdate,Se=ke.needsUpdate,be=ke.type;He(),G.autoReset=J,ke.enabled=se,ke.autoUpdate=fe,ke.needsUpdate=Se,ke.type=be}function $e(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function tt(J){const se=J.target;se.removeEventListener("dispose",tt),Pt(se)}function Pt(J){vt(J),te.remove(J)}function vt(J){const se=te.get(J).programs;se!==void 0&&(se.forEach(function(fe){Ue.releaseProgram(fe)}),J.isShaderMaterial&&Ue.releaseShaderCache(J))}this.renderBufferDirect=function(J,se,fe,Se,be,Le){se===null&&(se=he);const Ne=be.isMesh&&be.matrixWorld.determinant()<0,ze=Y(J,se,fe,Se,be);U.setMaterial(Se,Ne);let je=fe.index,_t=1;if(Se.wireframe===!0){if(je=Oe.getWireframeAttribute(fe),je===void 0)return;_t=2}const Ye=fe.drawRange,nt=fe.attributes.position;let Ot=Ye.start*_t,ct=(Ye.start+Ye.count)*_t;Le!==null&&(Ot=Math.max(Ot,Le.start*_t),ct=Math.min(ct,(Le.start+Le.count)*_t)),je!==null?(Ot=Math.max(Ot,0),ct=Math.min(ct,je.count)):nt!=null&&(Ot=Math.max(Ot,0),ct=Math.min(ct,nt.count));const it=ct-Ot;if(it<0||it===1/0)return;le.setup(be,Se,ze,fe,je);let ut,rt=wt;if(je!==null&&(ut=Ae.get(je),rt=ft,rt.setIndex(ut)),be.isMesh)Se.wireframe===!0?(U.setLineWidth(Se.wireframeLinewidth*we()),rt.setMode(ne.LINES)):rt.setMode(ne.TRIANGLES);else if(be.isLine){let Je=Se.linewidth;Je===void 0&&(Je=1),U.setLineWidth(Je*we()),be.isLineSegments?rt.setMode(ne.LINES):be.isLineLoop?rt.setMode(ne.LINE_LOOP):rt.setMode(ne.LINE_STRIP)}else be.isPoints?rt.setMode(ne.POINTS):be.isSprite&&rt.setMode(ne.TRIANGLES);if(be.isBatchedMesh)rt.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else if(be.isInstancedMesh)rt.renderInstances(Ot,it,be.count);else if(fe.isInstancedBufferGeometry){const Je=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,Wt=Math.min(fe.instanceCount,Je);rt.renderInstances(Ot,it,Wt)}else rt.render(Ot,it)};function $t(J,se,fe){J.transparent===!0&&J.side===el&&J.forceSinglePass===!1?(J.side=ua,J.needsUpdate=!0,st(J,se,fe),J.side=Qu,J.needsUpdate=!0,st(J,se,fe),J.side=el):st(J,se,fe)}this.compile=function(J,se,fe=null){fe===null&&(fe=J),y=Ze.get(fe),y.init(),b.push(y),fe.traverseVisible(function(be){be.isLight&&be.layers.test(se.layers)&&(y.pushLight(be),be.castShadow&&y.pushShadow(be))}),J!==fe&&J.traverseVisible(function(be){be.isLight&&be.layers.test(se.layers)&&(y.pushLight(be),be.castShadow&&y.pushShadow(be))}),y.setupLights(w._useLegacyLights);const Se=new Set;return J.traverse(function(be){const Le=be.material;if(Le)if(Array.isArray(Le))for(let Ne=0;Ne<Le.length;Ne++){const ze=Le[Ne];$t(ze,fe,be),Se.add(ze)}else $t(Le,fe,be),Se.add(Le)}),b.pop(),y=null,Se},this.compileAsync=function(J,se,fe=null){const Se=this.compile(J,se,fe);return new Promise(be=>{function Le(){if(Se.forEach(function(Ne){te.get(Ne).currentProgram.isReady()&&Se.delete(Ne)}),Se.size===0){be(J);return}setTimeout(Le,10)}Ce.get("KHR_parallel_shader_compile")!==null?Le():setTimeout(Le,10)})};let rn=null;function mn(J){rn&&rn(J)}function Lt(){kt.stop()}function cn(){kt.start()}const kt=new Boe;kt.setAnimationLoop(mn),typeof self<"u"&&kt.setContext(self),this.setAnimationLoop=function(J){rn=J,Ve.setAnimationLoop(J),J===null?kt.stop():kt.start()},Ve.addEventListener("sessionstart",Lt),Ve.addEventListener("sessionend",cn),this.render=function(J,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(se),se=Ve.getCamera()),J.isScene===!0&&J.onBeforeRender(w,J,se,M),y=Ze.get(J,b.length),y.init(),b.push(y),ce.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),ee.setFromProjectionMatrix(ce),pe=this.localClippingEnabled,oe=at.init(this.clippingPlanes,pe),_=Qe.get(J,m.length),_.init(),m.push(_),Ke(J,se,0,w.sortObjects),_.finish(),w.sortObjects===!0&&_.sort(F,R),this.info.render.frame++,oe===!0&&at.beginShadows();const fe=y.state.shadowsArray;if(ke.render(fe,J,se),oe===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset(),Tt.render(_,J),y.setupLights(w._useLegacyLights),se.isArrayCamera){const Se=se.cameras;for(let be=0,Le=Se.length;be<Le;be++){const Ne=Se[be];ot(_,J,Ne,Ne.viewport)}}else ot(_,J,se);M!==null&&(q.updateMultisampleRenderTarget(M),q.updateRenderTargetMipmap(M)),J.isScene===!0&&J.onAfterRender(w,J,se),le.resetDefaultState(),O=-1,C=null,b.pop(),b.length>0?y=b[b.length-1]:y=null,m.pop(),m.length>0?_=m[m.length-1]:_=null};function Ke(J,se,fe,Se){if(J.visible===!1)return;if(J.layers.test(se.layers)){if(J.isGroup)fe=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(se);else if(J.isLight)y.pushLight(J),J.castShadow&&y.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||ee.intersectsSprite(J)){Se&&xe.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ce);const Ne=Te.update(J),ze=J.material;ze.visible&&_.push(J,Ne,ze,fe,xe.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||ee.intersectsObject(J))){const Ne=Te.update(J),ze=J.material;if(Se&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),xe.copy(J.boundingSphere.center)):(Ne.boundingSphere===null&&Ne.computeBoundingSphere(),xe.copy(Ne.boundingSphere.center)),xe.applyMatrix4(J.matrixWorld).applyMatrix4(ce)),Array.isArray(ze)){const je=Ne.groups;for(let _t=0,Ye=je.length;_t<Ye;_t++){const nt=je[_t],Ot=ze[nt.materialIndex];Ot&&Ot.visible&&_.push(J,Ne,Ot,fe,xe.z,nt)}}else ze.visible&&_.push(J,Ne,ze,fe,xe.z,null)}}const Le=J.children;for(let Ne=0,ze=Le.length;Ne<ze;Ne++)Ke(Le[Ne],se,fe,Se)}function ot(J,se,fe,Se){const be=J.opaque,Le=J.transmissive,Ne=J.transparent;y.setupLightsView(fe),oe===!0&&at.setGlobalState(w.clippingPlanes,fe),Le.length>0&&lt(be,Le,se,fe),Se&&U.viewport(T.copy(Se)),be.length>0&&bt(be,se,fe),Le.length>0&&bt(Le,se,fe),Ne.length>0&&bt(Ne,se,fe),U.buffers.depth.setTest(!0),U.buffers.depth.setMask(!0),U.buffers.color.setMask(!0),U.setPolygonOffset(!1)}function lt(J,se,fe,Se){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;const Le=K.isWebGL2;ie===null&&(ie=new yo(1,1,{generateMipmaps:!0,type:Ce.has("EXT_color_buffer_half_float")?ji:cs,minFilter:tc,samples:Le?4:0})),w.getDrawingBufferSize(ve),Le?ie.setSize(ve.x,ve.y):ie.setSize(GC(ve.x),GC(ve.y));const Ne=w.getRenderTarget();w.setRenderTarget(ie),w.getClearColor(H),B=w.getClearAlpha(),B<1&&w.setClearColor(16777215,.5),w.clear();const ze=w.toneMapping;w.toneMapping=Vu,bt(J,fe,Se),q.updateMultisampleRenderTarget(ie),q.updateRenderTargetMipmap(ie);let je=!1;for(let _t=0,Ye=se.length;_t<Ye;_t++){const nt=se[_t],Ot=nt.object,ct=nt.geometry,it=nt.material,ut=nt.group;if(it.side===el&&Ot.layers.test(Se.layers)){const rt=it.side;it.side=ua,it.needsUpdate=!0,Dt(Ot,fe,Se,ct,it,ut),it.side=rt,it.needsUpdate=!0,je=!0}}je===!0&&(q.updateMultisampleRenderTarget(ie),q.updateRenderTargetMipmap(ie)),w.setRenderTarget(Ne),w.setClearColor(H,B),w.toneMapping=ze}function bt(J,se,fe){const Se=se.isScene===!0?se.overrideMaterial:null;for(let be=0,Le=J.length;be<Le;be++){const Ne=J[be],ze=Ne.object,je=Ne.geometry,_t=Se===null?Ne.material:Se,Ye=Ne.group;ze.layers.test(fe.layers)&&Dt(ze,se,fe,je,_t,Ye)}}function Dt(J,se,fe,Se,be,Le){J.onBeforeRender(w,se,fe,Se,be,Le),J.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),be.onBeforeRender(w,se,fe,Se,J,Le),be.transparent===!0&&be.side===el&&be.forceSinglePass===!1?(be.side=ua,be.needsUpdate=!0,w.renderBufferDirect(fe,se,Se,be,J,Le),be.side=Qu,be.needsUpdate=!0,w.renderBufferDirect(fe,se,Se,be,J,Le),be.side=el):w.renderBufferDirect(fe,se,Se,be,J,Le),J.onAfterRender(w,se,fe,Se,be,Le)}function st(J,se,fe){se.isScene!==!0&&(se=he);const Se=te.get(J),be=y.state.lights,Le=y.state.shadowsArray,Ne=be.state.version,ze=Ue.getParameters(J,be.state,Le,se,fe),je=Ue.getProgramCacheKey(ze);let _t=Se.programs;Se.environment=J.isMeshStandardMaterial?se.environment:null,Se.fog=se.fog,Se.envMap=(J.isMeshStandardMaterial?ae:V).get(J.envMap||Se.environment),_t===void 0&&(J.addEventListener("dispose",tt),_t=new Map,Se.programs=_t);let Ye=_t.get(je);if(Ye!==void 0){if(Se.currentProgram===Ye&&Se.lightsStateVersion===Ne)return Ht(J,ze),Ye}else ze.uniforms=Ue.getUniforms(J),J.onBuild(fe,ze,w),J.onBeforeCompile(ze,w),Ye=Ue.acquireProgram(ze,je),_t.set(je,Ye),Se.uniforms=ze.uniforms;const nt=Se.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(nt.clippingPlanes=at.uniform),Ht(J,ze),Se.needsLights=_e(J),Se.lightsStateVersion=Ne,Se.needsLights&&(nt.ambientLightColor.value=be.state.ambient,nt.lightProbe.value=be.state.probe,nt.directionalLights.value=be.state.directional,nt.directionalLightShadows.value=be.state.directionalShadow,nt.spotLights.value=be.state.spot,nt.spotLightShadows.value=be.state.spotShadow,nt.rectAreaLights.value=be.state.rectArea,nt.ltc_1.value=be.state.rectAreaLTC1,nt.ltc_2.value=be.state.rectAreaLTC2,nt.pointLights.value=be.state.point,nt.pointLightShadows.value=be.state.pointShadow,nt.hemisphereLights.value=be.state.hemi,nt.directionalShadowMap.value=be.state.directionalShadowMap,nt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,nt.spotShadowMap.value=be.state.spotShadowMap,nt.spotLightMatrix.value=be.state.spotLightMatrix,nt.spotLightMap.value=be.state.spotLightMap,nt.pointShadowMap.value=be.state.pointShadowMap,nt.pointShadowMatrix.value=be.state.pointShadowMatrix),Se.currentProgram=Ye,Se.uniformsList=null,Ye}function Vt(J){if(J.uniformsList===null){const se=J.currentProgram.getUniforms();J.uniformsList=eA.seqWithValue(se.seq,J.uniforms)}return J.uniformsList}function Ht(J,se){const fe=te.get(J);fe.outputColorSpace=se.outputColorSpace,fe.batching=se.batching,fe.instancing=se.instancing,fe.instancingColor=se.instancingColor,fe.skinning=se.skinning,fe.morphTargets=se.morphTargets,fe.morphNormals=se.morphNormals,fe.morphColors=se.morphColors,fe.morphTargetsCount=se.morphTargetsCount,fe.numClippingPlanes=se.numClippingPlanes,fe.numIntersection=se.numClipIntersection,fe.vertexAlphas=se.vertexAlphas,fe.vertexTangents=se.vertexTangents,fe.toneMapping=se.toneMapping}function Y(J,se,fe,Se,be){se.isScene!==!0&&(se=he),q.resetTextureUnits();const Le=se.fog,Ne=Se.isMeshStandardMaterial?se.environment:null,ze=M===null?w.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:ms,je=(Se.isMeshStandardMaterial?ae:V).get(Se.envMap||Ne),_t=Se.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Ye=!!fe.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),nt=!!fe.morphAttributes.position,Ot=!!fe.morphAttributes.normal,ct=!!fe.morphAttributes.color;let it=Vu;Se.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(it=w.toneMapping);const ut=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,rt=ut!==void 0?ut.length:0,Je=te.get(Se),Wt=y.state.lights;if(oe===!0&&(pe===!0||J!==C)){const jt=J===C&&Se.id===O;at.setState(Se,J,jt)}let xt=!1;Se.version===Je.__version?(Je.needsLights&&Je.lightsStateVersion!==Wt.state.version||Je.outputColorSpace!==ze||be.isBatchedMesh&&Je.batching===!1||!be.isBatchedMesh&&Je.batching===!0||be.isInstancedMesh&&Je.instancing===!1||!be.isInstancedMesh&&Je.instancing===!0||be.isSkinnedMesh&&Je.skinning===!1||!be.isSkinnedMesh&&Je.skinning===!0||be.isInstancedMesh&&Je.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Je.instancingColor===!1&&be.instanceColor!==null||Je.envMap!==je||Se.fog===!0&&Je.fog!==Le||Je.numClippingPlanes!==void 0&&(Je.numClippingPlanes!==at.numPlanes||Je.numIntersection!==at.numIntersection)||Je.vertexAlphas!==_t||Je.vertexTangents!==Ye||Je.morphTargets!==nt||Je.morphNormals!==Ot||Je.morphColors!==ct||Je.toneMapping!==it||K.isWebGL2===!0&&Je.morphTargetsCount!==rt)&&(xt=!0):(xt=!0,Je.__version=Se.version);let yt=Je.currentProgram;xt===!0&&(yt=st(Se,se,be));let Zt=!1,Cn=!1,pt=!1;const dt=yt.getUniforms(),St=Je.uniforms;if(U.useProgram(yt.program)&&(Zt=!0,Cn=!0,pt=!0),Se.id!==O&&(O=Se.id,Cn=!0),Zt||C!==J){dt.setValue(ne,"projectionMatrix",J.projectionMatrix),dt.setValue(ne,"viewMatrix",J.matrixWorldInverse);const jt=dt.map.cameraPosition;jt!==void 0&&jt.setValue(ne,xe.setFromMatrixPosition(J.matrixWorld)),K.logarithmicDepthBuffer&&dt.setValue(ne,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&dt.setValue(ne,"isOrthographic",J.isOrthographicCamera===!0),C!==J&&(C=J,Cn=!0,pt=!0)}if(be.isSkinnedMesh){dt.setOptional(ne,be,"bindMatrix"),dt.setOptional(ne,be,"bindMatrixInverse");const jt=be.skeleton;jt&&(K.floatVertexTextures?(jt.boneTexture===null&&jt.computeBoneTexture(),dt.setValue(ne,"boneTexture",jt.boneTexture,q)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}be.isBatchedMesh&&(dt.setOptional(ne,be,"batchingTexture"),dt.setValue(ne,"batchingTexture",be._matricesTexture,q));const Kt=fe.morphAttributes;if((Kt.position!==void 0||Kt.normal!==void 0||Kt.color!==void 0&&K.isWebGL2===!0)&&Mt.update(be,fe,yt),(Cn||Je.receiveShadow!==be.receiveShadow)&&(Je.receiveShadow=be.receiveShadow,dt.setValue(ne,"receiveShadow",be.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(St.envMap.value=je,St.flipEnvMap.value=je.isCubeTexture&&je.isRenderTargetTexture===!1?-1:1),Cn&&(dt.setValue(ne,"toneMappingExposure",w.toneMappingExposure),Je.needsLights&&re(St,pt),Le&&Se.fog===!0&&Be.refreshFogUniforms(St,Le),Be.refreshMaterialUniforms(St,Se,$,j,ie),eA.upload(ne,Vt(Je),St,q)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(eA.upload(ne,Vt(Je),St,q),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&dt.setValue(ne,"center",be.center),dt.setValue(ne,"modelViewMatrix",be.modelViewMatrix),dt.setValue(ne,"normalMatrix",be.normalMatrix),dt.setValue(ne,"modelMatrix",be.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const jt=Se.uniformsGroups;for(let fn=0,qn=jt.length;fn<qn;fn++)if(K.isWebGL2){const Bt=jt[fn];Ie.update(Bt,yt),Ie.bind(Bt,yt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return yt}function re(J,se){J.ambientLightColor.needsUpdate=se,J.lightProbe.needsUpdate=se,J.directionalLights.needsUpdate=se,J.directionalLightShadows.needsUpdate=se,J.pointLights.needsUpdate=se,J.pointLightShadows.needsUpdate=se,J.spotLights.needsUpdate=se,J.spotLightShadows.needsUpdate=se,J.rectAreaLights.needsUpdate=se,J.hemisphereLights.needsUpdate=se}function _e(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(J,se,fe){te.get(J.texture).__webglTexture=se,te.get(J.depthTexture).__webglTexture=fe;const Se=te.get(J);Se.__hasExternalTextures=!0,Se.__hasExternalTextures&&(Se.__autoAllocateDepthBuffer=fe===void 0,Se.__autoAllocateDepthBuffer||Ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,se){const fe=te.get(J);fe.__webglFramebuffer=se,fe.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(J,se=0,fe=0){M=J,x=se,E=fe;let Se=!0,be=null,Le=!1,Ne=!1;if(J){const je=te.get(J);je.__useDefaultFramebuffer!==void 0?(U.bindFramebuffer(ne.FRAMEBUFFER,null),Se=!1):je.__webglFramebuffer===void 0?q.setupRenderTarget(J):je.__hasExternalTextures&&q.rebindTextures(J,te.get(J.texture).__webglTexture,te.get(J.depthTexture).__webglTexture);const _t=J.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(Ne=!0);const Ye=te.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(Ye[se])?be=Ye[se][fe]:be=Ye[se],Le=!0):K.isWebGL2&&J.samples>0&&q.useMultisampledRTT(J)===!1?be=te.get(J).__webglMultisampledFramebuffer:Array.isArray(Ye)?be=Ye[fe]:be=Ye,T.copy(J.viewport),P.copy(J.scissor),N=J.scissorTest}else T.copy(L).multiplyScalar($).floor(),P.copy(W).multiplyScalar($).floor(),N=Z;if(U.bindFramebuffer(ne.FRAMEBUFFER,be)&&K.drawBuffers&&Se&&U.drawBuffers(J,be),U.viewport(T),U.scissor(P),U.setScissorTest(N),Le){const je=te.get(J.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+se,je.__webglTexture,fe)}else if(Ne){const je=te.get(J.texture),_t=se||0;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,je.__webglTexture,fe||0,_t)}O=-1},this.readRenderTargetPixels=function(J,se,fe,Se,be,Le,Ne){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ze=te.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&Ne!==void 0&&(ze=ze[Ne]),ze){U.bindFramebuffer(ne.FRAMEBUFFER,ze);try{const je=J.texture,_t=je.format,Ye=je.type;if(_t!==Ii&&qe.convert(_t)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nt=Ye===ji&&(Ce.has("EXT_color_buffer_half_float")||K.isWebGL2&&Ce.has("EXT_color_buffer_float"));if(Ye!==cs&&qe.convert(Ye)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ye===Di&&(K.isWebGL2||Ce.has("OES_texture_float")||Ce.has("WEBGL_color_buffer_float")))&&!nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=J.width-Se&&fe>=0&&fe<=J.height-be&&ne.readPixels(se,fe,Se,be,qe.convert(_t),qe.convert(Ye),Le)}finally{const je=M!==null?te.get(M).__webglFramebuffer:null;U.bindFramebuffer(ne.FRAMEBUFFER,je)}}},this.copyFramebufferToTexture=function(J,se,fe=0){const Se=Math.pow(2,-fe),be=Math.floor(se.image.width*Se),Le=Math.floor(se.image.height*Se);q.setTexture2D(se,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,fe,0,0,J.x,J.y,be,Le),U.unbindTexture()},this.copyTextureToTexture=function(J,se,fe,Se=0){const be=se.image.width,Le=se.image.height,Ne=qe.convert(fe.format),ze=qe.convert(fe.type);q.setTexture2D(fe,0),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,fe.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,fe.unpackAlignment),se.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,Se,J.x,J.y,be,Le,Ne,ze,se.image.data):se.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,Se,J.x,J.y,se.mipmaps[0].width,se.mipmaps[0].height,Ne,se.mipmaps[0].data):ne.texSubImage2D(ne.TEXTURE_2D,Se,J.x,J.y,Ne,ze,se.image),Se===0&&fe.generateMipmaps&&ne.generateMipmap(ne.TEXTURE_2D),U.unbindTexture()},this.copyTextureToTexture3D=function(J,se,fe,Se,be=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Le=J.max.x-J.min.x+1,Ne=J.max.y-J.min.y+1,ze=J.max.z-J.min.z+1,je=qe.convert(Se.format),_t=qe.convert(Se.type);let Ye;if(Se.isData3DTexture)q.setTexture3D(Se,0),Ye=ne.TEXTURE_3D;else if(Se.isDataArrayTexture||Se.isCompressedArrayTexture)q.setTexture2DArray(Se,0),Ye=ne.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Se.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Se.unpackAlignment);const nt=ne.getParameter(ne.UNPACK_ROW_LENGTH),Ot=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),ct=ne.getParameter(ne.UNPACK_SKIP_PIXELS),it=ne.getParameter(ne.UNPACK_SKIP_ROWS),ut=ne.getParameter(ne.UNPACK_SKIP_IMAGES),rt=fe.isCompressedTexture?fe.mipmaps[be]:fe.image;ne.pixelStorei(ne.UNPACK_ROW_LENGTH,rt.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,rt.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,J.min.x),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,J.min.y),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,J.min.z),fe.isDataTexture||fe.isData3DTexture?ne.texSubImage3D(Ye,be,se.x,se.y,se.z,Le,Ne,ze,je,_t,rt.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Ye,be,se.x,se.y,se.z,Le,Ne,ze,je,rt.data)):ne.texSubImage3D(Ye,be,se.x,se.y,se.z,Le,Ne,ze,je,_t,rt),ne.pixelStorei(ne.UNPACK_ROW_LENGTH,nt),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Ot),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,ct),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,it),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,ut),be===0&&Se.generateMipmaps&&ne.generateMipmap(Ye),U.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?q.setTextureCube(J,0):J.isData3DTexture?q.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?q.setTexture2DArray(J,0):q.setTexture2D(J,0),U.unbindTexture()},this.resetState=function(){x=0,E=0,M=null,U.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return eu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===kM?"display-p3":"srgb",n.unpackColorSpace=fr.workingColorSpace===kw?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Mi?Md:Wk}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Md?Mi:ms}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Goe extends $M{}Goe.prototype.isWebGL1Renderer=!0;class zM{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=n}clone(){return new zM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class GM{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=n,this.far=r}clone(){return new GM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class zw extends Qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class Gw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Jb,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=fs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xo=new ue;class Ud{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Xo.fromBufferAttribute(this,n),Xo.applyMatrix4(e),this.setXYZ(n,Xo.x,Xo.y,Xo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Xo.fromBufferAttribute(this,n),Xo.applyNormalMatrix(e),this.setXYZ(n,Xo.x,Xo.y,Xo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Xo.fromBufferAttribute(this,n),Xo.transformDirection(e),this.setXYZ(n,Xo.x,Xo.y,Xo.z);return this}setX(e,n){return this.normalized&&(n=Bn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Bn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Bn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Bn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=La(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=La(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=La(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=La(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bn(n,this.array),r=Bn(r,this.array),i=Bn(i,this.array),o=Bn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new er(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ud(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rU extends $i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let fv;const By=new ue,dv=new ue,hv=new ue,pv=new Xe,Fy=new Xe,Woe=new un,IE=new ue,ky=new ue,RE=new ue,t7=new Xe,p2=new Xe,n7=new Xe;class Voe extends Qn{constructor(e=new rU){if(super(),this.isSprite=!0,this.type="Sprite",fv===void 0){fv=new Pn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Gw(n,5);fv.setIndex([0,1,2,0,2,3]),fv.setAttribute("position",new Ud(r,3,0,!1)),fv.setAttribute("uv",new Ud(r,2,3,!1))}this.geometry=fv,this.material=e,this.center=new Xe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),dv.setFromMatrixScale(this.matrixWorld),Woe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),hv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&dv.multiplyScalar(-hv.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;PE(IE.set(-.5,-.5,0),hv,a,dv,i,o),PE(ky.set(.5,-.5,0),hv,a,dv,i,o),PE(RE.set(.5,.5,0),hv,a,dv,i,o),t7.set(0,0),p2.set(1,0),n7.set(1,1);let s=e.ray.intersectTriangle(IE,ky,RE,!1,By);if(s===null&&(PE(ky.set(-.5,.5,0),hv,a,dv,i,o),p2.set(0,1),s=e.ray.intersectTriangle(IE,RE,ky,!1,By),s===null))return;const u=e.ray.origin.distanceTo(By);u<e.near||u>e.far||n.push({distance:u,point:By.clone(),uv:Pa.getInterpolation(By,IE,ky,RE,t7,p2,n7,new Xe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function PE(t,e,n,r,i,o){pv.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Fy.x=o*pv.x-i*pv.y,Fy.y=i*pv.x+o*pv.y):Fy.copy(pv),t.copy(e),t.x+=Fy.x,t.y+=Fy.y,t.applyMatrix4(Woe)}const DE=new ue,r7=new ue;class qoe extends Qn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){DE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(DE);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){DE.setFromMatrixPosition(e.matrixWorld),r7.setFromMatrixPosition(this.matrixWorld);const r=DE.distanceTo(r7)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const i7=new ue,o7=new dr,a7=new dr,iKe=new ue,s7=new un,LE=new ue,m2=new oo,l7=new un,v2=new sm;class iU extends Vr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=gN,this.bindMatrix=new un,this.bindMatrixInverse=new un,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new io),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,LE),this.boundingBox.expandByPoint(LE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,LE),this.boundingSphere.expandByPoint(LE)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),m2.copy(this.boundingSphere),m2.applyMatrix4(i),e.ray.intersectsSphere(m2)!==!1&&(l7.copy(i).invert(),v2.copy(e.ray).applyMatrix4(l7),!(this.boundingBox!==null&&v2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,v2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===gN?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===coe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;o7.fromBufferAttribute(i.attributes.skinIndex,e),a7.fromBufferAttribute(i.attributes.skinWeight,e),i7.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=a7.getComponent(o);if(a!==0){const s=o7.getComponent(o);s7.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(iKe.copy(i7).applyMatrix4(s7),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class WM extends Qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Od extends hr{constructor(e=null,n=1,r=1,i,o,a,s,u,l=Gr,c=Gr,f,d){super(null,a,s,u,l,c,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const u7=new un,oKe=new un;class Ww{constructor(e=[],n=[]){this.uuid=fs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new un)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:oKe;u7.multiplyMatrices(s,n[o]),u7.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ww(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Od(n,e,e,Ii,Di);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new WM),this.bones.push(a),this.boneInverses.push(new un().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Gp extends er{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mv=new un,c7=new un,NE=[],f7=new io,aKe=new un,Uy=new Vr,jy=new oo;class oU extends Vr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Gp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,aKe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new io),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,mv),f7.copy(e.boundingBox).applyMatrix4(mv),this.boundingBox.union(f7)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new oo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,mv),jy.copy(e.boundingSphere).applyMatrix4(mv),this.boundingSphere.union(jy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Uy.geometry=this.geometry,Uy.material=this.material,Uy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jy.copy(this.boundingSphere),jy.applyMatrix4(r),e.ray.intersectsSphere(jy)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,mv),c7.multiplyMatrices(r,mv),Uy.matrixWorld=c7,Uy.raycast(e,NE);for(let a=0,s=NE.length;a<s;a++){const u=NE[a];u.instanceId=o,u.object=this,n.push(u)}NE.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Gp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function sKe(t,e){return t.z-e.z}function lKe(t,e){return e.z-t.z}class uKe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const vv="batchId",Ff=new un,d7=new un,cKe=new un,h7=new un,g2=new $w,BE=new io,Ah=new oo,Hy=new ue,y2=new uKe,Ro=new Vr,FE=[];function fKe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class Koe extends Vr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Pn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Od(n,e,e,Ii,Di);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const u=e.getAttribute(s),{array:l,itemSize:c,normalized:f}=u,d=new l.constructor(r*c),h=new u.constructor(d,c,f);h.setUsage(u.usage),n.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new er(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(vv,new er(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(vv))throw new Error(`BatchedMesh: Geometry cannot use attribute "${vv}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===vv)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new io);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Ff),this.getBoundingBoxAt(i,BE).applyMatrix4(Ff),n.union(BE))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Ff),this.getBoundingSphereAt(i,Ah).applyMatrix4(Ff),n.union(Ah))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,u=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const l=e.getIndex(),c=l!==null;if(c&&(r===-1?i.indexCount=l.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,d=this._active,h=this._matricesTexture,p=this._matricesTexture.image.data;f.push(!0),d.push(!0);const _=this._geometryCount;this._geometryCount++,cKe.toArray(p,_*16),h.needsUpdate=!0,a.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),u.push({boxInitialized:!1,box:new io,sphereInitialized:!1,sphere:new oo});const y=this.geometry.getAttribute(vv);for(let m=0;m<i.vertexCount;m++)y.setX(i.vertexStart+m,_);return y.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,l=s.vertexCount;for(const h in r.attributes){if(h===vv)continue;const p=n.getAttribute(h),_=r.getAttribute(h);fKe(p,_,u);const y=p.itemSize;for(let m=p.count,b=l;m<b;m++){const w=u+m;for(let S=0;S<y;S++)_.setComponent(w,S,0)}_.needsUpdate=!0}if(i){const h=s.indexStart;for(let p=0;p<a.count;p++)o.setX(h+p,u+a.getX(p));for(let p=a.count,_=s.indexCount;p<_;p++)o.setX(h+p,u);o.needsUpdate=!0}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],d=n.getAttribute("position");return f.count=i?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,u=a.attributes.position,l=this._drawRanges[e];for(let c=l.start,f=l.start+l.count;c<f;c++){let d=c;s&&(d=s.getX(d)),o.expandByPoint(Hy.fromBufferAttribute(u,d))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,BE),BE.getCenter(o.center);const s=a.index,u=a.attributes.position,l=this._drawRanges[e];let c=0;for(let f=l.start,d=l.start+l.count;f<d;f++){let h=f;s&&(h=s.getX(h)),Hy.fromBufferAttribute(u,h),c=Math.max(c,o.center.distanceToSquared(Hy))}o.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,u=this.geometry;Ro.material=this.material,Ro.geometry.index=u.index,Ro.geometry.attributes=u.attributes,Ro.geometry.boundingBox===null&&(Ro.geometry.boundingBox=new io),Ro.geometry.boundingSphere===null&&(Ro.geometry.boundingSphere=new oo);for(let l=0;l<a;l++){if(!r[l]||!i[l])continue;const c=o[l];Ro.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(l,Ro.matrixWorld).premultiply(s),this.getBoundingBoxAt(l,Ro.geometry.boundingBox),this.getBoundingSphereAt(l,Ro.geometry.boundingSphere),Ro.raycast(e,FE);for(let f=0,d=FE.length;f<d;f++){const h=FE[f];h.object=this,h.batchId=l,n.push(h)}FE.length=0}Ro.material=null,Ro.geometry.index=null,Ro.geometry.attributes={},Ro.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,u=this._visibility,l=this._multiDrawStarts,c=this._multiDrawCounts,f=this._drawRanges,d=this.perObjectFrustumCulled;d&&(h7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),g2.setFromProjectionMatrix(h7,e.isWebGPURenderer?l0:eu));let h=0;if(this.sortObjects){d7.copy(this.matrixWorld).invert(),Hy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(d7);for(let y=0,m=u.length;y<m;y++)if(u[y]){this.getMatrixAt(y,Ff),this.getBoundingSphereAt(y,Ah).applyMatrix4(Ff);let b=!1;if(d&&(b=!g2.intersectsSphere(Ah)),!b){const w=Hy.distanceTo(Ah.center);y2.push(f[y],w)}}const p=y2.list,_=this.customSort;_===null?p.sort(o.transparent?lKe:sKe):_.call(this,p,r);for(let y=0,m=p.length;y<m;y++){const b=p[y];l[h]=b.start*s,c[h]=b.count,h++}y2.reset()}else for(let p=0,_=u.length;p<_;p++)if(u[p]){let y=!1;if(d&&(this.getMatrixAt(p,Ff),this.getBoundingSphereAt(p,Ah).applyMatrix4(Ff),y=!g2.intersectsSphere(Ah)),!y){const m=f[p];l[h]=m.start*s,c[h]=m.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class zo extends $i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const p7=new ue,m7=new ue,v7=new un,_2=new sm,kE=new oo;class af extends Qn{constructor(e=new Pn,n=new zo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)p7.fromBufferAttribute(n,i-1),m7.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=p7.distanceTo(m7);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kE.copy(r.boundingSphere),kE.applyMatrix4(i),kE.radius+=o,e.ray.intersectsSphere(kE)===!1)return;v7.copy(i).invert(),_2.copy(e.ray).applyMatrix4(v7);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,l=new ue,c=new ue,f=new ue,d=new ue,h=this.isLineSegments?2:1,p=r.index,y=r.attributes.position;if(p!==null){const m=Math.max(0,a.start),b=Math.min(p.count,a.start+a.count);for(let w=m,S=b-1;w<S;w+=h){const x=p.getX(w),E=p.getX(w+1);if(l.fromBufferAttribute(y,x),c.fromBufferAttribute(y,E),_2.distanceSqToSegment(l,c,d,f)>u)continue;d.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(d);O<e.near||O>e.far||n.push({distance:O,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,a.start),b=Math.min(y.count,a.start+a.count);for(let w=m,S=b-1;w<S;w+=h){if(l.fromBufferAttribute(y,w),c.fromBufferAttribute(y,w+1),_2.distanceSqToSegment(l,c,d,f)>u)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}const g7=new ue,y7=new ue;class uu extends af{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)g7.fromBufferAttribute(n,i),y7.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+g7.distanceTo(y7);e.setAttribute("lineDistance",new Yt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class aU extends af{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class VM extends $i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _7=new un,XN=new sm,UE=new oo,jE=new ue;class sU extends Qn{constructor(e=new Pn,n=new VM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),UE.copy(r.boundingSphere),UE.applyMatrix4(i),UE.radius+=o,e.ray.intersectsSphere(UE)===!1)return;_7.copy(i).invert(),XN.copy(e.ray).applyMatrix4(_7);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,l=r.index,f=r.attributes.position;if(l!==null){const d=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);for(let p=d,_=h;p<_;p++){const y=l.getX(p);jE.fromBufferAttribute(f,y),b7(jE,y,u,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(f.count,a.start+a.count);for(let p=d,_=h;p<_;p++)jE.fromBufferAttribute(f,p),b7(jE,p,u,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function b7(t,e,n,r,i,o,a){const s=XN.distanceSqToPoint(t);if(s<n){const u=new ue;XN.closestPointToPoint(t,u),u.applyMatrix4(r);const l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,object:a})}}class dKe extends hr{constructor(e,n,r,i,o,a,s,u,l){super(e,n,r,i,o,a,s,u,l),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:tr,this.magFilter=o!==void 0?o:tr,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class hKe extends hr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Gr,this.minFilter=Gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class qM extends hr{constructor(e,n,r,i,o,a,s,u,l,c,f,d){super(null,a,s,u,l,c,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class pKe extends qM{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Br}}class mKe extends qM{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,ec),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class vKe extends hr{constructor(e,n,r,i,o,a,s,u,l){super(e,n,r,i,o,a,s,u,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class cu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,u=o-1,l;for(;s<=u;)if(i=Math.floor(s+(u-s)/2),l=r[i]-a,l<0)s=i+1;else if(l>0)u=i-1;else{u=i;break}if(i=u,r[i]===a)return i/(o-1);const c=r[i],d=r[i+1]-c,h=(a-c)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),u=n||(a.isVector2?new Xe:new ue);return u.copy(s).sub(a).normalize(),u}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ue,i=[],o=[],a=[],s=new ue,u=new un;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new ue)}o[0]=new ue,a[0]=new ue;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,r.set(1,0,0)),f<=l&&(l=f,r.set(0,1,0)),d<=l&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(li(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(u.makeRotationAxis(s,p))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(li(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let p=1;p<=e;p++)o[p].applyMatrix4(u.makeRotationAxis(i[p],h*p)),a[p].crossVectors(i[p],o[p])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class KM extends cu{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=u}getPoint(e,n){const r=n||new Xe,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let u=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=u-this.aX,h=l-this.aY;u=d*c-h*f+this.aX,l=d*f+h*c+this.aY}return r.set(u,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Xoe extends KM{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function lU(){let t=0,e=0,n=0,r=0;function i(o,a,s,u){t=o,e=s,n=-3*o+3*a-2*s-u,r=2*o-2*a+s+u}return{initCatmullRom:function(o,a,s,u,l){i(a,s,l*(s-o),l*(u-a))},initNonuniformCatmullRom:function(o,a,s,u,l,c,f){let d=(a-o)/l-(s-o)/(l+c)+(s-a)/c,h=(s-a)/c-(u-a)/(c+f)+(u-s)/f;d*=c,h*=c,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const HE=new ue,b2=new lU,w2=new lU,S2=new lU;class Joe extends cu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ue){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),u=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:u===0&&s===o-1&&(s=o-2,u=1);let l,c;this.closed||s>0?l=i[(s-1)%o]:(HE.subVectors(i[0],i[1]).add(i[0]),l=HE);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(HE.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=HE),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(l.distanceToSquared(f),h),_=Math.pow(f.distanceToSquared(d),h),y=Math.pow(d.distanceToSquared(c),h);_<1e-4&&(_=1),p<1e-4&&(p=_),y<1e-4&&(y=_),b2.initNonuniformCatmullRom(l.x,f.x,d.x,c.x,p,_,y),w2.initNonuniformCatmullRom(l.y,f.y,d.y,c.y,p,_,y),S2.initNonuniformCatmullRom(l.z,f.z,d.z,c.z,p,_,y)}else this.curveType==="catmullrom"&&(b2.initCatmullRom(l.x,f.x,d.x,c.x,this.tension),w2.initCatmullRom(l.y,f.y,d.y,c.y,this.tension),S2.initCatmullRom(l.z,f.z,d.z,c.z,this.tension));return r.set(b2.calc(u),w2.calc(u),S2.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ue().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function w7(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,u=t*s;return(2*n-2*r+o+a)*u+(-3*n+3*r-2*o-a)*s+o*t+n}function gKe(t,e){const n=1-t;return n*n*e}function yKe(t,e){return 2*(1-t)*t*e}function _Ke(t,e){return t*t*e}function J_(t,e,n,r){return gKe(t,e)+yKe(t,n)+_Ke(t,r)}function bKe(t,e){const n=1-t;return n*n*n*e}function wKe(t,e){const n=1-t;return 3*n*n*t*e}function SKe(t,e){return 3*(1-t)*t*t*e}function EKe(t,e){return t*t*t*e}function Y_(t,e,n,r,i){return bKe(t,e)+wKe(t,n)+SKe(t,r)+EKe(t,i)}class uU extends cu{constructor(e=new Xe,n=new Xe,r=new Xe,i=new Xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Xe){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Y_(e,i.x,o.x,a.x,s.x),Y_(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yoe extends cu{constructor(e=new ue,n=new ue,r=new ue,i=new ue){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ue){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Y_(e,i.x,o.x,a.x,s.x),Y_(e,i.y,o.y,a.y,s.y),Y_(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cU extends cu{constructor(e=new Xe,n=new Xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Xe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Xe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Zoe extends cu{constructor(e=new ue,n=new ue){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fU extends cu{constructor(e=new Xe,n=new Xe,r=new Xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Xe){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(J_(e,i.x,o.x,a.x),J_(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dU extends cu{constructor(e=new ue,n=new ue,r=new ue){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ue){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(J_(e,i.x,o.x,a.x),J_(e,i.y,o.y,a.y),J_(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hU extends cu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Xe){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,u=i[a===0?a:a-1],l=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(w7(s,u.x,l.x,c.x,f.x),w7(s,u.y,l.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Xe().fromArray(i))}return this}}var WC=Object.freeze({__proto__:null,ArcCurve:Xoe,CatmullRomCurve3:Joe,CubicBezierCurve:uU,CubicBezierCurve3:Yoe,EllipseCurve:KM,LineCurve:cU,LineCurve3:Zoe,QuadraticBezierCurve:fU,QuadraticBezierCurve3:dU,SplineCurve:hU});class Qoe extends cu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new WC[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],u=s.getLength(),l=u===0?0:1-a/u;return s.getPointAt(l,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,u=a.getPoints(s);for(let l=0;l<u.length;l++){const c=u[l];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new WC[i.type]().fromJSON(i))}return this}}class Zb extends Qoe{constructor(e){super(),this.type="Path",this.currentPoint=new Xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new cU(this.currentPoint.clone(),new Xe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new fU(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new uU(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i),new Xe(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new hU(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,n+u,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,u){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,n+c,r,i,o,a,s,u),this}absellipse(e,n,r,i,o,a,s,u){const l=new KM(e,n,r,i,o,a,s,u);if(this.curves.length>0){const f=l.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Vw extends Pn{constructor(e=[new Xe(0,-.5),new Xe(.5,0),new Xe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=li(i,0,Math.PI*2);const o=[],a=[],s=[],u=[],l=[],c=1/n,f=new ue,d=new Xe,h=new ue,p=new ue,_=new ue;let y=0,m=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,m=e[b+1].y-e[b].y,h.x=m*1,h.y=-y,h.z=m*0,_.copy(h),h.normalize(),u.push(h.x,h.y,h.z);break;case e.length-1:u.push(_.x,_.y,_.z);break;default:y=e[b+1].x-e[b].x,m=e[b+1].y-e[b].y,h.x=m*1,h.y=-y,h.z=m*0,p.copy(h),h.x+=_.x,h.y+=_.y,h.z+=_.z,h.normalize(),u.push(h.x,h.y,h.z),_.copy(p)}for(let b=0;b<=n;b++){const w=r+b*c*i,S=Math.sin(w),x=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*S,f.y=e[E].y,f.z=e[E].x*x,a.push(f.x,f.y,f.z),d.x=b/n,d.y=E/(e.length-1),s.push(d.x,d.y);const M=u[3*E+0]*S,O=u[3*E+1],C=u[3*E+0]*x;l.push(M,O,C)}}for(let b=0;b<n;b++)for(let w=0;w<e.length-1;w++){const S=w+b*e.length,x=S,E=S+e.length,M=S+e.length+1,O=S+1;o.push(x,E,O),o.push(M,O,E)}this.setIndex(o),this.setAttribute("position",new Yt(a,3)),this.setAttribute("uv",new Yt(s,2)),this.setAttribute("normal",new Yt(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vw(e.points,e.segments,e.phiStart,e.phiLength)}}class XM extends Vw{constructor(e=1,n=1,r=4,i=8){const o=new Zb;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new XM(e.radius,e.length,e.capSegments,e.radialSegments)}}class JM extends Pn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],u=[],l=new ue,c=new Xe;a.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;l.x=e*Math.cos(h),l.y=e*Math.sin(h),a.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,u.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(s,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class B0 extends Pn{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};const l=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],d=[],h=[];let p=0;const _=[],y=r/2;let m=0;b(),a===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(d,3)),this.setAttribute("uv",new Yt(h,2));function b(){const S=new ue,x=new ue;let E=0;const M=(n-e)/r;for(let O=0;O<=o;O++){const C=[],T=O/o,P=T*(n-e)+e;for(let N=0;N<=i;N++){const H=N/i,B=H*u+s,k=Math.sin(B),j=Math.cos(B);x.x=P*k,x.y=-T*r+y,x.z=P*j,f.push(x.x,x.y,x.z),S.set(k,M,j).normalize(),d.push(S.x,S.y,S.z),h.push(H,1-T),C.push(p++)}_.push(C)}for(let O=0;O<i;O++)for(let C=0;C<o;C++){const T=_[C][O],P=_[C+1][O],N=_[C+1][O+1],H=_[C][O+1];c.push(T,P,H),c.push(P,N,H),E+=6}l.addGroup(m,E,0),m+=E}function w(S){const x=p,E=new Xe,M=new ue;let O=0;const C=S===!0?e:n,T=S===!0?1:-1;for(let N=1;N<=i;N++)f.push(0,y*T,0),d.push(0,T,0),h.push(.5,.5),p++;const P=p;for(let N=0;N<=i;N++){const B=N/i*u+s,k=Math.cos(B),j=Math.sin(B);M.x=C*j,M.y=y*T,M.z=C*k,f.push(M.x,M.y,M.z),d.push(0,T,0),E.x=k*.5+.5,E.y=j*.5*T+.5,h.push(E.x,E.y),p++}for(let N=0;N<i;N++){const H=x+N,B=P+N;S===!0?c.push(B,B+1,H):c.push(B+1,B,H),O+=3}l.addGroup(m,O,S===!0?1:2),m+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class YM extends B0{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new YM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jd extends Pn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),l(r),c(),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(o.slice(),3)),this.setAttribute("uv",new Yt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(b){const w=new ue,S=new ue,x=new ue;for(let E=0;E<n.length;E+=3)h(n[E+0],w),h(n[E+1],S),h(n[E+2],x),u(w,S,x,b)}function u(b,w,S,x){const E=x+1,M=[];for(let O=0;O<=E;O++){M[O]=[];const C=b.clone().lerp(S,O/E),T=w.clone().lerp(S,O/E),P=E-O;for(let N=0;N<=P;N++)N===0&&O===E?M[O][N]=C:M[O][N]=C.clone().lerp(T,N/P)}for(let O=0;O<E;O++)for(let C=0;C<2*(E-O)-1;C++){const T=Math.floor(C/2);C%2===0?(d(M[O][T+1]),d(M[O+1][T]),d(M[O][T])):(d(M[O][T+1]),d(M[O+1][T+1]),d(M[O+1][T]))}}function l(b){const w=new ue;for(let S=0;S<o.length;S+=3)w.x=o[S+0],w.y=o[S+1],w.z=o[S+2],w.normalize().multiplyScalar(b),o[S+0]=w.x,o[S+1]=w.y,o[S+2]=w.z}function c(){const b=new ue;for(let w=0;w<o.length;w+=3){b.x=o[w+0],b.y=o[w+1],b.z=o[w+2];const S=y(b)/2/Math.PI+.5,x=m(b)/Math.PI+.5;a.push(S,1-x)}p(),f()}function f(){for(let b=0;b<a.length;b+=6){const w=a[b+0],S=a[b+2],x=a[b+4],E=Math.max(w,S,x),M=Math.min(w,S,x);E>.9&&M<.1&&(w<.2&&(a[b+0]+=1),S<.2&&(a[b+2]+=1),x<.2&&(a[b+4]+=1))}}function d(b){o.push(b.x,b.y,b.z)}function h(b,w){const S=b*3;w.x=e[S+0],w.y=e[S+1],w.z=e[S+2]}function p(){const b=new ue,w=new ue,S=new ue,x=new ue,E=new Xe,M=new Xe,O=new Xe;for(let C=0,T=0;C<o.length;C+=9,T+=6){b.set(o[C+0],o[C+1],o[C+2]),w.set(o[C+3],o[C+4],o[C+5]),S.set(o[C+6],o[C+7],o[C+8]),E.set(a[T+0],a[T+1]),M.set(a[T+2],a[T+3]),O.set(a[T+4],a[T+5]),x.copy(b).add(w).add(S).divideScalar(3);const P=y(x);_(E,T+0,b,P),_(M,T+2,w,P),_(O,T+4,S,P)}}function _(b,w,S,x){x<0&&b.x===1&&(a[w]=b.x-1),S.x===0&&S.z===0&&(a[w]=x/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function m(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jd(e.vertices,e.indices,e.radius,e.details)}}class ZM extends Jd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ZM(e.radius,e.detail)}}const $E=new ue,zE=new ue,E2=new ue,GE=new Pa;class eae extends Pn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(Sp*n),a=e.getIndex(),s=e.getAttribute("position"),u=a?a.count:s.count,l=[0,0,0],c=["a","b","c"],f=new Array(3),d={},h=[];for(let p=0;p<u;p+=3){a?(l[0]=a.getX(p),l[1]=a.getX(p+1),l[2]=a.getX(p+2)):(l[0]=p,l[1]=p+1,l[2]=p+2);const{a:_,b:y,c:m}=GE;if(_.fromBufferAttribute(s,l[0]),y.fromBufferAttribute(s,l[1]),m.fromBufferAttribute(s,l[2]),GE.getNormal(E2),f[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const w=(b+1)%3,S=f[b],x=f[w],E=GE[c[b]],M=GE[c[w]],O=`${S}_${x}`,C=`${x}_${S}`;C in d&&d[C]?(E2.dot(d[C].normal)<=o&&(h.push(E.x,E.y,E.z),h.push(M.x,M.y,M.z)),d[C]=null):O in d||(d[O]={index0:l[b],index1:l[w],normal:E2.clone()})}}for(const p in d)if(d[p]){const{index0:_,index1:y}=d[p];$E.fromBufferAttribute(s,_),zE.fromBufferAttribute(s,y),h.push($E.x,$E.y,$E.z),h.push(zE.x,zE.y,zE.z)}this.setAttribute("position",new Yt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xp extends Zb{constructor(e){super(e),this.uuid=fs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Zb().fromJSON(i))}return this}}const xKe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=tae(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,u,l,c,f,d,h;if(r&&(o=OKe(t,e,o,n)),t.length>80*n){s=l=t[0],u=c=t[1];for(let p=n;p<i;p+=n)f=t[p],d=t[p+1],f<s&&(s=f),d<u&&(u=d),f>l&&(l=f),d>c&&(c=d);h=Math.max(l-s,c-u),h=h!==0?32767/h:0}return Qb(o,a,n,s,u,h,0),a}};function tae(t,e,n,r,i){let o,a;if(i===jKe(t,e,n,r)>0)for(o=e;o<n;o+=r)a=S7(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=S7(o,t[o],t[o+1],a);return a&&QM(a,a.next)&&(tw(a),a=a.next),a}function Wp(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(QM(n,n.next)||Zr(n.prev,n,n.next)===0)){if(tw(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Qb(t,e,n,r,i,o,a){if(!t)return;!a&&o&&LKe(t,r,i,o);let s=t,u,l;for(;t.prev!==t.next;){if(u=t.prev,l=t.next,o?CKe(t,r,i,o):AKe(t)){e.push(u.i/n|0),e.push(t.i/n|0),e.push(l.i/n|0),tw(t),t=l.next,s=l.next;continue}if(t=l,t===s){a?a===1?(t=TKe(Wp(t),e,n),Qb(t,e,n,r,i,o,2)):a===2&&MKe(t,e,n,r,i,o):Qb(Wp(t),e,n,r,i,o,1);break}}}function AKe(t){const e=t.prev,n=t,r=t.next;if(Zr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,u=n.y,l=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<u?s<l?s:l:u<l?u:l,d=i>o?i>a?i:a:o>a?o:a,h=s>u?s>l?s:l:u>l?u:l;let p=r.next;for(;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=f&&p.y<=h&&eg(i,s,o,u,a,l,p.x,p.y)&&Zr(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function CKe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Zr(i,o,a)>=0)return!1;const s=i.x,u=o.x,l=a.x,c=i.y,f=o.y,d=a.y,h=s<u?s<l?s:l:u<l?u:l,p=c<f?c<d?c:d:f<d?f:d,_=s>u?s>l?s:l:u>l?u:l,y=c>f?c>d?c:d:f>d?f:d,m=JN(h,p,e,n,r),b=JN(_,y,e,n,r);let w=t.prevZ,S=t.nextZ;for(;w&&w.z>=m&&S&&S.z<=b;){if(w.x>=h&&w.x<=_&&w.y>=p&&w.y<=y&&w!==i&&w!==a&&eg(s,c,u,f,l,d,w.x,w.y)&&Zr(w.prev,w,w.next)>=0||(w=w.prevZ,S.x>=h&&S.x<=_&&S.y>=p&&S.y<=y&&S!==i&&S!==a&&eg(s,c,u,f,l,d,S.x,S.y)&&Zr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;w&&w.z>=m;){if(w.x>=h&&w.x<=_&&w.y>=p&&w.y<=y&&w!==i&&w!==a&&eg(s,c,u,f,l,d,w.x,w.y)&&Zr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;S&&S.z<=b;){if(S.x>=h&&S.x<=_&&S.y>=p&&S.y<=y&&S!==i&&S!==a&&eg(s,c,u,f,l,d,S.x,S.y)&&Zr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function TKe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!QM(i,o)&&nae(i,r,r.next,o)&&ew(i,o)&&ew(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),tw(r),tw(r.next),r=t=o),r=r.next}while(r!==t);return Wp(r)}function MKe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&FKe(a,s)){let u=rae(a,s);a=Wp(a,a.next),u=Wp(u,u.next),Qb(a,e,n,r,i,o,0),Qb(u,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function OKe(t,e,n,r){const i=[];let o,a,s,u,l;for(o=0,a=e.length;o<a;o++)s=e[o]*r,u=o<a-1?e[o+1]*r:t.length,l=tae(t,s,u,r,!1),l===l.next&&(l.steiner=!0),i.push(BKe(l));for(i.sort(IKe),o=0;o<i.length;o++)n=RKe(i[o],n);return n}function IKe(t,e){return t.x-e.x}function RKe(t,e){const n=PKe(t,e);if(!n)return e;const r=rae(n,t);return Wp(r,r.next),Wp(n,n.next)}function PKe(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,u=i.x,l=i.y;let c=1/0,f;n=i;do o>=n.x&&n.x>=u&&o!==n.x&&eg(a<l?o:r,a,u,l,a<l?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),ew(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&DKe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function DKe(t,e){return Zr(t.prev,t,e.prev)<0&&Zr(e.next,t,t.next)<0}function LKe(t,e,n,r){let i=t;do i.z===0&&(i.z=JN(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,NKe(i)}function NKe(t){let e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ,!!r);e++);for(u=l;s>0||u>0&&r;)s!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return t}function JN(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function BKe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function eg(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function FKe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kKe(t,e)&&(ew(t,e)&&ew(e,t)&&UKe(t,e)&&(Zr(t.prev,t,e.prev)||Zr(t,e.prev,e))||QM(t,e)&&Zr(t.prev,t,t.next)>0&&Zr(e.prev,e,e.next)>0)}function Zr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function QM(t,e){return t.x===e.x&&t.y===e.y}function nae(t,e,n,r){const i=VE(Zr(t,e,n)),o=VE(Zr(t,e,r)),a=VE(Zr(n,r,t)),s=VE(Zr(n,r,e));return!!(i!==o&&a!==s||i===0&&WE(t,n,e)||o===0&&WE(t,r,e)||a===0&&WE(n,t,r)||s===0&&WE(n,e,r))}function WE(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function VE(t){return t>0?1:t<0?-1:0}function kKe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&nae(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ew(t,e){return Zr(t.prev,t,t.next)<0?Zr(t,e,t.next)>=0&&Zr(t,t.prev,e)>=0:Zr(t,e,t.prev)<0||Zr(t,t.next,e)<0}function UKe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function rae(t,e){const n=new YN(t.i,t.x,t.y),r=new YN(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S7(t,e,n,r){const i=new YN(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function tw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function YN(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jKe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Ku{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ku.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];E7(e),x7(r,e);let a=e.length;n.forEach(E7);for(let u=0;u<n.length;u++)i.push(a),a+=n[u].length,x7(r,n[u]);const s=xKe.triangulate(r,i);for(let u=0;u<s.length;u+=3)o.push(s.slice(u,u+3));return o}}function E7(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function x7(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class eO extends Pn{constructor(e=new xp([new Xe(.5,.5),new Xe(-.5,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,u=e.length;s<u;s++){const l=e[s];a(l)}this.setAttribute("position",new Yt(i,3)),this.setAttribute("uv",new Yt(o,2)),this.computeVertexNormals();function a(s){const u=[],l=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:HKe;let w,S=!1,x,E,M,O;m&&(w=m.getSpacedPoints(c),S=!0,d=!1,x=m.computeFrenetFrames(c,!1),E=new ue,M=new ue,O=new ue),d||(y=0,h=0,p=0,_=0);const C=s.extractPoints(l);let T=C.shape;const P=C.holes;if(!Ku.isClockWise(T)){T=T.reverse();for(let ne=0,Me=P.length;ne<Me;ne++){const Ce=P[ne];Ku.isClockWise(Ce)&&(P[ne]=Ce.reverse())}}const H=Ku.triangulateShape(T,P),B=T;for(let ne=0,Me=P.length;ne<Me;ne++){const Ce=P[ne];T=T.concat(Ce)}function k(ne,Me,Ce){return Me||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(Me,Ce)}const j=T.length,$=H.length;function F(ne,Me,Ce){let K,U,G;const te=ne.x-Me.x,q=ne.y-Me.y,V=Ce.x-ne.x,ae=Ce.y-ne.y,Ae=te*te+q*q,Oe=te*ae-q*V;if(Math.abs(Oe)>Number.EPSILON){const Te=Math.sqrt(Ae),Ue=Math.sqrt(V*V+ae*ae),Be=Me.x-q/Te,Qe=Me.y+te/Te,Ze=Ce.x-ae/Ue,at=Ce.y+V/Ue,ke=((Ze-Be)*ae-(at-Qe)*V)/(te*ae-q*V);K=Be+te*ke-ne.x,U=Qe+q*ke-ne.y;const Tt=K*K+U*U;if(Tt<=2)return new Xe(K,U);G=Math.sqrt(Tt/2)}else{let Te=!1;te>Number.EPSILON?V>Number.EPSILON&&(Te=!0):te<-Number.EPSILON?V<-Number.EPSILON&&(Te=!0):Math.sign(q)===Math.sign(ae)&&(Te=!0),Te?(K=-q,U=te,G=Math.sqrt(Ae)):(K=te,U=q,G=Math.sqrt(Ae/2))}return new Xe(K/G,U/G)}const R=[];for(let ne=0,Me=B.length,Ce=Me-1,K=ne+1;ne<Me;ne++,Ce++,K++)Ce===Me&&(Ce=0),K===Me&&(K=0),R[ne]=F(B[ne],B[Ce],B[K]);const L=[];let W,Z=R.concat();for(let ne=0,Me=P.length;ne<Me;ne++){const Ce=P[ne];W=[];for(let K=0,U=Ce.length,G=U-1,te=K+1;K<U;K++,G++,te++)G===U&&(G=0),te===U&&(te=0),W[K]=F(Ce[K],Ce[G],Ce[te]);L.push(W),Z=Z.concat(W)}for(let ne=0;ne<y;ne++){const Me=ne/y,Ce=h*Math.cos(Me*Math.PI/2),K=p*Math.sin(Me*Math.PI/2)+_;for(let U=0,G=B.length;U<G;U++){const te=k(B[U],R[U],K);ce(te.x,te.y,-Ce)}for(let U=0,G=P.length;U<G;U++){const te=P[U];W=L[U];for(let q=0,V=te.length;q<V;q++){const ae=k(te[q],W[q],K);ce(ae.x,ae.y,-Ce)}}}const ee=p+_;for(let ne=0;ne<j;ne++){const Me=d?k(T[ne],Z[ne],ee):T[ne];S?(M.copy(x.normals[0]).multiplyScalar(Me.x),E.copy(x.binormals[0]).multiplyScalar(Me.y),O.copy(w[0]).add(M).add(E),ce(O.x,O.y,O.z)):ce(Me.x,Me.y,0)}for(let ne=1;ne<=c;ne++)for(let Me=0;Me<j;Me++){const Ce=d?k(T[Me],Z[Me],ee):T[Me];S?(M.copy(x.normals[ne]).multiplyScalar(Ce.x),E.copy(x.binormals[ne]).multiplyScalar(Ce.y),O.copy(w[ne]).add(M).add(E),ce(O.x,O.y,O.z)):ce(Ce.x,Ce.y,f/c*ne)}for(let ne=y-1;ne>=0;ne--){const Me=ne/y,Ce=h*Math.cos(Me*Math.PI/2),K=p*Math.sin(Me*Math.PI/2)+_;for(let U=0,G=B.length;U<G;U++){const te=k(B[U],R[U],K);ce(te.x,te.y,f+Ce)}for(let U=0,G=P.length;U<G;U++){const te=P[U];W=L[U];for(let q=0,V=te.length;q<V;q++){const ae=k(te[q],W[q],K);S?ce(ae.x,ae.y+w[c-1].y,w[c-1].x+Ce):ce(ae.x,ae.y,f+Ce)}}}oe(),pe();function oe(){const ne=i.length/3;if(d){let Me=0,Ce=j*Me;for(let K=0;K<$;K++){const U=H[K];ve(U[2]+Ce,U[1]+Ce,U[0]+Ce)}Me=c+y*2,Ce=j*Me;for(let K=0;K<$;K++){const U=H[K];ve(U[0]+Ce,U[1]+Ce,U[2]+Ce)}}else{for(let Me=0;Me<$;Me++){const Ce=H[Me];ve(Ce[2],Ce[1],Ce[0])}for(let Me=0;Me<$;Me++){const Ce=H[Me];ve(Ce[0]+j*c,Ce[1]+j*c,Ce[2]+j*c)}}r.addGroup(ne,i.length/3-ne,0)}function pe(){const ne=i.length/3;let Me=0;ie(B,Me),Me+=B.length;for(let Ce=0,K=P.length;Ce<K;Ce++){const U=P[Ce];ie(U,Me),Me+=U.length}r.addGroup(ne,i.length/3-ne,1)}function ie(ne,Me){let Ce=ne.length;for(;--Ce>=0;){const K=Ce;let U=Ce-1;U<0&&(U=ne.length-1);for(let G=0,te=c+y*2;G<te;G++){const q=j*G,V=j*(G+1),ae=Me+K+q,Ae=Me+U+q,Oe=Me+U+V,Te=Me+K+V;xe(ae,Ae,Oe,Te)}}}function ce(ne,Me,Ce){u.push(ne),u.push(Me),u.push(Ce)}function ve(ne,Me,Ce){he(ne),he(Me),he(Ce);const K=i.length/3,U=b.generateTopUV(r,i,K-3,K-2,K-1);we(U[0]),we(U[1]),we(U[2])}function xe(ne,Me,Ce,K){he(ne),he(Me),he(K),he(Me),he(Ce),he(K);const U=i.length/3,G=b.generateSideWallUV(r,i,U-6,U-3,U-2,U-1);we(G[0]),we(G[1]),we(G[3]),we(G[1]),we(G[2]),we(G[3])}function he(ne){i.push(u[ne*3+0]),i.push(u[ne*3+1]),i.push(u[ne*3+2])}function we(ne){o.push(ne.x),o.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return $Ke(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new WC[i.type]().fromJSON(i)),new eO(r,e.options)}}const HKe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],u=e[r*3+1],l=e[i*3],c=e[i*3+1];return[new Xe(o,a),new Xe(s,u),new Xe(l,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],u=e[n*3+2],l=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],p=e[i*3+2],_=e[o*3],y=e[o*3+1],m=e[o*3+2];return Math.abs(s-c)<Math.abs(a-l)?[new Xe(a,1-u),new Xe(l,1-f),new Xe(d,1-p),new Xe(_,1-m)]:[new Xe(s,1-u),new Xe(c,1-f),new Xe(h,1-p),new Xe(y,1-m)]}};function $Ke(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class qw extends Jd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qw(e.radius,e.detail)}}class Kw extends Jd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Kw(e.radius,e.detail)}}class tO extends Pn{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],u=[],l=[],c=[];let f=e;const d=(n-e)/i,h=new ue,p=new Xe;for(let _=0;_<=i;_++){for(let y=0;y<=r;y++){const m=o+y/r*a;h.x=f*Math.cos(m),h.y=f*Math.sin(m),u.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,c.push(p.x,p.y)}f+=d}for(let _=0;_<i;_++){const y=_*(r+1);for(let m=0;m<r;m++){const b=m+y,w=b,S=b+r+1,x=b+r+2,E=b+1;s.push(w,S,E),s.push(S,x,E)}}this.setIndex(s),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tO(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class nO extends Pn{constructor(e=new xp([new Xe(0,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,u=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.setAttribute("position",new Yt(i,3)),this.setAttribute("normal",new Yt(o,3)),this.setAttribute("uv",new Yt(a,2));function l(c){const f=i.length/3,d=c.extractPoints(n);let h=d.shape;const p=d.holes;Ku.isClockWise(h)===!1&&(h=h.reverse());for(let y=0,m=p.length;y<m;y++){const b=p[y];Ku.isClockWise(b)===!0&&(p[y]=b.reverse())}const _=Ku.triangulateShape(h,p);for(let y=0,m=p.length;y<m;y++){const b=p[y];h=h.concat(b)}for(let y=0,m=h.length;y<m;y++){const b=h[y];i.push(b.x,b.y,0),o.push(0,0,1),a.push(b.x,b.y)}for(let y=0,m=_.length;y<m;y++){const b=_[y],w=b[0]+f,S=b[1]+f,x=b[2]+f;r.push(w,S,x),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return zKe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new nO(r,e.curveSegments)}}function zKe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Xw extends Pn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const u=Math.min(a+s,Math.PI);let l=0;const c=[],f=new ue,d=new ue,h=[],p=[],_=[],y=[];for(let m=0;m<=r;m++){const b=[],w=m/r;let S=0;m===0&&a===0?S=.5/n:m===r&&u===Math.PI&&(S=-.5/n);for(let x=0;x<=n;x++){const E=x/n;f.x=-e*Math.cos(i+E*o)*Math.sin(a+w*s),f.y=e*Math.cos(a+w*s),f.z=e*Math.sin(i+E*o)*Math.sin(a+w*s),p.push(f.x,f.y,f.z),d.copy(f).normalize(),_.push(d.x,d.y,d.z),y.push(E+S,1-w),b.push(l++)}c.push(b)}for(let m=0;m<r;m++)for(let b=0;b<n;b++){const w=c[m][b+1],S=c[m][b],x=c[m+1][b],E=c[m+1][b+1];(m!==0||a>0)&&h.push(w,S,E),(m!==r-1||u<Math.PI)&&h.push(S,x,E)}this.setIndex(h),this.setAttribute("position",new Yt(p,3)),this.setAttribute("normal",new Yt(_,3)),this.setAttribute("uv",new Yt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rO extends Jd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rO(e.radius,e.detail)}}class iO extends Pn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],u=[],l=[],c=new ue,f=new ue,d=new ue;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const _=p/i*o,y=h/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(_),f.y=(e+n*Math.cos(y))*Math.sin(_),f.z=n*Math.sin(y),s.push(f.x,f.y,f.z),c.x=e*Math.cos(_),c.y=e*Math.sin(_),d.subVectors(f,c).normalize(),u.push(d.x,d.y,d.z),l.push(p/i),l.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const _=(i+1)*h+p-1,y=(i+1)*(h-1)+p-1,m=(i+1)*(h-1)+p,b=(i+1)*h+p;a.push(_,y,b),a.push(y,m,b)}this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iO(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class oO extends Pn{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],u=[],l=[],c=[],f=new ue,d=new ue,h=new ue,p=new ue,_=new ue,y=new ue,m=new ue;for(let w=0;w<=r;++w){const S=w/r*o*Math.PI*2;b(S,o,a,e,h),b(S+.01,o,a,e,p),y.subVectors(p,h),m.addVectors(p,h),_.crossVectors(y,m),m.crossVectors(_,y),_.normalize(),m.normalize();for(let x=0;x<=i;++x){const E=x/i*Math.PI*2,M=-n*Math.cos(E),O=n*Math.sin(E);f.x=h.x+(M*m.x+O*_.x),f.y=h.y+(M*m.y+O*_.y),f.z=h.z+(M*m.z+O*_.z),u.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),l.push(d.x,d.y,d.z),c.push(w/r),c.push(x/i)}}for(let w=1;w<=r;w++)for(let S=1;S<=i;S++){const x=(i+1)*(w-1)+(S-1),E=(i+1)*w+(S-1),M=(i+1)*w+S,O=(i+1)*(w-1)+S;s.push(x,E,O),s.push(E,M,O)}this.setIndex(s),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(c,2));function b(w,S,x,E,M){const O=Math.cos(w),C=Math.sin(w),T=x/S*w,P=Math.cos(T);M.x=E*(2+P)*.5*O,M.y=E*(2+P)*C*.5,M.z=E*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oO(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class aO extends Pn{constructor(e=new dU(new ue(-1,-1,0),new ue(-1,1,0),new ue(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new ue,u=new ue,l=new Xe;let c=new ue;const f=[],d=[],h=[],p=[];_(),this.setIndex(p),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(d,3)),this.setAttribute("uv",new Yt(h,2));function _(){for(let w=0;w<n;w++)y(w);y(o===!1?n:0),b(),m()}function y(w){c=e.getPointAt(w/n,c);const S=a.normals[w],x=a.binormals[w];for(let E=0;E<=i;E++){const M=E/i*Math.PI*2,O=Math.sin(M),C=-Math.cos(M);u.x=C*S.x+O*x.x,u.y=C*S.y+O*x.y,u.z=C*S.z+O*x.z,u.normalize(),d.push(u.x,u.y,u.z),s.x=c.x+r*u.x,s.y=c.y+r*u.y,s.z=c.z+r*u.z,f.push(s.x,s.y,s.z)}}function m(){for(let w=1;w<=n;w++)for(let S=1;S<=i;S++){const x=(i+1)*(w-1)+(S-1),E=(i+1)*w+(S-1),M=(i+1)*w+S,O=(i+1)*(w-1)+S;p.push(x,E,O),p.push(E,M,O)}}function b(){for(let w=0;w<=n;w++)for(let S=0;S<=i;S++)l.x=w/n,l.y=S/i,h.push(l.x,l.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new aO(new WC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class iae extends Pn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ue,o=new ue;if(e.index!==null){const a=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let l=0,c=u.length;l<c;++l){const f=u[l],d=f.start,h=f.count;for(let p=d,_=d+h;p<_;p+=3)for(let y=0;y<3;y++){const m=s.getX(p+y),b=s.getX(p+(y+1)%3);i.fromBufferAttribute(a,m),o.fromBufferAttribute(a,b),A7(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,u=a.count/3;s<u;s++)for(let l=0;l<3;l++){const c=3*s+l,f=3*s+(l+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,f),A7(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Yt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function A7(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var C7=Object.freeze({__proto__:null,BoxGeometry:lm,CapsuleGeometry:XM,CircleGeometry:JM,ConeGeometry:YM,CylinderGeometry:B0,DodecahedronGeometry:ZM,EdgesGeometry:eae,ExtrudeGeometry:eO,IcosahedronGeometry:qw,LatheGeometry:Vw,OctahedronGeometry:Kw,PlaneGeometry:Xd,PolyhedronGeometry:Jd,RingGeometry:tO,ShapeGeometry:nO,SphereGeometry:Xw,TetrahedronGeometry:rO,TorusGeometry:iO,TorusKnotGeometry:oO,TubeGeometry:aO,WireframeGeometry:iae});class oae extends $i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class aae extends Ho{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Jw extends $i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wl extends Jw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return li(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class sae extends $i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lae extends $i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class uae extends $i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class pU extends $i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cae extends $i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kd,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fae extends zo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function lp(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function dae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hae(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function ZN(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let u=0;u!==e;++u)i[a++]=t[s+u]}return i}function mU(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function GKe(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let u=0;u<o.tracks.length;++u){const l=o.tracks[u],c=l.getValueSize(),f=[],d=[];for(let h=0;h<l.times.length;++h){const p=l.times[h]*i;if(!(p<n||p>=r)){f.push(l.times[h]);for(let _=0;_<c;++_)d.push(l.values[h*c+_])}}f.length!==0&&(l.times=lp(f,l.times.constructor),l.values=lp(d,l.values.constructor),a.push(l))}o.tracks=a;let s=1/0;for(let u=0;u<o.tracks.length;++u)s>o.tracks[u].times[0]&&(s=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*s);return o.resetDuration(),o}function WKe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const l=t.tracks.find(function(m){return m.name===s.name&&m.ValueTypeName===u});if(l===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const h=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const p=s.times.length-1;let _;if(o<=s.times[0]){const m=c,b=f-c;_=s.values.slice(m,b)}else if(o>=s.times[p]){const m=p*f+c,b=m+f-c;_=s.values.slice(m,b)}else{const m=s.createInterpolant(),b=c,w=f-c;m.evaluate(o),_=m.resultBuffer.slice(b,w)}u==="quaternion"&&new yi().fromArray(_).normalize().conjugate().toArray(_);const y=l.times.length;for(let m=0;m<y;++m){const b=m*h+d;if(u==="quaternion")yi.multiplyQuaternionsFlat(l.values,b,_,0,l.values,b);else{const w=h-d*2;for(let S=0;S<w;++S)l.values[b+S]-=_[S]}}}return t.blendMode=zk,t}const VKe={convertArray:lp,isTypedArray:dae,getKeyframeOrder:hae,sortedArray:ZN,flattenJSON:mU,subclip:GKe,makeClipAdditive:WKe};class F0{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let u=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pae extends F0{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ip,endingEnd:ip}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],u=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case op:o=e,s=2*n-r;break;case Vb:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(u===void 0)switch(this.getSettings_().endingEnd){case op:a=e,u=2*r-n;break;case Vb:a=1,u=r+i[1]-i[0];break;default:a=e-1,u=n}const l=(r-n)*.5,c=this.valueSize;this._weightPrev=l/(n-s),this._weightNext=l/(u-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,l=u-s,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-n)/(i-n),_=p*p,y=_*p,m=-d*y+2*d*_-d*p,b=(1+d)*y+(-1.5-2*d)*_+(-.5+d)*p+1,w=(-1-h)*y+(1.5+h)*_+.5*p,S=h*y-h*_;for(let x=0;x!==s;++x)o[x]=m*a[c+x]+b*a[l+x]+w*a[u+x]+S*a[f+x];return o}}class vU extends F0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,l=u-s,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==s;++d)o[d]=a[l+d]*f+a[u+d]*c;return o}}class mae extends F0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fu{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lp(n,this.TimeBufferType),this.values=lp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:lp(e.times,Array),values:lp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mae(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pae(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case s0:n=this.InterpolantFactoryMethodDiscrete;break;case zp:n=this.InterpolantFactoryMethodLinear;break;case Qx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return s0;case this.InterpolantFactoryMethodLinear:return zp;case this.InterpolantFactoryMethodSmooth:return Qx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const u=r[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(a!==null&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,a),e=!1;break}a=u}if(i!==void 0&&dae(i))for(let s=0,u=i.length;s!==u;++s){const l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Qx,o=e.length-1;let a=1;for(let s=1;s<o;++s){let u=!1;const l=e[s],c=e[s+1];if(l!==c&&(s!==1||l!==e[0]))if(i)u=!0;else{const f=s*r,d=f-r,h=f+r;for(let p=0;p!==r;++p){const _=n[f+p];if(_!==n[d+p]||_!==n[h+p]){u=!0;break}}}if(u){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,u=a*r,l=0;l!==r;++l)n[u+l]=n[s+l];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}fu.prototype.TimeBufferType=Float32Array;fu.prototype.ValueBufferType=Float32Array;fu.prototype.DefaultInterpolation=zp;class um extends fu{}um.prototype.ValueTypeName="bool";um.prototype.ValueBufferType=Array;um.prototype.DefaultInterpolation=s0;um.prototype.InterpolantFactoryMethodLinear=void 0;um.prototype.InterpolantFactoryMethodSmooth=void 0;class gU extends fu{}gU.prototype.ValueTypeName="color";class Vp extends fu{}Vp.prototype.ValueTypeName="number";class vae extends F0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=(r-n)/(i-n);let l=e*s;for(let c=l+s;l!==c;l+=4)yi.slerpFlat(o,0,a,l-s,a,l,u);return o}}class jd extends fu{InterpolantFactoryMethodLinear(e){return new vae(this.times,this.values,this.getValueSize(),e)}}jd.prototype.ValueTypeName="quaternion";jd.prototype.DefaultInterpolation=zp;jd.prototype.InterpolantFactoryMethodSmooth=void 0;class cm extends fu{}cm.prototype.ValueTypeName="string";cm.prototype.ValueBufferType=Array;cm.prototype.DefaultInterpolation=s0;cm.prototype.InterpolantFactoryMethodLinear=void 0;cm.prototype.InterpolantFactoryMethodSmooth=void 0;class qp extends fu{}qp.prototype.ValueTypeName="vector";class f0{constructor(e,n=-1,r,i=FM){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(KKe(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(fu.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let u=[],l=[];u.push((s+o-1)%o,s,(s+1)%o),l.push(0,1,0);const c=hae(u);u=ZN(u,1,c),l=ZN(l,1,c),!i&&u[0]===0&&(u.push(o),l.push(l[0])),a.push(new Vp(".morphTargetInfluences["+n[s].name+"]",u,l).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const l=e[s],c=l.name.match(o);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(l)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,p,_){if(h.length!==0){const y=[],m=[];mU(h,y,m,p),y.length!==0&&_.push(new f(d,y,m))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let u=e.length||-1;const l=e.hierarchy||[];for(let f=0;f<l.length;f++){const d=l[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let _=0;_<d[p].morphTargets.length;_++)h[d[p].morphTargets[_]]=-1;for(const _ in h){const y=[],m=[];for(let b=0;b!==d[p].morphTargets.length;++b){const w=d[p];y.push(w.time),m.push(w.morphTarget===_?1:0)}i.push(new Vp(".morphTargetInfluence["+_+"]",y,m))}u=h.length*a}else{const h=".bones["+n[f].name+"]";r(qp,h+".position",d,"pos",i),r(jd,h+".quaternion",d,"rot",i),r(qp,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,u,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qKe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vp;case"vector":case"vector2":case"vector3":case"vector4":return qp;case"color":return gU;case"quaternion":return jd;case"bool":case"boolean":return um;case"string":return cm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function KKe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=qKe(t.type);if(t.times===void 0){const n=[],r=[];mU(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Gc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class sO{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,u;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return u?u(c):c},this.setURLModifier=function(c){return u=c,this},this.addHandler=function(c,f){return l.push(c,f),this},this.removeHandler=function(c){const f=l.indexOf(c);return f!==-1&&l.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=l.length;f<d;f+=2){const h=l[f],p=l[f+1];if(h.global&&(h.lastIndex=0),h.test(c))return p}return null}}}const gae=new sO;class _o{constructor(e){this.manager=e!==void 0?e:gae,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}_o.DEFAULT_MATERIAL_NAME="__DEFAULT";const Cc={};class XKe extends Error{constructor(e,n){super(e),this.response=n}}class mo extends _o{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Gc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Cc[e]!==void 0){Cc[e].push({onLoad:n,onProgress:r,onError:i});return}Cc[e]=[],Cc[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;const c=Cc[e],f=l.body.getReader(),d=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),h=d?parseInt(d):0,p=h!==0;let _=0;const y=new ReadableStream({start(m){b();function b(){f.read().then(({done:w,value:S})=>{if(w)m.close();else{_+=S.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:_,total:h});for(let E=0,M=c.length;E<M;E++){const O=c[E];O.onProgress&&O.onProgress(x)}m.enqueue(S),b()}})}}});return new Response(y)}else throw new XKe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(u){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return l.json();default:if(s===void 0)return l.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return l.arrayBuffer().then(p=>h.decode(p))}}}).then(l=>{Gc.add(e,l);const c=Cc[e];delete Cc[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onLoad&&h.onLoad(l)}}).catch(l=>{const c=Cc[e];if(c===void 0)throw this.manager.itemError(e),l;delete Cc[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onError&&h.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class JKe extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new mo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=f0.parse(e[r]);n.push(i)}return n}}class YKe extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new qM,u=new mo(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(o.withCredentials);let l=0;function c(f){u.load(e[f],function(d){const h=o.parse(d,!0);a[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},l+=1,l===6&&(h.mipmapCount===1&&(s.minFilter=tr),s.image=a,s.format=h.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else u.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let p=0;p<h;p++){a[p]={mipmaps:[]};for(let _=0;_<d.mipmapCount;_++)a[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+_]),a[p].format=d.format,a[p].width=d.width,a[p].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=tr),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class nw extends _o{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Gc.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=Yb("img");function u(){c(),Gc.add(e,this),n&&n(this),o.manager.itemEnd(e)}function l(f){c(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",u,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",l,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class yae extends _o{constructor(e){super(e)}load(e,n,r,i){const o=new Hw;o.colorSpace=Mi;const a=new nw(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function u(l){a.load(e[l],function(c){o.images[l]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let l=0;l<e.length;++l)u(l);return o}}class yU extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Od,s=new mo(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(u){let l;try{l=o.parse(u)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}l.image!==void 0?a.image=l.image:l.data!==void 0&&(a.image.width=l.width,a.image.height=l.height,a.image.data=l.data),a.wrapS=l.wrapS!==void 0?l.wrapS:Br,a.wrapT=l.wrapT!==void 0?l.wrapT:Br,a.magFilter=l.magFilter!==void 0?l.magFilter:tr,a.minFilter=l.minFilter!==void 0?l.minFilter:tr,a.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.colorSpace!==void 0?a.colorSpace=l.colorSpace:l.encoding!==void 0&&(a.encoding=l.encoding),l.flipY!==void 0&&(a.flipY=l.flipY),l.format!==void 0&&(a.format=l.format),l.type!==void 0&&(a.type=l.type),l.mipmaps!==void 0&&(a.mipmaps=l.mipmaps,a.minFilter=tc),l.mipmapCount===1&&(a.minFilter=tr),l.generateMipmaps!==void 0&&(a.generateMipmaps=l.generateMipmaps),a.needsUpdate=!0,n&&n(a,l)},r,i),a}}class _ae extends _o{constructor(e){super(e)}load(e,n,r,i){const o=new hr,a=new nw(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Yd extends Qn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class bae extends Yd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const x2=new un,T7=new ue,M7=new ue;class _U{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xe(512,512),this.map=null,this.mapPass=null,this.matrix=new un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $w,this._frameExtents=new Xe(1,1),this._viewportCount=1,this._viewports=[new dr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;T7.setFromMatrixPosition(e.matrixWorld),n.position.copy(T7),M7.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(M7),n.updateMatrixWorld(),x2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x2),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(x2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ZKe extends _U{constructor(){super(new ui(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=u0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bU extends Yd{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new ZKe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const O7=new un,$y=new ue,A2=new ue;class QKe extends _U{constructor(){super(new ui(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xe(4,2),this._viewportCount=6,this._viewports=[new dr(2,1,1,1),new dr(0,1,1,1),new dr(3,1,1,1),new dr(1,1,1,1),new dr(3,0,1,1),new dr(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),$y.setFromMatrixPosition(e.matrixWorld),r.position.copy($y),A2.copy(r.position),A2.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(A2),r.updateMatrixWorld(),i.makeTranslation(-$y.x,-$y.y,-$y.z),O7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O7)}}class wU extends Yd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new QKe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class eXe extends _U{constructor(){super(new qu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class SU extends Yd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.shadow=new eXe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wae extends Yd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Sae extends Yd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Eae{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ue)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class xae extends Yd{constructor(e=new Eae,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class lO extends _o{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new mo(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=lO.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new Rt().setHex(a.value);break;case"v2":i.uniforms[o].value=new Xe().fromArray(a.value);break;case"v3":i.uniforms[o].value=new ue().fromArray(a.value);break;case"v4":i.uniforms[o].value=new dr().fromArray(a.value);break;case"m3":i.uniforms[o].value=new kn().fromArray(a.value);break;case"m4":i.uniforms[o].value=new un().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Xe().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:oae,SpriteMaterial:rU,RawShaderMaterial:aae,ShaderMaterial:Ho,PointsMaterial:VM,MeshPhysicalMaterial:wl,MeshStandardMaterial:Jw,MeshPhongMaterial:sae,MeshToonMaterial:lae,MeshNormalMaterial:uae,MeshLambertMaterial:pU,MeshDepthMaterial:HM,MeshDistanceMaterial:nU,MeshBasicMaterial:Ba,MeshMatcapMaterial:cae,LineDashedMaterial:fae,LineBasicMaterial:zo,Material:$i};return new n[e]}}class Id{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Aae extends Pn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Cae extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new mo(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,p){if(n[p]!==void 0)return n[p];const y=h.interleavedBuffers[p],m=o(h,y.buffer),b=Yv(y.type,m),w=new Gw(b,y.stride);return w.uuid=y.uuid,n[p]=w,w}function o(h,p){if(r[p]!==void 0)return r[p];const y=h.arrayBuffers[p],m=new Uint32Array(y).buffer;return r[p]=m,m}const a=e.isInstancedBufferGeometry?new Aae:new Pn,s=e.data.index;if(s!==void 0){const h=Yv(s.type,s.array);a.setIndex(new er(h,1))}const u=e.data.attributes;for(const h in u){const p=u[h];let _;if(p.isInterleavedBufferAttribute){const y=i(e.data,p.data);_=new Ud(y,p.itemSize,p.offset,p.normalized)}else{const y=Yv(p.type,p.array),m=p.isInstancedBufferAttribute?Gp:er;_=new m(y,p.itemSize,p.normalized)}p.name!==void 0&&(_.name=p.name),p.usage!==void 0&&_.setUsage(p.usage),a.setAttribute(h,_)}const l=e.data.morphAttributes;if(l)for(const h in l){const p=l[h],_=[];for(let y=0,m=p.length;y<m;y++){const b=p[y];let w;if(b.isInterleavedBufferAttribute){const S=i(e.data,b.data);w=new Ud(S,b.itemSize,b.offset,b.normalized)}else{const S=Yv(b.type,b.array);w=new er(S,b.itemSize,b.normalized)}b.name!==void 0&&(w.name=b.name),_.push(w)}a.morphAttributes[h]=_}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,p=f.length;h!==p;++h){const _=f[h];a.addGroup(_.start,_.count,_.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new ue;d.center!==void 0&&h.fromArray(d.center),a.boundingSphere=new oo(h,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class tXe extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?Id.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new mo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let l=null;try{l=JSON.parse(u)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(l,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Id.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new mo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(l)}),s=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,o,u,s,r),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(l)}return l}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,i,s,a,n),l=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,l),u}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new xp().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new Ww().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Cae;for(let o=0,a=e.length;o<a;o++){let s;const u=e[o];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;default:u.type in C7?s=C7[u.type].fromJSON(u,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),r[u.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new lO;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const u=e[a];r[u.uuid]===void 0&&(r[u.uuid]=o.parse(u)),i[u.uuid]=r[u.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=f0.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(u){return r.manager.itemStart(u),o.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const l=u,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:r.resourcePath+l;return a(c)}else return u.data?{data:Yv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new sO(n);o=new nw(u),o.setCrossOrigin(this.crossOrigin);for(let l=0,c=e.length;l<c;l++){const f=e[l],d=f.url;if(Array.isArray(d)){const h=[];for(let p=0,_=d.length;p<_;p++){const y=d[p],m=s(y);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new Od(m.data,m.width,m.height)))}i[f.uuid]=new ap(h)}else{const h=s(f.url);i[f.uuid]=new ap(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(u)}else return a.data?{data:Yv(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new nw(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const u=e[a],l=u.url;if(Array.isArray(l)){const c=[];for(let f=0,d=l.length;f<d;f++){const h=l[f],p=await o(h);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Od(p.data,p.width,p.height)))}r[u.uuid]=new ap(c)}else{const c=await o(u.url);r[u.uuid]=new ap(c)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const u=n[s.image],l=u.data;let c;Array.isArray(l)?(c=new Hw,l.length===6&&(c.needsUpdate=!0)):(l&&l.data?c=new Od:c=new hr,l&&(c.needsUpdate=!0)),c.source=u,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,nXe)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],I7),c.wrapT=r(s.wrap[1],I7)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.encoding!==void 0&&(c.encoding=s.encoding),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,R7)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,R7)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function u(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let p=0,_=d.length;p<_;p++){const y=d[p];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),h.push(r[y])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function l(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":a=new zw,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Rt(e.background):a.background=l(e.background)),e.environment!==void 0&&(a.environment=l(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new GM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new zM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new ui(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new qu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new wae(e.color,e.intensity);break;case"DirectionalLight":a=new SU(e.color,e.intensity);break;case"PointLight":a=new wU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Sae(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new bU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new bae(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new xae().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=u(e.material),a=new iU(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=u(e.material),a=new Vr(c,f);break;case"InstancedMesh":c=s(e.geometry),f=u(e.material);const d=e.count,h=e.instanceMatrix,p=e.instanceColor;a=new oU(c,f,d),a.instanceMatrix=new Gp(new Float32Array(h.array),16),p!==void 0&&(a.instanceColor=new Gp(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=u(e.material),a=new Koe(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(_=>{const y=new io;y.min.fromArray(_.boxMin),y.max.fromArray(_.boxMax);const m=new oo;return m.radius=_.sphereRadius,m.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:y,sphereInitialized:_.sphereInitialized,sphere:m}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=l(e.matricesTexture.uuid);break;case"LOD":a=new qoe;break;case"Line":a=new af(s(e.geometry),u(e.material));break;case"LineLoop":a=new aU(s(e.geometry),u(e.material));break;case"LineSegments":a=new uu(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new sU(s(e.geometry),u(e.material));break;case"Sprite":a=new Voe(u(e.material));break;case"Group":a=new zc;break;case"Bone":a=new WM;break;default:a=new Qn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)a.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const p=d[h];a.animations.push(o[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const p=d[h],_=a.getObjectByProperty("uuid",p.object);_!==void 0&&a.addLevel(_,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const nXe={UVMapping:Bd,CubeReflectionMapping:ec,CubeRefractionMapping:Fd,EquirectangularReflectionMapping:o0,EquirectangularRefractionMapping:Gb,CubeUVReflectionMapping:L0},I7={RepeatWrapping:kd,ClampToEdgeWrapping:Br,MirroredRepeatWrapping:a0},R7={NearestFilter:Gr,NearestMipmapNearestFilter:Wb,NearestMipmapLinearFilter:Sg,LinearFilter:tr,LinearMipmapNearestFilter:LM,LinearMipmapLinearFilter:tc};class Tae extends _o{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Gc.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(l=>{n&&n(l),o.manager.itemEnd(e)}).catch(l=>{i&&i(l)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const u=fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){return Gc.add(e,l),n&&n(l),o.manager.itemEnd(e),l}).catch(function(l){i&&i(l),Gc.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Gc.add(e,u),o.manager.itemStart(e)}}let qE;class EU{static getContext(){return qE===void 0&&(qE=new(window.AudioContext||window.webkitAudioContext)),qE}static setContext(e){qE=e}}class rXe extends _o{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new mo(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{const l=u.slice(0);EU.getContext().decodeAudioData(l,function(f){n(f)}).catch(s)}catch(l){s(l)}},r,i);function s(u){i?i(u):console.error(u),o.manager.itemError(e)}}}const P7=new un,D7=new un,Ch=new un;class iXe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ui,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ui,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ch.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(Sp*n.fov*.5)/n.zoom;let s,u;D7.elements[12]=-i,P7.elements[12]=i,s=-a*n.aspect+o,u=a*n.aspect+o,Ch.elements[0]=2*n.near/(u-s),Ch.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(Ch),s=-a*n.aspect-o,u=a*n.aspect-o,Ch.elements[0]=2*n.near/(u-s),Ch.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(Ch)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(D7),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(P7)}}class xU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=L7(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=L7();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function L7(){return(typeof performance>"u"?Date:performance).now()}const Th=new ue,N7=new yi,oXe=new ue,Mh=new ue;class aXe extends Qn{constructor(){super(),this.type="AudioListener",this.context=EU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Th,N7,oXe),Mh.set(0,0,-1).applyQuaternion(N7),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Th.x,i),n.positionY.linearRampToValueAtTime(Th.y,i),n.positionZ.linearRampToValueAtTime(Th.z,i),n.forwardX.linearRampToValueAtTime(Mh.x,i),n.forwardY.linearRampToValueAtTime(Mh.y,i),n.forwardZ.linearRampToValueAtTime(Mh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Th.x,Th.y,Th.z),n.setOrientation(Mh.x,Mh.y,Mh.z,r.x,r.y,r.z)}}class Mae extends Qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Oh=new ue,B7=new yi,sXe=new ue,Ih=new ue;class lXe extends Mae{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Oh,B7,sXe),Ih.set(0,0,1).applyQuaternion(B7);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Oh.x,r),n.positionY.linearRampToValueAtTime(Oh.y,r),n.positionZ.linearRampToValueAtTime(Oh.z,r),n.orientationX.linearRampToValueAtTime(Ih.x,r),n.orientationY.linearRampToValueAtTime(Ih.y,r),n.orientationZ.linearRampToValueAtTime(Ih.z,r)}else n.setPosition(Oh.x,Oh.y,Oh.z),n.setOrientation(Ih.x,Ih.y,Ih.z)}}class uXe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Oae{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const u=n*this._origIndex;this._mixBufferRegion(r,i,u,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let u=n,l=n+n;u!==l;++u)if(r[u]!==r[u+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){yi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;yi.multiplyQuaternionsFlat(e,a,e,n,e,r),yi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const u=n+s;e[u]=e[u]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const AU="\\[\\]\\.:\\/",cXe=new RegExp("["+AU+"]","g"),CU="[^"+AU+"]",fXe="[^"+AU.replace("\\.","")+"]",dXe=/((?:WC+[\/:])*)/.source.replace("WC",CU),hXe=/(WCOD+)?/.source.replace("WCOD",fXe),pXe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CU),mXe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CU),vXe=new RegExp("^"+dXe+hXe+pXe+mXe+"$"),gXe=["material","materials","bones","map"];class yXe{constructor(e,n,r){const i=r||Jn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Jn{constructor(e,n,r){this.path=n,this.parsedPath=r||Jn.parseTrackName(n),this.node=Jn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Jn.Composite(e,n,r):new Jn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cXe,"")}static parseTrackName(e){const n=vXe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);gXe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const u=r(s.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Jn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let l=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const a=e[i];if(a===void 0){const l=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}u=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(u=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jn.Composite=yXe;Jn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Jn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Jn.prototype.GetterByBindingType=[Jn.prototype._getValue_direct,Jn.prototype._getValue_array,Jn.prototype._getValue_arrayElement,Jn.prototype._getValue_toArray];Jn.prototype.SetterByBindingTypeAndVersioning=[[Jn.prototype._setValue_direct,Jn.prototype._setValue_direct_setNeedsUpdate,Jn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_array,Jn.prototype._setValue_array_setNeedsUpdate,Jn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_arrayElement,Jn.prototype._setValue_arrayElement_setNeedsUpdate,Jn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_fromArray,Jn.prototype._setValue_fromArray_setNeedsUpdate,Jn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _Xe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,u=e.length,l=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],h=d.uuid;let p=n[h];if(p===void 0){p=u++,n[h]=p,e.push(d);for(let _=0,y=a;_!==y;++_)o[_].push(new Jn(d,r[_],i[_]))}else if(p<l){s=e[p];const _=--l,y=e[_];n[y.uuid]=p,e[p]=y,n[h]=_,e[_]=d;for(let m=0,b=a;m!==b;++m){const w=o[m],S=w[_];let x=w[p];w[p]=S,x===void 0&&(x=new Jn(d,r[m],i[m])),w[_]=x}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const u=arguments[a],l=u.uuid,c=n[l];if(c!==void 0&&c>=o){const f=o++,d=e[f];n[d.uuid]=c,e[c]=d,n[l]=f,e[f]=u;for(let h=0,p=i;h!==p;++h){const _=r[h],y=_[f],m=_[c];_[c]=y,_[f]=m}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,u=arguments.length;s!==u;++s){const l=arguments[s],c=l.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const d=--o,h=e[d],p=--a,_=e[p];n[h.uuid]=f,e[f]=h,n[_.uuid]=d,e[d]=_,e.pop();for(let y=0,m=i;y!==m;++y){const b=r[y],w=b[d],S=b[p];b[f]=w,b[d]=S,b.pop()}}else{const d=--a,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let p=0,_=i;p!==_;++p){const y=r[p];y[f]=y[d],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,u=this._objects,l=u.length,c=this.nCachedObjects_,f=new Array(l);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=c,h=u.length;d!==h;++d){const p=u[d];f[d]=new Jn(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,u=a[s],l=e[s];n[l]=r,a[r]=u,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class Iae{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),u={endingStart:ip,endingEnd:ip};for(let l=0;l!==a;++l){const c=o[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=goe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,l=s.sampleValues;return u[0]=o,u[1]=o+r,l[0]=e/a,l[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const u=(e-o)*r;u<0||r===0?n=0:(this._startTime=null,n=r*u)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const u=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case zk:for(let c=0,f=u.length;c!==f;++c)u[c].evaluate(a),l[c].accumulateAdditive(s);break;case FM:default:for(let c=0,f=u.length;c!==f;++c)u[c].evaluate(a),l[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===yoe;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===voe){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const u=this.repetitions-o;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=op,i.endingEnd=op):(e?i.endingStart=this.zeroSlopeAtStart?op:ip:i.endingStart=Vb,n?i.endingEnd=this.zeroSlopeAtEnd?op:ip:i.endingEnd=Vb)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,u=a.sampleValues;return s[0]=o,u[0]=n,s[1]=o+e,u[1]=r,this}}const bXe=new Float32Array(1);class wXe extends mf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,u=r.uuid,l=this._bindingsByRootAndName;let c=l[u];c===void 0&&(c={},l[u]=c);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let p=c[h];if(p!==void 0)++p.referenceCount,a[f]=p;else{if(p=a[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,u,h));continue}const _=n&&n._propertyBindings[f].binding.parsedPath;p=new Oae(Jn.create(r,h,_),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,u,h),a[f]=p}s[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],u=s.knownActions,l=u[u.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,u[c]=l,u.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],u.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],u=n[n.length-1],l=e._cacheIndex;u._cacheIndex=l,n[l]=u,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new vU(new Float32Array(2),new Float32Array(2),1,bXe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?f0.findByName(i,e):e;const s=a!==null?a.uuid:e,u=this._actionsByClip[s];let l=null;if(r===void 0&&(a!==null?r=a.blendMode:r=FM),u!==void 0){const f=u.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;l=u.knownActions[0],a===null&&(a=l._clip)}if(a===null)return null;const c=new Iae(this,a,n,r);return this._bindAction(c,l),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?f0.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==r;++l)n[l]._update(i,e,o,a);const s=this._bindings,u=this._nActiveBindings;for(let l=0;l!==u;++l)s[l].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,u=a.length;s!==u;++s){const l=a[s];this._deactivateAction(l);const c=l._cacheIndex,f=n[n.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(l)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,u=s[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class TU{constructor(e){this.value=e}clone(){return new TU(this.value.clone===void 0?this.value:this.value.clone())}}let SXe=0;class EXe extends mf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:SXe++}),this.name="",this.usage=Jb,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class xXe extends Gw{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class AXe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class MU{constructor(e,n,r=0,i=1/0){this.ray=new sm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ep,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return QN(e,this,r,n),r.sort(F7),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)QN(e[i],this,r,n);return r.sort(F7),r}}function F7(t,e){return t.distance-e.distance}function QN(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)QN(i[o],e,n,!0)}}class eB{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(li(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class CXe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const k7=new Xe;class TXe{constructor(e=new Xe(1/0,1/0),n=new Xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=k7.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,k7).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const U7=new ue,KE=new ue;class MXe{constructor(e=new ue,n=new ue){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){U7.subVectors(e,this.start),KE.subVectors(this.end,this.start);const r=KE.dot(KE);let o=KE.dot(U7)/r;return n&&(o=li(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const j7=new ue;class OXe extends Qn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Pn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,u=32;a<u;a++,s++){const l=a/u*Math.PI*2,c=s/u*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Yt(i,3));const o=new zo({fog:!1,toneMapped:!1});this.cone=new uu(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),j7.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(j7),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kf=new ue,XE=new un,C2=new un;class IXe extends uu{constructor(e){const n=Rae(e),r=new Pn,i=[],o=[],a=new Rt(0,0,1),s=new Rt(0,1,0);for(let l=0;l<n.length;l++){const c=n[l];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new Yt(i,3)),r.setAttribute("color",new Yt(o,3));const u=new zo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");C2.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(XE.multiplyMatrices(C2,s.matrixWorld),kf.setFromMatrixPosition(XE),i.setXYZ(a,kf.x,kf.y,kf.z),XE.multiplyMatrices(C2,s.parent.matrixWorld),kf.setFromMatrixPosition(XE),i.setXYZ(a+1,kf.x,kf.y,kf.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rae(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Rae(t.children[n]));return e}class RXe extends Vr{constructor(e,n,r){const i=new Xw(n,4,2),o=new Ba({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const PXe=new ue,H7=new Rt,$7=new Rt;class DXe extends Qn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Kw(n);i.rotateY(Math.PI*.5),this.material=new Ba({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new er(a,3)),this.add(new Vr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");H7.copy(this.light.color),$7.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?H7:$7;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(PXe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class LXe extends uu{constructor(e=10,n=10,r=4473924,i=8947848){r=new Rt(r),i=new Rt(i);const o=n/2,a=e/n,s=e/2,u=[],l=[];for(let d=0,h=0,p=-s;d<=n;d++,p+=a){u.push(-s,0,p,s,0,p),u.push(p,0,-s,p,0,s);const _=d===o?r:i;_.toArray(l,h),h+=3,_.toArray(l,h),h+=3,_.toArray(l,h),h+=3,_.toArray(l,h),h+=3}const c=new Pn;c.setAttribute("position",new Yt(u,3)),c.setAttribute("color",new Yt(l,3));const f=new zo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class NXe extends uu{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new Rt(o),a=new Rt(a);const s=[],u=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,p=Math.cos(d)*e;s.push(0,0,0),s.push(h,0,p);const _=f&1?o:a;u.push(_.r,_.g,_.b),u.push(_.r,_.g,_.b)}for(let f=0;f<r;f++){const d=f&1?o:a,h=e-e/r*f;for(let p=0;p<i;p++){let _=p/i*(Math.PI*2),y=Math.sin(_)*h,m=Math.cos(_)*h;s.push(y,0,m),u.push(d.r,d.g,d.b),_=(p+1)/i*(Math.PI*2),y=Math.sin(_)*h,m=Math.cos(_)*h,s.push(y,0,m),u.push(d.r,d.g,d.b)}}const l=new Pn;l.setAttribute("position",new Yt(s,3)),l.setAttribute("color",new Yt(u,3));const c=new zo({vertexColors:!0,toneMapped:!1});super(l,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const z7=new ue,JE=new ue,G7=new ue;class BXe extends Qn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Pn;i.setAttribute("position",new Yt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new zo({fog:!1,toneMapped:!1});this.lightPlane=new af(i,o),this.add(this.lightPlane),i=new Pn,i.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new af(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),z7.setFromMatrixPosition(this.light.matrixWorld),JE.setFromMatrixPosition(this.light.target.matrixWorld),G7.subVectors(JE,z7),this.lightPlane.lookAt(JE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(JE),this.targetLine.scale.z=G7.length()}}const YE=new ue,ri=new jw;class FXe extends uu{constructor(e){const n=new Pn,r=new zo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(p,_){u(p),u(_)}function u(p){i.push(0,0,0),o.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(i.length/3-1)}n.setAttribute("position",new Yt(i,3)),n.setAttribute("color",new Yt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Rt(16755200),c=new Rt(16711680),f=new Rt(43775),d=new Rt(16777215),h=new Rt(3355443);this.setColors(l,c,f,d,h)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ri.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),hi("c",n,e,ri,0,0,-1),hi("t",n,e,ri,0,0,1),hi("n1",n,e,ri,-r,-i,-1),hi("n2",n,e,ri,r,-i,-1),hi("n3",n,e,ri,-r,i,-1),hi("n4",n,e,ri,r,i,-1),hi("f1",n,e,ri,-r,-i,1),hi("f2",n,e,ri,r,-i,1),hi("f3",n,e,ri,-r,i,1),hi("f4",n,e,ri,r,i,1),hi("u1",n,e,ri,r*.7,i*1.1,-1),hi("u2",n,e,ri,-r*.7,i*1.1,-1),hi("u3",n,e,ri,0,i*2,-1),hi("cf1",n,e,ri,-r,0,1),hi("cf2",n,e,ri,r,0,1),hi("cf3",n,e,ri,0,-i,1),hi("cf4",n,e,ri,0,i,1),hi("cn1",n,e,ri,-r,0,-1),hi("cn2",n,e,ri,r,0,-1),hi("cn3",n,e,ri,0,-i,-1),hi("cn4",n,e,ri,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function hi(t,e,n,r,i,o,a){YE.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const u=n.getAttribute("position");for(let l=0,c=s.length;l<c;l++)u.setXYZ(s[l],YE.x,YE.y,YE.z)}}const ZE=new io;class kXe extends uu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Pn;o.setIndex(new er(r,1)),o.setAttribute("position",new er(i,3)),super(o,new zo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ZE.setFromObject(this.object),ZE.isEmpty())return;const n=ZE.min,r=ZE.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UXe extends uu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Pn;o.setIndex(new er(r,1)),o.setAttribute("position",new Yt(i,3)),super(o,new zo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jXe extends af{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Pn;a.setAttribute("position",new Yt(o,3)),a.computeBoundingSphere(),super(a,new zo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Pn;u.setAttribute("position",new Yt(s,3)),u.computeBoundingSphere(),this.add(new Vr(u,new Ba({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const W7=new ue;let QE,T2;class HXe extends Qn{constructor(e=new ue(0,0,1),n=new ue(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",QE===void 0&&(QE=new Pn,QE.setAttribute("position",new Yt([0,0,0,0,1,0],3)),T2=new B0(0,.5,1,5,1),T2.translate(0,-.5,0)),this.position.copy(n),this.line=new af(QE,new zo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vr(T2,new Ba({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{W7.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(W7,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $Xe extends uu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Pn;i.setAttribute("position",new Yt(n,3)),i.setAttribute("color",new Yt(r,3));const o=new zo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new Rt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zXe{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Zb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const b=[];for(let w=0,S=m.length;w<S;w++){const x=m[w],E=new xp;E.curves=x.curves,b.push(E)}return b}function r(m,b){const w=b.length;let S=!1;for(let x=w-1,E=0;E<w;x=E++){let M=b[x],O=b[E],C=O.x-M.x,T=O.y-M.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(M=b[E],C=-C,O=b[x],T=-T),m.y<M.y||m.y>O.y)continue;if(m.y===M.y){if(m.x===M.x)return!0}else{const P=T*(m.x-M.x)-C*(m.y-M.y);if(P===0)return!0;if(P<0)continue;S=!S}}else{if(m.y!==M.y)continue;if(O.x<=m.x&&m.x<=M.x||M.x<=m.x&&m.x<=O.x)return!0}}return S}const i=Ku.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,u;const l=[];if(o.length===1)return s=o[0],u=new xp,u.curves=s.curves,l.push(u),l;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],d=[];let h=[],p=0,_;d[p]=void 0,h[p]=[];for(let m=0,b=o.length;m<b;m++)s=o[m],_=s.getPoints(),a=i(_),a=e?!a:a,a?(!c&&d[p]&&p++,d[p]={s:new xp,p:_},d[p].s.curves=s.curves,c&&p++,h[p]=[]):h[p].push({h:s,p:_[0]});if(!d[0])return n(o);if(d.length>1){let m=!1,b=0;for(let w=0,S=d.length;w<S;w++)f[w]=[];for(let w=0,S=d.length;w<S;w++){const x=h[w];for(let E=0;E<x.length;E++){const M=x[E];let O=!0;for(let C=0;C<d.length;C++)r(M.p,d[C].p)&&(w!==C&&b++,O?(O=!1,f[C].push(M)):m=!0);O&&f[w].push(M)}}b>0&&m===!1&&(h=f)}let y;for(let m=0,b=d.length;m<b;m++){u=d[m].s,l.push(u),y=h[m];for(let w=0,S=y.length;w<S;w++)u.holes.push(y[w].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:D0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=D0);const GXe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Dk,AddEquation:rd,AddOperation:ioe,AdditiveAnimationBlendMode:zk,AdditiveBlending:dN,AgXToneMapping:uoe,AlphaFormat:foe,AlwaysCompare:Ooe,AlwaysDepth:Yie,AlwaysStencilFunc:GN,AmbientLight:wae,AnimationAction:Iae,AnimationClip:f0,AnimationLoader:JKe,AnimationMixer:wXe,AnimationObjectGroup:_Xe,AnimationUtils:VKe,ArcCurve:Xoe,ArrayCamera:zoe,ArrowHelper:HXe,AttachedBindMode:gN,Audio:Mae,AudioAnalyser:uXe,AudioContext:EU,AudioListener:aXe,AudioLoader:rXe,AxesHelper:$Xe,BackSide:ua,BasicDepthPacking:boe,BasicShadowMap:Die,BatchedMesh:Koe,Bone:WM,BooleanKeyframeTrack:um,Box2:TXe,Box3:io,Box3Helper:UXe,BoxGeometry:lm,BoxHelper:kXe,BufferAttribute:er,BufferGeometry:Pn,BufferGeometryLoader:Cae,ByteType:Lk,Cache:Gc,Camera:jw,CameraHelper:FXe,CanvasTexture:vKe,CapsuleGeometry:XM,CatmullRomCurve3:Joe,CineonToneMapping:soe,CircleGeometry:JM,ClampToEdgeWrapping:Br,Clock:xU,Color:Rt,ColorKeyframeTrack:gU,ColorManagement:fr,CompressedArrayTexture:pKe,CompressedCubeTexture:mKe,CompressedTexture:qM,CompressedTextureLoader:YKe,ConeGeometry:YM,ConstantAlphaFactor:Kie,ConstantColorFactor:Vie,CubeCamera:Noe,CubeReflectionMapping:ec,CubeRefractionMapping:Fd,CubeTexture:Hw,CubeTextureLoader:yae,CubeUVReflectionMapping:L0,CubicBezierCurve:uU,CubicBezierCurve3:Yoe,CubicInterpolant:pae,CullFaceBack:fN,CullFaceFront:Pie,CullFaceFrontBack:uGe,CullFaceNone:Rie,Curve:cu,CurvePath:Qoe,CustomBlending:Lie,CustomToneMapping:loe,CylinderGeometry:B0,Cylindrical:CXe,Data3DTexture:Xk,DataArrayTexture:UM,DataTexture:Od,DataTextureLoader:yU,DataUtils:sp,DecrementStencilOp:gGe,DecrementWrapStencilOp:_Ge,DefaultLoadingManager:gae,DepthFormat:Td,DepthStencilFormat:$p,DepthTexture:tU,DetachedBindMode:coe,DirectionalLight:SU,DirectionalLightHelper:BXe,DiscreteInterpolant:mae,DisplayP3ColorSpace:kM,DodecahedronGeometry:ZM,DoubleSide:el,DstAlphaFactor:Hie,DstColorFactor:zie,DynamicCopyUsage:LGe,DynamicDrawUsage:MGe,DynamicReadUsage:RGe,EdgesGeometry:eae,EllipseCurve:KM,EqualCompare:Aoe,EqualDepth:Qie,EqualStencilFunc:EGe,EquirectangularReflectionMapping:o0,EquirectangularRefractionMapping:Gb,Euler:Uw,EventDispatcher:mf,ExtrudeGeometry:eO,FileLoader:mo,Float16BufferAttribute:_9e,Float32BufferAttribute:Yt,Float64BufferAttribute:b9e,FloatType:Di,Fog:GM,FogExp2:zM,FramebufferTexture:hKe,FrontSide:Qu,Frustum:$w,GLBufferAttribute:AXe,GLSL1:BGe,GLSL3:WN,GreaterCompare:Coe,GreaterDepth:toe,GreaterEqualCompare:Moe,GreaterEqualDepth:eoe,GreaterEqualStencilFunc:TGe,GreaterStencilFunc:AGe,GridHelper:LXe,Group:zc,HalfFloatType:ji,HemisphereLight:bae,HemisphereLightHelper:DXe,IcosahedronGeometry:qw,ImageBitmapLoader:Tae,ImageLoader:nw,ImageUtils:Kk,IncrementStencilOp:vGe,IncrementWrapStencilOp:yGe,InstancedBufferAttribute:Gp,InstancedBufferGeometry:Aae,InstancedInterleavedBuffer:xXe,InstancedMesh:oU,Int16BufferAttribute:g9e,Int32BufferAttribute:y9e,Int8BufferAttribute:p9e,IntType:BM,InterleavedBuffer:Gw,InterleavedBufferAttribute:Ud,Interpolant:F0,InterpolateDiscrete:s0,InterpolateLinear:zp,InterpolateSmooth:Qx,InvertStencilOp:bGe,KeepStencilOp:jh,KeyframeTrack:fu,LOD:qoe,LatheGeometry:Vw,Layers:Ep,LessCompare:xoe,LessDepth:Zie,LessEqualCompare:Vk,LessEqualDepth:zb,LessEqualStencilFunc:xGe,LessStencilFunc:SGe,Light:Yd,LightProbe:xae,Line:af,Line3:MXe,LineBasicMaterial:zo,LineCurve:cU,LineCurve3:Zoe,LineDashedMaterial:fae,LineLoop:aU,LineSegments:uu,LinearDisplayP3ColorSpace:kw,LinearEncoding:Wk,LinearFilter:tr,LinearInterpolant:vU,LinearMipMapLinearFilter:yN,LinearMipMapNearestFilter:hGe,LinearMipmapLinearFilter:tc,LinearMipmapNearestFilter:LM,LinearSRGBColorSpace:ms,LinearToneMapping:ooe,LinearTransfer:qb,Loader:_o,LoaderUtils:Id,LoadingManager:sO,LoopOnce:voe,LoopPingPong:yoe,LoopRepeat:goe,LuminanceAlphaFormat:hoe,LuminanceFormat:doe,MOUSE:kh,Material:$i,MaterialLoader:lO,MathUtils:Eg,Matrix3:kn,Matrix4:un,MaxEquation:vN,Mesh:Vr,MeshBasicMaterial:Ba,MeshDepthMaterial:HM,MeshDistanceMaterial:nU,MeshLambertMaterial:pU,MeshMatcapMaterial:cae,MeshNormalMaterial:uae,MeshPhongMaterial:sae,MeshPhysicalMaterial:wl,MeshStandardMaterial:Jw,MeshToonMaterial:lae,MinEquation:mN,MirroredRepeatWrapping:a0,MixOperation:roe,MultiplyBlending:pN,MultiplyOperation:Fw,NearestFilter:Gr,NearestMipMapLinearFilter:dGe,NearestMipMapNearestFilter:fGe,NearestMipmapLinearFilter:Sg,NearestMipmapNearestFilter:Wb,NeverCompare:Eoe,NeverDepth:Jie,NeverStencilFunc:wGe,NoBlending:Wu,NoColorSpace:as,NoToneMapping:Vu,NormalAnimationBlendMode:FM,NormalBlending:wp,NotEqualCompare:Toe,NotEqualDepth:noe,NotEqualStencilFunc:CGe,NumberKeyframeTrack:Vp,Object3D:Qn,ObjectLoader:tXe,ObjectSpaceNormalMap:Soe,OctahedronGeometry:Kw,OneFactor:kie,OneMinusConstantAlphaFactor:Xie,OneMinusConstantColorFactor:qie,OneMinusDstAlphaFactor:$ie,OneMinusDstColorFactor:Gie,OneMinusSrcAlphaFactor:HC,OneMinusSrcColorFactor:jie,OrthographicCamera:qu,P3Primaries:Xb,PCFShadowMap:DM,PCFSoftShadowMap:q_,PMREMGenerator:qN,Path:Zb,PerspectiveCamera:ui,Plane:Pc,PlaneGeometry:Xd,PlaneHelper:jXe,PointLight:wU,PointLightHelper:RXe,Points:sU,PointsMaterial:VM,PolarGridHelper:NXe,PolyhedronGeometry:Jd,PositionalAudio:lXe,PropertyBinding:Jn,PropertyMixer:Oae,QuadraticBezierCurve:fU,QuadraticBezierCurve3:dU,Quaternion:yi,QuaternionKeyframeTrack:jd,QuaternionLinearInterpolant:vae,RED_GREEN_RGTC2_Format:$N,RED_RGTC1_Format:moe,REVISION:D0,RGBADepthPacking:woe,RGBAFormat:Ii,RGBAIntegerFormat:Hk,RGBA_ASTC_10x10_Format:BN,RGBA_ASTC_10x5_Format:DN,RGBA_ASTC_10x6_Format:LN,RGBA_ASTC_10x8_Format:NN,RGBA_ASTC_12x10_Format:FN,RGBA_ASTC_12x12_Format:kN,RGBA_ASTC_4x4_Format:AN,RGBA_ASTC_5x4_Format:CN,RGBA_ASTC_5x5_Format:TN,RGBA_ASTC_6x5_Format:MN,RGBA_ASTC_6x6_Format:ON,RGBA_ASTC_8x5_Format:IN,RGBA_ASTC_8x6_Format:RN,RGBA_ASTC_8x8_Format:PN,RGBA_BPTC_Format:Zx,RGBA_ETC2_EAC_Format:xN,RGBA_PVRTC_2BPPV1_Format:SN,RGBA_PVRTC_4BPPV1_Format:wN,RGBA_S3TC_DXT1_Format:Xx,RGBA_S3TC_DXT3_Format:Jx,RGBA_S3TC_DXT5_Format:Yx,RGB_BPTC_SIGNED_Format:UN,RGB_BPTC_UNSIGNED_Format:jN,RGB_ETC1_Format:$k,RGB_ETC2_Format:EN,RGB_PVRTC_2BPPV1_Format:bN,RGB_PVRTC_4BPPV1_Format:_N,RGB_S3TC_DXT1_Format:Kx,RGFormat:poe,RGIntegerFormat:jk,RawShaderMaterial:aae,Ray:sm,Raycaster:MU,Rec709Primaries:Kb,RectAreaLight:Sae,RedFormat:kk,RedIntegerFormat:Uk,ReinhardToneMapping:aoe,RenderTarget:Poe,RepeatWrapping:kd,ReplaceStencilOp:mGe,ReverseSubtractEquation:Bie,RingGeometry:tO,SIGNED_RED_GREEN_RGTC2_Format:zN,SIGNED_RED_RGTC1_Format:HN,SRGBColorSpace:Mi,SRGBTransfer:Ar,Scene:zw,ShaderChunk:Nn,ShaderLib:Jl,ShaderMaterial:Ho,ShadowMaterial:oae,Shape:xp,ShapeGeometry:nO,ShapePath:zXe,ShapeUtils:Ku,ShortType:Nk,Skeleton:Ww,SkeletonHelper:IXe,SkinnedMesh:iU,Source:ap,Sphere:oo,SphereGeometry:Xw,Spherical:eB,SphericalHarmonics3:Eae,SplineCurve:hU,SpotLight:bU,SpotLightHelper:OXe,Sprite:Voe,SpriteMaterial:rU,SrcAlphaFactor:jC,SrcAlphaSaturateFactor:Wie,SrcColorFactor:Uie,StaticCopyUsage:DGe,StaticDrawUsage:Jb,StaticReadUsage:IGe,StereoCamera:iXe,StreamCopyUsage:NGe,StreamDrawUsage:OGe,StreamReadUsage:PGe,StringKeyframeTrack:cm,SubtractEquation:Nie,SubtractiveBlending:hN,TOUCH:Uh,TangentSpaceNormalMap:Kd,TetrahedronGeometry:rO,Texture:hr,TextureLoader:_ae,TorusGeometry:iO,TorusKnotGeometry:oO,Triangle:Pa,TriangleFanDrawMode:$C,TriangleStripDrawMode:Gk,TrianglesDrawMode:_oe,TubeGeometry:aO,TwoPassDoubleSide:cGe,UVMapping:Bd,Uint16BufferAttribute:Jk,Uint32BufferAttribute:Yk,Uint8BufferAttribute:m9e,Uint8ClampedBufferAttribute:v9e,Uniform:TU,UniformsGroup:EXe,UniformsLib:Ct,UniformsUtils:Zk,UnsignedByteType:cs,UnsignedInt248Type:Cd,UnsignedIntType:ku,UnsignedShort4444Type:Bk,UnsignedShort5551Type:Fk,UnsignedShortType:NM,VSMShadowMap:$l,Vector2:Xe,Vector3:ue,Vector4:dr,VectorKeyframeTrack:qp,VideoTexture:dKe,WebGL1Renderer:Goe,WebGL3DRenderTarget:n9e,WebGLArrayRenderTarget:t9e,WebGLCoordinateSystem:eu,WebGLCubeRenderTarget:Qk,WebGLMultipleRenderTargets:r9e,WebGLRenderTarget:yo,WebGLRenderer:$M,WebGLUtils:$oe,WebGPUCoordinateSystem:l0,WireframeGeometry:iae,WrapAroundEnding:Vb,ZeroCurvatureEnding:ip,ZeroFactor:Fie,ZeroSlopeEnding:op,ZeroStencilOp:pGe,_SRGBAFormat:zC,createCanvasElement:Roe,sRGBEncoding:Md},Symbol.toStringTag,{value:"Module"}));var Pae={exports:{}},fm={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */fm.ConcurrentRoot=1;fm.ContinuousEventPriority=4;fm.DefaultEventPriority=16;fm.DiscreteEventPriority=1;fm.IdleEventPriority=536870912;fm.LegacyRoot=0;Pae.exports=fm;var tg=Pae.exports;function WXe(t){let e;const n=new Set,r=(l,c)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(l,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function h(){const p=c(e);if(!f(d,p)){const _=d;l(d=p,_)}}return n.add(h),()=>n.delete(h)},u={setState:r,getState:i,subscribe:(l,c,f)=>c||f?o(l,c,f):(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,u),u}const VXe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),V7=VXe?D.useEffect:D.useLayoutEffect;function Dae(t){const e=typeof t=="function"?WXe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=D.useReducer(y=>y+1,0),a=e.getState(),s=D.useRef(a),u=D.useRef(r),l=D.useRef(i),c=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=r(a));let d,h=!1;(s.current!==a||u.current!==r||l.current!==i||c.current)&&(d=r(a),h=!i(f.current,d)),V7(()=>{h&&(f.current=d),s.current=a,u.current=r,l.current=i,c.current=!1});const p=D.useRef(a);V7(()=>{const y=()=>{try{const b=e.getState(),w=u.current(b);l.current(f.current,w)||(s.current=b,f.current=w,o())}catch{c.current=!0,o()}},m=e.subscribe(y);return e.getState()!==p.current&&y(),m},[]);const _=h?d:f.current;return D.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const qXe=t=>typeof t=="object"&&typeof t.then=="function",up=[];function Lae(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Nae(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of up)if(Lae(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=up.indexOf(i);o!==-1&&up.splice(o,1)},promise:(qXe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(up.push(i),!n)throw i.promise}const KXe=(t,e,n)=>Nae(t,e,!1,n),XXe=(t,e,n)=>void Nae(t,e,!0,n),JXe=t=>{if(t===void 0||t.length===0)up.splice(0,up.length);else{const e=up.find(n=>Lae(t,n.keys,n.equal));e&&e.remove()}};var Bae={exports:{}},Fae={exports:{}},kae={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,R){var L=F.length;F.push(R);e:for(;0<L;){var W=L-1>>>1,Z=F[W];if(0<i(Z,R))F[W]=R,F[L]=Z,L=W;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var R=F[0],L=F.pop();if(L!==R){F[0]=L;e:for(var W=0,Z=F.length,ee=Z>>>1;W<ee;){var oe=2*(W+1)-1,pe=F[oe],ie=oe+1,ce=F[ie];if(0>i(pe,L))ie<Z&&0>i(ce,pe)?(F[W]=ce,F[ie]=L,W=ie):(F[W]=pe,F[oe]=L,W=oe);else if(ie<Z&&0>i(ce,L))F[W]=ce,F[ie]=L,W=ie;else break e}}return R}function i(F,R){var L=F.sortIndex-R.sortIndex;return L!==0?L:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var R=n(l);R!==null;){if(R.callback===null)r(l);else if(R.startTime<=F)r(l),R.sortIndex=R.expirationTime,e(u,R);else break;R=n(l)}}function S(F){if(_=!1,w(F),!p)if(n(u)!==null)p=!0,j(x);else{var R=n(l);R!==null&&$(S,R.startTime-F)}}function x(F,R){p=!1,_&&(_=!1,m(O),O=-1),h=!0;var L=d;try{for(w(R),f=n(u);f!==null&&(!(f.expirationTime>R)||F&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var Z=W(f.expirationTime<=R);R=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(u)&&r(u),w(R)}else r(u);f=n(u)}if(f!==null)var ee=!0;else{var oe=n(l);oe!==null&&$(S,oe.startTime-R),ee=!1}return ee}finally{f=null,d=L,h=!1}}var E=!1,M=null,O=-1,C=5,T=-1;function P(){return!(t.unstable_now()-T<C)}function N(){if(M!==null){var F=t.unstable_now();T=F;var R=!0;try{R=M(!0,F)}finally{R?H():(E=!1,M=null)}}else E=!1}var H;if(typeof b=="function")H=function(){b(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=N,H=function(){k.postMessage(null)}}else H=function(){y(N,0)};function j(F){M=F,E||(E=!0,H())}function $(F,R){O=y(function(){F(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,j(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var L=d;d=R;try{return F()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var L=d;d=F;try{return R()}finally{d=L}},t.unstable_scheduleCallback=function(F,R,L){var W=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,F={id:c++,callback:R,priorityLevel:F,startTime:L,expirationTime:Z,sortIndex:-1},L>W?(F.sortIndex=L,e(l,F),n(u)===null&&F===n(l)&&(_?(m(O),O=-1):_=!0,$(S,L-W))):(F.sortIndex=Z,e(u,F),p||h||(p=!0,j(x))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var R=d;return function(){var L=d;d=R;try{return F.apply(this,arguments)}finally{d=L}}}})(kae);Fae.exports=kae;var tB=Fae.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YXe=function(e){var n={},r=D,i=tB,o=Object.assign;function a(v){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+v,A=1;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),x=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=x&&v[x]||v["@@iterator"],typeof v=="function"?v:null)}function M(v){if(v==null)return null;if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case c:return"Fragment";case l:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case m:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case p:return(v.displayName||"Context")+".Consumer";case h:return(v._context.displayName||"Context")+".Provider";case _:var g=v.render;return v=v.displayName,v||(v=g.displayName||g.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case b:return g=v.displayName||null,g!==null?g:M(v.type)||"Memo";case w:g=v._payload,v=v._init;try{return M(v(g))}catch{}}return null}function O(v){var g=v.type;switch(v.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return v=g.render,v=v.displayName||v.name||"",g.displayName||(v!==""?"ForwardRef("+v+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function C(v){var g=v,A=v;if(v.alternate)for(;g.return;)g=g.return;else{v=g;do g=v,g.flags&4098&&(A=g.return),v=g.return;while(v)}return g.tag===3?A:null}function T(v){if(C(v)!==v)throw Error(a(188))}function P(v){var g=v.alternate;if(!g){if(g=C(v),g===null)throw Error(a(188));return g!==v?null:v}for(var A=v,I=g;;){var z=A.return;if(z===null)break;var X=z.alternate;if(X===null){if(I=z.return,I!==null){A=I;continue}break}if(z.child===X.child){for(X=z.child;X;){if(X===A)return T(z),v;if(X===I)return T(z),g;X=X.sibling}throw Error(a(188))}if(A.return!==I.return)A=z,I=X;else{for(var ge=!1,Re=z.child;Re;){if(Re===A){ge=!0,A=z,I=X;break}if(Re===I){ge=!0,I=z,A=X;break}Re=Re.sibling}if(!ge){for(Re=X.child;Re;){if(Re===A){ge=!0,A=X,I=z;break}if(Re===I){ge=!0,I=X,A=z;break}Re=Re.sibling}if(!ge)throw Error(a(189))}}if(A.alternate!==I)throw Error(a(190))}if(A.tag!==3)throw Error(a(188));return A.stateNode.current===A?v:g}function N(v){return v=P(v),v!==null?H(v):null}function H(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){var g=H(v);if(g!==null)return g;v=v.sibling}return null}function B(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){if(v.tag!==4){var g=B(v);if(g!==null)return g}v=v.sibling}return null}var k=Array.isArray,j=e.getPublicInstance,$=e.getRootHostContext,F=e.getChildHostContext,R=e.prepareForCommit,L=e.resetAfterCommit,W=e.createInstance,Z=e.appendInitialChild,ee=e.finalizeInitialChildren,oe=e.prepareUpdate,pe=e.shouldSetTextContent,ie=e.createTextInstance,ce=e.scheduleTimeout,ve=e.cancelTimeout,xe=e.noTimeout,he=e.isPrimaryRenderer,we=e.supportsMutation,ne=e.supportsPersistence,Me=e.supportsHydration,Ce=e.getInstanceFromNode,K=e.preparePortalMount,U=e.getCurrentEventPriority,G=e.detachDeletedInstance,te=e.supportsMicrotasks,q=e.scheduleMicrotask,V=e.supportsTestSelectors,ae=e.findFiberRoot,Ae=e.getBoundingRect,Oe=e.getTextContent,Te=e.isHiddenSubtree,Ue=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,Qe=e.setupIntersectionObserver,Ze=e.appendChild,at=e.appendChildToContainer,ke=e.commitTextUpdate,Tt=e.commitMount,Mt=e.commitUpdate,wt=e.insertBefore,ft=e.insertInContainerBefore,qe=e.removeChild,le=e.removeChildFromContainer,Ie=e.resetTextContent,He=e.hideInstance,Ve=e.hideTextInstance,Ee=e.unhideInstance,de=e.unhideTextInstance,$e=e.clearContainer,tt=e.cloneInstance,Pt=e.createContainerChildSet,vt=e.appendChildToContainerChildSet,$t=e.finalizeContainerChildren,rn=e.replaceContainerChildren,mn=e.cloneHiddenInstance,Lt=e.cloneHiddenTextInstance,cn=e.canHydrateInstance,kt=e.canHydrateTextInstance,Ke=e.canHydrateSuspenseInstance,ot=e.isSuspenseInstancePending,lt=e.isSuspenseInstanceFallback,bt=e.registerSuspenseInstanceRetry,Dt=e.getNextHydratableSibling,st=e.getFirstHydratableChild,Vt=e.getFirstHydratableChildWithinContainer,Ht=e.getFirstHydratableChildWithinSuspenseInstance,Y=e.hydrateInstance,re=e.hydrateTextInstance,_e=e.hydrateSuspenseInstance,J=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,fe=e.commitHydratedSuspenseInstance,Se=e.clearSuspenseBoundary,be=e.clearSuspenseBoundaryFromContainer,Le=e.shouldDeleteUnhydratedTailInstances,Ne=e.didNotMatchHydratedContainerTextInstance,ze=e.didNotMatchHydratedTextInstance,je;function _t(v){if(je===void 0)try{throw Error()}catch(A){var g=A.stack.trim().match(/\n( *(at )?)/);je=g&&g[1]||""}return`
`+je+v}var Ye=!1;function nt(v,g){if(!v||Ye)return"";Ye=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(gt){var I=gt}Reflect.construct(v,[],g)}else{try{g.call()}catch(gt){I=gt}v.call(g.prototype)}else{try{throw Error()}catch(gt){I=gt}v()}}catch(gt){if(gt&&I&&typeof gt.stack=="string"){for(var z=gt.stack.split(`
`),X=I.stack.split(`
`),ge=z.length-1,Re=X.length-1;1<=ge&&0<=Re&&z[ge]!==X[Re];)Re--;for(;1<=ge&&0<=Re;ge--,Re--)if(z[ge]!==X[Re]){if(ge!==1||Re!==1)do if(ge--,Re--,0>Re||z[ge]!==X[Re]){var We=`
`+z[ge].replace(" at new "," at ");return v.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",v.displayName)),We}while(1<=ge&&0<=Re);break}}}finally{Ye=!1,Error.prepareStackTrace=A}return(v=v?v.displayName||v.name:"")?_t(v):""}var Ot=Object.prototype.hasOwnProperty,ct=[],it=-1;function ut(v){return{current:v}}function rt(v){0>it||(v.current=ct[it],ct[it]=null,it--)}function Je(v,g){it++,ct[it]=v.current,v.current=g}var Wt={},xt=ut(Wt),yt=ut(!1),Zt=Wt;function Cn(v,g){var A=v.type.contextTypes;if(!A)return Wt;var I=v.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===g)return I.__reactInternalMemoizedMaskedChildContext;var z={},X;for(X in A)z[X]=g[X];return I&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=g,v.__reactInternalMemoizedMaskedChildContext=z),z}function pt(v){return v=v.childContextTypes,v!=null}function dt(){rt(yt),rt(xt)}function St(v,g,A){if(xt.current!==Wt)throw Error(a(168));Je(xt,g),Je(yt,A)}function Kt(v,g,A){var I=v.stateNode;if(g=g.childContextTypes,typeof I.getChildContext!="function")return A;I=I.getChildContext();for(var z in I)if(!(z in g))throw Error(a(108,O(v)||"Unknown",z));return o({},A,I)}function jt(v){return v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Wt,Zt=xt.current,Je(xt,v),Je(yt,yt.current),!0}function fn(v,g,A){var I=v.stateNode;if(!I)throw Error(a(169));A?(v=Kt(v,g,Zt),I.__reactInternalMemoizedMergedChildContext=v,rt(yt),rt(xt),Je(xt,v)):rt(yt),Je(yt,A)}var qn=Math.clz32?Math.clz32:yn,Bt=Math.log,It=Math.LN2;function yn(v){return v>>>=0,v===0?32:31-(Bt(v)/It|0)|0}var an=64,Qt=4194304;function At(v){switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return v&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return v}}function dn(v,g){var A=v.pendingLanes;if(A===0)return 0;var I=0,z=v.suspendedLanes,X=v.pingedLanes,ge=A&268435455;if(ge!==0){var Re=ge&~z;Re!==0?I=At(Re):(X&=ge,X!==0&&(I=At(X)))}else ge=A&~z,ge!==0?I=At(ge):X!==0&&(I=At(X));if(I===0)return 0;if(g!==0&&g!==I&&!(g&z)&&(z=I&-I,X=g&-g,z>=X||z===16&&(X&4194240)!==0))return g;if(I&4&&(I|=A&16),g=v.entangledLanes,g!==0)for(v=v.entanglements,g&=I;0<g;)A=31-qn(g),z=1<<A,I|=v[A],g&=~z;return I}function zn(v,g){switch(v){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(v,g){for(var A=v.suspendedLanes,I=v.pingedLanes,z=v.expirationTimes,X=v.pendingLanes;0<X;){var ge=31-qn(X),Re=1<<ge,We=z[ge];We===-1?(!(Re&A)||Re&I)&&(z[ge]=zn(Re,g)):We<=g&&(v.expiredLanes|=Re),X&=~Re}}function _r(v){return v=v.pendingLanes&-1073741825,v!==0?v:v&1073741824?1073741824:0}function lo(v){for(var g=[],A=0;31>A;A++)g.push(v);return g}function Vi(v,g,A){v.pendingLanes|=g,g!==536870912&&(v.suspendedLanes=0,v.pingedLanes=0),v=v.eventTimes,g=31-qn(g),v[g]=A}function Go(v,g){var A=v.pendingLanes&~g;v.pendingLanes=g,v.suspendedLanes=0,v.pingedLanes=0,v.expiredLanes&=g,v.mutableReadLanes&=g,v.entangledLanes&=g,g=v.entanglements;var I=v.eventTimes;for(v=v.expirationTimes;0<A;){var z=31-qn(A),X=1<<z;g[z]=0,I[z]=-1,v[z]=-1,A&=~X}}function bo(v,g){var A=v.entangledLanes|=g;for(v=v.entanglements;A;){var I=31-qn(A),z=1<<I;z&g|v[I]&g&&(v[I]|=g),A&=~z}}var Dn=0;function dm(v){return v&=-v,1<v?4<v?v&268435455?16:536870912:4:1}var fO=i.unstable_scheduleCallback,zU=i.unstable_cancelCallback,Sse=i.unstable_shouldYield,Ese=i.unstable_requestPaint,qi=i.unstable_now,dO=i.unstable_ImmediatePriority,xse=i.unstable_UserBlockingPriority,hO=i.unstable_NormalPriority,Ase=i.unstable_IdlePriority,e1=null,du=null;function Cse(v){if(du&&typeof du.onCommitFiberRoot=="function")try{du.onCommitFiberRoot(e1,v,void 0,(v.current.flags&128)===128)}catch{}}function Tse(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var hu=typeof Object.is=="function"?Object.is:Tse,sc=null,t1=!1,pO=!1;function GU(v){sc===null?sc=[v]:sc.push(v)}function Mse(v){t1=!0,GU(v)}function pu(){if(!pO&&sc!==null){pO=!0;var v=0,g=Dn;try{var A=sc;for(Dn=1;v<A.length;v++){var I=A[v];do I=I(!0);while(I!==null)}sc=null,t1=!1}catch(z){throw sc!==null&&(sc=sc.slice(v+1)),fO(dO,pu),z}finally{Dn=g,pO=!1}}return null}var Ose=s.ReactCurrentBatchConfig;function n1(v,g){if(hu(v,g))return!0;if(typeof v!="object"||v===null||typeof g!="object"||g===null)return!1;var A=Object.keys(v),I=Object.keys(g);if(A.length!==I.length)return!1;for(I=0;I<A.length;I++){var z=A[I];if(!Ot.call(g,z)||!hu(v[z],g[z]))return!1}return!0}function Ise(v){switch(v.tag){case 5:return _t(v.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return v=nt(v.type,!1),v;case 11:return v=nt(v.type.render,!1),v;case 1:return v=nt(v.type,!0),v;default:return""}}function Sl(v,g){if(v&&v.defaultProps){g=o({},g),v=v.defaultProps;for(var A in v)g[A]===void 0&&(g[A]=v[A]);return g}return g}var r1=ut(null),i1=null,hm=null,mO=null;function vO(){mO=hm=i1=null}function WU(v,g,A){he?(Je(r1,g._currentValue),g._currentValue=A):(Je(r1,g._currentValue2),g._currentValue2=A)}function gO(v){var g=r1.current;rt(r1),he?v._currentValue=g:v._currentValue2=g}function yO(v,g,A){for(;v!==null;){var I=v.alternate;if((v.childLanes&g)!==g?(v.childLanes|=g,I!==null&&(I.childLanes|=g)):I!==null&&(I.childLanes&g)!==g&&(I.childLanes|=g),v===A)break;v=v.return}}function pm(v,g){i1=v,mO=hm=null,v=v.dependencies,v!==null&&v.firstContext!==null&&(v.lanes&g&&(qa=!0),v.firstContext=null)}function xs(v){var g=he?v._currentValue:v._currentValue2;if(mO!==v)if(v={context:v,memoizedValue:g,next:null},hm===null){if(i1===null)throw Error(a(308));hm=v,i1.dependencies={lanes:0,firstContext:v}}else hm=hm.next=v;return g}var mu=null,vf=!1;function _O(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VU(v,g){v=v.updateQueue,g.updateQueue===v&&(g.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function lc(v,g){return{eventTime:v,lane:g,tag:0,payload:null,callback:null,next:null}}function gf(v,g){var A=v.updateQueue;A!==null&&(A=A.shared,bi!==null&&v.mode&1&&!(Un&2)?(v=A.interleaved,v===null?(g.next=g,mu===null?mu=[A]:mu.push(A)):(g.next=v.next,v.next=g),A.interleaved=g):(v=A.pending,v===null?g.next=g:(g.next=v.next,v.next=g),A.pending=g))}function o1(v,g,A){if(g=g.updateQueue,g!==null&&(g=g.shared,(A&4194240)!==0)){var I=g.lanes;I&=v.pendingLanes,A|=I,g.lanes=A,bo(v,A)}}function qU(v,g){var A=v.updateQueue,I=v.alternate;if(I!==null&&(I=I.updateQueue,A===I)){var z=null,X=null;if(A=A.firstBaseUpdate,A!==null){do{var ge={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};X===null?z=X=ge:X=X.next=ge,A=A.next}while(A!==null);X===null?z=X=g:X=X.next=g}else z=X=g;A={baseState:I.baseState,firstBaseUpdate:z,lastBaseUpdate:X,shared:I.shared,effects:I.effects},v.updateQueue=A;return}v=A.lastBaseUpdate,v===null?A.firstBaseUpdate=g:v.next=g,A.lastBaseUpdate=g}function a1(v,g,A,I){var z=v.updateQueue;vf=!1;var X=z.firstBaseUpdate,ge=z.lastBaseUpdate,Re=z.shared.pending;if(Re!==null){z.shared.pending=null;var We=Re,gt=We.next;We.next=null,ge===null?X=gt:ge.next=gt,ge=We;var Gt=v.alternate;Gt!==null&&(Gt=Gt.updateQueue,Re=Gt.lastBaseUpdate,Re!==ge&&(Re===null?Gt.firstBaseUpdate=gt:Re.next=gt,Gt.lastBaseUpdate=We))}if(X!==null){var Mn=z.baseState;ge=0,Gt=gt=We=null,Re=X;do{var vn=Re.lane,br=Re.eventTime;if((I&vn)===vn){Gt!==null&&(Gt=Gt.next={eventTime:br,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var on=v,xo=Re;switch(vn=g,br=A,xo.tag){case 1:if(on=xo.payload,typeof on=="function"){Mn=on.call(br,Mn,vn);break e}Mn=on;break e;case 3:on.flags=on.flags&-65537|128;case 0:if(on=xo.payload,vn=typeof on=="function"?on.call(br,Mn,vn):on,vn==null)break e;Mn=o({},Mn,vn);break e;case 2:vf=!0}}Re.callback!==null&&Re.lane!==0&&(v.flags|=64,vn=z.effects,vn===null?z.effects=[Re]:vn.push(Re))}else br={eventTime:br,lane:vn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},Gt===null?(gt=Gt=br,We=Mn):Gt=Gt.next=br,ge|=vn;if(Re=Re.next,Re===null){if(Re=z.shared.pending,Re===null)break;vn=Re,Re=vn.next,vn.next=null,z.lastBaseUpdate=vn,z.shared.pending=null}}while(!0);if(Gt===null&&(We=Mn),z.baseState=We,z.firstBaseUpdate=gt,z.lastBaseUpdate=Gt,g=z.shared.interleaved,g!==null){z=g;do ge|=z.lane,z=z.next;while(z!==g)}else X===null&&(z.shared.lanes=0);Em|=ge,v.lanes=ge,v.memoizedState=Mn}}function KU(v,g,A){if(v=g.effects,g.effects=null,v!==null)for(g=0;g<v.length;g++){var I=v[g],z=I.callback;if(z!==null){if(I.callback=null,I=A,typeof z!="function")throw Error(a(191,z));z.call(I)}}}var XU=new r.Component().refs;function bO(v,g,A,I){g=v.memoizedState,A=A(I,g),A=A==null?g:o({},g,A),v.memoizedState=A,v.lanes===0&&(v.updateQueue.baseState=A)}var s1={isMounted:function(v){return(v=v._reactInternals)?C(v)===v:!1},enqueueSetState:function(v,g,A){v=v._reactInternals;var I=Vo(),z=bf(v),X=lc(I,z);X.payload=g,A!=null&&(X.callback=A),gf(v,X),g=Os(v,z,I),g!==null&&o1(g,v,z)},enqueueReplaceState:function(v,g,A){v=v._reactInternals;var I=Vo(),z=bf(v),X=lc(I,z);X.tag=1,X.payload=g,A!=null&&(X.callback=A),gf(v,X),g=Os(v,z,I),g!==null&&o1(g,v,z)},enqueueForceUpdate:function(v,g){v=v._reactInternals;var A=Vo(),I=bf(v),z=lc(A,I);z.tag=2,g!=null&&(z.callback=g),gf(v,z),g=Os(v,I,A),g!==null&&o1(g,v,I)}};function JU(v,g,A,I,z,X,ge){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(I,X,ge):g.prototype&&g.prototype.isPureReactComponent?!n1(A,I)||!n1(z,X):!0}function YU(v,g,A){var I=!1,z=Wt,X=g.contextType;return typeof X=="object"&&X!==null?X=xs(X):(z=pt(g)?Zt:xt.current,I=g.contextTypes,X=(I=I!=null)?Cn(v,z):Wt),g=new g(A,X),v.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=s1,v.stateNode=g,g._reactInternals=v,I&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=z,v.__reactInternalMemoizedMaskedChildContext=X),g}function ZU(v,g,A,I){v=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(A,I),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(A,I),g.state!==v&&s1.enqueueReplaceState(g,g.state,null)}function wO(v,g,A,I){var z=v.stateNode;z.props=A,z.state=v.memoizedState,z.refs=XU,_O(v);var X=g.contextType;typeof X=="object"&&X!==null?z.context=xs(X):(X=pt(g)?Zt:xt.current,z.context=Cn(v,X)),z.state=v.memoizedState,X=g.getDerivedStateFromProps,typeof X=="function"&&(bO(v,g,X,A),z.state=v.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(g=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),g!==z.state&&s1.enqueueReplaceState(z,z.state,null),a1(v,A,z,I),z.state=v.memoizedState),typeof z.componentDidMount=="function"&&(v.flags|=4194308)}var mm=[],vm=0,l1=null,u1=0,As=[],Cs=0,Zd=null,uc=1,cc="";function Qd(v,g){mm[vm++]=u1,mm[vm++]=l1,l1=v,u1=g}function QU(v,g,A){As[Cs++]=uc,As[Cs++]=cc,As[Cs++]=Zd,Zd=v;var I=uc;v=cc;var z=32-qn(I)-1;I&=~(1<<z),A+=1;var X=32-qn(g)+z;if(30<X){var ge=z-z%5;X=(I&(1<<ge)-1).toString(32),I>>=ge,z-=ge,uc=1<<32-qn(g)+z|A<<z|I,cc=X+v}else uc=1<<X|A<<z|I,cc=v}function SO(v){v.return!==null&&(Qd(v,1),QU(v,1,0))}function EO(v){for(;v===l1;)l1=mm[--vm],mm[vm]=null,u1=mm[--vm],mm[vm]=null;for(;v===Zd;)Zd=As[--Cs],As[Cs]=null,cc=As[--Cs],As[Cs]=null,uc=As[--Cs],As[Cs]=null}var Wa=null,Va=null,jr=!1,k0=!1,El=null;function e4(v,g){var A=Is(5,null,null,0);A.elementType="DELETED",A.stateNode=g,A.return=v,g=v.deletions,g===null?(v.deletions=[A],v.flags|=16):g.push(A)}function t4(v,g){switch(v.tag){case 5:return g=cn(g,v.type,v.pendingProps),g!==null?(v.stateNode=g,Wa=v,Va=st(g),!0):!1;case 6:return g=kt(g,v.pendingProps),g!==null?(v.stateNode=g,Wa=v,Va=null,!0):!1;case 13:if(g=Ke(g),g!==null){var A=Zd!==null?{id:uc,overflow:cc}:null;return v.memoizedState={dehydrated:g,treeContext:A,retryLane:1073741824},A=Is(18,null,null,0),A.stateNode=g,A.return=v,v.child=A,Wa=v,Va=null,!0}return!1;default:return!1}}function xO(v){return(v.mode&1)!==0&&(v.flags&128)===0}function AO(v){if(jr){var g=Va;if(g){var A=g;if(!t4(v,g)){if(xO(v))throw Error(a(418));g=Dt(A);var I=Wa;g&&t4(v,g)?e4(I,A):(v.flags=v.flags&-4097|2,jr=!1,Wa=v)}}else{if(xO(v))throw Error(a(418));v.flags=v.flags&-4097|2,jr=!1,Wa=v}}}function n4(v){for(v=v.return;v!==null&&v.tag!==5&&v.tag!==3&&v.tag!==13;)v=v.return;Wa=v}function U0(v){if(!Me||v!==Wa)return!1;if(!jr)return n4(v),jr=!0,!1;if(v.tag!==3&&(v.tag!==5||Le(v.type)&&!pe(v.type,v.memoizedProps))){var g=Va;if(g){if(xO(v)){for(v=Va;v;)v=Dt(v);throw Error(a(418))}for(;g;)e4(v,g),g=Dt(g)}}if(n4(v),v.tag===13){if(!Me)throw Error(a(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Va=J(v)}else Va=Wa?Dt(v.stateNode):null;return!0}function gm(){Me&&(Va=Wa=null,k0=jr=!1)}function CO(v){El===null?El=[v]:El.push(v)}function j0(v,g,A){if(v=A.ref,v!==null&&typeof v!="function"&&typeof v!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(a(309));var I=A.stateNode}if(!I)throw Error(a(147,v));var z=I,X=""+v;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===X?g.ref:(g=function(ge){var Re=z.refs;Re===XU&&(Re=z.refs={}),ge===null?delete Re[X]:Re[X]=ge},g._stringRef=X,g)}if(typeof v!="string")throw Error(a(284));if(!A._owner)throw Error(a(290,v))}return v}function c1(v,g){throw v=Object.prototype.toString.call(g),Error(a(31,v==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":v))}function r4(v){var g=v._init;return g(v._payload)}function i4(v){function g(Fe,Pe){if(v){var Ge=Fe.deletions;Ge===null?(Fe.deletions=[Pe],Fe.flags|=16):Ge.push(Pe)}}function A(Fe,Pe){if(!v)return null;for(;Pe!==null;)g(Fe,Pe),Pe=Pe.sibling;return null}function I(Fe,Pe){for(Fe=new Map;Pe!==null;)Pe.key!==null?Fe.set(Pe.key,Pe):Fe.set(Pe.index,Pe),Pe=Pe.sibling;return Fe}function z(Fe,Pe){return Fe=Sf(Fe,Pe),Fe.index=0,Fe.sibling=null,Fe}function X(Fe,Pe,Ge){return Fe.index=Ge,v?(Ge=Fe.alternate,Ge!==null?(Ge=Ge.index,Ge<Pe?(Fe.flags|=2,Pe):Ge):(Fe.flags|=2,Pe)):(Fe.flags|=1048576,Pe)}function ge(Fe){return v&&Fe.alternate===null&&(Fe.flags|=2),Fe}function Re(Fe,Pe,Ge,Ut){return Pe===null||Pe.tag!==6?(Pe=uI(Ge,Fe.mode,Ut),Pe.return=Fe,Pe):(Pe=z(Pe,Ge),Pe.return=Fe,Pe)}function We(Fe,Pe,Ge,Ut){var tn=Ge.type;return tn===c?Gt(Fe,Pe,Ge.props.children,Ut,Ge.key):Pe!==null&&(Pe.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===w&&r4(tn)===Pe.type)?(Ut=z(Pe,Ge.props),Ut.ref=j0(Fe,Pe,Ge),Ut.return=Fe,Ut):(Ut=H1(Ge.type,Ge.key,Ge.props,null,Fe.mode,Ut),Ut.ref=j0(Fe,Pe,Ge),Ut.return=Fe,Ut)}function gt(Fe,Pe,Ge,Ut){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ge.containerInfo||Pe.stateNode.implementation!==Ge.implementation?(Pe=cI(Ge,Fe.mode,Ut),Pe.return=Fe,Pe):(Pe=z(Pe,Ge.children||[]),Pe.return=Fe,Pe)}function Gt(Fe,Pe,Ge,Ut,tn){return Pe===null||Pe.tag!==7?(Pe=ah(Ge,Fe.mode,Ut,tn),Pe.return=Fe,Pe):(Pe=z(Pe,Ge),Pe.return=Fe,Pe)}function Mn(Fe,Pe,Ge){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=uI(""+Pe,Fe.mode,Ge),Pe.return=Fe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:return Ge=H1(Pe.type,Pe.key,Pe.props,null,Fe.mode,Ge),Ge.ref=j0(Fe,null,Pe),Ge.return=Fe,Ge;case l:return Pe=cI(Pe,Fe.mode,Ge),Pe.return=Fe,Pe;case w:var Ut=Pe._init;return Mn(Fe,Ut(Pe._payload),Ge)}if(k(Pe)||E(Pe))return Pe=ah(Pe,Fe.mode,Ge,null),Pe.return=Fe,Pe;c1(Fe,Pe)}return null}function vn(Fe,Pe,Ge,Ut){var tn=Pe!==null?Pe.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return tn!==null?null:Re(Fe,Pe,""+Ge,Ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case u:return Ge.key===tn?We(Fe,Pe,Ge,Ut):null;case l:return Ge.key===tn?gt(Fe,Pe,Ge,Ut):null;case w:return tn=Ge._init,vn(Fe,Pe,tn(Ge._payload),Ut)}if(k(Ge)||E(Ge))return tn!==null?null:Gt(Fe,Pe,Ge,Ut,null);c1(Fe,Ge)}return null}function br(Fe,Pe,Ge,Ut,tn){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Fe=Fe.get(Ge)||null,Re(Pe,Fe,""+Ut,tn);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case u:return Fe=Fe.get(Ut.key===null?Ge:Ut.key)||null,We(Pe,Fe,Ut,tn);case l:return Fe=Fe.get(Ut.key===null?Ge:Ut.key)||null,gt(Pe,Fe,Ut,tn);case w:var Fn=Ut._init;return br(Fe,Pe,Ge,Fn(Ut._payload),tn)}if(k(Ut)||E(Ut))return Fe=Fe.get(Ge)||null,Gt(Pe,Fe,Ut,tn,null);c1(Pe,Ut)}return null}function on(Fe,Pe,Ge,Ut){for(var tn=null,Fn=null,On=Pe,rr=Pe=0,Xi=null;On!==null&&rr<Ge.length;rr++){On.index>rr?(Xi=On,On=null):Xi=On.sibling;var ir=vn(Fe,On,Ge[rr],Ut);if(ir===null){On===null&&(On=Xi);break}v&&On&&ir.alternate===null&&g(Fe,On),Pe=X(ir,Pe,rr),Fn===null?tn=ir:Fn.sibling=ir,Fn=ir,On=Xi}if(rr===Ge.length)return A(Fe,On),jr&&Qd(Fe,rr),tn;if(On===null){for(;rr<Ge.length;rr++)On=Mn(Fe,Ge[rr],Ut),On!==null&&(Pe=X(On,Pe,rr),Fn===null?tn=On:Fn.sibling=On,Fn=On);return jr&&Qd(Fe,rr),tn}for(On=I(Fe,On);rr<Ge.length;rr++)Xi=br(On,Fe,rr,Ge[rr],Ut),Xi!==null&&(v&&Xi.alternate!==null&&On.delete(Xi.key===null?rr:Xi.key),Pe=X(Xi,Pe,rr),Fn===null?tn=Xi:Fn.sibling=Xi,Fn=Xi);return v&&On.forEach(function(Ef){return g(Fe,Ef)}),jr&&Qd(Fe,rr),tn}function xo(Fe,Pe,Ge,Ut){var tn=E(Ge);if(typeof tn!="function")throw Error(a(150));if(Ge=tn.call(Ge),Ge==null)throw Error(a(151));for(var Fn=tn=null,On=Pe,rr=Pe=0,Xi=null,ir=Ge.next();On!==null&&!ir.done;rr++,ir=Ge.next()){On.index>rr?(Xi=On,On=null):Xi=On.sibling;var Ef=vn(Fe,On,ir.value,Ut);if(Ef===null){On===null&&(On=Xi);break}v&&On&&Ef.alternate===null&&g(Fe,On),Pe=X(Ef,Pe,rr),Fn===null?tn=Ef:Fn.sibling=Ef,Fn=Ef,On=Xi}if(ir.done)return A(Fe,On),jr&&Qd(Fe,rr),tn;if(On===null){for(;!ir.done;rr++,ir=Ge.next())ir=Mn(Fe,ir.value,Ut),ir!==null&&(Pe=X(ir,Pe,rr),Fn===null?tn=ir:Fn.sibling=ir,Fn=ir);return jr&&Qd(Fe,rr),tn}for(On=I(Fe,On);!ir.done;rr++,ir=Ge.next())ir=br(On,Fe,rr,ir.value,Ut),ir!==null&&(v&&ir.alternate!==null&&On.delete(ir.key===null?rr:ir.key),Pe=X(ir,Pe,rr),Fn===null?tn=ir:Fn.sibling=ir,Fn=ir);return v&&On.forEach(function(ale){return g(Fe,ale)}),jr&&Qd(Fe,rr),tn}function Rs(Fe,Pe,Ge,Ut){if(typeof Ge=="object"&&Ge!==null&&Ge.type===c&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case u:e:{for(var tn=Ge.key,Fn=Pe;Fn!==null;){if(Fn.key===tn){if(tn=Ge.type,tn===c){if(Fn.tag===7){A(Fe,Fn.sibling),Pe=z(Fn,Ge.props.children),Pe.return=Fe,Fe=Pe;break e}}else if(Fn.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===w&&r4(tn)===Fn.type){A(Fe,Fn.sibling),Pe=z(Fn,Ge.props),Pe.ref=j0(Fe,Fn,Ge),Pe.return=Fe,Fe=Pe;break e}A(Fe,Fn);break}else g(Fe,Fn);Fn=Fn.sibling}Ge.type===c?(Pe=ah(Ge.props.children,Fe.mode,Ut,Ge.key),Pe.return=Fe,Fe=Pe):(Ut=H1(Ge.type,Ge.key,Ge.props,null,Fe.mode,Ut),Ut.ref=j0(Fe,Pe,Ge),Ut.return=Fe,Fe=Ut)}return ge(Fe);case l:e:{for(Fn=Ge.key;Pe!==null;){if(Pe.key===Fn)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ge.containerInfo&&Pe.stateNode.implementation===Ge.implementation){A(Fe,Pe.sibling),Pe=z(Pe,Ge.children||[]),Pe.return=Fe,Fe=Pe;break e}else{A(Fe,Pe);break}else g(Fe,Pe);Pe=Pe.sibling}Pe=cI(Ge,Fe.mode,Ut),Pe.return=Fe,Fe=Pe}return ge(Fe);case w:return Fn=Ge._init,Rs(Fe,Pe,Fn(Ge._payload),Ut)}if(k(Ge))return on(Fe,Pe,Ge,Ut);if(E(Ge))return xo(Fe,Pe,Ge,Ut);c1(Fe,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Pe!==null&&Pe.tag===6?(A(Fe,Pe.sibling),Pe=z(Pe,Ge),Pe.return=Fe,Fe=Pe):(A(Fe,Pe),Pe=uI(Ge,Fe.mode,Ut),Pe.return=Fe,Fe=Pe),ge(Fe)):A(Fe,Pe)}return Rs}var ym=i4(!0),o4=i4(!1),H0={},Ts=ut(H0),$0=ut(H0),_m=ut(H0);function vu(v){if(v===H0)throw Error(a(174));return v}function TO(v,g){Je(_m,g),Je($0,v),Je(Ts,H0),v=$(g),rt(Ts),Je(Ts,v)}function bm(){rt(Ts),rt($0),rt(_m)}function a4(v){var g=vu(_m.current),A=vu(Ts.current);g=F(A,v.type,g),A!==g&&(Je($0,v),Je(Ts,g))}function MO(v){$0.current===v&&(rt(Ts),rt($0))}var Kr=ut(0);function f1(v){for(var g=v;g!==null;){if(g.tag===13){var A=g.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||ot(A)||lt(A)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===v)break;for(;g.sibling===null;){if(g.return===null||g.return===v)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var OO=[];function IO(){for(var v=0;v<OO.length;v++){var g=OO[v];he?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}OO.length=0}var d1=s.ReactCurrentDispatcher,Ms=s.ReactCurrentBatchConfig,wm=0,ti=null,wo=null,Ki=null,h1=!1,z0=!1,G0=0,Rse=0;function So(){throw Error(a(321))}function RO(v,g){if(g===null)return!1;for(var A=0;A<g.length&&A<v.length;A++)if(!hu(v[A],g[A]))return!1;return!0}function PO(v,g,A,I,z,X){if(wm=X,ti=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,d1.current=v===null||v.memoizedState===null?Nse:Bse,v=A(I,z),z0){X=0;do{if(z0=!1,G0=0,25<=X)throw Error(a(301));X+=1,Ki=wo=null,g.updateQueue=null,d1.current=Fse,v=A(I,z)}while(z0)}if(d1.current=y1,g=wo!==null&&wo.next!==null,wm=0,Ki=wo=ti=null,h1=!1,g)throw Error(a(300));return v}function DO(){var v=G0!==0;return G0=0,v}function fc(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?ti.memoizedState=Ki=v:Ki=Ki.next=v,Ki}function gu(){if(wo===null){var v=ti.alternate;v=v!==null?v.memoizedState:null}else v=wo.next;var g=Ki===null?ti.memoizedState:Ki.next;if(g!==null)Ki=g,wo=v;else{if(v===null)throw Error(a(310));wo=v,v={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},Ki===null?ti.memoizedState=Ki=v:Ki=Ki.next=v}return Ki}function eh(v,g){return typeof g=="function"?g(v):g}function p1(v){var g=gu(),A=g.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=v;var I=wo,z=I.baseQueue,X=A.pending;if(X!==null){if(z!==null){var ge=z.next;z.next=X.next,X.next=ge}I.baseQueue=z=X,A.pending=null}if(z!==null){X=z.next,I=I.baseState;var Re=ge=null,We=null,gt=X;do{var Gt=gt.lane;if((wm&Gt)===Gt)We!==null&&(We=We.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),I=gt.hasEagerState?gt.eagerState:v(I,gt.action);else{var Mn={lane:Gt,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};We===null?(Re=We=Mn,ge=I):We=We.next=Mn,ti.lanes|=Gt,Em|=Gt}gt=gt.next}while(gt!==null&&gt!==X);We===null?ge=I:We.next=Re,hu(I,g.memoizedState)||(qa=!0),g.memoizedState=I,g.baseState=ge,g.baseQueue=We,A.lastRenderedState=I}if(v=A.interleaved,v!==null){z=v;do X=z.lane,ti.lanes|=X,Em|=X,z=z.next;while(z!==v)}else z===null&&(A.lanes=0);return[g.memoizedState,A.dispatch]}function m1(v){var g=gu(),A=g.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=v;var I=A.dispatch,z=A.pending,X=g.memoizedState;if(z!==null){A.pending=null;var ge=z=z.next;do X=v(X,ge.action),ge=ge.next;while(ge!==z);hu(X,g.memoizedState)||(qa=!0),g.memoizedState=X,g.baseQueue===null&&(g.baseState=X),A.lastRenderedState=X}return[X,I]}function s4(){}function l4(v,g){var A=ti,I=gu(),z=g(),X=!hu(I.memoizedState,z);if(X&&(I.memoizedState=z,qa=!0),I=I.queue,V0(f4.bind(null,A,I,v),[v]),I.getSnapshot!==g||X||Ki!==null&&Ki.memoizedState.tag&1){if(A.flags|=2048,W0(9,c4.bind(null,A,I,z,g),void 0,null),bi===null)throw Error(a(349));wm&30||u4(A,g,z)}return z}function u4(v,g,A){v.flags|=16384,v={getSnapshot:g,value:A},g=ti.updateQueue,g===null?(g={lastEffect:null,stores:null},ti.updateQueue=g,g.stores=[v]):(A=g.stores,A===null?g.stores=[v]:A.push(v))}function c4(v,g,A,I){g.value=A,g.getSnapshot=I,d4(g)&&Os(v,1,-1)}function f4(v,g,A){return A(function(){d4(g)&&Os(v,1,-1)})}function d4(v){var g=v.getSnapshot;v=v.value;try{var A=g();return!hu(v,A)}catch{return!0}}function LO(v){var g=fc();return typeof v=="function"&&(v=v()),g.memoizedState=g.baseState=v,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:v},g.queue=v,v=v.dispatch=Lse.bind(null,ti,v),[g.memoizedState,v]}function W0(v,g,A,I){return v={tag:v,create:g,destroy:A,deps:I,next:null},g=ti.updateQueue,g===null?(g={lastEffect:null,stores:null},ti.updateQueue=g,g.lastEffect=v.next=v):(A=g.lastEffect,A===null?g.lastEffect=v.next=v:(I=A.next,A.next=v,v.next=I,g.lastEffect=v)),v}function h4(){return gu().memoizedState}function v1(v,g,A,I){var z=fc();ti.flags|=v,z.memoizedState=W0(1|g,A,void 0,I===void 0?null:I)}function g1(v,g,A,I){var z=gu();I=I===void 0?null:I;var X=void 0;if(wo!==null){var ge=wo.memoizedState;if(X=ge.destroy,I!==null&&RO(I,ge.deps)){z.memoizedState=W0(g,A,X,I);return}}ti.flags|=v,z.memoizedState=W0(1|g,A,X,I)}function NO(v,g){return v1(8390656,8,v,g)}function V0(v,g){return g1(2048,8,v,g)}function p4(v,g){return g1(4,2,v,g)}function m4(v,g){return g1(4,4,v,g)}function v4(v,g){if(typeof g=="function")return v=v(),g(v),function(){g(null)};if(g!=null)return v=v(),g.current=v,function(){g.current=null}}function g4(v,g,A){return A=A!=null?A.concat([v]):null,g1(4,4,v4.bind(null,g,v),A)}function BO(){}function y4(v,g){var A=gu();g=g===void 0?null:g;var I=A.memoizedState;return I!==null&&g!==null&&RO(g,I[1])?I[0]:(A.memoizedState=[v,g],v)}function _4(v,g){var A=gu();g=g===void 0?null:g;var I=A.memoizedState;return I!==null&&g!==null&&RO(g,I[1])?I[0]:(v=v(),A.memoizedState=[v,g],v)}function Pse(v,g){var A=Dn;Dn=A!==0&&4>A?A:4,v(!0);var I=Ms.transition;Ms.transition={};try{v(!1),g()}finally{Dn=A,Ms.transition=I}}function b4(){return gu().memoizedState}function Dse(v,g,A){var I=bf(v);A={lane:I,action:A,hasEagerState:!1,eagerState:null,next:null},w4(v)?S4(g,A):(E4(v,g,A),A=Vo(),v=Os(v,I,A),v!==null&&x4(v,g,I))}function Lse(v,g,A){var I=bf(v),z={lane:I,action:A,hasEagerState:!1,eagerState:null,next:null};if(w4(v))S4(g,z);else{E4(v,g,z);var X=v.alternate;if(v.lanes===0&&(X===null||X.lanes===0)&&(X=g.lastRenderedReducer,X!==null))try{var ge=g.lastRenderedState,Re=X(ge,A);if(z.hasEagerState=!0,z.eagerState=Re,hu(Re,ge))return}catch{}finally{}A=Vo(),v=Os(v,I,A),v!==null&&x4(v,g,I)}}function w4(v){var g=v.alternate;return v===ti||g!==null&&g===ti}function S4(v,g){z0=h1=!0;var A=v.pending;A===null?g.next=g:(g.next=A.next,A.next=g),v.pending=g}function E4(v,g,A){bi!==null&&v.mode&1&&!(Un&2)?(v=g.interleaved,v===null?(A.next=A,mu===null?mu=[g]:mu.push(g)):(A.next=v.next,v.next=A),g.interleaved=A):(v=g.pending,v===null?A.next=A:(A.next=v.next,v.next=A),g.pending=A)}function x4(v,g,A){if(A&4194240){var I=g.lanes;I&=v.pendingLanes,A|=I,g.lanes=A,bo(v,A)}}var y1={readContext:xs,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},Nse={readContext:xs,useCallback:function(v,g){return fc().memoizedState=[v,g===void 0?null:g],v},useContext:xs,useEffect:NO,useImperativeHandle:function(v,g,A){return A=A!=null?A.concat([v]):null,v1(4194308,4,v4.bind(null,g,v),A)},useLayoutEffect:function(v,g){return v1(4194308,4,v,g)},useInsertionEffect:function(v,g){return v1(4,2,v,g)},useMemo:function(v,g){var A=fc();return g=g===void 0?null:g,v=v(),A.memoizedState=[v,g],v},useReducer:function(v,g,A){var I=fc();return g=A!==void 0?A(g):g,I.memoizedState=I.baseState=g,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:g},I.queue=v,v=v.dispatch=Dse.bind(null,ti,v),[I.memoizedState,v]},useRef:function(v){var g=fc();return v={current:v},g.memoizedState=v},useState:LO,useDebugValue:BO,useDeferredValue:function(v){var g=LO(v),A=g[0],I=g[1];return NO(function(){var z=Ms.transition;Ms.transition={};try{I(v)}finally{Ms.transition=z}},[v]),A},useTransition:function(){var v=LO(!1),g=v[0];return v=Pse.bind(null,v[1]),fc().memoizedState=v,[g,v]},useMutableSource:function(){},useSyncExternalStore:function(v,g,A){var I=ti,z=fc();if(jr){if(A===void 0)throw Error(a(407));A=A()}else{if(A=g(),bi===null)throw Error(a(349));wm&30||u4(I,g,A)}z.memoizedState=A;var X={value:A,getSnapshot:g};return z.queue=X,NO(f4.bind(null,I,X,v),[v]),I.flags|=2048,W0(9,c4.bind(null,I,X,A,g),void 0,null),A},useId:function(){var v=fc(),g=bi.identifierPrefix;if(jr){var A=cc,I=uc;A=(I&~(1<<32-qn(I)-1)).toString(32)+A,g=":"+g+"R"+A,A=G0++,0<A&&(g+="H"+A.toString(32)),g+=":"}else A=Rse++,g=":"+g+"r"+A.toString(32)+":";return v.memoizedState=g},unstable_isNewReconciler:!1},Bse={readContext:xs,useCallback:y4,useContext:xs,useEffect:V0,useImperativeHandle:g4,useInsertionEffect:p4,useLayoutEffect:m4,useMemo:_4,useReducer:p1,useRef:h4,useState:function(){return p1(eh)},useDebugValue:BO,useDeferredValue:function(v){var g=p1(eh),A=g[0],I=g[1];return V0(function(){var z=Ms.transition;Ms.transition={};try{I(v)}finally{Ms.transition=z}},[v]),A},useTransition:function(){var v=p1(eh)[0],g=gu().memoizedState;return[v,g]},useMutableSource:s4,useSyncExternalStore:l4,useId:b4,unstable_isNewReconciler:!1},Fse={readContext:xs,useCallback:y4,useContext:xs,useEffect:V0,useImperativeHandle:g4,useInsertionEffect:p4,useLayoutEffect:m4,useMemo:_4,useReducer:m1,useRef:h4,useState:function(){return m1(eh)},useDebugValue:BO,useDeferredValue:function(v){var g=m1(eh),A=g[0],I=g[1];return V0(function(){var z=Ms.transition;Ms.transition={};try{I(v)}finally{Ms.transition=z}},[v]),A},useTransition:function(){var v=m1(eh)[0],g=gu().memoizedState;return[v,g]},useMutableSource:s4,useSyncExternalStore:l4,useId:b4,unstable_isNewReconciler:!1};function FO(v,g){try{var A="",I=g;do A+=Ise(I),I=I.return;while(I);var z=A}catch(X){z=`
Error generating stack: `+X.message+`
`+X.stack}return{value:v,source:g,stack:z}}function kO(v,g){try{console.error(g.value)}catch(A){setTimeout(function(){throw A})}}var kse=typeof WeakMap=="function"?WeakMap:Map;function A4(v,g,A){A=lc(-1,A),A.tag=3,A.payload={element:null};var I=g.value;return A.callback=function(){L1||(L1=!0,nI=I),kO(v,g)},A}function C4(v,g,A){A=lc(-1,A),A.tag=3;var I=v.type.getDerivedStateFromError;if(typeof I=="function"){var z=g.value;A.payload=function(){return I(z)},A.callback=function(){kO(v,g)}}var X=v.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(A.callback=function(){kO(v,g),typeof I!="function"&&(yf===null?yf=new Set([this]):yf.add(this));var ge=g.stack;this.componentDidCatch(g.value,{componentStack:ge!==null?ge:""})}),A}function T4(v,g,A){var I=v.pingCache;if(I===null){I=v.pingCache=new kse;var z=new Set;I.set(g,z)}else z=I.get(g),z===void 0&&(z=new Set,I.set(g,z));z.has(A)||(z.add(A),v=Zse.bind(null,v,g,A),g.then(v,v))}function M4(v){do{var g;if((g=v.tag===13)&&(g=v.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return v;v=v.return}while(v!==null);return null}function O4(v,g,A,I,z){return v.mode&1?(v.flags|=65536,v.lanes=z,v):(v===g?v.flags|=65536:(v.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(g=lc(-1,1),g.tag=2,gf(A,g))),A.lanes|=1),v)}function yu(v){v.flags|=4}function I4(v,g){if(v!==null&&v.child===g.child)return!0;if(g.flags&16)return!1;for(v=g.child;v!==null;){if(v.flags&12854||v.subtreeFlags&12854)return!1;v=v.sibling}return!0}var q0,K0,_1,b1;if(we)q0=function(v,g){for(var A=g.child;A!==null;){if(A.tag===5||A.tag===6)Z(v,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},K0=function(){},_1=function(v,g,A,I,z){if(v=v.memoizedProps,v!==I){var X=g.stateNode,ge=vu(Ts.current);A=oe(X,A,v,I,z,ge),(g.updateQueue=A)&&yu(g)}},b1=function(v,g,A,I){A!==I&&yu(g)};else if(ne){q0=function(v,g,A,I){for(var z=g.child;z!==null;){if(z.tag===5){var X=z.stateNode;A&&I&&(X=mn(X,z.type,z.memoizedProps,z)),Z(v,X)}else if(z.tag===6)X=z.stateNode,A&&I&&(X=Lt(X,z.memoizedProps,z)),Z(v,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),q0(v,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===g)break;for(;z.sibling===null;){if(z.return===null||z.return===g)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var R4=function(v,g,A,I){for(var z=g.child;z!==null;){if(z.tag===5){var X=z.stateNode;A&&I&&(X=mn(X,z.type,z.memoizedProps,z)),vt(v,X)}else if(z.tag===6)X=z.stateNode,A&&I&&(X=Lt(X,z.memoizedProps,z)),vt(v,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),R4(v,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===g)break;for(;z.sibling===null;){if(z.return===null||z.return===g)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};K0=function(v,g){var A=g.stateNode;if(!I4(v,g)){v=A.containerInfo;var I=Pt(v);R4(I,g,!1,!1),A.pendingChildren=I,yu(g),$t(v,I)}},_1=function(v,g,A,I,z){var X=v.stateNode,ge=v.memoizedProps;if((v=I4(v,g))&&ge===I)g.stateNode=X;else{var Re=g.stateNode,We=vu(Ts.current),gt=null;ge!==I&&(gt=oe(Re,A,ge,I,z,We)),v&&gt===null?g.stateNode=X:(X=tt(X,gt,A,ge,I,g,v,Re),ee(X,A,I,z,We)&&yu(g),g.stateNode=X,v?yu(g):q0(X,g,!1,!1))}},b1=function(v,g,A,I){A!==I?(v=vu(_m.current),A=vu(Ts.current),g.stateNode=ie(I,v,A,g),yu(g)):g.stateNode=v.stateNode}}else K0=function(){},_1=function(){},b1=function(){};function X0(v,g){if(!jr)switch(v.tailMode){case"hidden":g=v.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?v.tail=null:A.sibling=null;break;case"collapsed":A=v.tail;for(var I=null;A!==null;)A.alternate!==null&&(I=A),A=A.sibling;I===null?g||v.tail===null?v.tail=null:v.tail.sibling=null:I.sibling=null}}function Eo(v){var g=v.alternate!==null&&v.alternate.child===v.child,A=0,I=0;if(g)for(var z=v.child;z!==null;)A|=z.lanes|z.childLanes,I|=z.subtreeFlags&14680064,I|=z.flags&14680064,z.return=v,z=z.sibling;else for(z=v.child;z!==null;)A|=z.lanes|z.childLanes,I|=z.subtreeFlags,I|=z.flags,z.return=v,z=z.sibling;return v.subtreeFlags|=I,v.childLanes=A,g}function Use(v,g,A){var I=g.pendingProps;switch(EO(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Eo(g),null;case 1:return pt(g.type)&&dt(),Eo(g),null;case 3:return I=g.stateNode,bm(),rt(yt),rt(xt),IO(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(v===null||v.child===null)&&(U0(g)?yu(g):v===null||v.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,El!==null&&(oI(El),El=null))),K0(v,g),Eo(g),null;case 5:MO(g),A=vu(_m.current);var z=g.type;if(v!==null&&g.stateNode!=null)_1(v,g,z,I,A),v.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!I){if(g.stateNode===null)throw Error(a(166));return Eo(g),null}if(v=vu(Ts.current),U0(g)){if(!Me)throw Error(a(175));v=Y(g.stateNode,g.type,g.memoizedProps,A,v,g,!k0),g.updateQueue=v,v!==null&&yu(g)}else{var X=W(z,I,A,v,g);q0(X,g,!1,!1),g.stateNode=X,ee(X,z,I,A,v)&&yu(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Eo(g),null;case 6:if(v&&g.stateNode!=null)b1(v,g,v.memoizedProps,I);else{if(typeof I!="string"&&g.stateNode===null)throw Error(a(166));if(v=vu(_m.current),A=vu(Ts.current),U0(g)){if(!Me)throw Error(a(176));if(v=g.stateNode,I=g.memoizedProps,(A=re(v,I,g,!k0))&&(z=Wa,z!==null))switch(X=(z.mode&1)!==0,z.tag){case 3:Ne(z.stateNode.containerInfo,v,I,X);break;case 5:ze(z.type,z.memoizedProps,z.stateNode,v,I,X)}A&&yu(g)}else g.stateNode=ie(I,v,A,g)}return Eo(g),null;case 13:if(rt(Kr),I=g.memoizedState,jr&&Va!==null&&g.mode&1&&!(g.flags&128)){for(v=Va;v;)v=Dt(v);return gm(),g.flags|=98560,g}if(I!==null&&I.dehydrated!==null){if(I=U0(g),v===null){if(!I)throw Error(a(318));if(!Me)throw Error(a(344));if(v=g.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));_e(v,g)}else gm(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Eo(g),null}return El!==null&&(oI(El),El=null),g.flags&128?(g.lanes=A,g):(I=I!==null,A=!1,v===null?U0(g):A=v.memoizedState!==null,I&&!A&&(g.child.flags|=8192,g.mode&1&&(v===null||Kr.current&1?Li===0&&(Li=3):sI())),g.updateQueue!==null&&(g.flags|=4),Eo(g),null);case 4:return bm(),K0(v,g),v===null&&K(g.stateNode.containerInfo),Eo(g),null;case 10:return gO(g.type._context),Eo(g),null;case 17:return pt(g.type)&&dt(),Eo(g),null;case 19:if(rt(Kr),z=g.memoizedState,z===null)return Eo(g),null;if(I=(g.flags&128)!==0,X=z.rendering,X===null)if(I)X0(z,!1);else{if(Li!==0||v!==null&&v.flags&128)for(v=g.child;v!==null;){if(X=f1(v),X!==null){for(g.flags|=128,X0(z,!1),v=X.updateQueue,v!==null&&(g.updateQueue=v,g.flags|=4),g.subtreeFlags=0,v=A,I=g.child;I!==null;)A=I,z=v,A.flags&=14680066,X=A.alternate,X===null?(A.childLanes=0,A.lanes=z,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=X.childLanes,A.lanes=X.lanes,A.child=X.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=X.memoizedProps,A.memoizedState=X.memoizedState,A.updateQueue=X.updateQueue,A.type=X.type,z=X.dependencies,A.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),I=I.sibling;return Je(Kr,Kr.current&1|2),g.child}v=v.sibling}z.tail!==null&&qi()>tI&&(g.flags|=128,I=!0,X0(z,!1),g.lanes=4194304)}else{if(!I)if(v=f1(X),v!==null){if(g.flags|=128,I=!0,v=v.updateQueue,v!==null&&(g.updateQueue=v,g.flags|=4),X0(z,!0),z.tail===null&&z.tailMode==="hidden"&&!X.alternate&&!jr)return Eo(g),null}else 2*qi()-z.renderingStartTime>tI&&A!==1073741824&&(g.flags|=128,I=!0,X0(z,!1),g.lanes=4194304);z.isBackwards?(X.sibling=g.child,g.child=X):(v=z.last,v!==null?v.sibling=X:g.child=X,z.last=X)}return z.tail!==null?(g=z.tail,z.rendering=g,z.tail=g.sibling,z.renderingStartTime=qi(),g.sibling=null,v=Kr.current,Je(Kr,I?v&1|2:v&1),g):(Eo(g),null);case 22:case 23:return aI(),I=g.memoizedState!==null,v!==null&&v.memoizedState!==null!==I&&(g.flags|=8192),I&&g.mode&1?Ka&1073741824&&(Eo(g),we&&g.subtreeFlags&6&&(g.flags|=8192)):Eo(g),null;case 24:return null;case 25:return null}throw Error(a(156,g.tag))}var jse=s.ReactCurrentOwner,qa=!1;function Wo(v,g,A,I){g.child=v===null?o4(g,null,A,I):ym(g,v.child,A,I)}function P4(v,g,A,I,z){A=A.render;var X=g.ref;return pm(g,z),I=PO(v,g,A,I,X,z),A=DO(),v!==null&&!qa?(g.updateQueue=v.updateQueue,g.flags&=-2053,v.lanes&=~z,dc(v,g,z)):(jr&&A&&SO(g),g.flags|=1,Wo(v,g,I,z),g.child)}function D4(v,g,A,I,z){if(v===null){var X=A.type;return typeof X=="function"&&!lI(X)&&X.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(g.tag=15,g.type=X,L4(v,g,X,I,z)):(v=H1(A.type,null,I,g,g.mode,z),v.ref=g.ref,v.return=g,g.child=v)}if(X=v.child,!(v.lanes&z)){var ge=X.memoizedProps;if(A=A.compare,A=A!==null?A:n1,A(ge,I)&&v.ref===g.ref)return dc(v,g,z)}return g.flags|=1,v=Sf(X,I),v.ref=g.ref,v.return=g,g.child=v}function L4(v,g,A,I,z){if(v!==null&&n1(v.memoizedProps,I)&&v.ref===g.ref)if(qa=!1,(v.lanes&z)!==0)v.flags&131072&&(qa=!0);else return g.lanes=v.lanes,dc(v,g,z);return UO(v,g,A,I,z)}function N4(v,g,A){var I=g.pendingProps,z=I.children,X=v!==null?v.memoizedState:null;if(I.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Je(Sm,Ka),Ka|=A;else if(A&1073741824)g.memoizedState={baseLanes:0,cachePool:null},I=X!==null?X.baseLanes:A,Je(Sm,Ka),Ka|=I;else return v=X!==null?X.baseLanes|A:A,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:v,cachePool:null},g.updateQueue=null,Je(Sm,Ka),Ka|=v,null;else X!==null?(I=X.baseLanes|A,g.memoizedState=null):I=A,Je(Sm,Ka),Ka|=I;return Wo(v,g,z,A),g.child}function B4(v,g){var A=g.ref;(v===null&&A!==null||v!==null&&v.ref!==A)&&(g.flags|=512,g.flags|=2097152)}function UO(v,g,A,I,z){var X=pt(A)?Zt:xt.current;return X=Cn(g,X),pm(g,z),A=PO(v,g,A,I,X,z),I=DO(),v!==null&&!qa?(g.updateQueue=v.updateQueue,g.flags&=-2053,v.lanes&=~z,dc(v,g,z)):(jr&&I&&SO(g),g.flags|=1,Wo(v,g,A,z),g.child)}function F4(v,g,A,I,z){if(pt(A)){var X=!0;jt(g)}else X=!1;if(pm(g,z),g.stateNode===null)v!==null&&(v.alternate=null,g.alternate=null,g.flags|=2),YU(g,A,I),wO(g,A,I,z),I=!0;else if(v===null){var ge=g.stateNode,Re=g.memoizedProps;ge.props=Re;var We=ge.context,gt=A.contextType;typeof gt=="object"&&gt!==null?gt=xs(gt):(gt=pt(A)?Zt:xt.current,gt=Cn(g,gt));var Gt=A.getDerivedStateFromProps,Mn=typeof Gt=="function"||typeof ge.getSnapshotBeforeUpdate=="function";Mn||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Re!==I||We!==gt)&&ZU(g,ge,I,gt),vf=!1;var vn=g.memoizedState;ge.state=vn,a1(g,I,ge,z),We=g.memoizedState,Re!==I||vn!==We||yt.current||vf?(typeof Gt=="function"&&(bO(g,A,Gt,I),We=g.memoizedState),(Re=vf||JU(g,A,Re,I,vn,We,gt))?(Mn||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=I,g.memoizedState=We),ge.props=I,ge.state=We,ge.context=gt,I=Re):(typeof ge.componentDidMount=="function"&&(g.flags|=4194308),I=!1)}else{ge=g.stateNode,VU(v,g),Re=g.memoizedProps,gt=g.type===g.elementType?Re:Sl(g.type,Re),ge.props=gt,Mn=g.pendingProps,vn=ge.context,We=A.contextType,typeof We=="object"&&We!==null?We=xs(We):(We=pt(A)?Zt:xt.current,We=Cn(g,We));var br=A.getDerivedStateFromProps;(Gt=typeof br=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Re!==Mn||vn!==We)&&ZU(g,ge,I,We),vf=!1,vn=g.memoizedState,ge.state=vn,a1(g,I,ge,z);var on=g.memoizedState;Re!==Mn||vn!==on||yt.current||vf?(typeof br=="function"&&(bO(g,A,br,I),on=g.memoizedState),(gt=vf||JU(g,A,gt,I,vn,on,We)||!1)?(Gt||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(I,on,We),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(I,on,We)),typeof ge.componentDidUpdate=="function"&&(g.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Re===v.memoizedProps&&vn===v.memoizedState||(g.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Re===v.memoizedProps&&vn===v.memoizedState||(g.flags|=1024),g.memoizedProps=I,g.memoizedState=on),ge.props=I,ge.state=on,ge.context=We,I=gt):(typeof ge.componentDidUpdate!="function"||Re===v.memoizedProps&&vn===v.memoizedState||(g.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Re===v.memoizedProps&&vn===v.memoizedState||(g.flags|=1024),I=!1)}return jO(v,g,A,I,X,z)}function jO(v,g,A,I,z,X){B4(v,g);var ge=(g.flags&128)!==0;if(!I&&!ge)return z&&fn(g,A,!1),dc(v,g,X);I=g.stateNode,jse.current=g;var Re=ge&&typeof A.getDerivedStateFromError!="function"?null:I.render();return g.flags|=1,v!==null&&ge?(g.child=ym(g,v.child,null,X),g.child=ym(g,null,Re,X)):Wo(v,g,Re,X),g.memoizedState=I.state,z&&fn(g,A,!0),g.child}function k4(v){var g=v.stateNode;g.pendingContext?St(v,g.pendingContext,g.pendingContext!==g.context):g.context&&St(v,g.context,!1),TO(v,g.containerInfo)}function U4(v,g,A,I,z){return gm(),CO(z),g.flags|=256,Wo(v,g,A,I),g.child}var w1={dehydrated:null,treeContext:null,retryLane:0};function S1(v){return{baseLanes:v,cachePool:null}}function j4(v,g,A){var I=g.pendingProps,z=Kr.current,X=!1,ge=(g.flags&128)!==0,Re;if((Re=ge)||(Re=v!==null&&v.memoizedState===null?!1:(z&2)!==0),Re?(X=!0,g.flags&=-129):(v===null||v.memoizedState!==null)&&(z|=1),Je(Kr,z&1),v===null)return AO(g),v=g.memoizedState,v!==null&&(v=v.dehydrated,v!==null)?(g.mode&1?lt(v)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(z=I.children,v=I.fallback,X?(I=g.mode,X=g.child,z={mode:"hidden",children:z},!(I&1)&&X!==null?(X.childLanes=0,X.pendingProps=z):X=$1(z,I,0,null),v=ah(v,I,A,null),X.return=g,v.return=g,X.sibling=v,g.child=X,g.child.memoizedState=S1(A),g.memoizedState=w1,v):HO(g,z));if(z=v.memoizedState,z!==null){if(Re=z.dehydrated,Re!==null){if(ge)return g.flags&256?(g.flags&=-257,E1(v,g,A,Error(a(422)))):g.memoizedState!==null?(g.child=v.child,g.flags|=128,null):(X=I.fallback,z=g.mode,I=$1({mode:"visible",children:I.children},z,0,null),X=ah(X,z,A,null),X.flags|=2,I.return=g,X.return=g,I.sibling=X,g.child=I,g.mode&1&&ym(g,v.child,null,A),g.child.memoizedState=S1(A),g.memoizedState=w1,X);if(!(g.mode&1))g=E1(v,g,A,null);else if(lt(Re))g=E1(v,g,A,Error(a(419)));else if(I=(A&v.childLanes)!==0,qa||I){if(I=bi,I!==null){switch(A&-A){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}I=X&(I.suspendedLanes|A)?0:X,I!==0&&I!==z.retryLane&&(z.retryLane=I,Os(v,I,-1))}sI(),g=E1(v,g,A,Error(a(421)))}else ot(Re)?(g.flags|=128,g.child=v.child,g=Qse.bind(null,v),bt(Re,g),g=null):(A=z.treeContext,Me&&(Va=Ht(Re),Wa=g,jr=!0,El=null,k0=!1,A!==null&&(As[Cs++]=uc,As[Cs++]=cc,As[Cs++]=Zd,uc=A.id,cc=A.overflow,Zd=g)),g=HO(g,g.pendingProps.children),g.flags|=4096);return g}return X?(I=$4(v,g,I.children,I.fallback,A),X=g.child,z=v.child.memoizedState,X.memoizedState=z===null?S1(A):{baseLanes:z.baseLanes|A,cachePool:null},X.childLanes=v.childLanes&~A,g.memoizedState=w1,I):(A=H4(v,g,I.children,A),g.memoizedState=null,A)}return X?(I=$4(v,g,I.children,I.fallback,A),X=g.child,z=v.child.memoizedState,X.memoizedState=z===null?S1(A):{baseLanes:z.baseLanes|A,cachePool:null},X.childLanes=v.childLanes&~A,g.memoizedState=w1,I):(A=H4(v,g,I.children,A),g.memoizedState=null,A)}function HO(v,g){return g=$1({mode:"visible",children:g},v.mode,0,null),g.return=v,v.child=g}function H4(v,g,A,I){var z=v.child;return v=z.sibling,A=Sf(z,{mode:"visible",children:A}),!(g.mode&1)&&(A.lanes=I),A.return=g,A.sibling=null,v!==null&&(I=g.deletions,I===null?(g.deletions=[v],g.flags|=16):I.push(v)),g.child=A}function $4(v,g,A,I,z){var X=g.mode;v=v.child;var ge=v.sibling,Re={mode:"hidden",children:A};return!(X&1)&&g.child!==v?(A=g.child,A.childLanes=0,A.pendingProps=Re,g.deletions=null):(A=Sf(v,Re),A.subtreeFlags=v.subtreeFlags&14680064),ge!==null?I=Sf(ge,I):(I=ah(I,X,z,null),I.flags|=2),I.return=g,A.return=g,A.sibling=I,g.child=A,I}function E1(v,g,A,I){return I!==null&&CO(I),ym(g,v.child,null,A),v=HO(g,g.pendingProps.children),v.flags|=2,g.memoizedState=null,v}function z4(v,g,A){v.lanes|=g;var I=v.alternate;I!==null&&(I.lanes|=g),yO(v.return,g,A)}function $O(v,g,A,I,z){var X=v.memoizedState;X===null?v.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:I,tail:A,tailMode:z}:(X.isBackwards=g,X.rendering=null,X.renderingStartTime=0,X.last=I,X.tail=A,X.tailMode=z)}function G4(v,g,A){var I=g.pendingProps,z=I.revealOrder,X=I.tail;if(Wo(v,g,I.children,A),I=Kr.current,I&2)I=I&1|2,g.flags|=128;else{if(v!==null&&v.flags&128)e:for(v=g.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&z4(v,A,g);else if(v.tag===19)z4(v,A,g);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===g)break e;for(;v.sibling===null;){if(v.return===null||v.return===g)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}I&=1}if(Je(Kr,I),!(g.mode&1))g.memoizedState=null;else switch(z){case"forwards":for(A=g.child,z=null;A!==null;)v=A.alternate,v!==null&&f1(v)===null&&(z=A),A=A.sibling;A=z,A===null?(z=g.child,g.child=null):(z=A.sibling,A.sibling=null),$O(g,!1,z,A,X);break;case"backwards":for(A=null,z=g.child,g.child=null;z!==null;){if(v=z.alternate,v!==null&&f1(v)===null){g.child=z;break}v=z.sibling,z.sibling=A,A=z,z=v}$O(g,!0,A,null,X);break;case"together":$O(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function dc(v,g,A){if(v!==null&&(g.dependencies=v.dependencies),Em|=g.lanes,!(A&g.childLanes))return null;if(v!==null&&g.child!==v.child)throw Error(a(153));if(g.child!==null){for(v=g.child,A=Sf(v,v.pendingProps),g.child=A,A.return=g;v.sibling!==null;)v=v.sibling,A=A.sibling=Sf(v,v.pendingProps),A.return=g;A.sibling=null}return g.child}function Hse(v,g,A){switch(g.tag){case 3:k4(g),gm();break;case 5:a4(g);break;case 1:pt(g.type)&&jt(g);break;case 4:TO(g,g.stateNode.containerInfo);break;case 10:WU(g,g.type._context,g.memoizedProps.value);break;case 13:var I=g.memoizedState;if(I!==null)return I.dehydrated!==null?(Je(Kr,Kr.current&1),g.flags|=128,null):A&g.child.childLanes?j4(v,g,A):(Je(Kr,Kr.current&1),v=dc(v,g,A),v!==null?v.sibling:null);Je(Kr,Kr.current&1);break;case 19:if(I=(A&g.childLanes)!==0,v.flags&128){if(I)return G4(v,g,A);g.flags|=128}var z=g.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Je(Kr,Kr.current),I)break;return null;case 22:case 23:return g.lanes=0,N4(v,g,A)}return dc(v,g,A)}function $se(v,g){switch(EO(g),g.tag){case 1:return pt(g.type)&&dt(),v=g.flags,v&65536?(g.flags=v&-65537|128,g):null;case 3:return bm(),rt(yt),rt(xt),IO(),v=g.flags,v&65536&&!(v&128)?(g.flags=v&-65537|128,g):null;case 5:return MO(g),null;case 13:if(rt(Kr),v=g.memoizedState,v!==null&&v.dehydrated!==null){if(g.alternate===null)throw Error(a(340));gm()}return v=g.flags,v&65536?(g.flags=v&-65537|128,g):null;case 19:return rt(Kr),null;case 4:return bm(),null;case 10:return gO(g.type._context),null;case 22:case 23:return aI(),null;case 24:return null;default:return null}}var x1=!1,th=!1,zse=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function A1(v,g){var A=v.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(I){va(v,g,I)}else A.current=null}function zO(v,g,A){try{A()}catch(I){va(v,g,I)}}var W4=!1;function Gse(v,g){for(R(v.containerInfo),Nt=g;Nt!==null;)if(v=Nt,g=v.child,(v.subtreeFlags&1028)!==0&&g!==null)g.return=v,Nt=g;else for(;Nt!==null;){v=Nt;try{var A=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,z=A.memoizedState,X=v.stateNode,ge=X.getSnapshotBeforeUpdate(v.elementType===v.type?I:Sl(v.type,I),z);X.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:we&&$e(v.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Re){va(v,v.return,Re)}if(g=v.sibling,g!==null){g.return=v.return,Nt=g;break}Nt=v.return}return A=W4,W4=!1,A}function nh(v,g,A){var I=g.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var z=I=I.next;do{if((z.tag&v)===v){var X=z.destroy;z.destroy=void 0,X!==void 0&&zO(g,A,X)}z=z.next}while(z!==I)}}function J0(v,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var A=g=g.next;do{if((A.tag&v)===v){var I=A.create;A.destroy=I()}A=A.next}while(A!==g)}}function GO(v){var g=v.ref;if(g!==null){var A=v.stateNode;switch(v.tag){case 5:v=j(A);break;default:v=A}typeof g=="function"?g(v):g.current=v}}function V4(v,g,A){if(du&&typeof du.onCommitFiberUnmount=="function")try{du.onCommitFiberUnmount(e1,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(v=g.updateQueue,v!==null&&(v=v.lastEffect,v!==null)){var I=v=v.next;do{var z=I,X=z.destroy;z=z.tag,X!==void 0&&(z&2||z&4)&&zO(g,A,X),I=I.next}while(I!==v)}break;case 1:if(A1(g,A),v=g.stateNode,typeof v.componentWillUnmount=="function")try{v.props=g.memoizedProps,v.state=g.memoizedState,v.componentWillUnmount()}catch(ge){va(g,A,ge)}break;case 5:A1(g,A);break;case 4:we?Z4(v,g,A):ne&&ne&&(g=g.stateNode.containerInfo,A=Pt(g),rn(g,A))}}function q4(v,g,A){for(var I=g;;)if(V4(v,I,A),I.child===null||we&&I.tag===4){if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function K4(v){var g=v.alternate;g!==null&&(v.alternate=null,K4(g)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(g=v.stateNode,g!==null&&G(g)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function X4(v){return v.tag===5||v.tag===3||v.tag===4}function J4(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||X4(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function Y4(v){if(we){e:{for(var g=v.return;g!==null;){if(X4(g))break e;g=g.return}throw Error(a(160))}var A=g;switch(A.tag){case 5:g=A.stateNode,A.flags&32&&(Ie(g),A.flags&=-33),A=J4(v),VO(v,A,g);break;case 3:case 4:g=A.stateNode.containerInfo,A=J4(v),WO(v,A,g);break;default:throw Error(a(161))}}}function WO(v,g,A){var I=v.tag;if(I===5||I===6)v=v.stateNode,g?ft(A,v,g):at(A,v);else if(I!==4&&(v=v.child,v!==null))for(WO(v,g,A),v=v.sibling;v!==null;)WO(v,g,A),v=v.sibling}function VO(v,g,A){var I=v.tag;if(I===5||I===6)v=v.stateNode,g?wt(A,v,g):Ze(A,v);else if(I!==4&&(v=v.child,v!==null))for(VO(v,g,A),v=v.sibling;v!==null;)VO(v,g,A),v=v.sibling}function Z4(v,g,A){for(var I=g,z=!1,X,ge;;){if(!z){z=I.return;e:for(;;){if(z===null)throw Error(a(160));switch(X=z.stateNode,z.tag){case 5:ge=!1;break e;case 3:X=X.containerInfo,ge=!0;break e;case 4:X=X.containerInfo,ge=!0;break e}z=z.return}z=!0}if(I.tag===5||I.tag===6)q4(v,I,A),ge?le(X,I.stateNode):qe(X,I.stateNode);else if(I.tag===18)ge?be(X,I.stateNode):Se(X,I.stateNode);else if(I.tag===4){if(I.child!==null){X=I.stateNode.containerInfo,ge=!0,I.child.return=I,I=I.child;continue}}else if(V4(v,I,A),I.child!==null){I.child.return=I,I=I.child;continue}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return,I.tag===4&&(z=!1)}I.sibling.return=I.return,I=I.sibling}}function qO(v,g){if(we){switch(g.tag){case 0:case 11:case 14:case 15:nh(3,g,g.return),J0(3,g),nh(5,g,g.return);return;case 1:return;case 5:var A=g.stateNode;if(A!=null){var I=g.memoizedProps;v=v!==null?v.memoizedProps:I;var z=g.type,X=g.updateQueue;g.updateQueue=null,X!==null&&Mt(A,X,z,v,I,g)}return;case 6:if(g.stateNode===null)throw Error(a(162));A=g.memoizedProps,ke(g.stateNode,v!==null?v.memoizedProps:A,A);return;case 3:Me&&v!==null&&v.memoizedState.isDehydrated&&se(g.stateNode.containerInfo);return;case 12:return;case 13:C1(g);return;case 19:C1(g);return;case 17:return}throw Error(a(163))}switch(g.tag){case 0:case 11:case 14:case 15:nh(3,g,g.return),J0(3,g),nh(5,g,g.return);return;case 12:return;case 13:C1(g);return;case 19:C1(g);return;case 3:Me&&v!==null&&v.memoizedState.isDehydrated&&se(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,rn(g.containerInfo,g.pendingChildren);break e}throw Error(a(163))}}function C1(v){var g=v.updateQueue;if(g!==null){v.updateQueue=null;var A=v.stateNode;A===null&&(A=v.stateNode=new zse),g.forEach(function(I){var z=ele.bind(null,v,I);A.has(I)||(A.add(I),I.then(z,z))})}}function Wse(v,g){for(Nt=g;Nt!==null;){g=Nt;var A=g.deletions;if(A!==null)for(var I=0;I<A.length;I++){var z=A[I];try{var X=v;we?Z4(X,z,g):q4(X,z,g);var ge=z.alternate;ge!==null&&(ge.return=null),z.return=null}catch(tn){va(z,g,tn)}}if(A=g.child,g.subtreeFlags&12854&&A!==null)A.return=g,Nt=A;else for(;Nt!==null;){g=Nt;try{var Re=g.flags;if(Re&32&&we&&Ie(g.stateNode),Re&512){var We=g.alternate;if(We!==null){var gt=We.ref;gt!==null&&(typeof gt=="function"?gt(null):gt.current=null)}}if(Re&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var Gt=g.alternate;(Gt===null||Gt.memoizedState===null)&&(eI=qi())}break;case 22:var Mn=g.memoizedState!==null,vn=g.alternate,br=vn!==null&&vn.memoizedState!==null;if(A=g,we){e:if(I=A,z=Mn,X=null,we)for(var on=I;;){if(on.tag===5){if(X===null){X=on;var xo=on.stateNode;z?He(xo):Ee(on.stateNode,on.memoizedProps)}}else if(on.tag===6){if(X===null){var Rs=on.stateNode;z?Ve(Rs):de(Rs,on.memoizedProps)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===I)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===I)break;for(;on.sibling===null;){if(on.return===null||on.return===I)break e;X===on&&(X=null),on=on.return}X===on&&(X=null),on.sibling.return=on.return,on=on.sibling}}if(Mn&&!br&&A.mode&1){Nt=A;for(var Fe=A.child;Fe!==null;){for(A=Nt=Fe;Nt!==null;){I=Nt;var Pe=I.child;switch(I.tag){case 0:case 11:case 14:case 15:nh(4,I,I.return);break;case 1:A1(I,I.return);var Ge=I.stateNode;if(typeof Ge.componentWillUnmount=="function"){var Ut=I.return;try{Ge.props=I.memoizedProps,Ge.state=I.memoizedState,Ge.componentWillUnmount()}catch(tn){va(I,Ut,tn)}}break;case 5:A1(I,I.return);break;case 22:if(I.memoizedState!==null){tj(A);continue}}Pe!==null?(Pe.return=I,Nt=Pe):tj(A)}Fe=Fe.sibling}}}switch(Re&4102){case 2:Y4(g),g.flags&=-3;break;case 6:Y4(g),g.flags&=-3,qO(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,qO(g.alternate,g);break;case 4:qO(g.alternate,g)}}catch(tn){va(g,g.return,tn)}if(A=g.sibling,A!==null){A.return=g.return,Nt=A;break}Nt=g.return}}}function Vse(v,g,A){Nt=v,Q4(v)}function Q4(v,g,A){for(var I=(v.mode&1)!==0;Nt!==null;){var z=Nt,X=z.child;if(z.tag===22&&I){var ge=z.memoizedState!==null||x1;if(!ge){var Re=z.alternate,We=Re!==null&&Re.memoizedState!==null||th;Re=x1;var gt=th;if(x1=ge,(th=We)&&!gt)for(Nt=z;Nt!==null;)ge=Nt,We=ge.child,ge.tag===22&&ge.memoizedState!==null?nj(z):We!==null?(We.return=ge,Nt=We):nj(z);for(;X!==null;)Nt=X,Q4(X),X=X.sibling;Nt=z,x1=Re,th=gt}ej(v)}else z.subtreeFlags&8772&&X!==null?(X.return=z,Nt=X):ej(v)}}function ej(v){for(;Nt!==null;){var g=Nt;if(g.flags&8772){var A=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:th||J0(5,g);break;case 1:var I=g.stateNode;if(g.flags&4&&!th)if(A===null)I.componentDidMount();else{var z=g.elementType===g.type?A.memoizedProps:Sl(g.type,A.memoizedProps);I.componentDidUpdate(z,A.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var X=g.updateQueue;X!==null&&KU(g,X,I);break;case 3:var ge=g.updateQueue;if(ge!==null){if(A=null,g.child!==null)switch(g.child.tag){case 5:A=j(g.child.stateNode);break;case 1:A=g.child.stateNode}KU(g,ge,A)}break;case 5:var Re=g.stateNode;A===null&&g.flags&4&&Tt(Re,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&g.memoizedState===null){var We=g.alternate;if(We!==null){var gt=We.memoizedState;if(gt!==null){var Gt=gt.dehydrated;Gt!==null&&fe(Gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}th||g.flags&512&&GO(g)}catch(Mn){va(g,g.return,Mn)}}if(g===v){Nt=null;break}if(A=g.sibling,A!==null){A.return=g.return,Nt=A;break}Nt=g.return}}function tj(v){for(;Nt!==null;){var g=Nt;if(g===v){Nt=null;break}var A=g.sibling;if(A!==null){A.return=g.return,Nt=A;break}Nt=g.return}}function nj(v){for(;Nt!==null;){var g=Nt;try{switch(g.tag){case 0:case 11:case 15:var A=g.return;try{J0(4,g)}catch(We){va(g,A,We)}break;case 1:var I=g.stateNode;if(typeof I.componentDidMount=="function"){var z=g.return;try{I.componentDidMount()}catch(We){va(g,z,We)}}var X=g.return;try{GO(g)}catch(We){va(g,X,We)}break;case 5:var ge=g.return;try{GO(g)}catch(We){va(g,ge,We)}}}catch(We){va(g,g.return,We)}if(g===v){Nt=null;break}var Re=g.sibling;if(Re!==null){Re.return=g.return,Nt=Re;break}Nt=g.return}}var T1=0,M1=1,O1=2,I1=3,R1=4;if(typeof Symbol=="function"&&Symbol.for){var Y0=Symbol.for;T1=Y0("selector.component"),M1=Y0("selector.has_pseudo_class"),O1=Y0("selector.role"),I1=Y0("selector.test_id"),R1=Y0("selector.text")}function KO(v){var g=Ce(v);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(v=ae(v),v===null)throw Error(a(362));return v.stateNode.current}function XO(v,g){switch(g.$$typeof){case T1:if(v.type===g.value)return!0;break;case M1:e:{g=g.value,v=[v,0];for(var A=0;A<v.length;){var I=v[A++],z=v[A++],X=g[z];if(I.tag!==5||!Te(I)){for(;X!=null&&XO(I,X);)z++,X=g[z];if(z===g.length){g=!0;break e}else for(I=I.child;I!==null;)v.push(I,z),I=I.sibling}}g=!1}return g;case O1:if(v.tag===5&&Ue(v.stateNode,g.value))return!0;break;case R1:if((v.tag===5||v.tag===6)&&(v=Oe(v),v!==null&&0<=v.indexOf(g.value)))return!0;break;case I1:if(v.tag===5&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function JO(v){switch(v.$$typeof){case T1:return"<"+(M(v.value)||"Unknown")+">";case M1:return":has("+(JO(v)||"")+")";case O1:return'[role="'+v.value+'"]';case R1:return'"'+v.value+'"';case I1:return'[data-testname="'+v.value+'"]';default:throw Error(a(365))}}function rj(v,g){var A=[];v=[v,0];for(var I=0;I<v.length;){var z=v[I++],X=v[I++],ge=g[X];if(z.tag!==5||!Te(z)){for(;ge!=null&&XO(z,ge);)X++,ge=g[X];if(X===g.length)A.push(z);else for(z=z.child;z!==null;)v.push(z,X),z=z.sibling}}return A}function YO(v,g){if(!V)throw Error(a(363));v=KO(v),v=rj(v,g),g=[],v=Array.from(v);for(var A=0;A<v.length;){var I=v[A++];if(I.tag===5)Te(I)||g.push(I.stateNode);else for(I=I.child;I!==null;)v.push(I),I=I.sibling}return g}var qse=Math.ceil,P1=s.ReactCurrentDispatcher,ZO=s.ReactCurrentOwner,fi=s.ReactCurrentBatchConfig,Un=0,bi=null,wi=null,uo=0,Ka=0,Sm=ut(0),Li=0,Z0=null,Em=0,D1=0,QO=0,Q0=null,pa=null,eI=0,tI=1/0;function xm(){tI=qi()+500}var L1=!1,nI=null,yf=null,N1=!1,_f=null,B1=0,ey=0,rI=null,F1=-1,k1=0;function Vo(){return Un&6?qi():F1!==-1?F1:F1=qi()}function bf(v){return v.mode&1?Un&2&&uo!==0?uo&-uo:Ose.transition!==null?(k1===0&&(v=an,an<<=1,!(an&4194240)&&(an=64),k1=v),k1):(v=Dn,v!==0?v:U()):1}function Os(v,g,A){if(50<ey)throw ey=0,rI=null,Error(a(185));var I=U1(v,g);return I===null?null:(Vi(I,g,A),(!(Un&2)||I!==bi)&&(I===bi&&(!(Un&2)&&(D1|=g),Li===4&&wf(I,uo)),ma(I,A),g===1&&Un===0&&!(v.mode&1)&&(xm(),t1&&pu())),I)}function U1(v,g){v.lanes|=g;var A=v.alternate;for(A!==null&&(A.lanes|=g),A=v,v=v.return;v!==null;)v.childLanes|=g,A=v.alternate,A!==null&&(A.childLanes|=g),A=v,v=v.return;return A.tag===3?A.stateNode:null}function ma(v,g){var A=v.callbackNode;lr(v,g);var I=dn(v,v===bi?uo:0);if(I===0)A!==null&&zU(A),v.callbackNode=null,v.callbackPriority=0;else if(g=I&-I,v.callbackPriority!==g){if(A!=null&&zU(A),g===1)v.tag===0?Mse(oj.bind(null,v)):GU(oj.bind(null,v)),te?q(function(){Un===0&&pu()}):fO(dO,pu),A=null;else{switch(dm(I)){case 1:A=dO;break;case 4:A=xse;break;case 16:A=hO;break;case 536870912:A=Ase;break;default:A=hO}A=pj(A,ij.bind(null,v))}v.callbackPriority=g,v.callbackNode=A}}function ij(v,g){if(F1=-1,k1=0,Un&6)throw Error(a(327));var A=v.callbackNode;if(oh()&&v.callbackNode!==A)return null;var I=dn(v,v===bi?uo:0);if(I===0)return null;if(I&30||I&v.expiredLanes||g)g=j1(v,I);else{g=I;var z=Un;Un|=2;var X=lj();(bi!==v||uo!==g)&&(xm(),rh(v,g));do try{Jse();break}catch(Re){sj(v,Re)}while(!0);vO(),P1.current=X,Un=z,wi!==null?g=0:(bi=null,uo=0,g=Li)}if(g!==0){if(g===2&&(z=_r(v),z!==0&&(I=z,g=iI(v,z))),g===1)throw A=Z0,rh(v,0),wf(v,I),ma(v,qi()),A;if(g===6)wf(v,I);else{if(z=v.current.alternate,!(I&30)&&!Kse(z)&&(g=j1(v,I),g===2&&(X=_r(v),X!==0&&(I=X,g=iI(v,X))),g===1))throw A=Z0,rh(v,0),wf(v,I),ma(v,qi()),A;switch(v.finishedWork=z,v.finishedLanes=I,g){case 0:case 1:throw Error(a(345));case 2:ih(v,pa);break;case 3:if(wf(v,I),(I&130023424)===I&&(g=eI+500-qi(),10<g)){if(dn(v,0)!==0)break;if(z=v.suspendedLanes,(z&I)!==I){Vo(),v.pingedLanes|=v.suspendedLanes&z;break}v.timeoutHandle=ce(ih.bind(null,v,pa),g);break}ih(v,pa);break;case 4:if(wf(v,I),(I&4194240)===I)break;for(g=v.eventTimes,z=-1;0<I;){var ge=31-qn(I);X=1<<ge,ge=g[ge],ge>z&&(z=ge),I&=~X}if(I=z,I=qi()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*qse(I/1960))-I,10<I){v.timeoutHandle=ce(ih.bind(null,v,pa),I);break}ih(v,pa);break;case 5:ih(v,pa);break;default:throw Error(a(329))}}}return ma(v,qi()),v.callbackNode===A?ij.bind(null,v):null}function iI(v,g){var A=Q0;return v.current.memoizedState.isDehydrated&&(rh(v,g).flags|=256),v=j1(v,g),v!==2&&(g=pa,pa=A,g!==null&&oI(g)),v}function oI(v){pa===null?pa=v:pa.push.apply(pa,v)}function Kse(v){for(var g=v;;){if(g.flags&16384){var A=g.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var I=0;I<A.length;I++){var z=A[I],X=z.getSnapshot;z=z.value;try{if(!hu(X(),z))return!1}catch{return!1}}}if(A=g.child,g.subtreeFlags&16384&&A!==null)A.return=g,g=A;else{if(g===v)break;for(;g.sibling===null;){if(g.return===null||g.return===v)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function wf(v,g){for(g&=~QO,g&=~D1,v.suspendedLanes|=g,v.pingedLanes&=~g,v=v.expirationTimes;0<g;){var A=31-qn(g),I=1<<A;v[A]=-1,g&=~I}}function oj(v){if(Un&6)throw Error(a(327));oh();var g=dn(v,0);if(!(g&1))return ma(v,qi()),null;var A=j1(v,g);if(v.tag!==0&&A===2){var I=_r(v);I!==0&&(g=I,A=iI(v,I))}if(A===1)throw A=Z0,rh(v,0),wf(v,g),ma(v,qi()),A;if(A===6)throw Error(a(345));return v.finishedWork=v.current.alternate,v.finishedLanes=g,ih(v,pa),ma(v,qi()),null}function aj(v){_f!==null&&_f.tag===0&&!(Un&6)&&oh();var g=Un;Un|=1;var A=fi.transition,I=Dn;try{if(fi.transition=null,Dn=1,v)return v()}finally{Dn=I,fi.transition=A,Un=g,!(Un&6)&&pu()}}function aI(){Ka=Sm.current,rt(Sm)}function rh(v,g){v.finishedWork=null,v.finishedLanes=0;var A=v.timeoutHandle;if(A!==xe&&(v.timeoutHandle=xe,ve(A)),wi!==null)for(A=wi.return;A!==null;){var I=A;switch(EO(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&dt();break;case 3:bm(),rt(yt),rt(xt),IO();break;case 5:MO(I);break;case 4:bm();break;case 13:rt(Kr);break;case 19:rt(Kr);break;case 10:gO(I.type._context);break;case 22:case 23:aI()}A=A.return}if(bi=v,wi=v=Sf(v.current,null),uo=Ka=g,Li=0,Z0=null,QO=D1=Em=0,pa=Q0=null,mu!==null){for(g=0;g<mu.length;g++)if(A=mu[g],I=A.interleaved,I!==null){A.interleaved=null;var z=I.next,X=A.pending;if(X!==null){var ge=X.next;X.next=z,I.next=ge}A.pending=I}mu=null}return v}function sj(v,g){do{var A=wi;try{if(vO(),d1.current=y1,h1){for(var I=ti.memoizedState;I!==null;){var z=I.queue;z!==null&&(z.pending=null),I=I.next}h1=!1}if(wm=0,Ki=wo=ti=null,z0=!1,G0=0,ZO.current=null,A===null||A.return===null){Li=1,Z0=g,wi=null;break}e:{var X=v,ge=A.return,Re=A,We=g;if(g=uo,Re.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){var gt=We,Gt=Re,Mn=Gt.tag;if(!(Gt.mode&1)&&(Mn===0||Mn===11||Mn===15)){var vn=Gt.alternate;vn?(Gt.updateQueue=vn.updateQueue,Gt.memoizedState=vn.memoizedState,Gt.lanes=vn.lanes):(Gt.updateQueue=null,Gt.memoizedState=null)}var br=M4(ge);if(br!==null){br.flags&=-257,O4(br,ge,Re,X,g),br.mode&1&&T4(X,gt,g),g=br,We=gt;var on=g.updateQueue;if(on===null){var xo=new Set;xo.add(We),g.updateQueue=xo}else on.add(We);break e}else{if(!(g&1)){T4(X,gt,g),sI();break e}We=Error(a(426))}}else if(jr&&Re.mode&1){var Rs=M4(ge);if(Rs!==null){!(Rs.flags&65536)&&(Rs.flags|=256),O4(Rs,ge,Re,X,g),CO(We);break e}}X=We,Li!==4&&(Li=2),Q0===null?Q0=[X]:Q0.push(X),We=FO(We,Re),Re=ge;do{switch(Re.tag){case 3:Re.flags|=65536,g&=-g,Re.lanes|=g;var Fe=A4(Re,We,g);qU(Re,Fe);break e;case 1:X=We;var Pe=Re.type,Ge=Re.stateNode;if(!(Re.flags&128)&&(typeof Pe.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(yf===null||!yf.has(Ge)))){Re.flags|=65536,g&=-g,Re.lanes|=g;var Ut=C4(Re,X,g);qU(Re,Ut);break e}}Re=Re.return}while(Re!==null)}cj(A)}catch(tn){g=tn,wi===A&&A!==null&&(wi=A=A.return);continue}break}while(!0)}function lj(){var v=P1.current;return P1.current=y1,v===null?y1:v}function sI(){(Li===0||Li===3||Li===2)&&(Li=4),bi===null||!(Em&268435455)&&!(D1&268435455)||wf(bi,uo)}function j1(v,g){var A=Un;Un|=2;var I=lj();bi===v&&uo===g||rh(v,g);do try{Xse();break}catch(z){sj(v,z)}while(!0);if(vO(),Un=A,P1.current=I,wi!==null)throw Error(a(261));return bi=null,uo=0,Li}function Xse(){for(;wi!==null;)uj(wi)}function Jse(){for(;wi!==null&&!Sse();)uj(wi)}function uj(v){var g=hj(v.alternate,v,Ka);v.memoizedProps=v.pendingProps,g===null?cj(v):wi=g,ZO.current=null}function cj(v){var g=v;do{var A=g.alternate;if(v=g.return,g.flags&32768){if(A=$se(A,g),A!==null){A.flags&=32767,wi=A;return}if(v!==null)v.flags|=32768,v.subtreeFlags=0,v.deletions=null;else{Li=6,wi=null;return}}else if(A=Use(A,g,Ka),A!==null){wi=A;return}if(g=g.sibling,g!==null){wi=g;return}wi=g=v}while(g!==null);Li===0&&(Li=5)}function ih(v,g){var A=Dn,I=fi.transition;try{fi.transition=null,Dn=1,Yse(v,g,A)}finally{fi.transition=I,Dn=A}return null}function Yse(v,g,A){do oh();while(_f!==null);if(Un&6)throw Error(a(327));var I=v.finishedWork,z=v.finishedLanes;if(I===null)return null;if(v.finishedWork=null,v.finishedLanes=0,I===v.current)throw Error(a(177));v.callbackNode=null,v.callbackPriority=0;var X=I.lanes|I.childLanes;if(Go(v,X),v===bi&&(wi=bi=null,uo=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||N1||(N1=!0,pj(hO,function(){return oh(),null})),X=(I.flags&15990)!==0,I.subtreeFlags&15990||X){X=fi.transition,fi.transition=null;var ge=Dn;Dn=1;var Re=Un;Un|=4,ZO.current=null,Gse(v,I),Wse(v,I),L(v.containerInfo),v.current=I,Vse(I),Ese(),Un=Re,Dn=ge,fi.transition=X}else v.current=I;if(N1&&(N1=!1,_f=v,B1=z),X=v.pendingLanes,X===0&&(yf=null),Cse(I.stateNode),ma(v,qi()),g!==null)for(A=v.onRecoverableError,I=0;I<g.length;I++)A(g[I]);if(L1)throw L1=!1,v=nI,nI=null,v;return B1&1&&v.tag!==0&&oh(),X=v.pendingLanes,X&1?v===rI?ey++:(ey=0,rI=v):ey=0,pu(),null}function oh(){if(_f!==null){var v=dm(B1),g=fi.transition,A=Dn;try{if(fi.transition=null,Dn=16>v?16:v,_f===null)var I=!1;else{if(v=_f,_f=null,B1=0,Un&6)throw Error(a(331));var z=Un;for(Un|=4,Nt=v.current;Nt!==null;){var X=Nt,ge=X.child;if(Nt.flags&16){var Re=X.deletions;if(Re!==null){for(var We=0;We<Re.length;We++){var gt=Re[We];for(Nt=gt;Nt!==null;){var Gt=Nt;switch(Gt.tag){case 0:case 11:case 15:nh(8,Gt,X)}var Mn=Gt.child;if(Mn!==null)Mn.return=Gt,Nt=Mn;else for(;Nt!==null;){Gt=Nt;var vn=Gt.sibling,br=Gt.return;if(K4(Gt),Gt===gt){Nt=null;break}if(vn!==null){vn.return=br,Nt=vn;break}Nt=br}}}var on=X.alternate;if(on!==null){var xo=on.child;if(xo!==null){on.child=null;do{var Rs=xo.sibling;xo.sibling=null,xo=Rs}while(xo!==null)}}Nt=X}}if(X.subtreeFlags&2064&&ge!==null)ge.return=X,Nt=ge;else e:for(;Nt!==null;){if(X=Nt,X.flags&2048)switch(X.tag){case 0:case 11:case 15:nh(9,X,X.return)}var Fe=X.sibling;if(Fe!==null){Fe.return=X.return,Nt=Fe;break e}Nt=X.return}}var Pe=v.current;for(Nt=Pe;Nt!==null;){ge=Nt;var Ge=ge.child;if(ge.subtreeFlags&2064&&Ge!==null)Ge.return=ge,Nt=Ge;else e:for(ge=Pe;Nt!==null;){if(Re=Nt,Re.flags&2048)try{switch(Re.tag){case 0:case 11:case 15:J0(9,Re)}}catch(tn){va(Re,Re.return,tn)}if(Re===ge){Nt=null;break e}var Ut=Re.sibling;if(Ut!==null){Ut.return=Re.return,Nt=Ut;break e}Nt=Re.return}}if(Un=z,pu(),du&&typeof du.onPostCommitFiberRoot=="function")try{du.onPostCommitFiberRoot(e1,v)}catch{}I=!0}return I}finally{Dn=A,fi.transition=g}}return!1}function fj(v,g,A){g=FO(A,g),g=A4(v,g,1),gf(v,g),g=Vo(),v=U1(v,1),v!==null&&(Vi(v,1,g),ma(v,g))}function va(v,g,A){if(v.tag===3)fj(v,v,A);else for(;g!==null;){if(g.tag===3){fj(g,v,A);break}else if(g.tag===1){var I=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(yf===null||!yf.has(I))){v=FO(A,v),v=C4(g,v,1),gf(g,v),v=Vo(),g=U1(g,1),g!==null&&(Vi(g,1,v),ma(g,v));break}}g=g.return}}function Zse(v,g,A){var I=v.pingCache;I!==null&&I.delete(g),g=Vo(),v.pingedLanes|=v.suspendedLanes&A,bi===v&&(uo&A)===A&&(Li===4||Li===3&&(uo&130023424)===uo&&500>qi()-eI?rh(v,0):QO|=A),ma(v,g)}function dj(v,g){g===0&&(v.mode&1?(g=Qt,Qt<<=1,!(Qt&130023424)&&(Qt=4194304)):g=1);var A=Vo();v=U1(v,g),v!==null&&(Vi(v,g,A),ma(v,A))}function Qse(v){var g=v.memoizedState,A=0;g!==null&&(A=g.retryLane),dj(v,A)}function ele(v,g){var A=0;switch(v.tag){case 13:var I=v.stateNode,z=v.memoizedState;z!==null&&(A=z.retryLane);break;case 19:I=v.stateNode;break;default:throw Error(a(314))}I!==null&&I.delete(g),dj(v,A)}var hj;hj=function(v,g,A){if(v!==null)if(v.memoizedProps!==g.pendingProps||yt.current)qa=!0;else{if(!(v.lanes&A)&&!(g.flags&128))return qa=!1,Hse(v,g,A);qa=!!(v.flags&131072)}else qa=!1,jr&&g.flags&1048576&&QU(g,u1,g.index);switch(g.lanes=0,g.tag){case 2:var I=g.type;v!==null&&(v.alternate=null,g.alternate=null,g.flags|=2),v=g.pendingProps;var z=Cn(g,xt.current);pm(g,A),z=PO(null,g,I,v,z,A);var X=DO();return g.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,pt(I)?(X=!0,jt(g)):X=!1,g.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,_O(g),z.updater=s1,g.stateNode=z,z._reactInternals=g,wO(g,I,v,A),g=jO(null,g,I,!0,X,A)):(g.tag=0,jr&&X&&SO(g),Wo(null,g,z,A),g=g.child),g;case 16:I=g.elementType;e:{switch(v!==null&&(v.alternate=null,g.alternate=null,g.flags|=2),v=g.pendingProps,z=I._init,I=z(I._payload),g.type=I,z=g.tag=nle(I),v=Sl(I,v),z){case 0:g=UO(null,g,I,v,A);break e;case 1:g=F4(null,g,I,v,A);break e;case 11:g=P4(null,g,I,v,A);break e;case 14:g=D4(null,g,I,Sl(I.type,v),A);break e}throw Error(a(306,I,""))}return g;case 0:return I=g.type,z=g.pendingProps,z=g.elementType===I?z:Sl(I,z),UO(v,g,I,z,A);case 1:return I=g.type,z=g.pendingProps,z=g.elementType===I?z:Sl(I,z),F4(v,g,I,z,A);case 3:e:{if(k4(g),v===null)throw Error(a(387));I=g.pendingProps,X=g.memoizedState,z=X.element,VU(v,g),a1(g,I,null,A);var ge=g.memoizedState;if(I=ge.element,Me&&X.isDehydrated)if(X={element:I,isDehydrated:!1,cache:ge.cache,transitions:ge.transitions},g.updateQueue.baseState=X,g.memoizedState=X,g.flags&256){z=Error(a(423)),g=U4(v,g,I,A,z);break e}else if(I!==z){z=Error(a(424)),g=U4(v,g,I,A,z);break e}else for(Me&&(Va=Vt(g.stateNode.containerInfo),Wa=g,jr=!0,El=null,k0=!1),A=o4(g,null,I,A),g.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(gm(),I===z){g=dc(v,g,A);break e}Wo(v,g,I,A)}g=g.child}return g;case 5:return a4(g),v===null&&AO(g),I=g.type,z=g.pendingProps,X=v!==null?v.memoizedProps:null,ge=z.children,pe(I,z)?ge=null:X!==null&&pe(I,X)&&(g.flags|=32),B4(v,g),Wo(v,g,ge,A),g.child;case 6:return v===null&&AO(g),null;case 13:return j4(v,g,A);case 4:return TO(g,g.stateNode.containerInfo),I=g.pendingProps,v===null?g.child=ym(g,null,I,A):Wo(v,g,I,A),g.child;case 11:return I=g.type,z=g.pendingProps,z=g.elementType===I?z:Sl(I,z),P4(v,g,I,z,A);case 7:return Wo(v,g,g.pendingProps,A),g.child;case 8:return Wo(v,g,g.pendingProps.children,A),g.child;case 12:return Wo(v,g,g.pendingProps.children,A),g.child;case 10:e:{if(I=g.type._context,z=g.pendingProps,X=g.memoizedProps,ge=z.value,WU(g,I,ge),X!==null)if(hu(X.value,ge)){if(X.children===z.children&&!yt.current){g=dc(v,g,A);break e}}else for(X=g.child,X!==null&&(X.return=g);X!==null;){var Re=X.dependencies;if(Re!==null){ge=X.child;for(var We=Re.firstContext;We!==null;){if(We.context===I){if(X.tag===1){We=lc(-1,A&-A),We.tag=2;var gt=X.updateQueue;if(gt!==null){gt=gt.shared;var Gt=gt.pending;Gt===null?We.next=We:(We.next=Gt.next,Gt.next=We),gt.pending=We}}X.lanes|=A,We=X.alternate,We!==null&&(We.lanes|=A),yO(X.return,A,g),Re.lanes|=A;break}We=We.next}}else if(X.tag===10)ge=X.type===g.type?null:X.child;else if(X.tag===18){if(ge=X.return,ge===null)throw Error(a(341));ge.lanes|=A,Re=ge.alternate,Re!==null&&(Re.lanes|=A),yO(ge,A,g),ge=X.sibling}else ge=X.child;if(ge!==null)ge.return=X;else for(ge=X;ge!==null;){if(ge===g){ge=null;break}if(X=ge.sibling,X!==null){X.return=ge.return,ge=X;break}ge=ge.return}X=ge}Wo(v,g,z.children,A),g=g.child}return g;case 9:return z=g.type,I=g.pendingProps.children,pm(g,A),z=xs(z),I=I(z),g.flags|=1,Wo(v,g,I,A),g.child;case 14:return I=g.type,z=Sl(I,g.pendingProps),z=Sl(I.type,z),D4(v,g,I,z,A);case 15:return L4(v,g,g.type,g.pendingProps,A);case 17:return I=g.type,z=g.pendingProps,z=g.elementType===I?z:Sl(I,z),v!==null&&(v.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,pt(I)?(v=!0,jt(g)):v=!1,pm(g,A),YU(g,I,z),wO(g,I,z,A),jO(null,g,I,!0,v,A);case 19:return G4(v,g,A);case 22:return N4(v,g,A)}throw Error(a(156,g.tag))};function pj(v,g){return fO(v,g)}function tle(v,g,A,I){this.tag=v,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(v,g,A,I){return new tle(v,g,A,I)}function lI(v){return v=v.prototype,!(!v||!v.isReactComponent)}function nle(v){if(typeof v=="function")return lI(v)?1:0;if(v!=null){if(v=v.$$typeof,v===_)return 11;if(v===b)return 14}return 2}function Sf(v,g){var A=v.alternate;return A===null?(A=Is(v.tag,g,v.key,v.mode),A.elementType=v.elementType,A.type=v.type,A.stateNode=v.stateNode,A.alternate=v,v.alternate=A):(A.pendingProps=g,A.type=v.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=v.flags&14680064,A.childLanes=v.childLanes,A.lanes=v.lanes,A.child=v.child,A.memoizedProps=v.memoizedProps,A.memoizedState=v.memoizedState,A.updateQueue=v.updateQueue,g=v.dependencies,A.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},A.sibling=v.sibling,A.index=v.index,A.ref=v.ref,A}function H1(v,g,A,I,z,X){var ge=2;if(I=v,typeof v=="function")lI(v)&&(ge=1);else if(typeof v=="string")ge=5;else e:switch(v){case c:return ah(A.children,z,X,g);case f:ge=8,z|=8;break;case d:return v=Is(12,A,g,z|2),v.elementType=d,v.lanes=X,v;case y:return v=Is(13,A,g,z),v.elementType=y,v.lanes=X,v;case m:return v=Is(19,A,g,z),v.elementType=m,v.lanes=X,v;case S:return $1(A,z,X,g);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case h:ge=10;break e;case p:ge=9;break e;case _:ge=11;break e;case b:ge=14;break e;case w:ge=16,I=null;break e}throw Error(a(130,v==null?v:typeof v,""))}return g=Is(ge,A,g,z),g.elementType=v,g.type=I,g.lanes=X,g}function ah(v,g,A,I){return v=Is(7,v,I,g),v.lanes=A,v}function $1(v,g,A,I){return v=Is(22,v,I,g),v.elementType=S,v.lanes=A,v.stateNode={},v}function uI(v,g,A){return v=Is(6,v,null,g),v.lanes=A,v}function cI(v,g,A){return g=Is(4,v.children!==null?v.children:[],v.key,g),g.lanes=A,g.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},g}function rle(v,g,A,I,z){this.tag=g,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=I,this.onRecoverableError=z,Me&&(this.mutableSourceEagerHydrationData=null)}function mj(v,g,A,I,z,X,ge,Re,We){return v=new rle(v,g,A,Re,We),g===1?(g=1,X===!0&&(g|=8)):g=0,X=Is(3,null,null,g),v.current=X,X.stateNode=v,X.memoizedState={element:I,isDehydrated:A,cache:null,transitions:null},_O(X),v}function vj(v){if(!v)return Wt;v=v._reactInternals;e:{if(C(v)!==v||v.tag!==1)throw Error(a(170));var g=v;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(pt(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(a(171))}if(v.tag===1){var A=v.type;if(pt(A))return Kt(v,A,g)}return g}function gj(v){var g=v._reactInternals;if(g===void 0)throw typeof v.render=="function"?Error(a(188)):(v=Object.keys(v).join(","),Error(a(268,v)));return v=N(g),v===null?null:v.stateNode}function yj(v,g){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var A=v.retryLane;v.retryLane=A!==0&&A<g?A:g}}function fI(v,g){yj(v,g),(v=v.alternate)&&yj(v,g)}function ile(v){return v=N(v),v===null?null:v.stateNode}function ole(){return null}return n.attemptContinuousHydration=function(v){if(v.tag===13){var g=Vo();Os(v,134217728,g),fI(v,134217728)}},n.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var g=Vo(),A=bf(v);Os(v,A,g),fI(v,A)}},n.attemptSynchronousHydration=function(v){switch(v.tag){case 3:var g=v.stateNode;if(g.current.memoizedState.isDehydrated){var A=At(g.pendingLanes);A!==0&&(bo(g,A|1),ma(g,qi()),!(Un&6)&&(xm(),pu()))}break;case 13:var I=Vo();aj(function(){return Os(v,1,I)}),fI(v,1)}},n.batchedUpdates=function(v,g){var A=Un;Un|=1;try{return v(g)}finally{Un=A,Un===0&&(xm(),t1&&pu())}},n.createComponentSelector=function(v){return{$$typeof:T1,value:v}},n.createContainer=function(v,g,A,I,z,X,ge){return mj(v,g,!1,null,A,I,z,X,ge)},n.createHasPseudoClassSelector=function(v){return{$$typeof:M1,value:v}},n.createHydrationContainer=function(v,g,A,I,z,X,ge,Re,We){return v=mj(A,I,!0,v,z,X,ge,Re,We),v.context=vj(null),A=v.current,I=Vo(),z=bf(A),X=lc(I,z),X.callback=g??null,gf(A,X),v.current.lanes=z,Vi(v,z,I),ma(v,I),v},n.createPortal=function(v,g,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:v,containerInfo:g,implementation:A}},n.createRoleSelector=function(v){return{$$typeof:O1,value:v}},n.createTestNameSelector=function(v){return{$$typeof:I1,value:v}},n.createTextSelector=function(v){return{$$typeof:R1,value:v}},n.deferredUpdates=function(v){var g=Dn,A=fi.transition;try{return fi.transition=null,Dn=16,v()}finally{Dn=g,fi.transition=A}},n.discreteUpdates=function(v,g,A,I,z){var X=Dn,ge=fi.transition;try{return fi.transition=null,Dn=1,v(g,A,I,z)}finally{Dn=X,fi.transition=ge,Un===0&&xm()}},n.findAllNodes=YO,n.findBoundingRects=function(v,g){if(!V)throw Error(a(363));g=YO(v,g),v=[];for(var A=0;A<g.length;A++)v.push(Ae(g[A]));for(g=v.length-1;0<g;g--){A=v[g];for(var I=A.x,z=I+A.width,X=A.y,ge=X+A.height,Re=g-1;0<=Re;Re--)if(g!==Re){var We=v[Re],gt=We.x,Gt=gt+We.width,Mn=We.y,vn=Mn+We.height;if(I>=gt&&X>=Mn&&z<=Gt&&ge<=vn){v.splice(g,1);break}else if(I!==gt||A.width!==We.width||vn<X||Mn>ge){if(!(X!==Mn||A.height!==We.height||Gt<I||gt>z)){gt>I&&(We.width+=gt-I,We.x=I),Gt<z&&(We.width=z-gt),v.splice(g,1);break}}else{Mn>X&&(We.height+=Mn-X,We.y=X),vn<ge&&(We.height=ge-Mn),v.splice(g,1);break}}}return v},n.findHostInstance=gj,n.findHostInstanceWithNoPortals=function(v){return v=P(v),v=v!==null?B(v):null,v===null?null:v.stateNode},n.findHostInstanceWithWarning=function(v){return gj(v)},n.flushControlled=function(v){var g=Un;Un|=1;var A=fi.transition,I=Dn;try{fi.transition=null,Dn=1,v()}finally{Dn=I,fi.transition=A,Un=g,Un===0&&(xm(),pu())}},n.flushPassiveEffects=oh,n.flushSync=aj,n.focusWithin=function(v,g){if(!V)throw Error(a(363));for(v=KO(v),g=rj(v,g),g=Array.from(g),v=0;v<g.length;){var A=g[v++];if(!Te(A)){if(A.tag===5&&Be(A.stateNode))return!0;for(A=A.child;A!==null;)g.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Dn},n.getFindAllNodesFailureDescription=function(v,g){if(!V)throw Error(a(363));var A=0,I=[];v=[KO(v),0];for(var z=0;z<v.length;){var X=v[z++],ge=v[z++],Re=g[ge];if((X.tag!==5||!Te(X))&&(XO(X,Re)&&(I.push(JO(Re)),ge++,ge>A&&(A=ge)),ge<g.length))for(X=X.child;X!==null;)v.push(X,ge),X=X.sibling}if(A<g.length){for(v=[];A<g.length;A++)v.push(JO(g[A]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},n.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 5:return j(v.child.stateNode);default:return v.child.stateNode}},n.injectIntoDevTools=function(v){if(v={bundleType:v.bundleType,version:v.version,rendererPackageName:v.rendererPackageName,rendererConfig:v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ile,findFiberByHostInstance:v.findFiberByHostInstance||ole,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)v=!0;else{try{e1=g.inject(v),du=g}catch{}v=!!g.checkDCE}}return v},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(v,g,A,I){if(!V)throw Error(a(363));v=YO(v,g);var z=Qe(v,A,I).disconnect;return{disconnect:function(){z()}}},n.registerMutableSourceForHydration=function(v,g){var A=g._getVersion;A=A(g._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[g,A]:v.mutableSourceEagerHydrationData.push(g,A)},n.runWithPriority=function(v,g){var A=Dn;try{return Dn=v,g()}finally{Dn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(v,g,A,I){var z=g.current,X=Vo(),ge=bf(z);return A=vj(A),g.context===null?g.context=A:g.pendingContext=A,g=lc(X,ge),g.payload={element:v},I=I===void 0?null:I,I!==null&&(g.callback=I),gf(z,g),v=Os(z,ge,X),v!==null&&o1(v,z,ge),ge},n};Bae.exports=YXe;var ZXe=Bae.exports;const QXe=au(ZXe),OU={},IU=t=>void Object.assign(OU,t);function eJe(t,e){function n(c,{args:f=[],attach:d,...h},p){let _=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=h.object;y=Cv(m,{type:c,root:p,attach:d,primitive:!0})}else{const m=OU[_];if(!m)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Cv(new m(...f),{type:c,root:p,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),_!=="inject"&&I2(y,h),y}function r(c,f){let d=!1;if(f){var h,p;(h=f.__r3f)!=null&&h.attach?O2(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(p=c.__r3f)==null||p.objects.push(f),f.__r3f||Cv(f,{}),f.__r3f.parent=c,rB(f),Tv(f)}}function i(c,f,d){let h=!1;if(f){var p,_;if((p=f.__r3f)!=null&&p.attach)O2(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(b=>b!==f),m=y.indexOf(d);c.children=[...y.slice(0,m),f,...y.slice(m)],h=!0}h||(_=c.__r3f)==null||_.objects.push(f),f.__r3f||Cv(f,{}),f.__r3f.parent=c,rB(f),Tv(f)}}function o(c,f,d=!1){c&&[...c].forEach(h=>a(f,h,d))}function a(c,f,d){if(f){var h,p,_;if(f.__r3f&&(f.__r3f.parent=null),(h=c.__r3f)!=null&&h.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(p=f.__r3f)!=null&&p.attach)Y7(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&sJe(tA(f),f)}const b=(_=f.__r3f)==null?void 0:_.primitive,w=!b&&(d===void 0?f.dispose!==null:d);if(!b){var m;o((m=f.__r3f)==null?void 0:m.objects,f,w),o(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?tB.unstable_scheduleCallback(tB.unstable_IdlePriority,S):S()}Tv(c)}}function s(c,f,d,h){var p;const _=(p=c.__r3f)==null?void 0:p.parent;if(!_)return;const y=n(f,d,c.__r3f.root);if(c.children){for(const m of c.children)m.__r3f&&r(y,m);c.children=c.children.filter(m=>!m.__r3f)}c.__r3f.objects.forEach(m=>r(y,m)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(_,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(_,y),y.raycast&&y.__r3f.eventCount&&tA(y).getState().internal.interaction.push(y),[h,h.alternate].forEach(m=>{m!==null&&(m.stateNode=y,m.ref&&(typeof m.ref=="function"?m.ref(y):m.ref.current=y))})}const u=()=>{};return{reconciler:QXe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const h=c.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,h){var p;if(((p=c==null?void 0:c.__r3f)!=null?p:{}).primitive&&h.object&&h.object!==c)return[!0];{const{args:y=[],children:m,...b}=h,{args:w=[],children:S,...x}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((M,O)=>M!==w[O]))return[!0];const E=Wae(c,b,x,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,d],h,p,_,y){f?s(c,h,_,y):I2(c,d)},commitMount(c,f,d,h){var p;const _=(p=c.__r3f)!=null?p:{};c.raycast&&_.handlers&&_.eventCount&&tA(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Cv(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:h}=(f=c.__r3f)!=null?f:{};d&&h&&Y7(h,c,d),c.isObject3D&&(c.visible=!1),Tv(c)},unhideInstance(c,f){var d;const{attach:h,parent:p}=(d=c.__r3f)!=null?d:{};h&&p&&O2(p,c,h),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Tv(c)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():tg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Cr.fun(performance.now)?performance.now:Cr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Cr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Cr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:I2}}var q7,K7;const M2=t=>"colorSpace"in t||"outputColorSpace"in t,Uae=()=>{var t;return(t=OU.ColorManagement)!=null?t:null},jae=t=>t&&t.isOrthographicCamera,tJe=t=>t&&t.hasOwnProperty("current"),Yw=typeof window<"u"&&((q7=window.document)!=null&&q7.createElement||((K7=window.navigator)==null?void 0:K7.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function Hae(t){const e=D.useRef(t);return Yw(()=>void(e.current=t),[t]),e}function nJe({set:t}){return Yw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class $ae extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$ae.getDerivedStateFromError=()=>({error:!0});const zae="__default",X7=new Map,rJe=t=>t&&!!t.memoized&&!!t.changes;function Gae(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const zy=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function tA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Cr={obj:t=>t===Object(t)&&!Cr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Cr.str(t)||Cr.num(t)||Cr.boo(t))return t===e;const o=Cr.obj(t);if(o&&r==="reference")return t===e;const a=Cr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Cr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Cr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function iJe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function oJe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Cv(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function nB(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const J7=/-\d+$/;function O2(t,e,n){if(Cr.str(n)){if(J7.test(n)){const o=n.replace(J7,""),{target:a,key:s}=nB(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=nB(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function Y7(t,e,n){var r,i;if(Cr.str(n)){const{target:o,key:a}=nB(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Wae(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...u}={},l=!1){const c=t.__r3f,f=Object.entries(i),d=[];if(l){const p=Object.keys(u);for(let _=0;_<p.length;_++)i.hasOwnProperty(p[_])||f.unshift([p[_],zae+"remove"])}f.forEach(([p,_])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&p==="object"||Cr.equ(_,u[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return d.push([p,_,!0,[]]);let m=[];p.includes("-")&&(m=p.split("-")),d.push([p,_,!1,m]);for(const b in i){const w=i[b];b.startsWith(`${p}-`)&&d.push([b,w,!1,b.split("-")])}});const h={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(h.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(h.attach=c.memoizedProps.attach),{memoized:h,changes:d}}function I2(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=rJe(e)?e:Wae(t,e),u=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<s.length;d++){let[h,p,_,y]=s[d];if(M2(t)){const S="srgb",x="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?S:x):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?S:x)}let m=t,b=m[h];if(y.length&&(b=y.reduce((w,S)=>w[S],t),!(b&&b.set))){const[w,...S]=y.reverse();m=S.reverse().reduce((x,E)=>x[E],t),h=w}if(p===zae+"remove")if(m.constructor){let w=X7.get(m.constructor);w||(w=new m.constructor,X7.set(m.constructor,w)),p=w[h]}else p=0;if(_&&r)p?r.handlers[h]=p:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof Ep)){if(Array.isArray(p))b.fromArray?b.fromArray(p):b.set(...p);else if(b.copy&&p&&p.constructor&&b.constructor===p.constructor)b.copy(p);else if(p!==void 0){var l;const w=(l=b)==null?void 0:l.isColor;!w&&b.setScalar?b.setScalar(p):b instanceof Ep&&p instanceof Ep?b.mask=p.mask:b.set(p),!Uae()&&o&&!o.linear&&w&&b.convertSRGBToLinear()}}else{var c;if(m[h]=p,(c=m[h])!=null&&c.isTexture&&m[h].format===Ii&&m[h].type===cs&&o){const w=m[h];M2(w)&&M2(o.gl)?w.colorSpace=o.gl.outputColorSpace:w.encoding=o.gl.outputEncoding}}Tv(t)}if(r&&r.parent&&t.raycast&&u!==r.eventCount){const d=tA(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&rB(t),t}function Tv(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function rB(t){t.onUpdate==null||t.onUpdate(t)}function Vae(t,e){t.manual||(jae(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ex(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function aJe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return tg.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tg.ContinuousEventPriority;default:return tg.DefaultEventPriority}}function qae(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sJe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{qae(n.capturedMap,e,r,i)})}function lJe(t){function e(u){const{internal:l}=t.getState(),c=u.offsetX-l.initialClick[0],f=u.offsetY-l.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(u){return u.filter(l=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=l.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(u,l){const c=t.getState(),f=new Set,d=[],h=l?l(c.internal.interaction):c.internal.interaction;for(let m=0;m<h.length;m++){const b=zy(h[m]);b&&(b.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(u,c);function p(m){const b=zy(m);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var w;b.events.compute==null||b.events.compute(u,b,(w=b.previousRoot)==null?void 0:w.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(m,!0):[]}let _=h.flatMap(p).sort((m,b)=>{const w=zy(m.object),S=zy(b.object);return!w||!S?m.distance-b.distance:S.events.priority-w.events.priority||m.distance-b.distance}).filter(m=>{const b=ex(m);return f.has(b)?!1:(f.add(b),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const m of _){let b=m.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&d.push({...m,eventObject:b}),b=b.parent}}if("pointerId"in u&&c.internal.capturedMap.has(u.pointerId))for(let m of c.internal.capturedMap.get(u.pointerId).values())f.has(ex(m.intersection))||d.push(m.intersection);return d}function i(u,l,c,f){const d=t.getState();if(u.length){const h={stopped:!1};for(const p of u){const _=zy(p.object)||d,{raycaster:y,pointer:m,camera:b,internal:w}=_,S=new ue(m.x,m.y,0).unproject(b),x=T=>{var P,N;return(P=(N=w.capturedMap.get(T))==null?void 0:N.has(p.eventObject))!=null?P:!1},E=T=>{const P={intersection:p,target:l.target};w.capturedMap.has(T)?w.capturedMap.get(T).set(p.eventObject,P):w.capturedMap.set(T,new Map([[p.eventObject,P]])),l.target.setPointerCapture(T)},M=T=>{const P=w.capturedMap.get(T);P&&qae(w.capturedMap,p.eventObject,P,T)};let O={};for(let T in l){let P=l[T];typeof P!="function"&&(O[T]=P)}let C={...p,...O,pointer:m,intersections:u,stopped:h.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:b,stopPropagation(){const T="pointerId"in l&&w.capturedMap.get(l.pointerId);if((!T||T.has(p.eventObject))&&(C.stopped=h.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(P=>P.eventObject===p.eventObject))){const P=u.slice(0,u.indexOf(p));o([...P,p])}},target:{hasPointerCapture:x,setPointerCapture:E,releasePointerCapture:M},currentTarget:{hasPointerCapture:x,setPointerCapture:E,releasePointerCapture:M},nativeEvent:l};if(f(C),h.stopped===!0)break}}return u}function o(u){const{internal:l}=t.getState();for(const c of l.hovered.values())if(!u.length||!u.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,h=d==null?void 0:d.handlers;if(l.hovered.delete(ex(c)),d!=null&&d.eventCount){const p={...c,intersections:u};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function a(u,l){for(let c=0;c<l.length;c++){const f=l[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return l=>{const{internal:c}=t.getState();"pointerId"in l&&c.capturedMap.has(l.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(l.pointerId)&&(c.capturedMap.delete(l.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const h=u==="onPointerMove",p=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",y=r(c,h?n:void 0),m=p?e(c):0;u==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(w=>w.eventObject)),p&&!y.length&&m<=2&&(a(c,d.interaction),f&&f(c)),h&&o(y);function b(w){const S=w.eventObject,x=S.__r3f,E=x==null?void 0:x.handlers;if(x!=null&&x.eventCount)if(h){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const M=ex(w),O=d.hovered.get(M);O?O.stopped&&w.stopPropagation():(d.hovered.set(M,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const M=E[u];M?(!p||d.initialHits.includes(S))&&(a(c,d.interaction.filter(O=>!d.initialHits.includes(O))),M(w)):p&&d.initialHits.includes(S)&&a(c,d.interaction.filter(O=>!d.initialHits.includes(O)))}}i(y,c,m,b)}}return{handlePointer:s}}const uJe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Kae=t=>!!(t!=null&&t.render),RU=D.createContext(null),cJe=(t,e)=>{const n=Dae((s,u)=>{const l=new ue,c=new ue,f=new ue;function d(m=u().camera,b=c,w=u().size){const{width:S,height:x,top:E,left:M}=w,O=S/x;b.isVector3?f.copy(b):f.set(...b);const C=m.getWorldPosition(l).distanceTo(f);if(jae(m))return{width:S/m.zoom,height:x/m.zoom,top:E,left:M,factor:1,distance:C,aspect:O};{const T=m.fov*Math.PI/180,P=2*Math.tan(T/2)*C,N=P*(S/x);return{width:N,height:P,top:E,left:M,factor:S/N,distance:C,aspect:O}}}let h;const p=m=>s(b=>({performance:{...b.performance,current:m}})),_=new Xe;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(m=1)=>t(u(),m),advance:(m,b)=>e(m,b,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xU,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=u();h&&clearTimeout(h),m.performance.current!==m.performance.min&&p(m.performance.min),h=setTimeout(()=>p(u().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:m=>s(b=>({...b,events:{...b.events,...m}})),setSize:(m,b,w,S,x)=>{const E=u().camera,M={width:m,height:b,top:S||0,left:x||0,updateStyle:w};s(O=>({size:M,viewport:{...O.viewport,...d(E,c,M)}}))},setDpr:m=>s(b=>{const w=Gae(m);return{viewport:{...b.viewport,dpr:w,initialDpr:b.viewport.initialDpr||w}}}),setFrameloop:(m="always")=>{const b=u().clock;b.stop(),b.elapsedTime=0,m!=="never"&&(b.start(),b.elapsedTime=0),s(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,b,w)=>{const S=u().internal;return S.priority=S.priority+(b>0?1:0),S.subscribers.push({ref:m,priority:b,store:w}),S.subscribers=S.subscribers.sort((x,E)=>x.priority-E.priority),()=>{const x=u().internal;x!=null&&x.subscribers&&(x.priority=x.priority-(b>0?1:0),x.subscribers=x.subscribers.filter(E=>E.ref!==m))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:u,viewport:l,gl:c,set:f}=n.getState();if(u.width!==i.width||u.height!==i.height||l.dpr!==o){var d;i=u,o=l.dpr,Vae(s,u),c.setPixelRatio(l.dpr);const h=(d=u.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(u.width,u.height,h)}s!==a&&(a=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let tx,fJe=new Set,dJe=new Set,hJe=new Set;function R2(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Gy(t,e){switch(t){case"before":return R2(fJe,e);case"after":return R2(dJe,e);case"tail":return R2(hJe,e)}}let P2,D2;function L2(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),P2=e.internal.subscribers,tx=0;tx<P2.length;tx++)D2=P2[tx],D2.ref.current(D2.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pJe(t){let e=!1,n=!1,r,i,o;function a(l){i=requestAnimationFrame(a),e=!0,r=0,Gy("before",l),n=!0;for(const f of t.values()){var c;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((c=o.gl.xr)!=null&&c.isPresenting)&&(r+=L2(l,o))}if(n=!1,Gy("after",l),r===0)return Gy("tail",l),e=!1,cancelAnimationFrame(i)}function s(l,c=1){var f;if(!l)return t.forEach(d=>s(d.store.getState(),c));(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(c>1?l.internal.frames=Math.min(60,l.internal.frames+c):n?l.internal.frames=2:l.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function u(l,c=!0,f,d){if(c&&Gy("before",l),f)L2(l,f,d);else for(const h of t.values())L2(l,h.store.getState());c&&Gy("after",l)}return{loop:a,invalidate:s,advance:u}}function PU(){const t=D.useContext(RU);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function mi(t=n=>n,e){return PU()(t,e)}function Zw(t,e=0){const n=PU(),r=n.getState().internal.subscribe,i=Hae(t);return Yw(()=>r(i,e,n),[e,r,n]),null}const Z7=new WeakMap;function Xae(t,e){return function(n,...r){let i=Z7.get(n);return i||(i=new n,Z7.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((a,s)=>i.load(o,u=>{u.scene&&Object.assign(u,iJe(u.scene)),a(u)},e,u=>s(new Error(`Could not load ${o}: ${u==null?void 0:u.message}`))))))}}function sf(t,e,n,r){const i=Array.isArray(e)?e:[e],o=KXe(Xae(n,r),[t,...i],{equal:Cr.equ});return Array.isArray(e)?o:o[0]}sf.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return XXe(Xae(n),[t,...r])};sf.clear=function(t,e){const n=Array.isArray(e)?e:[e];return JXe([t,...n])};const d0=new Map,{invalidate:Q7,advance:eq}=pJe(d0),{reconciler:rw,applyProps:Xf}=eJe(d0,aJe),gv={objects:"shallow",strict:!1},mJe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Kae(n)?n:new $M({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function vJe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function gJe(t){const e=d0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||cJe(Q7,eq),a=n||rw.createContainer(o,tg.ConcurrentRoot,null,!1,null,"",i,null);e||d0.set(t,{fiber:a,store:o});let s,u=!1,l;return{configure(c={}){let{gl:f,size:d,scene:h,events:p,onCreated:_,shadows:y=!1,linear:m=!1,flat:b=!1,legacy:w=!1,orthographic:S=!1,frameloop:x="always",dpr:E=[1,2],performance:M,raycaster:O,camera:C,onPointerMissed:T}=c,P=o.getState(),N=P.gl;P.gl||P.set({gl:N=mJe(f,t)});let H=P.raycaster;H||P.set({raycaster:H=new MU});const{params:B,...k}=O||{};if(Cr.equ(k,H,gv)||Xf(H,{...k}),Cr.equ(B,H.params,gv)||Xf(H,{params:{...H.params,...B}}),!P.camera||P.camera===l&&!Cr.equ(l,C,gv)){l=C;const L=C instanceof jw,W=L?C:S?new qu(0,0,0,0,.1,1e3):new ui(75,0,.1,1e3);L||(W.position.z=5,C&&(Xf(W,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(W.manual=!0,W.updateProjectionMatrix())),!P.camera&&!(C!=null&&C.rotation)&&W.lookAt(0,0,0)),P.set({camera:W}),H.camera=W}if(!P.scene){let L;h!=null&&h.isScene?L=h:(L=new zw,h&&Xf(L,h)),P.set({scene:Cv(L)})}if(!P.xr){var j;const L=(ee,oe)=>{const pe=o.getState();pe.frameloop!=="never"&&eq(ee,!0,pe,oe)},W=()=>{const ee=o.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?L:null),ee.gl.xr.isPresenting||Q7(ee)},Z={connect(){const ee=o.getState().gl;ee.xr.addEventListener("sessionstart",W),ee.xr.addEventListener("sessionend",W)},disconnect(){const ee=o.getState().gl;ee.xr.removeEventListener("sessionstart",W),ee.xr.removeEventListener("sessionend",W)}};typeof((j=N.xr)==null?void 0:j.addEventListener)=="function"&&Z.connect(),P.set({xr:Z})}if(N.shadowMap){const L=N.shadowMap.enabled,W=N.shadowMap.type;if(N.shadowMap.enabled=!!y,Cr.boo(y))N.shadowMap.type=q_;else if(Cr.str(y)){var $;const Z={basic:Die,percentage:DM,soft:q_,variance:$l};N.shadowMap.type=($=Z[y])!=null?$:q_}else Cr.obj(y)&&Object.assign(N.shadowMap,y);(L!==N.shadowMap.enabled||W!==N.shadowMap.type)&&(N.shadowMap.needsUpdate=!0)}const F=Uae();F&&("enabled"in F?F.enabled=!w:"legacyMode"in F&&(F.legacyMode=w)),u||Xf(N,{outputEncoding:m?3e3:3001,toneMapping:b?Vu:Dk}),P.legacy!==w&&P.set(()=>({legacy:w})),P.linear!==m&&P.set(()=>({linear:m})),P.flat!==b&&P.set(()=>({flat:b})),f&&!Cr.fun(f)&&!Kae(f)&&!Cr.equ(f,N,gv)&&Xf(N,f),p&&!P.events.handlers&&P.set({events:p(o)});const R=vJe(t,d);return Cr.equ(R,P.size,gv)||P.setSize(R.width,R.height,R.updateStyle,R.top,R.left),E&&P.viewport.dpr!==Gae(E)&&P.setDpr(E),P.frameloop!==x&&P.setFrameloop(x),P.onPointerMissed||P.set({onPointerMissed:T}),M&&!Cr.equ(M,P.performance,gv)&&P.set(L=>({performance:{...L.performance,...M}})),s=_,u=!0,this},render(c){return u||this.configure(),rw.updateContainer(ye.jsx(yJe,{store:o,children:c,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){Jae(t)}}}function yJe({store:t,children:e,onCreated:n,rootElement:r}){return Yw(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ye.jsx(RU.Provider,{value:t,children:e})}function Jae(t,e){const n=d0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),rw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,u;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),oJe(i),d0.delete(t)}catch{}},500)})}}function _Je(t,e,n){return ye.jsx(bJe,{children:t,container:e,state:n},e.uuid)}function bJe({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,a=PU(),[s]=D.useState(()=>new MU),[u]=D.useState(()=>new Xe),l=D.useCallback((f,d)=>{const h={...f};Object.keys(f).forEach(_=>{(uJe.includes(_)||f[_]!==d[_]&&d[_])&&delete h[_]});let p;if(d&&i){const _=d.camera;p=f.viewport.getCurrentViewport(_,new ue,i),_!==f.camera&&Vae(_,i)}return{...h,scene:n,raycaster:s,pointer:u,mouse:u,previousRoot:a,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...p},...o}},[t]),[c]=D.useState(()=>{const f=a.getState();return Dae((h,p)=>({...f,scene:n,raycaster:s,pointer:u,mouse:u,previousRoot:a,events:{...f.events,...r},size:{...f.size,...i},...o,set:h,get:p,setEvents:_=>h(y=>({...y,events:{...y.events,..._}}))}))});return D.useEffect(()=>{const f=a.subscribe(d=>c.setState(h=>l(d,h)));return()=>{f()}},[l]),D.useEffect(()=>{c.setState(f=>l(a.getState(),f))},[l]),D.useEffect(()=>()=>{c.destroy()},[]),ye.jsx(ye.Fragment,{children:rw.createPortal(ye.jsx(RU.Provider,{value:c,children:e}),c,null)})}rw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});const N2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wJe(t){const{handlePointer:e}=lJe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(N2).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[u,l]=N2[a];n.addEventListener(u,s,{passive:l})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=N2[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function tq(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function SJe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),u=t?typeof t=="number"?t:t.scroll:null,l=t?typeof t=="number"?t:t.resize:null,c=D.useRef(!1);D.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,d,h]=D.useMemo(()=>{const m=()=>{if(!s.current.element)return;const{left:b,top:w,width:S,height:x,bottom:E,right:M,x:O,y:C}=s.current.element.getBoundingClientRect(),T={left:b,top:w,width:S,height:x,bottom:E,right:M,x:O,y:C};s.current.element instanceof HTMLElement&&r&&(T.height=s.current.element.offsetHeight,T.width=s.current.element.offsetWidth),Object.freeze(T),c.current&&!CJe(s.current.lastBounds,T)&&a(s.current.lastBounds=T)};return[m,l?tq(m,l):m,u?tq(m,u):m]},[a,r,u,l]);function p(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function _(){s.current.element&&(s.current.resizeObserver=new i(h),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(m=>m.addEventListener("scroll",h,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=m=>{!m||m===s.current.element||(p(),s.current.element=m,s.current.scrollContainers=Yae(m),_())};return xJe(h,!!e),EJe(d),D.useEffect(()=>{p(),_()},[e,h,d]),D.useEffect(()=>p,[]),[y,o,f]}function EJe(t){D.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function xJe(t,e){D.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Yae(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...Yae(t.parentElement)]}const AJe=["x","y","top","bottom","left","right","width","height"],CJe=(t,e)=>AJe.every(n=>t[n]===e[n]);var TJe=Object.defineProperty,MJe=Object.defineProperties,OJe=Object.getOwnPropertyDescriptors,nq=Object.getOwnPropertySymbols,IJe=Object.prototype.hasOwnProperty,RJe=Object.prototype.propertyIsEnumerable,rq=(t,e,n)=>e in t?TJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iq=(t,e)=>{for(var n in e||(e={}))IJe.call(e,n)&&rq(t,n,e[n]);if(nq)for(var n of nq(e))RJe.call(e,n)&&rq(t,n,e[n]);return t},PJe=(t,e)=>MJe(t,OJe(e)),oq,aq;typeof window<"u"&&((oq=window.document)!=null&&oq.createElement||((aq=window.navigator)==null?void 0:aq.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function Zae(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Zae(r,e,n);if(i)return i;r=r.sibling}}function Qae(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const sq=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=sq;return}return sq.apply(this,arguments)};const DU=Qae(D.createContext(null));class ese extends D.Component{render(){return D.createElement(DU.Provider,{value:this._reactInternals},this.props.children)}}function DJe(){const t=D.useContext(DU);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Zae(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function LJe(){const t=DJe(),[e]=D.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==DU&&!e.has(i)&&e.set(i,D.useContext(Qae(i)))}n=n.return}return e}function NJe(){const t=LJe();return D.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>D.createElement(e,null,D.createElement(n.Provider,PJe(iq({},r),{value:t.get(n)}))),e=>D.createElement(ese,iq({},e))),[t])}const BJe=D.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=wJe,eventSource:s,eventPrefix:u,shadows:l,linear:c,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:_,performance:y,raycaster:m,camera:b,scene:w,onPointerMissed:S,onCreated:x,...E},M){D.useMemo(()=>IU(GXe),[]);const O=NJe(),[C,T]=SJe({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=D.useRef(null),N=D.useRef(null);D.useImperativeHandle(M,()=>P.current);const H=Hae(S),[B,k]=D.useState(!1),[j,$]=D.useState(!1);if(B)throw B;if(j)throw j;const F=D.useRef(null);Yw(()=>{const L=P.current;T.width>0&&T.height>0&&L&&(F.current||(F.current=gJe(L)),F.current.configure({gl:o,events:a,shadows:l,linear:c,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:_,performance:y,raycaster:m,camera:b,scene:w,size:T,onPointerMissed:(...W)=>H.current==null?void 0:H.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(s?tJe(s)?s.current:s:N.current),u&&W.setEvents({compute:(Z,ee)=>{const oe=Z[u+"X"],pe=Z[u+"Y"];ee.pointer.set(oe/ee.size.width*2-1,-(pe/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),x==null||x(W)}}),F.current.render(ye.jsx(O,{children:ye.jsx($ae,{set:$,children:ye.jsx(D.Suspense,{fallback:ye.jsx(nJe,{set:k}),children:e??null})})})))}),D.useEffect(()=>{const L=P.current;if(L)return()=>Jae(L)},[]);const R=s?"none":"auto";return ye.jsx("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:R,...i},...E,children:ye.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:ye.jsx("canvas",{ref:P,style:{display:"block"},children:n})})})}),FJe=D.forwardRef(function(e,n){return ye.jsx(ese,{children:ye.jsx(BJe,{...e,ref:n})})}),LU=parseInt(D0.replace(/\D+/g,""));function lq(t,e){if(e===_oe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===$C||e===Gk){let n=t.getIndex();if(n===null){const a=[],s=t.getAttribute("position");if(s!==void 0){for(let u=0;u<s.count;u++)a.push(u);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===$C)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var tl=Uint8Array,md=Uint16Array,iB=Uint32Array,tse=new tl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nse=new tl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kJe=new tl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rse=function(t,e){for(var n=new md(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new iB(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},ise=rse(tse,2),ose=ise[0],UJe=ise[1];ose[28]=258,UJe[258]=28;var jJe=rse(nse,0),HJe=jJe[0],oB=new md(32768);for(var Fr=0;Fr<32768;++Fr){var Uf=(Fr&43690)>>>1|(Fr&21845)<<1;Uf=(Uf&52428)>>>2|(Uf&13107)<<2,Uf=(Uf&61680)>>>4|(Uf&3855)<<4,oB[Fr]=((Uf&65280)>>>8|(Uf&255)<<8)>>>1}var Z_=function(t,e,n){for(var r=t.length,i=0,o=new md(e);i<r;++i)++o[t[i]-1];var a=new md(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new md(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)s[oB[f]>>>u]=l}else for(s=new md(r),i=0;i<r;++i)t[i]&&(s[i]=oB[a[t[i]-1]++]>>>15-t[i]);return s},Qw=new tl(288);for(var Fr=0;Fr<144;++Fr)Qw[Fr]=8;for(var Fr=144;Fr<256;++Fr)Qw[Fr]=9;for(var Fr=256;Fr<280;++Fr)Qw[Fr]=7;for(var Fr=280;Fr<288;++Fr)Qw[Fr]=8;var ase=new tl(32);for(var Fr=0;Fr<32;++Fr)ase[Fr]=5;var $Je=Z_(Qw,9,1),zJe=Z_(ase,5,1),B2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},kl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},F2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},GJe=function(t){return(t/8|0)+(t&7&&1)},WJe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof md?md:t instanceof iB?iB:tl)(n-e);return r.set(t.subarray(e,n)),r},VJe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new tl(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new tl(r*3));var a=function(ie){var ce=e.length;if(ie>ce){var ve=new tl(Math.max(ce*2,ie));ve.set(e),e=ve}},s=n.f||0,u=n.p||0,l=n.b||0,c=n.l,f=n.d,d=n.m,h=n.n,p=r*8;do{if(!c){n.f=s=kl(t,u,1);var _=kl(t,u+1,3);if(u+=3,_)if(_==1)c=$Je,f=zJe,d=9,h=5;else if(_==2){var w=kl(t,u,31)+257,S=kl(t,u+10,15)+4,x=w+kl(t,u+5,31)+1;u+=14;for(var E=new tl(x),M=new tl(19),O=0;O<S;++O)M[kJe[O]]=kl(t,u+O*3,7);u+=S*3;for(var C=B2(M),T=(1<<C)-1,P=Z_(M,C,1),O=0;O<x;){var N=P[kl(t,u,T)];u+=N&15;var y=N>>>4;if(y<16)E[O++]=y;else{var H=0,B=0;for(y==16?(B=3+kl(t,u,3),u+=2,H=E[O-1]):y==17?(B=3+kl(t,u,7),u+=3):y==18&&(B=11+kl(t,u,127),u+=7);B--;)E[O++]=H}}var k=E.subarray(0,w),j=E.subarray(w);d=B2(k),h=B2(j),c=Z_(k,d,1),f=Z_(j,h,1)}else throw"invalid block type";else{var y=GJe(u)+4,m=t[y-4]|t[y-3]<<8,b=y+m;if(b>r){if(o)throw"unexpected EOF";break}i&&a(l+m),e.set(t.subarray(y,b),l),n.b=l+=m,n.p=u=b*8;continue}if(u>p){if(o)throw"unexpected EOF";break}}i&&a(l+131072);for(var $=(1<<d)-1,F=(1<<h)-1,R=u;;R=u){var H=c[F2(t,u)&$],L=H>>>4;if(u+=H&15,u>p){if(o)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(L<256)e[l++]=L;else if(L==256){R=u,c=null;break}else{var W=L-254;if(L>264){var O=L-257,Z=tse[O];W=kl(t,u,(1<<Z)-1)+ose[O],u+=Z}var ee=f[F2(t,u)&F],oe=ee>>>4;if(!ee)throw"invalid distance";u+=ee&15;var j=HJe[oe];if(oe>3){var Z=nse[oe];j+=F2(t,u)&(1<<Z)-1,u+=Z}if(u>p){if(o)throw"unexpected EOF";break}i&&a(l+131072);for(var pe=l+W;l<pe;l+=4)e[l]=e[l-j],e[l+1]=e[l+1-j],e[l+2]=e[l+2-j],e[l+3]=e[l+3-j];l=pe}}n.l=c,n.p=R,n.b=l,c&&(s=1,n.m=d,n.d=f,n.n=h)}while(!s);return l==e.length?e:WJe(e,0,l)},qJe=new tl(0),KJe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function nx(t,e){return VJe((KJe(t),t.subarray(2,-4)),e)}var XJe=typeof TextDecoder<"u"&&new TextDecoder,JJe=0;try{XJe.decode(qJe,{stream:!0}),JJe=1}catch{}const YJe=t=>t&&t.isCubeTexture;class ZJe extends Vr{constructor(e,n){var r,i;const o=YJe(e),s=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,u=Math.floor(Math.log2(s)),l=Math.pow(2,u),c=3*Math.max(l,16*7),f=4*l,d=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${u}.0`],h=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,p=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${LU>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,_={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new qw(1,16),m=new Ho({uniforms:_,fragmentShader:p,vertexShader:h,side:el});super(y,m)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var QJe=Object.defineProperty,eYe=(t,e,n)=>e in t?QJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tYe=(t,e,n)=>(eYe(t,e+"",n),n);class nYe{constructor(){tYe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var rYe=Object.defineProperty,iYe=(t,e,n)=>e in t?rYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>(iYe(t,typeof e!="symbol"?e+"":e,n),n);const rx=new sm,uq=new Pc,oYe=Math.cos(70*(Math.PI/180)),cq=(t,e)=>(t%e+e)%e;let aYe=class extends nYe{constructor(e,n){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new ue),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:kh.ROTATE,MIDDLE:kh.DOLLY,RIGHT:kh.PAN}),gn(this,"touches",{ONE:Uh.ROTATE,TWO:Uh.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=le=>{let Ie=cq(le,2*Math.PI),He=c.phi;He<0&&(He+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let Ve=Math.abs(Ie-He);2*Math.PI-Ve<Ve&&(Ie<He?Ie+=2*Math.PI:He+=2*Math.PI),f.phi=Ie-He,r.update()},this.setAzimuthalAngle=le=>{let Ie=cq(le,2*Math.PI),He=c.theta;He<0&&(He+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let Ve=Math.abs(Ie-He);2*Math.PI-Ve<Ve&&(Ie<He?Ie+=2*Math.PI:He+=2*Math.PI),f.theta=Ie-He,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",Ze),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ze),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),u=s.NONE},this.update=(()=>{const le=new ue,Ie=new ue(0,1,0),He=new yi().setFromUnitVectors(e.up,Ie),Ve=He.clone().invert(),Ee=new ue,de=new yi,$e=2*Math.PI;return function(){const Pt=r.object.position;He.setFromUnitVectors(e.up,Ie),Ve.copy(He).invert(),le.copy(Pt).sub(r.target),le.applyQuaternion(He),c.setFromVector3(le),r.autoRotate&&u===s.NONE&&B(N()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let vt=r.minAzimuthAngle,$t=r.maxAzimuthAngle;isFinite(vt)&&isFinite($t)&&(vt<-Math.PI?vt+=$e:vt>Math.PI&&(vt-=$e),$t<-Math.PI?$t+=$e:$t>Math.PI&&($t-=$e),vt<=$t?c.theta=Math.max(vt,Math.min($t,c.theta)):c.theta=c.theta>(vt+$t)/2?Math.max(vt,c.theta):Math.min($t,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&C||r.object.isOrthographicCamera?c.radius=ee(c.radius):c.radius=ee(c.radius*d),le.setFromSpherical(c),le.applyQuaternion(Ve),Pt.copy(r.target).add(le),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let rn=!1;if(r.zoomToCursor&&C){let mn=null;if(r.object instanceof ui&&r.object.isPerspectiveCamera){const Lt=le.length();mn=ee(Lt*d);const cn=Lt-mn;r.object.position.addScaledVector(M,cn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Lt=new ue(O.x,O.y,0);Lt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),rn=!0;const cn=new ue(O.x,O.y,0);cn.unproject(r.object),r.object.position.sub(cn).add(Lt),r.object.updateMatrixWorld(),mn=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;mn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(mn).add(r.object.position):(rx.origin.copy(r.object.position),rx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(rx.direction))<oYe?e.lookAt(r.target):(uq.setFromNormalAndCoplanarPoint(r.object.up,r.target),rx.intersectPlane(uq,r.target))))}else r.object instanceof qu&&r.object.isOrthographicCamera&&(rn=d!==1,rn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,C=!1,rn||Ee.distanceToSquared(r.object.position)>l||8*(1-de.dot(r.object.quaternion))>l?(r.dispatchEvent(i),Ee.copy(r.object.position),de.copy(r.object.quaternion),rn=!1,!0):!1}})(),this.connect=le=>{r.domElement=le,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Tt),r.domElement.addEventListener("pointerdown",Ae),r.domElement.addEventListener("pointercancel",Te),r.domElement.addEventListener("wheel",Qe)},this.dispose=()=>{var le,Ie,He,Ve,Ee,de;r.domElement&&(r.domElement.style.touchAction="auto"),(le=r.domElement)==null||le.removeEventListener("contextmenu",Tt),(Ie=r.domElement)==null||Ie.removeEventListener("pointerdown",Ae),(He=r.domElement)==null||He.removeEventListener("pointercancel",Te),(Ve=r.domElement)==null||Ve.removeEventListener("wheel",Qe),(Ee=r.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",Oe),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointerup",Te),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ze)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const l=1e-6,c=new eB,f=new eB;let d=1;const h=new ue,p=new Xe,_=new Xe,y=new Xe,m=new Xe,b=new Xe,w=new Xe,S=new Xe,x=new Xe,E=new Xe,M=new ue,O=new Xe;let C=!1;const T=[],P={};function N(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function B(le){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=le:f.theta-=le}function k(le){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=le:f.phi-=le}const j=(()=>{const le=new ue;return function(He,Ve){le.setFromMatrixColumn(Ve,0),le.multiplyScalar(-He),h.add(le)}})(),$=(()=>{const le=new ue;return function(He,Ve){r.screenSpacePanning===!0?le.setFromMatrixColumn(Ve,1):(le.setFromMatrixColumn(Ve,0),le.crossVectors(r.object.up,le)),le.multiplyScalar(He),h.add(le)}})(),F=(()=>{const le=new ue;return function(He,Ve){const Ee=r.domElement;if(Ee&&r.object instanceof ui&&r.object.isPerspectiveCamera){const de=r.object.position;le.copy(de).sub(r.target);let $e=le.length();$e*=Math.tan(r.object.fov/2*Math.PI/180),j(2*He*$e/Ee.clientHeight,r.object.matrix),$(2*Ve*$e/Ee.clientHeight,r.object.matrix)}else Ee&&r.object instanceof qu&&r.object.isOrthographicCamera?(j(He*(r.object.right-r.object.left)/r.object.zoom/Ee.clientWidth,r.object.matrix),$(Ve*(r.object.top-r.object.bottom)/r.object.zoom/Ee.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function R(le){r.object instanceof ui&&r.object.isPerspectiveCamera||r.object instanceof qu&&r.object.isOrthographicCamera?d=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function L(le){R(d/le)}function W(le){R(d*le)}function Z(le){if(!r.zoomToCursor||!r.domElement)return;C=!0;const Ie=r.domElement.getBoundingClientRect(),He=le.clientX-Ie.left,Ve=le.clientY-Ie.top,Ee=Ie.width,de=Ie.height;O.x=He/Ee*2-1,O.y=-(Ve/de)*2+1,M.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function ee(le){return Math.max(r.minDistance,Math.min(r.maxDistance,le))}function oe(le){p.set(le.clientX,le.clientY)}function pe(le){Z(le),S.set(le.clientX,le.clientY)}function ie(le){m.set(le.clientX,le.clientY)}function ce(le){_.set(le.clientX,le.clientY),y.subVectors(_,p).multiplyScalar(r.rotateSpeed);const Ie=r.domElement;Ie&&(B(2*Math.PI*y.x/Ie.clientHeight),k(2*Math.PI*y.y/Ie.clientHeight)),p.copy(_),r.update()}function ve(le){x.set(le.clientX,le.clientY),E.subVectors(x,S),E.y>0?L(H()):E.y<0&&W(H()),S.copy(x),r.update()}function xe(le){b.set(le.clientX,le.clientY),w.subVectors(b,m).multiplyScalar(r.panSpeed),F(w.x,w.y),m.copy(b),r.update()}function he(le){Z(le),le.deltaY<0?W(H()):le.deltaY>0&&L(H()),r.update()}function we(le){let Ie=!1;switch(le.code){case r.keys.UP:F(0,r.keyPanSpeed),Ie=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),Ie=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),Ie=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),Ie=!0;break}Ie&&(le.preventDefault(),r.update())}function ne(){if(T.length==1)p.set(T[0].pageX,T[0].pageY);else{const le=.5*(T[0].pageX+T[1].pageX),Ie=.5*(T[0].pageY+T[1].pageY);p.set(le,Ie)}}function Me(){if(T.length==1)m.set(T[0].pageX,T[0].pageY);else{const le=.5*(T[0].pageX+T[1].pageX),Ie=.5*(T[0].pageY+T[1].pageY);m.set(le,Ie)}}function Ce(){const le=T[0].pageX-T[1].pageX,Ie=T[0].pageY-T[1].pageY,He=Math.sqrt(le*le+Ie*Ie);S.set(0,He)}function K(){r.enableZoom&&Ce(),r.enablePan&&Me()}function U(){r.enableZoom&&Ce(),r.enableRotate&&ne()}function G(le){if(T.length==1)_.set(le.pageX,le.pageY);else{const He=qe(le),Ve=.5*(le.pageX+He.x),Ee=.5*(le.pageY+He.y);_.set(Ve,Ee)}y.subVectors(_,p).multiplyScalar(r.rotateSpeed);const Ie=r.domElement;Ie&&(B(2*Math.PI*y.x/Ie.clientHeight),k(2*Math.PI*y.y/Ie.clientHeight)),p.copy(_)}function te(le){if(T.length==1)b.set(le.pageX,le.pageY);else{const Ie=qe(le),He=.5*(le.pageX+Ie.x),Ve=.5*(le.pageY+Ie.y);b.set(He,Ve)}w.subVectors(b,m).multiplyScalar(r.panSpeed),F(w.x,w.y),m.copy(b)}function q(le){const Ie=qe(le),He=le.pageX-Ie.x,Ve=le.pageY-Ie.y,Ee=Math.sqrt(He*He+Ve*Ve);x.set(0,Ee),E.set(0,Math.pow(x.y/S.y,r.zoomSpeed)),L(E.y),S.copy(x)}function V(le){r.enableZoom&&q(le),r.enablePan&&te(le)}function ae(le){r.enableZoom&&q(le),r.enableRotate&&G(le)}function Ae(le){var Ie,He;r.enabled!==!1&&(T.length===0&&((Ie=r.domElement)==null||Ie.ownerDocument.addEventListener("pointermove",Oe),(He=r.domElement)==null||He.ownerDocument.addEventListener("pointerup",Te)),Mt(le),le.pointerType==="touch"?at(le):Ue(le))}function Oe(le){r.enabled!==!1&&(le.pointerType==="touch"?ke(le):Be(le))}function Te(le){var Ie,He,Ve;wt(le),T.length===0&&((Ie=r.domElement)==null||Ie.releasePointerCapture(le.pointerId),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",Oe),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointerup",Te)),r.dispatchEvent(a),u=s.NONE}function Ue(le){let Ie;switch(le.button){case 0:Ie=r.mouseButtons.LEFT;break;case 1:Ie=r.mouseButtons.MIDDLE;break;case 2:Ie=r.mouseButtons.RIGHT;break;default:Ie=-1}switch(Ie){case kh.DOLLY:if(r.enableZoom===!1)return;pe(le),u=s.DOLLY;break;case kh.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enablePan===!1)return;ie(le),u=s.PAN}else{if(r.enableRotate===!1)return;oe(le),u=s.ROTATE}break;case kh.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enableRotate===!1)return;oe(le),u=s.ROTATE}else{if(r.enablePan===!1)return;ie(le),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function Be(le){if(r.enabled!==!1)switch(u){case s.ROTATE:if(r.enableRotate===!1)return;ce(le);break;case s.DOLLY:if(r.enableZoom===!1)return;ve(le);break;case s.PAN:if(r.enablePan===!1)return;xe(le);break}}function Qe(le){r.enabled===!1||r.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(le.preventDefault(),r.dispatchEvent(o),he(le),r.dispatchEvent(a))}function Ze(le){r.enabled===!1||r.enablePan===!1||we(le)}function at(le){switch(ft(le),T.length){case 1:switch(r.touches.ONE){case Uh.ROTATE:if(r.enableRotate===!1)return;ne(),u=s.TOUCH_ROTATE;break;case Uh.PAN:if(r.enablePan===!1)return;Me(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(r.touches.TWO){case Uh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;K(),u=s.TOUCH_DOLLY_PAN;break;case Uh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;U(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function ke(le){switch(ft(le),u){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;G(le),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;te(le),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;V(le),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ae(le),r.update();break;default:u=s.NONE}}function Tt(le){r.enabled!==!1&&le.preventDefault()}function Mt(le){T.push(le)}function wt(le){delete P[le.pointerId];for(let Ie=0;Ie<T.length;Ie++)if(T[Ie].pointerId==le.pointerId){T.splice(Ie,1);return}}function ft(le){let Ie=P[le.pointerId];Ie===void 0&&(Ie=new Xe,P[le.pointerId]=Ie),Ie.set(le.pageX,le.pageY)}function qe(le){const Ie=le.pointerId===T[0].pointerId?T[1]:T[0];return P[Ie.pointerId]}this.dollyIn=(le=H())=>{W(le),r.update()},this.dollyOut=(le=H())=>{L(le),r.update()},this.getScale=()=>d,this.setScale=le=>{R(le),r.update()},this.getZoomScale=()=>H(),n!==void 0&&this.connect(n),this.update()}};function VC(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const cp="srgb",Yc="srgb-linear",fq=3001,sYe=3e3;class NU extends _o{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new dYe(n)}),this.register(function(n){return new hYe(n)}),this.register(function(n){return new SYe(n)}),this.register(function(n){return new EYe(n)}),this.register(function(n){return new xYe(n)}),this.register(function(n){return new mYe(n)}),this.register(function(n){return new vYe(n)}),this.register(function(n){return new gYe(n)}),this.register(function(n){return new yYe(n)}),this.register(function(n){return new fYe(n)}),this.register(function(n){return new _Ye(n)}),this.register(function(n){return new pYe(n)}),this.register(function(n){return new wYe(n)}),this.register(function(n){return new bYe(n)}),this.register(function(n){return new uYe(n)}),this.register(function(n){return new AYe(n)}),this.register(function(n){return new CYe(n)})}load(e,n,r,i){const o=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const l=Id.extractUrlBase(e);a=Id.resolveURL(l,this.path)}else a=Id.extractUrlBase(e);this.manager.itemStart(e);const s=function(l){i?i(l):console.error(l),o.manager.itemError(e),o.manager.itemEnd(e)},u=new mo(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(l){try{o.parse(l,a,function(c){n(c),o.manager.itemEnd(e)},s)}catch(c){s(c)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let o;const a={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(VC(new Uint8Array(e.slice(0,4)))===sse){try{a[Hn.KHR_BINARY_GLTF]=new TYe(e)}catch(c){i&&i(c);return}o=JSON.parse(a[Hn.KHR_BINARY_GLTF].content)}else o=JSON.parse(VC(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new jYe(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const c=this.pluginCallbacks[l](u);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[c.name]=c,a[c.name]=!0}if(o.extensionsUsed)for(let l=0;l<o.extensionsUsed.length;++l){const c=o.extensionsUsed[l],f=o.extensionsRequired||[];switch(c){case Hn.KHR_MATERIALS_UNLIT:a[c]=new cYe;break;case Hn.KHR_DRACO_MESH_COMPRESSION:a[c]=new MYe(o,this.dracoLoader);break;case Hn.KHR_TEXTURE_TRANSFORM:a[c]=new OYe;break;case Hn.KHR_MESH_QUANTIZATION:a[c]=new IYe;break;default:f.indexOf(c)>=0&&s[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}u.setExtensions(a),u.setPlugins(s),u.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,o){r.parse(e,n,i,o)})}}function lYe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Hn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class uYe{constructor(e){this.parser=e,this.name=Hn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const o=n.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let l;const c=new Rt(16777215);u.color!==void 0&&c.setRGB(u.color[0],u.color[1],u.color[2],Yc);const f=u.range!==void 0?u.range:0;switch(u.type){case"directional":l=new SU(c),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new wU(c),l.distance=f;break;case"spot":l=new bU(c),l.distance=f,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,l.angle=u.spot.outerConeAngle,l.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return l.position.set(0,0,0),l.decay=2,Ic(l,u),u.intensity!==void 0&&(l.intensity=u.intensity),l.name=n.createUniqueName(u.name||"light_"+e),i=Promise.resolve(l),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(u){return r._getNodeRef(n.cache,s,u)})}}class cYe{constructor(){this.name=Hn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ba}extendParams(e,n,r){const i=[];e.color=new Rt(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Yc),e.opacity=a[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,cp))}return Promise.all(i)}}class fYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class dYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const s=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Xe(s,s)}return Promise.all(o)}}class hYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class pYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(o)}}class mYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new Rt(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const s=a.sheenColorFactor;n.sheenColor.setRGB(s[0],s[1],s[2],Yc)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(r.assignTexture(n,"sheenColorMap",a.sheenColorTexture,cp)),a.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class vYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(r.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class gYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(r.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const s=a.attenuationColor||[1,1,1];return n.attenuationColor=new Rt().setRGB(s[0],s[1],s[2],Yc),Promise.all(o)}}class yYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class _Ye{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(r.assignTexture(n,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return n.specularColor=new Rt().setRGB(s[0],s[1],s[2],Yc),a.specularColorTexture!==void 0&&o.push(r.assignTexture(n,"specularColorMap",a.specularColorTexture,cp)),Promise.all(o)}}class bYe{constructor(e){this.parser=e,this.name=Hn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&o.push(r.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(o)}}class wYe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&o.push(r.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(o)}}class SYe{constructor(e){this.parser=e,this.name=Hn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,a)}}class EYe{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=i.images[a.source];let u=r.textureLoader;if(s.uri){const l=r.options.manager.getHandler(s.uri);l!==null&&(u=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,a.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class xYe{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=i.images[a.source];let u=r.textureLoader;if(s.uri){const l=r.options.manager.getHandler(s.uri);l!==null&&(u=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,a.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class AYe{constructor(e){this.name=Hn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const u=i.byteOffset||0,l=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(s,u,l);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(h){return h.buffer}):a.ready.then(function(){const h=new ArrayBuffer(c*f);return a.decodeGltfBuffer(new Uint8Array(h),c,f,d,i.mode,i.filter),h})})}else return null}}class CYe{constructor(e){this.name=Hn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const l of i.primitives)if(l.mode!==Ws.TRIANGLES&&l.mode!==Ws.TRIANGLE_STRIP&&l.mode!==Ws.TRIANGLE_FAN&&l.mode!==void 0)return null;const a=r.extensions[this.name].attributes,s=[],u={};for(const l in a)s.push(this.parser.getDependency("accessor",a[l]).then(c=>(u[l]=c,u[l])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(l=>{const c=l.pop(),f=c.isGroup?c.children:[c],d=l[0].count,h=[];for(const p of f){const _=new un,y=new ue,m=new yi,b=new ue(1,1,1),w=new oU(p.geometry,p.material,d);for(let S=0;S<d;S++)u.TRANSLATION&&y.fromBufferAttribute(u.TRANSLATION,S),u.ROTATION&&m.fromBufferAttribute(u.ROTATION,S),u.SCALE&&b.fromBufferAttribute(u.SCALE,S),w.setMatrixAt(S,_.compose(y,m,b));for(const S in u)if(S==="_COLOR_0"){const x=u[S];w.instanceColor=new Gp(x.array,x.itemSize,x.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&p.geometry.setAttribute(S,u[S]);Qn.prototype.copy.call(w,p),this.parser.assignFinalMaterial(w),h.push(w)}return c.isGroup?(c.clear(),c.add(...h),c):h[0]}))}}const sse="glTF",Wy=12,dq={JSON:1313821514,BIN:5130562};class TYe{constructor(e){this.name=Hn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Wy);if(this.header={magic:VC(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==sse)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Wy,i=new DataView(e,Wy);let o=0;for(;o<r;){const a=i.getUint32(o,!0);o+=4;const s=i.getUint32(o,!0);if(o+=4,s===dq.JSON){const u=new Uint8Array(e,Wy+o,a);this.content=VC(u)}else if(s===dq.BIN){const u=Wy+o;this.body=e.slice(u,u+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class MYe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Hn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},u={},l={};for(const c in a){const f=aB[c]||c.toLowerCase();s[f]=a[c]}for(const c in e.attributes){const f=aB[c]||c.toLowerCase();if(a[c]!==void 0){const d=r.accessors[e.attributes[c]],h=Ag[d.componentType];l[f]=h.name,u[f]=d.normalized===!0}}return n.getDependency("bufferView",o).then(function(c){return new Promise(function(f,d){i.decodeDracoFile(c,function(h){for(const p in h.attributes){const _=h.attributes[p],y=u[p];y!==void 0&&(_.normalized=y)}f(h)},s,l,Yc,d)})})}}class OYe{constructor(){this.name=Hn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class IYe{constructor(){this.name=Hn.KHR_MESH_QUANTIZATION}}class lse extends F0{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let a=0;a!==i;a++)n[a]=r[o+a];return n}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=s*2,l=s*3,c=i-n,f=(r-n)/c,d=f*f,h=d*f,p=e*l,_=p-l,y=-2*h+3*d,m=h-d,b=1-y,w=m-d+f;for(let S=0;S!==s;S++){const x=a[_+S+s],E=a[_+S+u]*c,M=a[p+S+s],O=a[p+S]*c;o[S]=b*x+w*E+y*M+m*O}return o}}const RYe=new yi;class PYe extends lse{interpolate_(e,n,r,i){const o=super.interpolate_(e,n,r,i);return RYe.fromArray(o).normalize().toArray(o),o}}const Ws={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ag={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hq={9728:Gr,9729:tr,9984:Wb,9985:LM,9986:Sg,9987:tc},pq={33071:Br,33648:a0,10497:kd},k2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},aB={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...LU>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},jf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},DYe={CUBICSPLINE:void 0,LINEAR:zp,STEP:s0},U2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function LYe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Jw({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Qu})),t.DefaultMaterial}function Rh(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Ic(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function NYe(t,e,n){let r=!1,i=!1,o=!1;for(let l=0,c=e.length;l<c;l++){const f=e[l];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(t);const a=[],s=[],u=[];for(let l=0,c=e.length;l<c;l++){const f=e[l];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;a.push(d)}if(i){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;s.push(d)}if(o){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;u.push(d)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(u)]).then(function(l){const c=l[0],f=l[1],d=l[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),o&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function BYe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function FYe(t){let e;const n=t.extensions&&t.extensions[Hn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+j2(n.attributes):e=t.indices+":"+j2(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+j2(t.targets[r]);return e}function j2(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function sB(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function kYe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const UYe=new un;class jYe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new lYe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new _ae(this.options.manager):this.textureLoader=new Tae(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new mo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const s={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};return Rh(o,s,i),Ic(s,i),Promise.all(r._invokeAll(function(u){return u.afterRoot&&u.afterRoot(s)})).then(function(){for(const u of s.scenes)u.updateMatrixWorld();e(s)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=n.length;i<o;i++){const a=n[i].joints;for(let s=0,u=a.length;s<u;s++)e[a[s]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),o=(a,s)=>{const u=this.associations.get(a);u!=null&&this.associations.set(s,u);for(const[l,c]of a.children.entries())o(c,s.children[l])};return o(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const o=e(n[i]);o&&r.push(o)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(o,a){return r.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Hn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,a){r.load(Id.resolveURL(n.uri,i.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,o=n.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=k2[i.type],s=Ag[i.componentType],u=i.normalized===!0,l=new s(i.count*a);return Promise.resolve(new er(l,a,u))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(a){const s=a[0],u=k2[i.type],l=Ag[i.componentType],c=l.BYTES_PER_ELEMENT,f=c*u,d=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let _,y;if(h&&h!==f){const m=Math.floor(d/h),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count;let w=n.cache.get(b);w||(_=new l(s,m*h,i.count*h/c),w=new Gw(_,h/c),n.cache.add(b,w)),y=new Ud(w,u,d%h/c,p)}else s===null?_=new l(i.count*u):_=new l(s,d,i.count*u),y=new er(_,u,p);if(i.sparse!==void 0){const m=k2.SCALAR,b=Ag[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,x=new b(a[1],w,i.sparse.count*m),E=new l(a[2],S,i.sparse.count*u);s!==null&&(y=new er(y.array.slice(),y.itemSize,y.normalized));for(let M=0,O=x.length;M<O;M++){const C=x[M];if(y.setX(C,E[M*u]),u>=2&&y.setY(C,E[M*u+1]),u>=3&&y.setZ(C,E[M*u+2]),u>=4&&y.setW(C,E[M*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,o=n.textures[e].source,a=n.images[o];let s=this.textureLoader;if(a.uri){const u=r.manager.getHandler(a.uri);u!==null&&(s=u)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,n,r){const i=this,o=this.json,a=o.textures[e],s=o.images[n],u=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];const l=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=a.name||s.name||"",c.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(c.name=s.uri);const d=(o.samplers||{})[a.sampler]||{};return c.magFilter=hq[d.magFilter]||tr,c.minFilter=hq[d.minFilter]||tc,c.wrapS=pq[d.wrapS]||kd,c.wrapT=pq[d.wrapT]||kd,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[u]=l,l}loadImageSource(e,n){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const a=i.images[e],s=self.URL||self.webkitURL;let u=a.uri||"",l=!1;if(a.bufferView!==void 0)u=r.getDependency("bufferView",a.bufferView).then(function(f){l=!0;const d=new Blob([f],{type:a.mimeType});return u=s.createObjectURL(d),u});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(u).then(function(f){return new Promise(function(d,h){let p=d;n.isImageBitmapLoader===!0&&(p=function(_){const y=new hr(_);y.needsUpdate=!0,d(y)}),n.load(Id.resolveURL(f,o.path),p,void 0,h)})}).then(function(f){return l===!0&&s.revokeObjectURL(u),Ic(f,a),f.userData.mimeType=a.mimeType||kYe(a.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const o=this;return this.getDependency("texture",r.index).then(function(a){if(!a)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(a=a.clone(),a.channel=r.texCoord),o.extensions[Hn.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[Hn.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const u=o.associations.get(a);a=o.extensions[Hn.KHR_TEXTURE_TRANSFORM].extendTexture(a,s),o.associations.set(a,u)}}return i!==void 0&&(typeof i=="number"&&(i=i===fq?cp:Yc),"colorSpace"in a?a.colorSpace=i:a.encoding=i===cp?fq:sYe),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new VM,$i.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(s,u)),r=u}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new zo,$i.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,this.cache.add(s,u)),r=u}if(i||o||a){let s="ClonedMaterial:"+r.uuid+":";i&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),a&&(s+="flat-shading:");let u=this.cache.get(s);u||(u=r.clone(),o&&(u.vertexColors=!0),a&&(u.flatShading=!0),i&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(s,u),this.associations.set(u,this.associations.get(r))),r=u}e.material=r}getMaterialType(){return Jw}loadMaterial(e){const n=this,r=this.json,i=this.extensions,o=r.materials[e];let a;const s={},u=o.extensions||{},l=[];if(u[Hn.KHR_MATERIALS_UNLIT]){const f=i[Hn.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),l.push(f.extendParams(s,o,n))}else{const f=o.pbrMetallicRoughness||{};if(s.color=new Rt(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;s.color.setRGB(d[0],d[1],d[2],Yc),s.opacity=d[3]}f.baseColorTexture!==void 0&&l.push(n.assignTexture(s,"map",f.baseColorTexture,cp)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(l.push(n.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),l.push(n.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=el);const c=o.alphaMode||U2.OPAQUE;if(c===U2.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,c===U2.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==Ba&&(l.push(n.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new Xe(1,1),o.normalTexture.scale!==void 0)){const f=o.normalTexture.scale;s.normalScale.set(f,f)}if(o.occlusionTexture!==void 0&&a!==Ba&&(l.push(n.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==Ba){const f=o.emissiveFactor;s.emissive=new Rt().setRGB(f[0],f[1],f[2],Yc)}return o.emissiveTexture!==void 0&&a!==Ba&&l.push(n.assignTexture(s,"emissiveMap",o.emissiveTexture,cp)),Promise.all(l).then(function(){const f=new a(s);return o.name&&(f.name=o.name),Ic(f,o),n.associations.set(f,{materials:e}),o.extensions&&Rh(i,f,o),f})}createUniqueName(e){const n=Jn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function o(s){return r[Hn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,n).then(function(u){return mq(u,s,n)})}const a=[];for(let s=0,u=e.length;s<u;s++){const l=e[s],c=FYe(l),f=i[c];if(f)a.push(f.promise);else{let d;l.extensions&&l.extensions[Hn.KHR_DRACO_MESH_COMPRESSION]?d=o(l):d=mq(new Pn,l,n),i[c]={primitive:l,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(e){const n=this,r=this.json,i=this.extensions,o=r.meshes[e],a=o.primitives,s=[];for(let u=0,l=a.length;u<l;u++){const c=a[u].material===void 0?LYe(this.cache):this.getDependency("material",a[u].material);s.push(c)}return s.push(n.loadGeometries(a)),Promise.all(s).then(function(u){const l=u.slice(0,u.length-1),c=u[u.length-1],f=[];for(let h=0,p=c.length;h<p;h++){const _=c[h],y=a[h];let m;const b=l[h];if(y.mode===Ws.TRIANGLES||y.mode===Ws.TRIANGLE_STRIP||y.mode===Ws.TRIANGLE_FAN||y.mode===void 0)m=o.isSkinnedMesh===!0?new iU(_,b):new Vr(_,b),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),y.mode===Ws.TRIANGLE_STRIP?m.geometry=lq(m.geometry,Gk):y.mode===Ws.TRIANGLE_FAN&&(m.geometry=lq(m.geometry,$C));else if(y.mode===Ws.LINES)m=new uu(_,b);else if(y.mode===Ws.LINE_STRIP)m=new af(_,b);else if(y.mode===Ws.LINE_LOOP)m=new aU(_,b);else if(y.mode===Ws.POINTS)m=new sU(_,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(m.geometry.morphAttributes).length>0&&BYe(m,o),m.name=n.createUniqueName(o.name||"mesh_"+e),Ic(m,o),y.extensions&&Rh(i,m,y),n.assignFinalMaterial(m),f.push(m)}for(let h=0,p=f.length;h<p;h++)n.associations.set(f[h],{meshes:e,primitives:h});if(f.length===1)return o.extensions&&Rh(i,f[0],o),f[0];const d=new zc;o.extensions&&Rh(i,d,o),n.associations.set(d,{meshes:e});for(let h=0,p=f.length;h<p;h++)d.add(f[h]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new ui(Eg.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new qu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Ic(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,o=n.joints.length;i<o;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),a=i,s=[],u=[];for(let l=0,c=a.length;l<c;l++){const f=a[l];if(f){s.push(f);const d=new un;o!==null&&d.fromArray(o.array,l*16),u.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[l])}return new Ww(s,u)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],o=i.name?i.name:"animation_"+e,a=[],s=[],u=[],l=[],c=[];for(let f=0,d=i.channels.length;f<d;f++){const h=i.channels[f],p=i.samplers[h.sampler],_=h.target,y=_.node,m=i.parameters!==void 0?i.parameters[p.input]:p.input,b=i.parameters!==void 0?i.parameters[p.output]:p.output;_.node!==void 0&&(a.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",m)),u.push(this.getDependency("accessor",b)),l.push(p),c.push(_))}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(u),Promise.all(l),Promise.all(c)]).then(function(f){const d=f[0],h=f[1],p=f[2],_=f[3],y=f[4],m=[];for(let b=0,w=d.length;b<w;b++){const S=d[b],x=h[b],E=p[b],M=_[b],O=y[b];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const C=r._createAnimationTracks(S,x,E,M,O);if(C)for(let T=0;T<C.length;T++)m.push(C[T])}return new f0(o,void 0,m)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const a=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&a.traverse(function(s){if(s.isMesh)for(let u=0,l=i.weights.length;u<l;u++)s.morphTargetInfluences[u]=i.weights[u]}),a})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],o=r._loadNodeShallow(e),a=[],s=i.children||[];for(let l=0,c=s.length;l<c;l++)a.push(r.getDependency("node",s[l]));const u=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(a),u]).then(function(l){const c=l[0],f=l[1],d=l[2];d!==null&&c.traverse(function(h){h.isSkinnedMesh&&h.bind(d,UYe)});for(let h=0,p=f.length;h<p;h++)c.add(f[h]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],a=o.name?i.createUniqueName(o.name):"",s=[],u=i._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return u&&s.push(u),o.camera!==void 0&&s.push(i.getDependency("camera",o.camera).then(function(l){return i._getNodeRef(i.cameraCache,o.camera,l)})),i._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){s.push(l)}),this.nodeCache[e]=Promise.all(s).then(function(l){let c;if(o.isBone===!0?c=new WM:l.length>1?c=new zc:l.length===1?c=l[0]:c=new Qn,c!==l[0])for(let f=0,d=l.length;f<d;f++)c.add(l[f]);if(o.name&&(c.userData.name=o.name,c.name=a),Ic(c,o),o.extensions&&Rh(r,c,o),o.matrix!==void 0){const f=new un;f.fromArray(o.matrix),c.applyMatrix4(f)}else o.translation!==void 0&&c.position.fromArray(o.translation),o.rotation!==void 0&&c.quaternion.fromArray(o.rotation),o.scale!==void 0&&c.scale.fromArray(o.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,o=new zc;r.name&&(o.name=i.createUniqueName(r.name)),Ic(o,r),r.extensions&&Rh(n,o,r);const a=r.nodes||[],s=[];for(let u=0,l=a.length;u<l;u++)s.push(i.getDependency("node",a[u]));return Promise.all(s).then(function(u){for(let c=0,f=u.length;c<f;c++)o.add(u[c]);const l=c=>{const f=new Map;for(const[d,h]of i.associations)(d instanceof $i||d instanceof hr)&&f.set(d,h);return c.traverse(d=>{const h=i.associations.get(d);h!=null&&f.set(d,h)}),f};return i.associations=l(o),o})}_createAnimationTracks(e,n,r,i,o){const a=[],s=e.name?e.name:e.uuid,u=[];jf[o.path]===jf.weights?e.traverse(function(d){d.morphTargetInfluences&&u.push(d.name?d.name:d.uuid)}):u.push(s);let l;switch(jf[o.path]){case jf.weights:l=Vp;break;case jf.rotation:l=jd;break;case jf.position:case jf.scale:l=qp;break;default:switch(r.itemSize){case 1:l=Vp;break;case 2:case 3:default:l=qp;break}break}const c=i.interpolation!==void 0?DYe[i.interpolation]:zp,f=this._getArrayFromAccessor(r);for(let d=0,h=u.length;d<h;d++){const p=new l(u[d]+"."+jf[o.path],n.array,f,c);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=sB(n.constructor),i=new Float32Array(n.length);for(let o=0,a=n.length;o<a;o++)i[o]=n[o]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof jd?PYe:lse;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function HYe(t,e,n){const r=e.attributes,i=new io;if(r.POSITION!==void 0){const s=n.json.accessors[r.POSITION],u=s.min,l=s.max;if(u!==void 0&&l!==void 0){if(i.set(new ue(u[0],u[1],u[2]),new ue(l[0],l[1],l[2])),s.normalized){const c=sB(Ag[s.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new ue,u=new ue;for(let l=0,c=o.length;l<c;l++){const f=o[l];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],h=d.min,p=d.max;if(h!==void 0&&p!==void 0){if(u.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),u.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),u.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),d.normalized){const _=sB(Ag[d.componentType]);u.multiplyScalar(_)}s.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(s)}t.boundingBox=i;const a=new oo;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=a}function mq(t,e,n){const r=e.attributes,i=[];function o(a,s){return n.getDependency("accessor",a).then(function(u){t.setAttribute(s,u)})}for(const a in r){const s=aB[a]||a.toLowerCase();s in t.attributes||i.push(o(r[a],s))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(s){t.setIndex(s)});i.push(a)}return Ic(t,e),HYe(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?NYe(t,e.targets,n):t})}const $Ye={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},zYe={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class GYe extends yU{constructor(e){super(e),this.type=ji}parse(e){const a=function(O,C){switch(O){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(C||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(C||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(C||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(C||""))}},c=`
`,f=function(O,C,T){C=C||1024;let N=O.pos,H=-1,B=0,k="",j=String.fromCharCode.apply(null,new Uint16Array(O.subarray(N,N+128)));for(;0>(H=j.indexOf(c))&&B<C&&N<O.byteLength;)k+=j,B+=j.length,N+=128,j+=String.fromCharCode.apply(null,new Uint16Array(O.subarray(N,N+128)));return-1<H?(O.pos+=B+H+1,k+j.slice(0,H)):!1},d=function(O){const C=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*FORMAT=(\S+)\s*$/,H=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,B={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let k,j;for((O.pos>=O.byteLength||!(k=f(O)))&&a(1,"no header found"),(j=k.match(C))||a(3,"bad initial token"),B.valid|=1,B.programtype=j[1],B.string+=k+`
`;k=f(O),k!==!1;){if(B.string+=k+`
`,k.charAt(0)==="#"){B.comments+=k+`
`;continue}if((j=k.match(T))&&(B.gamma=parseFloat(j[1])),(j=k.match(P))&&(B.exposure=parseFloat(j[1])),(j=k.match(N))&&(B.valid|=2,B.format=j[1]),(j=k.match(H))&&(B.valid|=4,B.height=parseInt(j[1],10),B.width=parseInt(j[2],10)),B.valid&2&&B.valid&4)break}return B.valid&2||a(3,"missing format specifier"),B.valid&4||a(3,"missing image size specifier"),B},h=function(O,C,T){const P=C;if(P<8||P>32767||O[0]!==2||O[1]!==2||O[2]&128)return new Uint8Array(O);P!==(O[2]<<8|O[3])&&a(3,"wrong scanline width");const N=new Uint8Array(4*C*T);N.length||a(4,"unable to allocate buffer space");let H=0,B=0;const k=4*P,j=new Uint8Array(4),$=new Uint8Array(k);let F=T;for(;F>0&&B<O.byteLength;){B+4>O.byteLength&&a(1),j[0]=O[B++],j[1]=O[B++],j[2]=O[B++],j[3]=O[B++],(j[0]!=2||j[1]!=2||(j[2]<<8|j[3])!=P)&&a(3,"bad rgbe scanline format");let R=0,L;for(;R<k&&B<O.byteLength;){L=O[B++];const Z=L>128;if(Z&&(L-=128),(L===0||R+L>k)&&a(3,"bad scanline data"),Z){const ee=O[B++];for(let oe=0;oe<L;oe++)$[R++]=ee}else $.set(O.subarray(B,B+L),R),R+=L,B+=L}const W=P;for(let Z=0;Z<W;Z++){let ee=0;N[H]=$[Z+ee],ee+=P,N[H+1]=$[Z+ee],ee+=P,N[H+2]=$[Z+ee],ee+=P,N[H+3]=$[Z+ee],H+=4}F--}return N},p=function(O,C,T,P){const N=O[C+3],H=Math.pow(2,N-128)/255;T[P+0]=O[C+0]*H,T[P+1]=O[C+1]*H,T[P+2]=O[C+2]*H,T[P+3]=1},_=function(O,C,T,P){const N=O[C+3],H=Math.pow(2,N-128)/255;T[P+0]=sp.toHalfFloat(Math.min(O[C+0]*H,65504)),T[P+1]=sp.toHalfFloat(Math.min(O[C+1]*H,65504)),T[P+2]=sp.toHalfFloat(Math.min(O[C+2]*H,65504)),T[P+3]=sp.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const m=d(y),b=m.width,w=m.height,S=h(y.subarray(y.pos),b,w);let x,E,M;switch(this.type){case Di:M=S.length/4;const O=new Float32Array(M*4);for(let T=0;T<M;T++)p(S,T*4,O,T*4);x=O,E=Di;break;case ji:M=S.length/4;const C=new Uint16Array(M*4);for(let T=0;T<M;T++)_(S,T*4,C,T*4);x=C,E=ji;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:b,height:w,data:x,header:m.string,gamma:m.gamma,exposure:m.exposure,type:E}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){switch(a.type){case Di:case ji:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=tr,a.magFilter=tr,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,r,i)}}const Vy=LU>=152;class WYe extends yU{constructor(e){super(e),this.type=ji}parse(e){const C=Math.pow(2.7182818,2.2);function T(Y,re){for(var _e=0,J=0;J<65536;++J)(J==0||Y[J>>3]&1<<(J&7))&&(re[_e++]=J);for(var se=_e-1;_e<65536;)re[_e++]=0;return se}function P(Y){for(var re=0;re<16384;re++)Y[re]={},Y[re].len=0,Y[re].lit=0,Y[re].p=null}const N={l:0,c:0,lc:0};function H(Y,re,_e,J,se){for(;_e<Y;)re=re<<8|qe(J,se),_e+=8;_e-=Y,N.l=re>>_e&(1<<Y)-1,N.c=re,N.lc=_e}const B=new Array(59);function k(Y){for(var re=0;re<=58;++re)B[re]=0;for(var re=0;re<65537;++re)B[Y[re]]+=1;for(var _e=0,re=58;re>0;--re){var J=_e+B[re]>>1;B[re]=_e,_e=J}for(var re=0;re<65537;++re){var se=Y[re];se>0&&(Y[re]=se|B[se]++<<6)}}function j(Y,re,_e,J,se,fe,Se){for(var be=_e,Le=0,Ne=0;se<=fe;se++){if(be.value-_e.value>J)return!1;H(6,Le,Ne,Y,be);var ze=N.l;if(Le=N.c,Ne=N.lc,Se[se]=ze,ze==63){if(be.value-_e.value>J)throw"Something wrong with hufUnpackEncTable";H(8,Le,Ne,Y,be);var je=N.l+6;if(Le=N.c,Ne=N.lc,se+je>fe+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)Se[se++]=0;se--}else if(ze>=59){var je=ze-59+2;if(se+je>fe+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)Se[se++]=0;se--}}k(Se)}function $(Y){return Y&63}function F(Y){return Y>>6}function R(Y,re,_e,J){for(;re<=_e;re++){var se=F(Y[re]),fe=$(Y[re]);if(se>>fe)throw"Invalid table entry";if(fe>14){var Se=J[se>>fe-14];if(Se.len)throw"Invalid table entry";if(Se.lit++,Se.p){var be=Se.p;Se.p=new Array(Se.lit);for(var Le=0;Le<Se.lit-1;++Le)Se.p[Le]=be[Le]}else Se.p=new Array(1);Se.p[Se.lit-1]=re}else if(fe)for(var Ne=0,Le=1<<14-fe;Le>0;Le--){var Se=J[(se<<14-fe)+Ne];if(Se.len||Se.p)throw"Invalid table entry";Se.len=fe,Se.lit=re,Ne++}}return!0}const L={c:0,lc:0};function W(Y,re,_e,J){Y=Y<<8|qe(_e,J),re+=8,L.c=Y,L.lc=re}const Z={c:0,lc:0};function ee(Y,re,_e,J,se,fe,Se,be,Le,Ne){if(Y==re){J<8&&(W(_e,J,se,Se),_e=L.c,J=L.lc),J-=8;var ze=_e>>J,ze=new Uint8Array([ze])[0];if(Le.value+ze>Ne)return!1;for(var je=be[Le.value-1];ze-- >0;)be[Le.value++]=je}else if(Le.value<Ne)be[Le.value++]=Y;else return!1;Z.c=_e,Z.lc=J}function oe(Y){return Y&65535}function pe(Y){var re=oe(Y);return re>32767?re-65536:re}const ie={a:0,b:0};function ce(Y,re){var _e=pe(Y),J=pe(re),se=J,fe=_e+(se&1)+(se>>1),Se=fe,be=fe-se;ie.a=Se,ie.b=be}function ve(Y,re){var _e=oe(Y),J=oe(re),se=_e-(J>>1)&65535,fe=J+se-32768&65535;ie.a=fe,ie.b=se}function xe(Y,re,_e,J,se,fe,Se){for(var be=Se<16384,Le=_e>se?se:_e,Ne=1,ze;Ne<=Le;)Ne<<=1;for(Ne>>=1,ze=Ne,Ne>>=1;Ne>=1;){for(var je=0,_t=je+fe*(se-ze),Ye=fe*Ne,nt=fe*ze,Ot=J*Ne,ct=J*ze,it,ut,rt,Je;je<=_t;je+=nt){for(var Wt=je,xt=je+J*(_e-ze);Wt<=xt;Wt+=ct){var yt=Wt+Ot,Zt=Wt+Ye,Cn=Zt+Ot;be?(ce(Y[Wt+re],Y[Zt+re]),it=ie.a,rt=ie.b,ce(Y[yt+re],Y[Cn+re]),ut=ie.a,Je=ie.b,ce(it,ut),Y[Wt+re]=ie.a,Y[yt+re]=ie.b,ce(rt,Je),Y[Zt+re]=ie.a,Y[Cn+re]=ie.b):(ve(Y[Wt+re],Y[Zt+re]),it=ie.a,rt=ie.b,ve(Y[yt+re],Y[Cn+re]),ut=ie.a,Je=ie.b,ve(it,ut),Y[Wt+re]=ie.a,Y[yt+re]=ie.b,ve(rt,Je),Y[Zt+re]=ie.a,Y[Cn+re]=ie.b)}if(_e&Ne){var Zt=Wt+Ye;be?ce(Y[Wt+re],Y[Zt+re]):ve(Y[Wt+re],Y[Zt+re]),it=ie.a,Y[Zt+re]=ie.b,Y[Wt+re]=it}}if(se&Ne)for(var Wt=je,xt=je+J*(_e-ze);Wt<=xt;Wt+=ct){var yt=Wt+Ot;be?ce(Y[Wt+re],Y[yt+re]):ve(Y[Wt+re],Y[yt+re]),it=ie.a,Y[yt+re]=ie.b,Y[Wt+re]=it}ze=Ne,Ne>>=1}return je}function he(Y,re,_e,J,se,fe,Se,be,Le,Ne){for(var ze=0,je=0,_t=be,Ye=Math.trunc(se.value+(fe+7)/8);se.value<Ye;)for(W(ze,je,_e,se),ze=L.c,je=L.lc;je>=14;){var nt=ze>>je-14&16383,Ot=re[nt];if(Ot.len)je-=Ot.len,ee(Ot.lit,Se,ze,je,_e,J,se,Le,Ne,_t),ze=Z.c,je=Z.lc;else{if(!Ot.p)throw"hufDecode issues";var ct;for(ct=0;ct<Ot.lit;ct++){for(var it=$(Y[Ot.p[ct]]);je<it&&se.value<Ye;)W(ze,je,_e,se),ze=L.c,je=L.lc;if(je>=it&&F(Y[Ot.p[ct]])==(ze>>je-it&(1<<it)-1)){je-=it,ee(Ot.p[ct],Se,ze,je,_e,J,se,Le,Ne,_t),ze=Z.c,je=Z.lc;break}}if(ct==Ot.lit)throw"hufDecode issues"}}var ut=8-fe&7;for(ze>>=ut,je-=ut;je>0;){var Ot=re[ze<<14-je&16383];if(Ot.len)je-=Ot.len,ee(Ot.lit,Se,ze,je,_e,J,se,Le,Ne,_t),ze=Z.c,je=Z.lc;else throw"hufDecode issues"}return!0}function we(Y,re,_e,J,se,fe){var Se={value:0},be=_e.value,Le=ft(re,_e),Ne=ft(re,_e);_e.value+=4;var ze=ft(re,_e);if(_e.value+=4,Le<0||Le>=65537||Ne<0||Ne>=65537)throw"Something wrong with HUF_ENCSIZE";var je=new Array(65537),_t=new Array(16384);P(_t);var Ye=J-(_e.value-be);if(j(Y,re,_e,Ye,Le,Ne,je),ze>8*(J-(_e.value-be)))throw"Something wrong with hufUncompress";R(je,Le,Ne,_t),he(je,_t,Y,re,_e,ze,Ne,fe,se,Se)}function ne(Y,re,_e){for(var J=0;J<_e;++J)re[J]=Y[re[J]]}function Me(Y){for(var re=1;re<Y.length;re++){var _e=Y[re-1]+Y[re]-128;Y[re]=_e}}function Ce(Y,re){for(var _e=0,J=Math.floor((Y.length+1)/2),se=0,fe=Y.length-1;!(se>fe||(re[se++]=Y[_e++],se>fe));)re[se++]=Y[J++]}function K(Y){for(var re=Y.byteLength,_e=new Array,J=0,se=new DataView(Y);re>0;){var fe=se.getInt8(J++);if(fe<0){var Se=-fe;re-=Se+1;for(var be=0;be<Se;be++)_e.push(se.getUint8(J++))}else{var Se=fe;re-=2;for(var Le=se.getUint8(J++),be=0;be<Se+1;be++)_e.push(Le)}}return _e}function U(Y,re,_e,J,se,fe){var yt=new DataView(fe.buffer),Se=_e[Y.idx[0]].width,be=_e[Y.idx[0]].height,Le=3,Ne=Math.floor(Se/8),ze=Math.ceil(Se/8),je=Math.ceil(be/8),_t=Se-(ze-1)*8,Ye=be-(je-1)*8,nt={value:0},Ot=new Array(Le),ct=new Array(Le),it=new Array(Le),ut=new Array(Le),rt=new Array(Le);for(let St=0;St<Le;++St)rt[St]=re[Y.idx[St]],Ot[St]=St<1?0:Ot[St-1]+ze*je,ct[St]=new Float32Array(64),it[St]=new Uint16Array(64),ut[St]=new Uint16Array(ze*64);for(let St=0;St<je;++St){var Je=8;St==je-1&&(Je=Ye);var Wt=8;for(let jt=0;jt<ze;++jt){jt==ze-1&&(Wt=_t);for(let fn=0;fn<Le;++fn)it[fn].fill(0),it[fn][0]=se[Ot[fn]++],G(nt,J,it[fn]),te(it[fn],ct[fn]),q(ct[fn]);V(ct);for(let fn=0;fn<Le;++fn)ae(ct[fn],ut[fn],jt*64)}let Kt=0;for(let jt=0;jt<Le;++jt){const fn=_e[Y.idx[jt]].type;for(let qn=8*St;qn<8*St+Je;++qn){Kt=rt[jt][qn];for(let Bt=0;Bt<Ne;++Bt){const It=Bt*64+(qn&7)*8;yt.setUint16(Kt+0*2*fn,ut[jt][It+0],!0),yt.setUint16(Kt+1*2*fn,ut[jt][It+1],!0),yt.setUint16(Kt+2*2*fn,ut[jt][It+2],!0),yt.setUint16(Kt+3*2*fn,ut[jt][It+3],!0),yt.setUint16(Kt+4*2*fn,ut[jt][It+4],!0),yt.setUint16(Kt+5*2*fn,ut[jt][It+5],!0),yt.setUint16(Kt+6*2*fn,ut[jt][It+6],!0),yt.setUint16(Kt+7*2*fn,ut[jt][It+7],!0),Kt+=8*2*fn}}if(Ne!=ze)for(let qn=8*St;qn<8*St+Je;++qn){const Bt=rt[jt][qn]+8*Ne*2*fn,It=Ne*64+(qn&7)*8;for(let yn=0;yn<Wt;++yn)yt.setUint16(Bt+yn*2*fn,ut[jt][It+yn],!0)}}}for(var xt=new Uint16Array(Se),yt=new DataView(fe.buffer),Zt=0;Zt<Le;++Zt){_e[Y.idx[Zt]].decoded=!0;var Cn=_e[Y.idx[Zt]].type;if(_e[Zt].type==2)for(var pt=0;pt<be;++pt){const St=rt[Zt][pt];for(var dt=0;dt<Se;++dt)xt[dt]=yt.getUint16(St+dt*2*Cn,!0);for(var dt=0;dt<Se;++dt)yt.setFloat32(St+dt*2*Cn,Ee(xt[dt]),!0)}}}function G(Y,re,_e){for(var J,se=1;se<64;)J=re[Y.value],J==65280?se=64:J>>8==255?se+=J&255:(_e[se]=J,se++),Y.value++}function te(Y,re){re[0]=Ee(Y[0]),re[1]=Ee(Y[1]),re[2]=Ee(Y[5]),re[3]=Ee(Y[6]),re[4]=Ee(Y[14]),re[5]=Ee(Y[15]),re[6]=Ee(Y[27]),re[7]=Ee(Y[28]),re[8]=Ee(Y[2]),re[9]=Ee(Y[4]),re[10]=Ee(Y[7]),re[11]=Ee(Y[13]),re[12]=Ee(Y[16]),re[13]=Ee(Y[26]),re[14]=Ee(Y[29]),re[15]=Ee(Y[42]),re[16]=Ee(Y[3]),re[17]=Ee(Y[8]),re[18]=Ee(Y[12]),re[19]=Ee(Y[17]),re[20]=Ee(Y[25]),re[21]=Ee(Y[30]),re[22]=Ee(Y[41]),re[23]=Ee(Y[43]),re[24]=Ee(Y[9]),re[25]=Ee(Y[11]),re[26]=Ee(Y[18]),re[27]=Ee(Y[24]),re[28]=Ee(Y[31]),re[29]=Ee(Y[40]),re[30]=Ee(Y[44]),re[31]=Ee(Y[53]),re[32]=Ee(Y[10]),re[33]=Ee(Y[19]),re[34]=Ee(Y[23]),re[35]=Ee(Y[32]),re[36]=Ee(Y[39]),re[37]=Ee(Y[45]),re[38]=Ee(Y[52]),re[39]=Ee(Y[54]),re[40]=Ee(Y[20]),re[41]=Ee(Y[22]),re[42]=Ee(Y[33]),re[43]=Ee(Y[38]),re[44]=Ee(Y[46]),re[45]=Ee(Y[51]),re[46]=Ee(Y[55]),re[47]=Ee(Y[60]),re[48]=Ee(Y[21]),re[49]=Ee(Y[34]),re[50]=Ee(Y[37]),re[51]=Ee(Y[47]),re[52]=Ee(Y[50]),re[53]=Ee(Y[56]),re[54]=Ee(Y[59]),re[55]=Ee(Y[61]),re[56]=Ee(Y[35]),re[57]=Ee(Y[36]),re[58]=Ee(Y[48]),re[59]=Ee(Y[49]),re[60]=Ee(Y[57]),re[61]=Ee(Y[58]),re[62]=Ee(Y[62]),re[63]=Ee(Y[63])}function q(Y){const re=.5*Math.cos(.7853975),_e=.5*Math.cos(3.14159/16),J=.5*Math.cos(3.14159/8),se=.5*Math.cos(3*3.14159/16),fe=.5*Math.cos(5*3.14159/16),Se=.5*Math.cos(3*3.14159/8),be=.5*Math.cos(7*3.14159/16);for(var Le=new Array(4),Ne=new Array(4),ze=new Array(4),je=new Array(4),_t=0;_t<8;++_t){var Ye=_t*8;Le[0]=J*Y[Ye+2],Le[1]=Se*Y[Ye+2],Le[2]=J*Y[Ye+6],Le[3]=Se*Y[Ye+6],Ne[0]=_e*Y[Ye+1]+se*Y[Ye+3]+fe*Y[Ye+5]+be*Y[Ye+7],Ne[1]=se*Y[Ye+1]-be*Y[Ye+3]-_e*Y[Ye+5]-fe*Y[Ye+7],Ne[2]=fe*Y[Ye+1]-_e*Y[Ye+3]+be*Y[Ye+5]+se*Y[Ye+7],Ne[3]=be*Y[Ye+1]-fe*Y[Ye+3]+se*Y[Ye+5]-_e*Y[Ye+7],ze[0]=re*(Y[Ye+0]+Y[Ye+4]),ze[3]=re*(Y[Ye+0]-Y[Ye+4]),ze[1]=Le[0]+Le[3],ze[2]=Le[1]-Le[2],je[0]=ze[0]+ze[1],je[1]=ze[3]+ze[2],je[2]=ze[3]-ze[2],je[3]=ze[0]-ze[1],Y[Ye+0]=je[0]+Ne[0],Y[Ye+1]=je[1]+Ne[1],Y[Ye+2]=je[2]+Ne[2],Y[Ye+3]=je[3]+Ne[3],Y[Ye+4]=je[3]-Ne[3],Y[Ye+5]=je[2]-Ne[2],Y[Ye+6]=je[1]-Ne[1],Y[Ye+7]=je[0]-Ne[0]}for(var nt=0;nt<8;++nt)Le[0]=J*Y[16+nt],Le[1]=Se*Y[16+nt],Le[2]=J*Y[48+nt],Le[3]=Se*Y[48+nt],Ne[0]=_e*Y[8+nt]+se*Y[24+nt]+fe*Y[40+nt]+be*Y[56+nt],Ne[1]=se*Y[8+nt]-be*Y[24+nt]-_e*Y[40+nt]-fe*Y[56+nt],Ne[2]=fe*Y[8+nt]-_e*Y[24+nt]+be*Y[40+nt]+se*Y[56+nt],Ne[3]=be*Y[8+nt]-fe*Y[24+nt]+se*Y[40+nt]-_e*Y[56+nt],ze[0]=re*(Y[nt]+Y[32+nt]),ze[3]=re*(Y[nt]-Y[32+nt]),ze[1]=Le[0]+Le[3],ze[2]=Le[1]-Le[2],je[0]=ze[0]+ze[1],je[1]=ze[3]+ze[2],je[2]=ze[3]-ze[2],je[3]=ze[0]-ze[1],Y[0+nt]=je[0]+Ne[0],Y[8+nt]=je[1]+Ne[1],Y[16+nt]=je[2]+Ne[2],Y[24+nt]=je[3]+Ne[3],Y[32+nt]=je[3]-Ne[3],Y[40+nt]=je[2]-Ne[2],Y[48+nt]=je[1]-Ne[1],Y[56+nt]=je[0]-Ne[0]}function V(Y){for(var re=0;re<64;++re){var _e=Y[0][re],J=Y[1][re],se=Y[2][re];Y[0][re]=_e+1.5747*se,Y[1][re]=_e-.1873*J-.4682*se,Y[2][re]=_e+1.8556*J}}function ae(Y,re,_e){for(var J=0;J<64;++J)re[_e+J]=sp.toHalfFloat(Ae(Y[J]))}function Ae(Y){return Y<=1?Math.sign(Y)*Math.pow(Math.abs(Y),2.2):Math.sign(Y)*Math.pow(C,Math.abs(Y)-1)}function Oe(Y){return new DataView(Y.array.buffer,Y.offset.value,Y.size)}function Te(Y){var re=Y.viewer.buffer.slice(Y.offset.value,Y.offset.value+Y.size),_e=new Uint8Array(K(re)),J=new Uint8Array(_e.length);return Me(_e),Ce(_e,J),new DataView(J.buffer)}function Ue(Y){var re=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),_e=nx(re),J=new Uint8Array(_e.length);return Me(_e),Ce(_e,J),new DataView(J.buffer)}function Be(Y){for(var re=Y.viewer,_e={value:Y.offset.value},J=new Uint16Array(Y.width*Y.scanlineBlockSize*(Y.channels*Y.type)),se=new Uint8Array(8192),fe=0,Se=new Array(Y.channels),be=0;be<Y.channels;be++)Se[be]={},Se[be].start=fe,Se[be].end=Se[be].start,Se[be].nx=Y.width,Se[be].ny=Y.lines,Se[be].size=Y.type,fe+=Se[be].nx*Se[be].ny*Se[be].size;var Le=de(re,_e),Ne=de(re,_e);if(Ne>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Le<=Ne)for(var be=0;be<Ne-Le+1;be++)se[be+Le]=le(re,_e);var ze=new Uint16Array(65536),je=T(se,ze),_t=ft(re,_e);we(Y.array,re,_e,_t,J,fe);for(var be=0;be<Y.channels;++be)for(var Ye=Se[be],nt=0;nt<Se[be].size;++nt)xe(J,Ye.start+nt,Ye.nx,Ye.size,Ye.ny,Ye.nx*Ye.size,je);ne(ze,J,fe);for(var Ot=0,ct=new Uint8Array(J.buffer.byteLength),it=0;it<Y.lines;it++)for(var ut=0;ut<Y.channels;ut++){var Ye=Se[ut],rt=Ye.nx*Ye.size,Je=new Uint8Array(J.buffer,Ye.end*2,rt*2);ct.set(Je,Ot),Ot+=rt*2,Ye.end+=rt}return new DataView(ct.buffer)}function Qe(Y){var re=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),_e=nx(re);const J=Y.lines*Y.channels*Y.width,se=Y.type==1?new Uint16Array(J):new Uint32Array(J);let fe=0,Se=0;const be=new Array(4);for(let Le=0;Le<Y.lines;Le++)for(let Ne=0;Ne<Y.channels;Ne++){let ze=0;switch(Y.type){case 1:be[0]=fe,be[1]=be[0]+Y.width,fe=be[1]+Y.width;for(let je=0;je<Y.width;++je){const _t=_e[be[0]++]<<8|_e[be[1]++];ze+=_t,se[Se]=ze,Se++}break;case 2:be[0]=fe,be[1]=be[0]+Y.width,be[2]=be[1]+Y.width,fe=be[2]+Y.width;for(let je=0;je<Y.width;++je){const _t=_e[be[0]++]<<24|_e[be[1]++]<<16|_e[be[2]++]<<8;ze+=_t,se[Se]=ze,Se++}break}}return new DataView(se.buffer)}function Ze(Y){var re=Y.viewer,_e={value:Y.offset.value},J=new Uint8Array(Y.width*Y.lines*(Y.channels*Y.type*2)),se={version:Ie(re,_e),unknownUncompressedSize:Ie(re,_e),unknownCompressedSize:Ie(re,_e),acCompressedSize:Ie(re,_e),dcCompressedSize:Ie(re,_e),rleCompressedSize:Ie(re,_e),rleUncompressedSize:Ie(re,_e),rleRawSize:Ie(re,_e),totalAcUncompressedCount:Ie(re,_e),totalDcUncompressedCount:Ie(re,_e),acCompression:Ie(re,_e)};if(se.version<2)throw"EXRLoader.parse: "+Dt.compression+" version "+se.version+" is unsupported";for(var fe=new Array,Se=de(re,_e)-2;Se>0;){var be=at(re.buffer,_e),Le=le(re,_e),Ne=Le>>2&3,ze=(Le>>4)-1,je=new Int8Array([ze])[0],_t=le(re,_e);fe.push({name:be,index:je,type:_t,compression:Ne}),Se-=be.length+3}for(var Ye=Dt.channels,nt=new Array(Y.channels),Ot=0;Ot<Y.channels;++Ot){var ct=nt[Ot]={},it=Ye[Ot];ct.name=it.name,ct.compression=0,ct.decoded=!1,ct.type=it.pixelType,ct.pLinear=it.pLinear,ct.width=Y.width,ct.height=Y.lines}for(var ut={idx:new Array(3)},rt=0;rt<Y.channels;++rt)for(var ct=nt[rt],Ot=0;Ot<fe.length;++Ot){var Je=fe[Ot];ct.name==Je.name&&(ct.compression=Je.compression,Je.index>=0&&(ut.idx[Je.index]=rt),ct.offset=rt)}if(se.acCompressedSize>0)switch(se.acCompression){case 0:var yt=new Uint16Array(se.totalAcUncompressedCount);we(Y.array,re,_e,se.acCompressedSize,yt,se.totalAcUncompressedCount);break;case 1:var Wt=Y.array.slice(_e.value,_e.value+se.totalAcUncompressedCount),xt=nx(Wt),yt=new Uint16Array(xt.buffer);_e.value+=se.totalAcUncompressedCount;break}if(se.dcCompressedSize>0){var Zt={array:Y.array,offset:_e,size:se.dcCompressedSize},Cn=new Uint16Array(Ue(Zt).buffer);_e.value+=se.dcCompressedSize}if(se.rleRawSize>0){var Wt=Y.array.slice(_e.value,_e.value+se.rleCompressedSize),xt=nx(Wt),pt=K(xt.buffer);_e.value+=se.rleCompressedSize}for(var dt=0,St=new Array(nt.length),Ot=0;Ot<St.length;++Ot)St[Ot]=new Array;for(var Kt=0;Kt<Y.lines;++Kt)for(var jt=0;jt<nt.length;++jt)St[jt].push(dt),dt+=nt[jt].width*Y.type*2;U(ut,St,nt,yt,Cn,J);for(var Ot=0;Ot<nt.length;++Ot){var ct=nt[Ot];if(!ct.decoded)switch(ct.compression){case 2:for(var fn=0,qn=0,Kt=0;Kt<Y.lines;++Kt){for(var Bt=St[Ot][fn],It=0;It<ct.width;++It){for(var yn=0;yn<2*ct.type;++yn)J[Bt++]=pt[qn+yn*ct.width*ct.height];qn++}fn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(J.buffer)}function at(Y,re){for(var _e=new Uint8Array(Y),J=0;_e[re.value+J]!=0;)J+=1;var se=new TextDecoder().decode(_e.slice(re.value,re.value+J));return re.value=re.value+J+1,se}function ke(Y,re,_e){var J=new TextDecoder().decode(new Uint8Array(Y).slice(re.value,re.value+_e));return re.value=re.value+_e,J}function Tt(Y,re){var _e=wt(Y,re),J=ft(Y,re);return[_e,J]}function Mt(Y,re){var _e=ft(Y,re),J=ft(Y,re);return[_e,J]}function wt(Y,re){var _e=Y.getInt32(re.value,!0);return re.value=re.value+4,_e}function ft(Y,re){var _e=Y.getUint32(re.value,!0);return re.value=re.value+4,_e}function qe(Y,re){var _e=Y[re.value];return re.value=re.value+1,_e}function le(Y,re){var _e=Y.getUint8(re.value);return re.value=re.value+1,_e}const Ie=function(Y,re){let _e;return"getBigInt64"in DataView.prototype?_e=Number(Y.getBigInt64(re.value,!0)):_e=Y.getUint32(re.value+4,!0)+Number(Y.getUint32(re.value,!0)<<32),re.value+=8,_e};function He(Y,re){var _e=Y.getFloat32(re.value,!0);return re.value+=4,_e}function Ve(Y,re){return sp.toHalfFloat(He(Y,re))}function Ee(Y){var re=(Y&31744)>>10,_e=Y&1023;return(Y>>15?-1:1)*(re?re===31?_e?NaN:1/0:Math.pow(2,re-15)*(1+_e/1024):6103515625e-14*(_e/1024))}function de(Y,re){var _e=Y.getUint16(re.value,!0);return re.value+=2,_e}function $e(Y,re){return Ee(de(Y,re))}function tt(Y,re,_e,J){for(var se=_e.value,fe=[];_e.value<se+J-1;){var Se=at(re,_e),be=wt(Y,_e),Le=le(Y,_e);_e.value+=3;var Ne=wt(Y,_e),ze=wt(Y,_e);fe.push({name:Se,pixelType:be,pLinear:Le,xSampling:Ne,ySampling:ze})}return _e.value+=1,fe}function Pt(Y,re){var _e=He(Y,re),J=He(Y,re),se=He(Y,re),fe=He(Y,re),Se=He(Y,re),be=He(Y,re),Le=He(Y,re),Ne=He(Y,re);return{redX:_e,redY:J,greenX:se,greenY:fe,blueX:Se,blueY:be,whiteX:Le,whiteY:Ne}}function vt(Y,re){var _e=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],J=le(Y,re);return _e[J]}function $t(Y,re){var _e=ft(Y,re),J=ft(Y,re),se=ft(Y,re),fe=ft(Y,re);return{xMin:_e,yMin:J,xMax:se,yMax:fe}}function rn(Y,re){var _e=["INCREASING_Y"],J=le(Y,re);return _e[J]}function mn(Y,re){var _e=He(Y,re),J=He(Y,re);return[_e,J]}function Lt(Y,re){var _e=He(Y,re),J=He(Y,re),se=He(Y,re);return[_e,J,se]}function cn(Y,re,_e,J,se){if(J==="string"||J==="stringvector"||J==="iccProfile")return ke(re,_e,se);if(J==="chlist")return tt(Y,re,_e,se);if(J==="chromaticities")return Pt(Y,_e);if(J==="compression")return vt(Y,_e);if(J==="box2i")return $t(Y,_e);if(J==="lineOrder")return rn(Y,_e);if(J==="float")return He(Y,_e);if(J==="v2f")return mn(Y,_e);if(J==="v3f")return Lt(Y,_e);if(J==="int")return wt(Y,_e);if(J==="rational")return Tt(Y,_e);if(J==="timecode")return Mt(Y,_e);if(J==="preview")return _e.value+=se,"skipped";_e.value+=se}function kt(Y,re,_e){const J={};if(Y.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";J.version=Y.getUint8(4);const se=Y.getUint8(5);J.spec={singleTile:!!(se&2),longName:!!(se&4),deepFormat:!!(se&8),multiPart:!!(se&16)},_e.value=8;for(var fe=!0;fe;){var Se=at(re,_e);if(Se==0)fe=!1;else{var be=at(re,_e),Le=ft(Y,_e),Ne=cn(Y,re,_e,be,Le);Ne===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${be}'.`):J[Se]=Ne}}if(se&-5)throw console.error("EXRHeader:",J),"THREE.EXRLoader: provided file is currently unsupported.";return J}function Ke(Y,re,_e,J,se){const fe={size:0,viewer:re,array:_e,offset:J,width:Y.dataWindow.xMax-Y.dataWindow.xMin+1,height:Y.dataWindow.yMax-Y.dataWindow.yMin+1,channels:Y.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Y.channels[0].pixelType,uncompress:null,getter:null,format:null,[Vy?"colorSpace":"encoding"]:null};switch(Y.compression){case"NO_COMPRESSION":fe.lines=1,fe.uncompress=Oe;break;case"RLE_COMPRESSION":fe.lines=1,fe.uncompress=Te;break;case"ZIPS_COMPRESSION":fe.lines=1,fe.uncompress=Ue;break;case"ZIP_COMPRESSION":fe.lines=16,fe.uncompress=Ue;break;case"PIZ_COMPRESSION":fe.lines=32,fe.uncompress=Be;break;case"PXR24_COMPRESSION":fe.lines=16,fe.uncompress=Qe;break;case"DWAA_COMPRESSION":fe.lines=32,fe.uncompress=Ze;break;case"DWAB_COMPRESSION":fe.lines=256,fe.uncompress=Ze;break;default:throw"EXRLoader.parse: "+Y.compression+" is unsupported"}if(fe.scanlineBlockSize=fe.lines,fe.type==1)switch(se){case Di:fe.getter=$e,fe.inputSize=2;break;case ji:fe.getter=de,fe.inputSize=2;break}else if(fe.type==2)switch(se){case Di:fe.getter=He,fe.inputSize=4;break;case ji:fe.getter=Ve,fe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+fe.type+" for "+Y.compression+".";fe.blockCount=(Y.dataWindow.yMax+1)/fe.scanlineBlockSize;for(var Se=0;Se<fe.blockCount;Se++)Ie(re,J);fe.outputChannels=fe.channels==3?4:fe.channels;const be=fe.width*fe.height*fe.outputChannels;switch(se){case Di:fe.byteArray=new Float32Array(be),fe.channels<fe.outputChannels&&fe.byteArray.fill(1,0,be);break;case ji:fe.byteArray=new Uint16Array(be),fe.channels<fe.outputChannels&&fe.byteArray.fill(15360,0,be);break;default:console.error("THREE.EXRLoader: unsupported type: ",se);break}return fe.bytesPerLine=fe.width*fe.inputSize*fe.channels,fe.outputChannels==4?fe.format=Ii:fe.format=kk,Vy?fe.colorSpace="srgb-linear":fe.encoding=3e3,fe}const ot=new DataView(e),lt=new Uint8Array(e),bt={value:0},Dt=kt(ot,e,bt),st=Ke(Dt,ot,lt,bt,this.type),Vt={value:0},Ht={R:0,G:1,B:2,A:3,Y:0};for(let Y=0;Y<st.height/st.scanlineBlockSize;Y++){const re=ft(ot,bt);st.size=ft(ot,bt),st.lines=re+st.scanlineBlockSize>st.height?st.height-re:st.scanlineBlockSize;const J=st.size<st.lines*st.bytesPerLine?st.uncompress(st):Oe(st);bt.value+=st.size;for(let se=0;se<st.scanlineBlockSize;se++){const fe=se+Y*st.scanlineBlockSize;if(fe>=st.height)break;for(let Se=0;Se<st.channels;Se++){const be=Ht[Dt.channels[Se].name];for(let Le=0;Le<st.width;Le++){Vt.value=(se*(st.channels*st.width)+Se*st.width+Le)*st.inputSize;const Ne=(st.height-1-fe)*(st.width*st.outputChannels)+Le*st.outputChannels+be;st.byteArray[Ne]=st.getter(J,Vt)}}}}return{header:Dt,width:st.width,height:st.height,data:st.byteArray,format:st.format,[Vy?"colorSpace":"encoding"]:st[Vy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){Vy?a.colorSpace=s.colorSpace:a.encoding=s.encoding,a.minFilter=tr,a.magFilter=tr,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,s)}return super.load(e,o,r,i)}}const H2=new WeakMap;class VYe extends _o{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const o=new mo(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,a=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,s).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(n)}decodeGeometry(e,n){for(const u in n.attributeTypes){const l=n.attributeTypes[u];l.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[u]=l.name)}const r=JSON.stringify(n);if(H2.has(e)){const u=H2.get(e);if(u.key===r)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(o,a).then(u=>(i=u,new Promise((l,c)=>{i._callbacks[o]={resolve:l,reject:c},i.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return s.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),H2.set(e,{key:r,promise:s}),s}_createGeometry(e){const n=new Pn;e.index&&n.setIndex(new er(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,a=i.array,s=i.itemSize;n.setAttribute(o,new er(a,s))}return n}_loadLibrary(e,n){const r=new mo(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=qYe.toString(),a=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const a=o.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qYe(){let t,e;onmessage=function(a){const s=a.data;switch(s.type){case"init":t=s.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const u=s.buffer,l=s.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,h=new f.DecoderBuffer;h.Init(new Int8Array(u),u.byteLength);try{const p=n(f,d,h,l),_=p.attributes.map(y=>y.array.buffer);p.index&&_.push(p.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:p},_)}catch(p){console.error(p),self.postMessage({type:"error",id:s.id,error:p.message})}finally{f.destroy(h),f.destroy(d)}});break}};function n(a,s,u,l){const c=l.attributeIDs,f=l.attributeTypes;let d,h;const p=s.GetEncodedGeometryType(u);if(p===a.TRIANGULAR_MESH)d=new a.Mesh,h=s.DecodeBufferToMesh(u,d);else if(p===a.POINT_CLOUD)d=new a.PointCloud,h=s.DecodeBufferToPointCloud(u,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const _={index:null,attributes:[]};for(const y in c){const m=self[f[y]];let b,w;if(l.useUniqueIDs)w=c[y],b=s.GetAttributeByUniqueId(d,w);else{if(w=s.GetAttributeId(d,a[c[y]]),w===-1)continue;b=s.GetAttribute(d,w)}_.attributes.push(i(a,s,d,y,m,b))}return p===a.TRIANGULAR_MESH&&(_.index=r(a,s,d)),a.destroy(d),_}function r(a,s,u){const c=u.num_faces()*3,f=c*4,d=a._malloc(f);s.GetTrianglesUInt32Array(u,f,d);const h=new Uint32Array(a.HEAPF32.buffer,d,c).slice();return a._free(d),{array:h,itemSize:1}}function i(a,s,u,l,c,f){const d=f.num_components(),p=u.num_points()*d,_=p*c.BYTES_PER_ELEMENT,y=o(a,c),m=a._malloc(_);s.GetAttributeDataArrayForAllPoints(u,f,y,_,m);const b=new c(a.HEAPF32.buffer,m,p).slice();return a._free(m),{name:l,array:b,itemSize:d}}function o(a,s){switch(s){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let ix;const $2=()=>{if(ix)return ix;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let o;const a=WebAssembly.instantiate(s(i),{}).then(f=>{o=f.instance,o.exports.__wasm_call_ctors()});function s(f){const d=new Uint8Array(f.length);for(let p=0;p<f.length;++p){const _=f.charCodeAt(p);d[p]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let h=0;for(let p=0;p<f.length;++p)d[h++]=d[p]<60?r[d[p]]:(d[p]-60)*64+d[++p];return d.buffer.slice(0,h)}function u(f,d,h,p,_,y){const m=o.exports.sbrk,b=h+3&-4,w=m(b*p),S=m(_.length),x=new Uint8Array(o.exports.memory.buffer);x.set(_,S);const E=f(w,h,p,S,_.length);if(E===0&&y&&y(w,b,p),d.set(x.subarray(w,w+h*p)),m(w-m(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const l={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return ix={ready:a,supported:!0,decodeVertexBuffer(f,d,h,p,_){u(o.exports.meshopt_decodeVertexBuffer,f,d,h,p,o.exports[l[_]])},decodeIndexBuffer(f,d,h,p){u(o.exports.meshopt_decodeIndexBuffer,f,d,h,p)},decodeIndexSequence(f,d,h,p){u(o.exports.meshopt_decodeIndexSequence,f,d,h,p)},decodeGltfBuffer(f,d,h,p,_,y){u(o.exports[c[_]],f,d,h,p,o.exports[l[y]])}},ix};function use(t,e,n,r){const i=class extends Ho{constructor(a={}){const s=Object.entries(t);super({uniforms:s.reduce((u,[l,c])=>{const f=Zk.clone({[l]:{value:c}});return{...u,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",s.forEach(([u])=>Object.defineProperty(this,u,{get:()=>this.uniforms[u].value,set:l=>this.uniforms[u].value=l})),Object.assign(this,a)}};return i.key=Eg.generateUUID(),i}const KYe=()=>parseInt(D0.replace(/\D+/g,"")),cse=KYe();let ox=null,fse="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function dse(t=!0,e=!0,n){return r=>{n&&n(r),t&&(ox||(ox=new VYe),ox.setDecoderPath(typeof t=="string"?t:fse),r.setDRACOLoader(ox)),e&&r.setMeshoptDecoder(typeof $2=="function"?$2():$2)}}const uO=(t,e,n,r)=>sf(NU,t,dse(e,n,r));uO.preload=(t,e,n,r)=>sf.preload(NU,t,dse(e,n,r));uO.clear=t=>sf.clear(NU,t);uO.setDecoderPath=t=>{fse=t};const XYe=D.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:u,...l},c)=>{const f=mi(E=>E.invalidate),d=mi(E=>E.camera),h=mi(E=>E.gl),p=mi(E=>E.events),_=mi(E=>E.setEvents),y=mi(E=>E.set),m=mi(E=>E.get),b=mi(E=>E.performance),w=e||d,S=r||p.connected||h.domElement,x=D.useMemo(()=>new aYe(w),[w]);return Zw(()=>{x.enabled&&x.update()},-1),D.useEffect(()=>(o&&x.connect(o===!0?S:o),x.connect(S),()=>void x.dispose()),[o,S,n,x,f]),D.useEffect(()=>{const E=C=>{f(),n&&b.regress(),a&&a(C)},M=C=>{s&&s(C)},O=C=>{u&&u(C)};return x.addEventListener("change",E),x.addEventListener("start",M),x.addEventListener("end",O),()=>{x.removeEventListener("start",M),x.removeEventListener("end",O),x.removeEventListener("change",E)}},[a,s,u,x,f,_]),D.useEffect(()=>{if(t){const E=m().controls;return y({controls:x}),()=>y({controls:E})}},[t,x]),D.createElement("primitive",rl({ref:c,object:x,enableDamping:i},l))}),JYe=D.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:o,left:a,right:s,top:u,bottom:l,front:c,back:f,onCentered:d,precise:h=!0,cacheKey:p=0,..._},y){const m=D.useRef(null),b=D.useRef(null),w=D.useRef(null);return D.useLayoutEffect(()=>{b.current.matrixWorld.identity();const S=new io().setFromObject(w.current,h),x=new ue,E=new oo,M=S.max.x-S.min.x,O=S.max.y-S.min.y,C=S.max.z-S.min.z;S.getCenter(x),S.getBoundingSphere(E);const T=u?O/2:l?-O/2:0,P=a?-M/2:s?M/2:0,N=c?C/2:f?-C/2:0;b.current.position.set(n||r?0:-x.x+P,n||i?0:-x.y+T,n||o?0:-x.z+N),typeof d<"u"&&d({parent:m.current.parent,container:m.current,width:M,height:O,depth:C,boundingBox:S,boundingSphere:E,center:x,verticalAlignment:T,horizontalAlignment:P,depthAlignment:N})},[p,d,u,a,c,n,r,i,o,h,s,l,f]),D.useImperativeHandle(y,()=>m.current,[]),D.createElement("group",rl({ref:m},_),D.createElement("group",{ref:b},D.createElement("group",{ref:w},e)))}),YYe=3e3,ZYe=3001,QYe=use({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var js=function(t){return t[t.NONE=0]="NONE",t[t.START=1]="START",t[t.ACTIVE=2]="ACTIVE",t}(js||{});const yv=t=>t&&t.isOrthographicCamera,eZe=t=>t&&t.isBox3,tZe=t=>1-Math.exp(-5*t)+.007*t,hse=D.createContext(null);function nZe({children:t,maxDuration:e=1,margin:n=1.2,observe:r,fit:i,clip:o,interpolateFunc:a=tZe,onFit:s}){const u=D.useRef(null),{camera:l,size:c,invalidate:f}=mi(),d=mi(x=>x.controls),h=D.useRef(s);h.current=s;const p=D.useRef({camPos:new ue,camRot:new yi,camZoom:1}),_=D.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),y=D.useRef(js.NONE),m=D.useRef(0),[b]=D.useState(()=>new io),w=D.useMemo(()=>{function x(){const E=b.getSize(new ue),M=b.getCenter(new ue),O=Math.max(E.x,E.y,E.z),C=yv(l)?O*4:O/(2*Math.atan(Math.PI*l.fov/360)),T=yv(l)?O*4:C/l.aspect,P=n*Math.max(C,T);return{box:b,size:E,center:M,distance:P}}return{getSize:x,refresh(E){if(eZe(E))b.copy(E);else{const M=E||u.current;if(!M)return this;M.updateWorldMatrix(!0,!0),b.setFromObject(M)}if(b.isEmpty()){const M=l.position.length()||10;b.setFromCenterAndSize(new ue,new ue(M,M,M))}return p.current.camPos.copy(l.position),p.current.camRot.copy(l.quaternion),yv(l)&&(p.current.camZoom=l.zoom),_.current.camPos=void 0,_.current.camRot=void 0,_.current.camZoom=void 0,_.current.camUp=void 0,_.current.target=void 0,this},reset(){const{center:E,distance:M}=x(),O=l.position.clone().sub(E).normalize();_.current.camPos=E.clone().addScaledVector(O,M),_.current.target=E.clone();const C=new un().lookAt(_.current.camPos,_.current.target,l.up);return _.current.camRot=new yi().setFromRotationMatrix(C),y.current=js.START,m.current=0,this},moveTo(E){return _.current.camPos=Array.isArray(E)?new ue(...E):E.clone(),y.current=js.START,m.current=0,this},lookAt({target:E,up:M}){_.current.target=Array.isArray(E)?new ue(...E):E.clone(),M?_.current.camUp=Array.isArray(M)?new ue(...M):M.clone():_.current.camUp=l.up.clone();const O=new un().lookAt(_.current.camPos||l.position,_.current.target,_.current.camUp);return _.current.camRot=new yi().setFromRotationMatrix(O),y.current=js.START,m.current=0,this},to({position:E,target:M}){return this.moveTo(E).lookAt({target:M})},fit(){if(!yv(l))return this.reset();let E=0,M=0;const O=[new ue(b.min.x,b.min.y,b.min.z),new ue(b.min.x,b.max.y,b.min.z),new ue(b.min.x,b.min.y,b.max.z),new ue(b.min.x,b.max.y,b.max.z),new ue(b.max.x,b.max.y,b.max.z),new ue(b.max.x,b.max.y,b.min.z),new ue(b.max.x,b.min.y,b.max.z),new ue(b.max.x,b.min.y,b.min.z)],C=_.current.camPos||l.position,T=_.current.target||(d==null?void 0:d.target),P=_.current.camUp||l.up,N=T?new un().lookAt(C,T,P).setPosition(C).invert():l.matrixWorldInverse;for(const k of O)k.applyMatrix4(N),E=Math.max(E,Math.abs(k.y)),M=Math.max(M,Math.abs(k.x));E*=2,M*=2;const H=(l.top-l.bottom)/E,B=(l.right-l.left)/M;return _.current.camZoom=Math.min(H,B)/n,y.current=js.START,m.current=0,h.current&&h.current(this.getSize()),this},clip(){const{distance:E}=x();return l.near=E/100,l.far=E*100,l.updateProjectionMatrix(),d&&(d.maxDistance=E*10,d.update()),f(),this}}},[b,l,d,n,f]);D.useLayoutEffect(()=>{if(d){const x=()=>{if(d&&_.current.target&&y.current!==js.NONE){const E=new ue().setFromMatrixColumn(l.matrix,2),M=p.current.camPos.distanceTo(d.target),O=(_.current.camPos||p.current.camPos).distanceTo(_.current.target),C=(1-m.current)*M+m.current*O;d.target.copy(l.position).addScaledVector(E,-C),d.update()}y.current=js.NONE};return d.addEventListener("start",x),()=>d.removeEventListener("start",x)}},[d]);const S=D.useRef(0);return D.useLayoutEffect(()=>{(r||S.current++===0)&&(w.refresh(),i&&w.reset().fit(),o&&w.clip())},[c,o,i,r,l,d]),Zw((x,E)=>{if(y.current===js.START)y.current=js.ACTIVE,f();else if(y.current===js.ACTIVE){if(m.current+=E/e,m.current>=1)_.current.camPos&&l.position.copy(_.current.camPos),_.current.camRot&&l.quaternion.copy(_.current.camRot),_.current.camUp&&l.up.copy(_.current.camUp),_.current.camZoom&&yv(l)&&(l.zoom=_.current.camZoom),l.updateMatrixWorld(),l.updateProjectionMatrix(),d&&_.current.target&&(d.target.copy(_.current.target),d.update()),y.current=js.NONE;else{const M=a(m.current);_.current.camPos&&l.position.lerpVectors(p.current.camPos,_.current.camPos,M),_.current.camRot&&l.quaternion.slerpQuaternions(p.current.camRot,_.current.camRot,M),_.current.camUp&&l.up.set(0,1,0).applyQuaternion(l.quaternion),_.current.camZoom&&yv(l)&&(l.zoom=(1-M)*p.current.camZoom+M*_.current.camZoom),l.updateMatrixWorld(),l.updateProjectionMatrix()}f()}}),D.createElement("group",{ref:u},D.createElement(hse.Provider,{value:w},t))}function rZe(){return D.useContext(hse)}const pse=(t,e,n)=>{let r;switch(t){case cs:r=new Uint8ClampedArray(e*n*4);break;case ji:r=new Uint16Array(e*n*4);break;case ku:r=new Uint32Array(e*n*4);break;case Lk:r=new Int8Array(e*n*4);break;case Nk:r=new Int16Array(e*n*4);break;case BM:r=new Int32Array(e*n*4);break;case Di:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let ax;const iZe=(t,e,n,r)=>{if(ax!==void 0)return ax;const i=new yo(1,1,r);e.setRenderTarget(i);const o=new Vr(new Xd,new Ba({color:16777215}));e.render(o,n),e.setRenderTarget(null);const a=pse(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),o.geometry.dispose(),o.material.dispose(),ax=a[0]!==0,ax};class BU{constructor(e){ni(this,"_renderer");ni(this,"_rendererIsDisposable",!1);ni(this,"_material");ni(this,"_scene");ni(this,"_camera");ni(this,"_quad");ni(this,"_renderTarget");ni(this,"_width");ni(this,"_height");ni(this,"_type");ni(this,"_colorSpace");ni(this,"_supportsReadPixels",!0);ni(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var r,i,o,a,s,u,l,c,f,d,h,p,_,y,m,b;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:Ii,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)==null?void 0:r.anisotropy)!==void 0?(i=e.renderTargetOptions)==null?void 0:i.anisotropy:1,generateMipmaps:((o=e.renderTargetOptions)==null?void 0:o.generateMipmaps)!==void 0?(a=e.renderTargetOptions)==null?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)==null?void 0:s.magFilter)!==void 0?(u=e.renderTargetOptions)==null?void 0:u.magFilter:tr,minFilter:((l=e.renderTargetOptions)==null?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)==null?void 0:c.minFilter:tr,samples:((f=e.renderTargetOptions)==null?void 0:f.samples)!==void 0?(d=e.renderTargetOptions)==null?void 0:d.samples:void 0,wrapS:((h=e.renderTargetOptions)==null?void 0:h.wrapS)!==void 0?(p=e.renderTargetOptions)==null?void 0:p.wrapS:Br,wrapT:((_=e.renderTargetOptions)==null?void 0:_.wrapT)!==void 0?(y=e.renderTargetOptions)==null?void 0:y.wrapT:Br};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=BU.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new zw,this._camera=new qu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!iZe(this._type,this._renderer,this._camera,n)){let w;switch(this._type){case ji:w=this._renderer.extensions.has("EXT_color_buffer_float")?Di:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Di}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Vr(new Xd,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new yo(this.width,this.height,n),this._renderTarget.texture.mapping=((m=e.renderTargetOptions)==null?void 0:m.mapping)!==void 0?(b=e.renderTargetOptions)==null?void 0:b.mapping:Bd}static instantiateRenderer(){const e=new $M;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=pse(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Od(this.toArray(),this.width,this.height,Ii,this._type,(e==null?void 0:e.mapping)||Bd,(e==null?void 0:e.wrapS)||Br,(e==null?void 0:e.wrapT)||Br,(e==null?void 0:e.magFilter)||tr,(e==null?void 0:e.minFilter)||tr,(e==null?void 0:e.anisotropy)||1,ms);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ho&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof hr&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof hr&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class mse extends Error{}class vse extends Error{}const qy=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const o=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return o&&o.length===3?o.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},oZe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const o=qy(i,"hdrgm:GainMapMin","0"),a=qy(i,"hdrgm:GainMapMax"),s=qy(i,"hdrgm:Gamma","1"),u=qy(i,"hdrgm:OffsetSDR","0.015625"),l=qy(i,"hdrgm:OffsetHDR","0.015625"),c=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=c?c[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!d)throw new Error("Incomplete gainmap metadata");const h=d[1];return{gainMapMin:Array.isArray(o)?o.map(p=>parseFloat(p)):[parseFloat(o),parseFloat(o),parseFloat(o)],gainMapMax:Array.isArray(a)?a.map(p=>parseFloat(p)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(s)?s.map(p=>parseFloat(p)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(u)?u.map(p=>parseFloat(p)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(l)?l.map(p=>parseFloat(p)):[parseFloat(l),parseFloat(l),parseFloat(l)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(h)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class aZe{constructor(e){ni(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const a=o.byteLength;let s=2,u=0,l;for(;s<a;){if(++u>250){r(new Error(`Found no marker after ${u} loops `));return}if(o.getUint8(s)!==255){r(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${o.getUint8(s).toString(16)}`));return}if(l=o.getUint8(s+1),i&&console.log(`Marker: ${l.toString(16)}`),l===226){i&&console.log("Found APP2 marker (0xffe2)");const c=s+4;if(o.getUint32(c)===1297106432){const f=c+4;let d;if(o.getUint16(f)===18761)d=!1;else if(o.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const h=o.getUint32(f+4,!d);if(h<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const p=f+h,_=o.getUint16(p,!d),y=p+2;let m=0;for(let x=y;x<y+12*_;x+=12)o.getUint16(x,!d)===45057&&(m=o.getUint32(x+8,!d));const w=p+2+_*12+4,S=[];for(let x=w;x<w+m*16;x+=16){const E={MPType:o.getUint32(x,!d),size:o.getUint32(x+4,!d),dataOffset:o.getUint32(x+8,!d),dependantImages:o.getUint32(x+12,!d),start:-1,end:-1,isFII:!1};E.dataOffset?(E.start=f+E.dataOffset,E.isFII=!1):(E.start=0,E.isFII=!0),E.end=E.start+E.size,S.push(E)}if(this.options.extractNonFII&&S.length){const x=new Blob([o]),E=[];for(const M of S){if(M.isFII&&!this.options.extractFII)continue;const O=x.slice(M.start,M.end+1,"image/jpeg");E.push(O)}n(E)}}}s+=2+o.getUint16(s+2)}})}}const sZe=async t=>{const e=oZe(t);if(!e)throw new vse("Gain map XMP metadata not found");const r=await new aZe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new mse("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},vq=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class lZe extends _o{constructor(n,r){super(r);ni(this,"_renderer");ni(this,"_renderTargetOptions");ni(this,"_internalLoadingManager");ni(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new sO}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new hr,sdr:new hr});return this._config.createQuadRenderer({width:16,height:16,type:ji,colorSpace:ms,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,r,i){const o=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let s,u,l=!1;if(typeof createImageBitmap>"u"){const c=await Promise.all([o?vq(o):Promise.resolve(void 0),vq(a)]);u=c[0],s=c[1],l=i==="flipY"}else{const c=await Promise.all([o?createImageBitmap(o,{imageOrientation:i||"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:i||"flipY"})]);u=c[0],s=c[1]}return{sdrImage:s,gainMapImage:u,needsFlip:l}}createTextures(n,r,i){const o=new hr(r||new ImageData(2,2),Bd,Br,Br,tr,yN,Ii,cs,1,ms);o.flipY=i,o.needsUpdate=!0;const a=new hr(n,Bd,Br,Br,tr,yN,Ii,cs,1,Mi);return a.flipY=i,a.needsUpdate=!0,{gainMap:o,sdr:a}}updateQuadRenderer(n,r,i,o,a){n.width=r.width,n.height=r.height,n.material.gainMap=i,n.material.sdr=o,n.material.gainMapMin=a.gainMapMin,n.material.gainMapMax=a.gainMapMax,n.material.offsetHdr=a.offsetHdr,n.material.offsetSdr=a.offsetSdr,n.material.gamma=a.gamma,n.material.hdrCapacityMin=a.hdrCapacityMin,n.material.hdrCapacityMax=a.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),n.material.needsUpdate=!0}}const uZe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,cZe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class fZe extends Ho{constructor({gamma:n,offsetHdr:r,offsetSdr:i,gainMapMin:o,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:u,hdrCapacityMax:l,sdr:c,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:uZe,fragmentShader:cZe,uniforms:{sdr:{value:c},gainMap:{value:f},gamma:{value:new ue(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new ue().fromArray(r)},offsetSdr:{value:new ue().fromArray(i)},gainMapMin:{value:new ue().fromArray(o)},gainMapMax:{value:new ue().fromArray(a)},weightFactor:{value:(Math.log2(s)-u)/(l-u)}},blending:Wu,depthTest:!1,depthWrite:!1});ni(this,"_maxDisplayBoost");ni(this,"_hdrCapacityMin");ni(this,"_hdrCapacityMax");this._maxDisplayBoost=s,this._hdrCapacityMin=u,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const r=this.uniforms.gamma.value;r.x=1/n[0],r.y=1/n[1],r.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class gse extends lZe{constructor(e,n){super({renderer:e,createMaterial:r=>new fZe(r),createQuadRenderer:r=>new BU(r)},n)}async render(e,n,r,i){const{sdrImage:o,gainMapImage:a,needsFlip:s}=await this.processImages(r,i,"flipY"),{gainMap:u,sdr:l}=this.createTextures(o,a,s);this.updateQuadRenderer(e,o,u,l,n),e.render()}}class dZe extends gse{load([e,n,r],i,o,a){const s=this.prepareQuadRenderer();let u,l,c;const f=async()=>{if(u&&l&&c){try{await this.render(s,c,u,l)}catch(C){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof a=="function"&&a(C),s.disposeOnDemandRenderer();return}typeof i=="function"&&i(s),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),s.disposeOnDemandRenderer()}};let d=!0,h=0,p=0,_=!0,y=0,m=0,b=!0,w=0,S=0;const x=()=>{if(typeof o=="function"){const C=h+y+w,T=p+m+S,P=d&&_&&b;o(new ProgressEvent("progress",{lengthComputable:P,loaded:T,total:C}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const E=new mo(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(e,async C=>{if(typeof C=="string")throw new Error("Invalid sdr buffer");u=C,await f()},C=>{d=C.lengthComputable,p=C.loaded,h=C.total,x()},C=>{this.manager.itemError(e),typeof a=="function"&&a(C)});const M=new mo(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(n,async C=>{if(typeof C=="string")throw new Error("Invalid gainmap buffer");l=C,await f()},C=>{_=C.lengthComputable,m=C.loaded,y=C.total,x()},C=>{this.manager.itemError(n),typeof a=="function"&&a(C)});const O=new mo(this._internalLoadingManager);return O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(r,async C=>{if(typeof C!="string")throw new Error("Invalid metadata string");c=JSON.parse(C),await f()},C=>{b=C.lengthComputable,S=C.loaded,w=C.total,x()},C=>{this.manager.itemError(r),typeof a=="function"&&a(C)}),s}}class hZe extends gse{load(e,n,r,i){const o=this.prepareQuadRenderer(),a=new mo(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const u=new Uint8Array(s);let l,c,f;try{const d=await sZe(u);l=d.sdr,c=d.gainMap,f=d.metadata}catch(d){if(d instanceof vse||d instanceof mse)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},l=u;else throw d}try{await this.render(o,f,l.buffer,c==null?void 0:c.buffer)}catch(d){this.manager.itemError(e),typeof i=="function"&&i(d),o.disposeOnDemandRenderer();return}typeof n=="function"&&n(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},r,s=>{this.manager.itemError(e),typeof i=="function"&&i(s)}),o}}const iw={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},yse="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Cg=t=>Array.isArray(t),FU=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function cO({files:t=FU,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let o=null,a=!1;n&&(kU(n),t=iw[n],e=yse),a=Cg(t);const{extension:s,isCubemap:u}=UU(t);if(o=jU(s),!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const l=mi(h=>h.gl);D.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function h(){sf.clear(o,a?[t]:t)}l.domElement.addEventListener("webglcontextlost",h,{once:!0})},[t,l.domElement]);const c=sf(o,a?[t]:t,h=>{(s==="webp"||s==="jpg"||s==="jpeg")&&h.setRenderer(l),h.setPath==null||h.setPath(e),i&&i(h)});let f=a?c[0]:c;if(s==="jpg"||s==="jpeg"||s==="webp"){var d;f=(d=f.renderTarget)==null?void 0:d.texture}return f.mapping=u?ec:o0,"colorSpace"in f?f.colorSpace=r??u?"srgb":"srgb-linear":f.encoding=r??u?ZYe:YYe,f}const pZe={files:FU,path:"",preset:void 0,extensions:void 0};cO.preload=t=>{const e={...pZe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:o}=e;i&&(kU(i),n=iw[i],r=yse);const{extension:a}=UU(n);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=jU(a);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);sf.preload(s,Cg(n)?[n]:n,u=>{u.setPath==null||u.setPath(r),o&&o(u)})};const mZe={files:FU,preset:void 0};cO.clear=t=>{const e={...mZe,...t};let{files:n}=e;const{preset:r}=e;r&&(kU(r),n=iw[r]);const{extension:i}=UU(n),o=jU(i);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);sf.clear(o,Cg(n)?[n]:n)};function kU(t){if(!(t in iw))throw new Error("Preset must be one of: "+Object.keys(iw).join(", "))}function UU(t){var e;const n=Cg(t)&&t.length===6,r=Cg(t)&&t.length===3&&t.some(a=>a.endsWith("json")),i=Cg(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function jU(t){return t==="cube"?yae:t==="hdr"?GYe:t==="exr"?WYe:t==="jpg"||t==="jpeg"?hZe:t==="webp"?dZe:null}const vZe=t=>t.current&&t.current.isScene,gZe=t=>vZe(t)?t.current:t;function HU(t,e,n,r,i={}){var o,a,s,u;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const l=gZe(e||n),c=l.background,f=l.environment,d={backgroundBlurriness:l.backgroundBlurriness,backgroundIntensity:l.backgroundIntensity,backgroundRotation:(o=(a=l.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&o!==void 0?o:[0,0,0],environmentIntensity:l.environmentIntensity,environmentRotation:(s=(u=l.environmentRotation)==null||u.clone==null?void 0:u.clone())!==null&&s!==void 0?s:[0,0,0]};return t!=="only"&&(l.environment=r),t&&(l.background=r),Xf(l,i),()=>{t!=="only"&&(l.environment=f),t&&(l.background=c),Xf(l,d)}}function $U({scene:t,background:e=!1,map:n,...r}){const i=mi(o=>o.scene);return D.useLayoutEffect(()=>{if(n)return HU(e,t,i,n,r)}),null}function _se({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:a,environmentRotation:s,...u}){const l=cO(u),c=mi(f=>f.scene);return D.useLayoutEffect(()=>HU(t,e,c,l,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:a,environmentRotation:s})),D.useEffect(()=>()=>{l.dispose()},[l]),null}function yZe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:a=!1,blur:s,backgroundBlurriness:u,backgroundIntensity:l,backgroundRotation:c,environmentIntensity:f,environmentRotation:d,scene:h,files:p,path:_,preset:y=void 0,extensions:m}){const b=mi(O=>O.gl),w=mi(O=>O.scene),S=D.useRef(null),[x]=D.useState(()=>new zw),E=D.useMemo(()=>{const O=new Qk(r);return O.texture.type=ji,O},[r]);D.useEffect(()=>()=>{E.dispose()},[E]),D.useLayoutEffect(()=>{if(i===1){const O=b.autoClear;b.autoClear=!0,S.current.update(b,x),b.autoClear=O}return HU(a,h,w,E.texture,{backgroundBlurriness:s??u,backgroundIntensity:l,backgroundRotation:c,environmentIntensity:f,environmentRotation:d})},[t,x,E.texture,h,w,a,i,b]);let M=1;return Zw(()=>{if(i===1/0||M<i){const O=b.autoClear;b.autoClear=!0,S.current.update(b,x),b.autoClear=O,M++}}),D.createElement(D.Fragment,null,_Je(D.createElement(D.Fragment,null,t,D.createElement("cubeCamera",{ref:S,args:[e,n,E]}),p||y?D.createElement(_se,{background:!0,files:p,preset:y,path:_,extensions:m}):o?D.createElement($U,{background:!0,map:o,extensions:m}):null),x))}function _Ze(t){var e,n,r,i;const o=cO(t),a=t.map||o;D.useMemo(()=>IU({GroundProjectedEnvImpl:ZJe}),[]),D.useEffect(()=>()=>{o.dispose()},[o]);const s=D.useMemo(()=>[a],[a]),u=(e=t.ground)==null?void 0:e.height,l=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return D.createElement(D.Fragment,null,D.createElement($U,rl({},t,{map:a})),D.createElement("groundProjectedEnvImpl",{args:s,scale:c,height:u,radius:l}))}function bZe(t){return t.ground?D.createElement(_Ze,t):t.map?D.createElement($U,t):t.children?D.createElement(yZe,t):D.createElement(_se,t)}const wZe=D.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:o=1,near:a=0,far:s=10,resolution:u=512,smooth:l=!0,color:c="#000000",depthWrite:f=!1,renderOrder:d,...h},p)=>{const _=D.useRef(null),y=mi(B=>B.scene),m=mi(B=>B.gl),b=D.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[w,S,x,E,M,O,C]=D.useMemo(()=>{const B=new yo(u,u),k=new yo(u,u);k.texture.generateMipmaps=B.texture.generateMipmaps=!1;const j=new Xd(r,i).rotateX(Math.PI/2),$=new Vr(j),F=new HM;F.depthTest=F.depthWrite=!1,F.onBeforeCompile=W=>{W.uniforms={...W.uniforms,ucolor:{value:new Rt(c)}},W.fragmentShader=W.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),W.fragmentShader=W.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const R=new Ho($Ye),L=new Ho(zYe);return L.depthTest=R.depthTest=!1,[B,j,F,$,R,L,k]},[u,r,i,t,c]),T=B=>{E.visible=!0,E.material=M,M.uniforms.tDiffuse.value=w.texture,M.uniforms.h.value=B*1/256,m.setRenderTarget(C),m.render(E,b.current),E.material=O,O.uniforms.tDiffuse.value=C.texture,O.uniforms.v.value=B*1/256,m.setRenderTarget(w),m.render(E,b.current),E.visible=!1};let P=0,N,H;return Zw(()=>{b.current&&(e===1/0||P<e)&&(P++,N=y.background,H=y.overrideMaterial,_.current.visible=!1,y.background=null,y.overrideMaterial=x,m.setRenderTarget(w),m.render(y,b.current),T(o),l&&T(o*.4),m.setRenderTarget(null),_.current.visible=!0,y.overrideMaterial=H,y.background=N)}),D.useImperativeHandle(p,()=>_.current,[]),D.createElement("group",rl({"rotation-x":Math.PI/2},h,{ref:_}),D.createElement("mesh",{renderOrder:d,geometry:S,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},D.createElement("meshBasicMaterial",{transparent:!0,map:w.texture,opacity:n,depthWrite:f})),D.createElement("orthographicCamera",{ref:b,args:[-r/2,r/2,i/2,-i/2,a,s]}))});function SZe(t){return t.isLight}function EZe(t){return!!t.geometry}const bse=D.createContext(null),xZe=use({color:new Rt,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${cse>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),AZe=D.forwardRef(({children:t,temporal:e,frames:n=40,limit:r=1/0,blend:i=20,scale:o=10,opacity:a=1,alphaTest:s=.75,color:u="black",colorBlend:l=2,resolution:c=1024,toneMapped:f=!0,...d},h)=>{IU({SoftShadowMaterial:xZe});const p=mi(E=>E.gl),_=mi(E=>E.scene),y=mi(E=>E.camera),m=mi(E=>E.invalidate),b=D.useRef(null),w=D.useRef(null),[S]=D.useState(()=>new TZe(p,_,c));D.useLayoutEffect(()=>{S.configure(b.current)},[]);const x=D.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?i:n),count:0,getMesh:()=>b.current,reset:()=>{S.clear();const E=b.current.material;E.opacity=0,E.alphaTest=0,x.count=0},update:(E=1)=>{const M=b.current.material;x.temporal?(M.opacity=Math.min(a,M.opacity+a/x.blend),M.alphaTest=Math.min(s,M.alphaTest+s/x.blend)):(M.opacity=a,M.alphaTest=s),w.current.visible=!0,S.prepare();for(let O=0;O<E;O++)x.lights.forEach(C=>C.update()),S.update(y,x.blend);w.current.visible=!1,S.finish()}}),[S,y,_,e,n,i,a,s]);return D.useLayoutEffect(()=>{x.reset(),!x.temporal&&x.frames!==1/0&&x.update(x.blend)}),D.useImperativeHandle(h,()=>x,[x]),Zw(()=>{(x.temporal||x.frames===1/0)&&x.count<x.frames&&x.count<r&&(m(),x.update(),x.count++)}),D.createElement("group",d,D.createElement("group",{traverse:()=>null,ref:w},D.createElement(bse.Provider,{value:x},t)),D.createElement("mesh",{receiveShadow:!0,ref:b,scale:o,rotation:[-Math.PI/2,0,0]},D.createElement("planeGeometry",null),D.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:u,blend:l,map:S.progressiveLightMap2.texture})))}),CZe=D.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:r=5,near:i=.5,far:o=500,frames:a=1,position:s=[0,0,0],radius:u=1,amount:l=8,intensity:c=cse>=155?Math.PI:1,ambient:f=.5,...d},h)=>{const p=D.useRef(null),_=new ue(...s).length(),y=D.useContext(bse),m=D.useCallback(()=>{let w;if(p.current)for(let S=0;S<p.current.children.length;S++)if(w=p.current.children[S],Math.random()>f)w.position.set(s[0]+Eg.randFloatSpread(u),s[1]+Eg.randFloatSpread(u),s[2]+Eg.randFloatSpread(u));else{let x=Math.acos(2*Math.random()-1)-Math.PI/2,E=2*Math.PI*Math.random();w.position.set(Math.cos(x)*Math.cos(E)*_,Math.abs(Math.cos(x)*Math.sin(E)*_),Math.sin(x)*_)}},[u,f,_,...s]),b=D.useMemo(()=>({update:m}),[m]);return D.useImperativeHandle(h,()=>b,[b]),D.useLayoutEffect(()=>{var w;const S=p.current;return y&&((w=y.lights)==null||w.set(S.uuid,b)),()=>{var x;return void(y==null||(x=y.lights)==null?void 0:x.delete(S.uuid))}},[y,b]),D.createElement("group",rl({ref:p},d),Array.from({length:l},(w,S)=>D.createElement("directionalLight",{key:S,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:c/l},D.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,o]}))))});class TZe{constructor(e,n,r=1024){this.renderer=e,this.res=r,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Rt,this.clearAlpha=0;const i={type:ji,magFilter:Gr,minFilter:Gr};this.progressiveLightMap1=new yo(this.res,this.res,i),this.progressiveLightMap2=new yo(this.res,this.res,i),this.discardMat=new QYe,this.targetMat=new pU({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=o=>{o.vertexShader=`varying vec2 vUv;
`+o.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const a=o.fragmentShader.indexOf("void main() {");o.fragmentShader=`varying vec2 vUv;
`+o.fragmentShader.slice(0,a)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+o.fragmentShader.slice(a-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,o.uniforms.previousShadowMap=this.previousShadowMap,o.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{EZe(e)?this.meshes.push({object:e,material:e.material}):SZe(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,o=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=o}}const MZe={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function OZe({radius:t,adjustCamera:e}){const n=rZe();return D.useEffect(()=>{e&&n.refresh().clip().fit()},[t,e]),null}function IZe({children:t,center:e,adjustCamera:n=!0,intensity:r=.5,shadows:i="contact",environment:o="city",preset:a="rembrandt",...s}){var u,l,c,f,d,h,p,_;const y=typeof a=="string"?MZe[a]:a,[{radius:m,height:b},w]=D.useState({radius:0,width:0,height:0,depth:0}),S=(u=i==null?void 0:i.bias)!==null&&u!==void 0?u:-1e-4,x=(l=i==null?void 0:i.normalBias)!==null&&l!==void 0?l:0,E=(c=i==null?void 0:i.size)!==null&&c!==void 0?c:1024,M=(f=i==null?void 0:i.offset)!==null&&f!==void 0?f:0,O=i==="contact"||(i==null?void 0:i.type)==="contact",C=i==="accumulative"||(i==null?void 0:i.type)==="accumulative",T={...typeof i=="object"?i:{}},P=o?typeof o=="string"?{preset:o}:o:null,N=D.useCallback(H=>{const{width:B,height:k,depth:j,boundingSphere:$}=H;w({radius:$.radius,width:B,height:k,depth:j}),e!=null&&e.onCentered&&e.onCentered(H)},[]);return D.createElement(D.Fragment,null,D.createElement("ambientLight",{intensity:r/3}),D.createElement("spotLight",{penumbra:1,position:[y.main[0]*m,y.main[1]*m,y.main[2]*m],intensity:r*2,castShadow:!!i,"shadow-bias":S,"shadow-normalBias":x,"shadow-mapSize":E}),D.createElement("pointLight",{position:[y.fill[0]*m,y.fill[1]*m,y.fill[2]*m],intensity:r}),D.createElement(nZe,rl({fit:!!n,clip:!!n,margin:Number(n),observe:!0},s),D.createElement(OZe,{radius:m,adjustCamera:n}),D.createElement(JYe,rl({},e,{position:[0,M/2,0],onCentered:N}),t)),D.createElement("group",{position:[0,-b/2-M/2,0]},O&&D.createElement(wZe,rl({scale:m*4,far:m,blur:2},T)),C&&D.createElement(AZe,rl({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:m*4},T),D.createElement(CZe,{amount:(d=T.amount)!==null&&d!==void 0?d:8,radius:(h=T.radius)!==null&&h!==void 0?h:m,ambient:(p=T.ambient)!==null&&p!==void 0?p:.5,intensity:(_=T.intensity)!==null&&_!==void 0?_:1,position:[y.main[0]*m,y.main[1]*m,y.main[2]*m],size:m*4,bias:-S,mapSize:E}))),o&&D.createElement(bZe,P))}function wse(){const{current3DModel:t,selectedPayMethod:e,isPaymentModalOpen:n,setIsPaymentModalOpen:r,setSelectedPayMethod:i}=Jp(),[o,a]=D.useState(!1),[s,u]=D.useState(null),[l,c]=D.useState(null),[f,d]=D.useState(null),h=D.useRef(null),p=D.useCallback(()=>{h.current&&(clearInterval(h.current),h.current=null)},[]),_=D.useCallback(()=>{if(!t){cr.error(" 3D ");return}r(!0)},[t,r]),y=D.useCallback(()=>{r(!1),u(null),c(null),d(null),p()},[r,p]),m=D.useCallback(async()=>{if(!t){cr.error(" 3D ");return}a(!0);const w=cr.loading("...");try{const S=await oDe({resourceId:t.id,resourceType:"model3d",payMethod:e});d(S.orderId),S.qrCode&&c(S.qrCode),S.payUrl&&u(S.payUrl),cr.dismiss(w),cr.success(""),h.current=setInterval(async()=>{try{const x=await aDe(S.orderId);x.status==="paid"?(p(),a(!1),y(),cr.success(""),x.downloadUrl&&(window.open(x.downloadUrl,"_blank"),cr.success(""))):x.status==="expired"&&(p(),a(!1),cr.error(""))}catch(x){console.error(":",x)}},3e3)}catch(S){a(!1),cr.dismiss(w),cr.error(""),console.error(":",S)}},[t,e,p,y]),b=D.useCallback(()=>{if(!t)return 0;const w={low:5,medium:10,high:15},S={GLB:0,OBJ:2,FBX:5,GLTF:0},x=w[t.quality]||10,E=S[t.format]||0;return x+E},[t]);return{isPaymentModalOpen:n,selectedPayMethod:e,isProcessing:o,paymentUrl:s,qrCode:l,currentOrderId:f,price:b(),openPaymentModal:_,closePaymentModal:y,setSelectedPayMethod:i,createOrder:m,stopPolling:p}}const RZe="_rightPanel_9uwni_1",PZe="_panelSection_9uwni_10",DZe="_sectionTitle_9uwni_29",LZe="_previewContainer_9uwni_46",NZe="_previewControls_9uwni_56",BZe="_controlBtn_9uwni_69",FZe="_active_9uwni_88",kZe="_previewOverlay_9uwni_94",UZe="_settingsSection_9uwni_110",jZe="_formatOptions_9uwni_117",HZe="_formatChip_9uwni_123",$Ze="_paramGroup_9uwni_145",zZe="_paramLabel_9uwni_149",GZe="_paramValue_9uwni_158",WZe="_downloadSection_9uwni_165",VZe="_priceDisplay_9uwni_172",qZe="_priceLabel_9uwni_179",KZe="_priceValue_9uwni_184",XZe="_downloadBtn_9uwni_196",JZe="_paymentMethods_9uwni_225",YZe="_paymentIcon_9uwni_232",ZZe="_wechat_9uwni_243",QZe="_alipay_9uwni_247",eQe="_spinning_9uwni_252",or={rightPanel:RZe,panelSection:PZe,sectionTitle:DZe,previewContainer:LZe,previewControls:NZe,controlBtn:BZe,active:FZe,previewOverlay:kZe,settingsSection:UZe,formatOptions:jZe,formatChip:HZe,paramGroup:$Ze,paramLabel:zZe,paramValue:GZe,downloadSection:WZe,priceDisplay:VZe,priceLabel:qZe,priceValue:KZe,downloadBtn:XZe,paymentMethods:JZe,paymentIcon:YZe,wechat:ZZe,alipay:QZe,spinning:eQe},tQe=({url:t})=>{if(!t)return ye.jsxs("mesh",{children:[ye.jsx("boxGeometry",{args:[2,2,2]}),ye.jsx("meshStandardMaterial",{color:"#00D9FF",wireframe:!0})]});const{scene:e}=uO(t);return ye.jsx("primitive",{object:e})},nQe=()=>ye.jsxs("mesh",{rotation:[0,0,0],children:[ye.jsx("boxGeometry",{args:[2,2,2]}),ye.jsx("meshStandardMaterial",{color:"#00D9FF",wireframe:!0,transparent:!0,opacity:.6})]}),rQe=()=>{var y;const{outputFormat:t,modelQuality:e,current3DModel:n,selected3DModel:r,isGenerating3D:i,setOutputFormat:o,setModelQuality:a}=Jp(),{model3DList:s,setSelected3DModel:u}=x3(),{openPaymentModal:l,price:c}=wse(),f=s.map(m=>({label:m.name,value:m.id,disabled:m.status!=="active"})),d=["GLB","OBJ","FBX","GLTF"],h={1:"low",2:"medium",3:"high"},p={low:"",medium:"",high:""},_=(y=Object.entries(h).find(([,m])=>m===e))==null?void 0:y[0];return ye.jsxs("aside",{className:or.rightPanel,children:[ye.jsxs("div",{className:or.panelSection,children:[ye.jsxs("div",{className:or.sectionTitle,children:[ye.jsx(jn,{name:"cube"}),"3D "]}),ye.jsx(n0,{value:r||void 0,onChange:m=>u(m),options:f,placeholder:" 3D ",style:{width:"100%"}})]}),ye.jsxs("div",{className:or.previewContainer,children:[ye.jsxs(FJe,{camera:{position:[5,5,5],fov:50},children:[ye.jsx(D.Suspense,{fallback:null,children:ye.jsx(IZe,{environment:"city",intensity:.6,children:n!=null&&n.modelUrl?ye.jsx(tQe,{url:n.modelUrl}):ye.jsx(nQe,{})})}),ye.jsx(XYe,{autoRotate:!n,autoRotateSpeed:2,enablePan:!1})]}),ye.jsxs("div",{className:or.previewControls,children:[ye.jsx("button",{className:`${or.controlBtn} ${or.active}`,title:"",children:ye.jsx(jn,{name:"refresh"})}),ye.jsx("button",{className:or.controlBtn,title:"",children:ye.jsx(jn,{name:"zoom-in"})}),ye.jsx("button",{className:or.controlBtn,title:"",children:ye.jsx(jn,{name:"move"})}),ye.jsx("button",{className:or.controlBtn,title:"",children:ye.jsx(jn,{name:"rollback"})})]}),i&&ye.jsxs("div",{className:or.previewOverlay,children:[ye.jsx(jn,{name:"loading",size:"48px",className:or.spinning}),ye.jsx("span",{children:" 3D ..."})]})]}),ye.jsxs("div",{className:or.settingsSection,children:[ye.jsxs("div",{className:or.sectionTitle,children:[ye.jsx(jn,{name:"setting"}),""]}),ye.jsx("div",{className:or.formatOptions,children:d.map(m=>ye.jsx("div",{className:`${or.formatChip} ${t===m?or.active:""}`,onClick:()=>o(m),children:m},m))})]}),ye.jsxs("div",{className:or.settingsSection,children:[ye.jsxs("div",{className:or.sectionTitle,children:[ye.jsx(jn,{name:"layers"}),""]}),ye.jsxs("div",{className:or.paramGroup,children:[ye.jsxs("div",{className:or.paramLabel,children:[ye.jsx("span",{children:""}),ye.jsx("span",{className:or.paramValue,children:p[e]})]}),ye.jsx(Iie,{value:Number(_)||3,onChange:m=>{const b=h[m];b&&a(b)},min:1,max:3,step:1})]})]}),ye.jsxs("div",{className:or.downloadSection,children:[ye.jsxs("div",{className:or.priceDisplay,children:[ye.jsx("span",{className:or.priceLabel,children:""}),ye.jsxs("span",{className:or.priceValue,children:["",c," ",ye.jsxs("span",{children:["/ ",p[e]," ",t]})]})]}),ye.jsxs(si,{className:or.downloadBtn,theme:"success",size:"large",block:!0,disabled:!n,onClick:l,children:[ye.jsx(jn,{name:"download"})," 3D "]}),ye.jsxs("div",{className:or.paymentMethods,children:[ye.jsx(jn,{name:"logo-wechat",className:`${or.paymentIcon} ${or.wechat}`}),ye.jsx("span",{className:`${or.paymentIcon} ${or.alipay}`,children:""})]})]})]})},iQe="_modalOverlay_njxqo_1",oQe="_active_njxqo_18",aQe="_modalContent_njxqo_23",sQe="_modalHeader_njxqo_38",lQe="_modalTitle_njxqo_45",uQe="_modalClose_njxqo_50",cQe="_paymentOptions_njxqo_70",fQe="_paymentOption_njxqo_70",dQe="_selected_njxqo_93",hQe="_paymentOptionIcon_njxqo_98",pQe="_wechat_njxqo_107",mQe="_alipay_njxqo_112",vQe="_paymentOptionInfo_njxqo_117",gQe="_paymentOptionName_njxqo_121",yQe="_paymentOptionDesc_njxqo_127",_Qe="_paymentOptionCheck_njxqo_132",bQe="_qrCodeSection_njxqo_149",wQe="_qrCodeImage_njxqo_157",SQe="_qrCodeTip_njxqo_163",EQe="_orderSummary_njxqo_169",xQe="_orderItem_njxqo_176",AQe="_amount_njxqo_190",CQe="_confirmPaymentBtn_njxqo_195",TQe="_paymentTip_njxqo_219",Kn={modalOverlay:iQe,active:oQe,modalContent:aQe,modalHeader:sQe,modalTitle:lQe,modalClose:uQe,paymentOptions:cQe,paymentOption:fQe,selected:dQe,paymentOptionIcon:hQe,wechat:pQe,alipay:mQe,paymentOptionInfo:vQe,paymentOptionName:gQe,paymentOptionDesc:yQe,paymentOptionCheck:_Qe,qrCodeSection:bQe,qrCodeImage:wQe,qrCodeTip:SQe,orderSummary:EQe,orderItem:xQe,amount:AQe,confirmPaymentBtn:CQe,paymentTip:TQe},MQe=()=>{const{outputFormat:t,modelQuality:e}=Jp(),{isPaymentModalOpen:n,selectedPayMethod:r,isProcessing:i,qrCode:o,price:a,closePaymentModal:s,setSelectedPayMethod:u,createOrder:l}=wse();if(!n)return null;const c={low:"",medium:"",high:""};return ye.jsx("div",{className:`${Kn.modalOverlay} ${n?Kn.active:""}`,onClick:f=>{f.target===f.currentTarget&&s()},children:ye.jsxs("div",{className:Kn.modalContent,children:[ye.jsxs("div",{className:Kn.modalHeader,children:[ye.jsx("h2",{className:Kn.modalTitle,children:""}),ye.jsx("button",{className:Kn.modalClose,onClick:s,children:ye.jsx(jn,{name:"close"})})]}),ye.jsxs("div",{className:Kn.paymentOptions,children:[ye.jsxs("div",{className:`${Kn.paymentOption} ${r==="wechat"?Kn.selected:""}`,onClick:()=>u("wechat"),children:[ye.jsx("div",{className:`${Kn.paymentOptionIcon} ${Kn.wechat}`,children:ye.jsx(jn,{name:"logo-wechat",size:"24px"})}),ye.jsxs("div",{className:Kn.paymentOptionInfo,children:[ye.jsx("div",{className:Kn.paymentOptionName,children:""}),ye.jsx("div",{className:Kn.paymentOptionDesc,children:""})]}),ye.jsx("div",{className:Kn.paymentOptionCheck,children:r==="wechat"&&ye.jsx(jn,{name:"check",size:"12px",style:{color:"white"}})})]}),ye.jsxs("div",{className:`${Kn.paymentOption} ${r==="alipay"?Kn.selected:""}`,onClick:()=>u("alipay"),children:[ye.jsx("div",{className:`${Kn.paymentOptionIcon} ${Kn.alipay}`,children:ye.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:""})}),ye.jsxs("div",{className:Kn.paymentOptionInfo,children:[ye.jsx("div",{className:Kn.paymentOptionName,children:""}),ye.jsx("div",{className:Kn.paymentOptionDesc,children:""})]}),ye.jsx("div",{className:Kn.paymentOptionCheck,children:r==="alipay"&&ye.jsx(jn,{name:"check",size:"12px",style:{color:"white"}})})]})]}),o&&ye.jsxs("div",{className:Kn.qrCodeSection,children:[ye.jsx("img",{src:o,alt:"",className:Kn.qrCodeImage}),ye.jsxs("p",{className:Kn.qrCodeTip,children:["",r==="wechat"?"":"",""]})]}),ye.jsxs("div",{className:Kn.orderSummary,children:[ye.jsxs("div",{className:Kn.orderItem,children:[ye.jsx("span",{children:""}),ye.jsx("span",{children:"3D "})]}),ye.jsxs("div",{className:Kn.orderItem,children:[ye.jsx("span",{children:""}),ye.jsxs("span",{children:[t," (",c[e],")"]})]}),ye.jsxs("div",{className:Kn.orderItem,children:[ye.jsx("span",{children:""}),ye.jsx("span",{children:"3 "})]}),ye.jsxs("div",{className:Kn.orderItem,children:[ye.jsx("span",{children:""}),ye.jsxs("span",{className:Kn.amount,children:["",a.toFixed(2)]})]})]}),ye.jsx(si,{className:Kn.confirmPaymentBtn,theme:"primary",size:"large",block:!0,loading:i,onClick:l,children:i?"...":ye.jsxs(ye.Fragment,{children:[ye.jsx(jn,{name:"lock-on"})," ",a.toFixed(2)]})}),ye.jsx("p",{className:Kn.paymentTip,children:""})]})})},OQe=$X(t=>({modelConfigs:[],isLoading:!1,error:null,editingModel:null,isModalOpen:!1,setModelConfigs:e=>t({modelConfigs:e}),setIsLoading:e=>t({isLoading:e}),setError:e=>t({error:e}),setEditingModel:e=>t({editingModel:e}),setIsModalOpen:e=>t({isModalOpen:e}),addModelConfig:e=>t(n=>({modelConfigs:[...n.modelConfigs,e]})),updateModelConfig:(e,n)=>t(r=>({modelConfigs:r.modelConfigs.map(i=>i.id===e?{...i,...n}:i)})),removeModelConfig:e=>t(n=>({modelConfigs:n.modelConfigs.filter(r=>r.id!==e)}))})),IQe="_adminDialog_18jjb_1",RQe="_adminPanel_18jjb_6",PQe="_panelHeader_18jjb_10",DQe="_tableActions_18jjb_23",sx={adminDialog:IQe,adminPanel:RQe,panelHeader:PQe,tableActions:DQe},{FormItem:_v}=cN,LQe=({visible:t,onClose:e})=>{const{modelConfigs:n,isLoading:r,editingModel:i,isModalOpen:o,setModelConfigs:a,setIsLoading:s,setEditingModel:u,setIsModalOpen:l}=OQe(),[c]=cN.useForm(),[f,d]=D.useState(!1);D.useEffect(()=>{t&&h()},[t]);const h=async()=>{s(!0);try{const E=await J2e();a(E)}catch(E){Tf.error(""),console.error(":",E)}finally{s(!1)}},p=E=>{u(E||null),E?c.setFieldsValue({name:E.name,type:E.type,provider:E.provider,apiUrl:E.apiUrl,accessKey:"",secretKey:""}):c.reset(),l(!0)},_=()=>{l(!1),u(null),c.reset()},y=async()=>{if(await c.validate()!==!0)return;const M=c.getFieldsValue(!0);d(!0);try{i?(await Z2e(i.id,M),Tf.success("")):(await Y2e(M),Tf.success("")),_(),h()}catch(O){Tf.error(i?"":""),console.error(":",O)}finally{d(!1)}},m=async E=>{try{await Q2e(E),Tf.success(""),h()}catch(M){Tf.error(""),console.error(":",M)}},b=async(E,M)=>{const O=M==="active"?"inactive":"active";try{await eDe(E,O),Tf.success(`${O==="active"?"":""}`),h()}catch(C){Tf.error(""),console.error(":",C)}},w=[{colKey:"name",title:"",width:150},{colKey:"type",title:"",width:120,cell:({row:E})=>ye.jsx(e0,{theme:E.type==="text2img"?"primary":"success",variant:"light",children:E.type==="text2img"?"":"3D"})},{colKey:"provider",title:"",width:100,cell:({row:E})=>({hunyuan:"",doubao:"",custom:""})[E.provider]||E.provider},{colKey:"apiUrl",title:"API URL",ellipsis:!0},{colKey:"status",title:"",width:100,cell:({row:E})=>ye.jsx(e0,{theme:E.status==="active"?"success":E.status==="error"?"danger":"warning",variant:"light",children:E.status==="active"?"":E.status==="error"?"":""})},{colKey:"latency",title:"",width:80,cell:({row:E})=>E.latency?`${E.latency}ms`:"-"},{colKey:"operations",title:"",width:200,cell:({row:E})=>ye.jsxs("div",{className:sx.tableActions,children:[ye.jsx(si,{theme:"primary",variant:"text",size:"small",onClick:()=>p(E),children:""}),ye.jsx(si,{theme:E.status==="active"?"warning":"success",variant:"text",size:"small",onClick:()=>b(E.id,E.status),children:E.status==="active"?"":""}),ye.jsx(uze,{content:"",onConfirm:()=>m(E.id),children:ye.jsx(si,{theme:"danger",variant:"text",size:"small",children:""})})]})}],S=[{label:"",value:"text2img"},{label:"3D",value:"img2model3d"}],x=[{label:"",value:"hunyuan"},{label:"",value:"doubao"},{label:"",value:"custom"}];return ye.jsx(iV,{visible:t,onClose:e,header:"",width:1e3,footer:!1,className:sx.adminDialog,children:ye.jsxs("div",{className:sx.adminPanel,children:[ye.jsxs("div",{className:sx.panelHeader,children:[ye.jsx("h3",{children:"AI "}),ye.jsxs(si,{theme:"primary",onClick:()=>p(),children:[ye.jsx(jn,{name:"add"}),""]})]}),ye.jsx(z8e,{data:n,columns:w,rowKey:"id",loading:r,hover:!0,stripe:!0,size:"medium",empty:""}),ye.jsx(iV,{visible:o,onClose:_,header:i?"":"",confirmBtn:ye.jsx(si,{theme:"primary",loading:f,onClick:y,children:i?"":""}),cancelBtn:ye.jsx(si,{variant:"outline",onClick:_,children:""}),children:ye.jsxs(cN,{form:c,labelWidth:100,children:[ye.jsx(_v,{label:"",name:"name",rules:[{required:!0,message:""}],children:ye.jsx(hd,{placeholder:" v1"})}),ye.jsx(_v,{label:"",name:"type",rules:[{required:!0,message:""}],children:ye.jsx(n0,{options:S,placeholder:""})}),ye.jsx(_v,{label:"",name:"provider",rules:[{required:!0,message:""}],children:ye.jsx(n0,{options:x,placeholder:""})}),ye.jsx(_v,{label:"API URL",name:"apiUrl",rules:[{required:!0,message:" API URL"}],children:ye.jsx(hd,{placeholder:"https://api.example.com/v1/images/generations"})}),ye.jsx(_v,{label:"Access Key",name:"accessKey",rules:[{required:!i,message:" Access Key"}],children:ye.jsx(hd,{type:"password",placeholder:i?"":" Access Key (AK)"})}),ye.jsx(_v,{label:"Secret Key",name:"secretKey",rules:[{required:!i,message:" Secret Key"}],children:ye.jsx(hd,{type:"password",placeholder:i?"":" Secret Key (SK)"})})]})})]})})},NQe="_app_1gzhr_1",BQe="_mainContainer_1gzhr_6",gq={app:NQe,mainContainer:BQe},FQe=()=>{const[t,e]=D.useState(!1);return ye.jsxs("div",{className:gq.app,children:[ye.jsx("div",{className:"bg-pattern"}),ye.jsx("div",{className:"noise-overlay"}),ye.jsx(NDe,{onAdminClick:()=>e(!0)}),ye.jsxs("main",{className:gq.mainContainer,children:[ye.jsx(Hze,{}),ye.jsx(lGe,{}),ye.jsx(rQe,{})]}),ye.jsx(MQe,{}),ye.jsx(LQe,{visible:t,onClose:()=>e(!1)}),ye.jsx(xfe,{position:"top-center",toastOptions:{duration:3e3,style:{background:"var(--color-surface)",color:"var(--color-text)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-lg)",fontFamily:"var(--font-body)"},success:{iconTheme:{primary:"var(--color-success)",secondary:"white"}},error:{iconTheme:{primary:"var(--color-error)",secondary:"white"}}}})]})};z2.createRoot(document.getElementById("root")).render(ye.jsx(Q.StrictMode,{children:ye.jsx(FQe,{})}));export{Ox as d};
